title,viewcount,title,body,body,acceptedanswerid
"What do solid/striped lines on a wire indicate?","325358","","<p>What do solid or dashed lines on a wire indicate?  Is there a difference between the solid and dashed indicators?
<img src=""https://i.stack.imgur.com/Zwwz5.jpg"" alt=""enter image description here""></p>
","<p>The solid/dashed lines on wires like the ones pictured in your question are used to indicate polarity e.g. for the ""wall wart"" power supplies. <em>Usually</em>* the wire with the white stripe or the dashed lines carries the ""positive"" (+) end, while the other, unmarked wire carries the ""negative"" (-) end.</p>

<p>It doesn't matter if it is striped or dashed, the <em>presence</em> of any kind of marker is the indicator of the wire being the ""positive"" end of things, as opposed to the unmarked ""negative"" wire.</p>

<p>This kind of convention is used on speaker cables as well, where the wire that is marked in some manner (e.g. text providing wire information, a stripe, etc.) is the positive end, and the unmarked wire is the negative end.</p>

<p>*I say ""<em>usually</em>"" since I've seen a wall wart with the wires were reversed, although every other wall wart I've used does it the way I've described above. The only way to be sure is to use a voltmeter and measure the voltage across the two wires. If you get a negative voltage reading, you know you have the test leads swapped.</p>
","39452"
"How much voltage is ""dangerous""?","270015","","<blockquote>
  <p><strong>Related:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/9222/safe-current-limit-for-human-contact"">Safe current limit for human contact?</a>  </p>
</blockquote>

<p>From what I've heard:</p>

<ul>
<li><p>110 V (or 220 V; household voltage pretty much) is dangerous (i.e. can kill you) I think there's consensus on this, no need to try :)</p></li>
<li><p>60 V (old telephone lines) is supposedly dangerous (never tried, only heard it once... probably won't try)</p></li>
</ul>

<p>From what I know first-hand:</p>

<ul>
<li><p>9 V is not dangerous (I've put a 9-V battery on my tongue, nbd... actually it kinda hurt!)</p></li>
<li><p>1.5 V can indeed be quite shocking with enough current (fell for one of those ""Do you want some gum?"" tricks back in high school...)</p></li>
</ul>

<p>So I guess there's two parameters here, voltage and current... but are there <em>rough</em> numbers on how much of each (or in combination, which I guess would be power) can be considered hazardous?</p>

<p>No old telephone lines have always been 48vDC well at least since from 1950s, if your skin is wet you can feel it slightly, like on your forearm.  Now the ring voltage is 90-110vAC with a 2 on 4 sec off cycle (USA).  It will ring your bell but good, should you be touching the wires when someone calls. The ring voltage rides on top of the 48vDC, so its present on the same two conductors that the voice voltage(DC) is on. Luckily its 4 seconds off will give you a chance to get off the conductors with a scream.</p>
","<p>How much voltage is dangerous is not really a static number as it depends on your body resistance, time of exposure and source ""stiffness"" (i.e. how much current it can supply). You get figures like 60V (or as low as 30V) which are an attempt at an average figure above which ""caution should be taken"".<br>
However, depending on how ""conductive"" you are at any one time, sometimes e.g. 50V might be quite safe and other times it may kill you.<br>
DC or AC (and what frequency) seem to make a difference too, female or male, etc - this table is very instructive:  </p>

<p><img src=""https://i.stack.imgur.com/OT5MB.png"" alt=""Table1""></p>

<p>Figures as low as 20mA across the heart are given as possibly capable of inducing fibrillation - here is another table from the same source that gives body resistance based on different situations: </p>

<p><img src=""https://i.stack.imgur.com/SNt5d.png"" alt=""Table2""></p>

<p>You can see that as low as 20V may be dangerous given the right conditions.</p>

<p><a href=""http://www.allaboutcircuits.com/vol_1/chpt_3/4.html"" rel=""noreferrer"">Here</a> is the reference the tables came from, I think it is quite accurate based on some experiments I have done myself measuring body resistances. The rest of the site seems to be generally very well informed and presented from the bits I have read, so I think this may be quite a trustworthy source.</p>
","19111"
"Choosing power supply, how to get the voltage and current ratings?","266125","","<p>Power supplies are available in a wide range of voltage and current ratings.  If I have a device that has specific voltage and current ratings, how do those relate to the power ratings I need to specify?  What if I don't know the device's specs, but am replacing a previous power supply with particular ratings?</p>

<p>Is it OK to go lower voltage, or should it always be higher?  What about current?  I don't want a 10 A supply to damage my 1 A device.</p>
","<h2>Voltage Rating</h2>

<p>If a device says it needs a particular voltage, then you have to assume it needs that voltage.  Both lower and higher could be bad.</p>

<p>At best, with lower voltage the device will not operate correctly in a obvious way.  However, some devices might <i>appear</i> to operate correctly, then fail in unexpected ways under just the right circumstances.  When you violate required specs, you don't know what might happen.  Some devices can even be damaged by too low a voltage for extended periods of time.  If the device has a motor, for example, then the motor might not be able to develop enough torque to turn, so it just sits there getting hot.  Some devices might draw more current to compensate for the lower voltage, but the higher than intended current can damage something.  Most of the time, lower voltage will just make a device not work, but damage can't be ruled out unless you know something about the device.</p>

<p>Higher than specified voltage is definitely bad.  Electrical components all have voltages above which they fail.  Components rated for higher voltage generally cost more or have less desirable characteristics, so picking the right voltage tolerance for the components in the device probably got significant design attention.  Applying too much voltage violates the design assumptions.  Some level of too much voltage <b>will</b> damage something, but you don't know where that level is.  Take what a device says on its nameplate seriously and don't give it more voltage than that.</p>

<h2>Current Rating</h2>

<p>Current is a bit different.  A constant-voltage supply doesn't determine the current: the load, which in this case is the device, does.  If Johnny wants to eat two apples, he's only going to eat two whether you put 2, 3, 5, or 20 apples on the table.  A device that wants 2 A of current works the same way.  It will draw 2 A whether the power supply can only provide the 2 A, or whether it <i>could</i> have supplied 3, 5, or 20 A.  The current rating of a supply is what it <i>can</i> deliver, not what it will always force thru the load somehow.  In that sense, unlike with voltage, the current rating of a power supply must be at least what the device wants but there is no harm in it being higher.  A 9 volt 5 amp supply is a superset of a 9 volt 2 amp supply, for example.</p>

<h2>Replacing Existing Supply</h2>

<p>If you are replacing a previous power supply and don't know the device's requirements, then consider that power supply's rating to be the device's requirements.  For example, if a unlabeled device was powered from a 9 V and 1 A supply, you can replace it with a 9 V and 1 <i>or more</i> amp supply.</p>

<h2>Advanced Concepts</h2>

<p>The above gives the basics of how to pick a power supply for some device.  In most cases that is all you need to know to go to a store or on line and buy a power supply.  If you're still a bit hazy on what exactly voltage and current are, it's probably better to quit now.  This section goes into more power supply details that generally don't matter at the consumer level, and it assumes some basic understanding of electronics.</p>

<ul>

<li><h3>Regulated versus Unregulated</h3>

<p><h3>Unregulated</h3>

<p>Very basic DC power supplies, called <i>unregulated</i>, just step down the input AC (generally the DC you want is at a much lower voltage than the wall power you plug the supply into), <i>rectify</i> it to produce DC, add a output cap to reduce ripple, and call it a day.  Years ago, many power supplies were like that.  They were little more than a transformer, four diodes making a full wave bridge (takes the absolute value of voltage electronically), and the filter cap.  In these kinds of supplies, the output voltage is dictated by the turns ratio of the transformer.  This is fixed, so instead of making a fixed output voltage their output is mostly proportional to the input AC voltage.  For example, such a ""12 V"" DC supply might make 12 V at 110 VAC in, but then would make over 13 V at 120 VAC in.

<p>Another issue with unregulated supplies is that the output voltage not only is a function of the input voltage, but will also fluctuate with how much current is being drawn from the supply.  A unregulated ""12 volt 1 amp"" supply is probably designed to provide the rated 12 V at full output current and the lowest valid AC input voltage, like 110 V.  It could be over 13 V at 110 V in at no load (0 amps out) alone, and then higher yet at higher input voltage.  Such a supply could easily put out 15 V, for example, under some conditions.  Devices that needed the ""12 V"" were designed to handle that, so that was fine.

<p><h3>Regulated</h3>

<p>Modern power supplies don't work that way anymore.  Pretty much anything you can buy as consumer electronics will be a <i>regulated</i> power supply.  You can still get unregulated supplies from more specialized electronics suppliers aimed at manufacturers, professionals, or at least hobbyists that should know the difference.  For example, <a href=""http://www.jameco.com"">Jameco</a> has wide selection of power supplies.  Their wall warts are specifically divided into regulated and unregulated types.  However, unless you go poking around where the average consumer shouldn't be, you won't likely run into unregulated supplies.  Try asking for a unregulated wall wart at a consumer store that sells other stuff too, and they probably won't even know what you're talking about.

<p>A regulated supply actively controls its output voltage.  These contain additional circuitry that can tweak the output voltage up and down.  This is done continuously to compensate for input voltage variations and variations in the current the load is drawing.  A regulated 1 amp 12 volt power supply, for example, is going to put out pretty close to 12 V over its full AC input voltage range and as long as you don't draw more than 1 A from it.

<p><h3>Universal input</h3>

<p>Since there is circuitry in the supply to tolerate some input voltage fluctuations, it's not much harder to make the valid input voltage range wider and cover any valid wall power found anywhere in the world.  More and more supplies are being made like that, and are called <i>universal input</i>.  This generally means they can run from 90-240 V AC, and that can be 50 or 60 Hz.

<li><h3>Minimum Load</h3>

<p>Some power supplies, generally older switchers, have a <i>minimum load</i> requirement.  This is usually 10% of full rated output current.  For example, a 12 volt 2 amp supply with a minimum load requirement of 10% isn't guaranteed to work right unless you load it with at least 200 mA.  This restriction is something you're only going to find in OEM models, meaning the supply is designed and sold to be embedded into someone else's equipment where the right kind of engineer will consider this issue carefully.  I won't go into this more since this isn't going to come up on a consumer power supply.

<li><h3>Current Limit</h3>

<p>All supplies have some maximum current they can provide and still stick to the remaining specs.  For a ""12 volt 1 amp"" supply, that means all is fine as long as you don't try to draw more than the rated 1 A.

<p>There are various things a supply can do if you try to exceed the 1 A rating.  It could simply blow a fuse.  Specialty OEM supplies that are stripped down for cost could catch fire or vanish into a greasy cloud of black smoke.  However, nowadays, the most likely response is that the supply will drop its output voltage to whatever is necessary to not exceed the output current.  This is called <i>current limiting</i>.  Often the current limit is set a little higher than the rating to provide some margin.  The ""12 V 1 A"" supply might limit the current to 1.1 A, for example.

<p>A device that is trying to draw the excessive current probably won't function correctly, but everything should stay safe, not catch fire, and recover nicely once the excessive load is removed.

<li><h3>Ripple</h3>

No supply, even a regulated one, can keep its output voltage exactly at the rating.  Usually due to the way the supply works, there will be some frequency at which the output oscillates a little, or <i>ripples</i>.  With unregulated supplies, the ripple is a direct function of the input AC.  Basic transformer unregulated supplies fed from 60 Hz AC will generally ripple at 120 Hz, for example.  The ripple of unregulated supplies can be fairly large.  To abuse the 12 volt 1 amp example again, the ripple could easily be a volt or two at full load (1 A output current).  Regulated supplies are usually switchers and therefore ripple at the switching frequency.  A regulated 12 V 1 A switcher might ripple &plusmn;50 mV at 250 kHz, for example.  The maximum ripple might not be at maximum output current.



</ul>
","34746"
"How can I tell the size of a barrel power connector?","229706","","<p>Spring cleaning, and I'm trying to get power supplies for all my devices with missing power supplies. They're all the typical barrel power connector, and I'm having a dickens of a time trying to figure out the pin/hole diameter. </p>

<p><img src=""https://i.stack.imgur.com/GpmUj.jpg"" alt=""DC connector""><img src=""https://i.stack.imgur.com/k3rM8.jpg"" alt=""enter image description here""></p>

<p>I ordered the power supplies I needed based on outside diameter (e.g., 5.5mm in my example below) and was surprised to discover that while the jack fit, the center pin did NOT. How do I prevent this from happening in the future? Do they even make calipers that can get into the hole to measure the pin diameter?</p>

<p>Radio Shack has their little keyring behind the counter with every known tip size, but all they can get from that is which stock number fits on their universal wall wart. Personally, I think that these types of ""universal"" kits are the worst thing to happen to electronics in, like, FOREVER. Too many parts to misplace and the tip-to-cable connector is almost always proprietary.</p>

<p><img src=""https://i.stack.imgur.com/QmNtR.jpg"" alt=""Connector kit""><img src=""https://i.stack.imgur.com/BMsvB.jpg"" alt=""enter image description here""></p>

<p>If I try to pump them for information about what the outer and inner diameters are, they want to know if I'm happy with my current cellular provider. As you may surmise, I'm not a big fan of trusting my local Radio Shack for electronics guidance.</p>

<p>So...that leaves me with a bunch of power supplies that don't fit their devices, and me a little peeved that I have to deal with RMAs, return shipping, etc., especially when I really don't have a clue how to figure out what to order. That also begs the question about how to ensure that I buy the right jack when designing something that NEEDS wall wart power.</p>

<p>Where do I even start? Anyone have any ideas on how to finding the correct barrel &amp; pin diameters when I don't have specs on the jack? Is it really trial and error? or is there some measurement device that's available to help?</p>
","<p>Those are barrel power connectors.</p>

<p>Looking at <a href=""http://www.digikey.com/product-search/en/connectors-interconnects/barrel-power-connectors/1443096"">Digikey</a>, it looks like common inner diameters with a 5.5mm outer diameter are 2mm, 2.1mm, and 2.5mm, but that doesn't mean that your target application doesn't have a custom size which doesn't match any of these.</p>

<p>The one I usually use for my projects is 2.1mm*5.5mm if I can, but as far as I know this is by no means a rule of thumb.</p>

<p>Knowing what the jack is being used for may help in identifying a correct size.</p>
","59598"
"What’s the proper soldering iron temperature for standard .031"" 60/40 solder?","229640","","<p>I recently purchased a Weller WES51 soldering iron as my first temperature controlled iron and I'm looking for recommendations on the best default temperature to use when soldering.</p>

<p>I'm using mainly .031 inch 60/40 solder on through-hole components.</p>
","<blockquote>
  <p>What’s the proper soldering iron temperature for standard .031"" 60/40 solder?</p>
</blockquote>

<p>There is no proper soldering iron temperature <em>just</em> for a given type of solder - the iron temperature should be set for both the component and the solder.</p>

<p>When soldering surface mount components, a small tip and 600F (315C) should be sufficient to quickly solder the joint well without overheating the component.</p>

<p>When soldering through hole components, 700F (370C) is useful to pump more heat into the wire and plated hole to solder it quickly.</p>

<p>A negative capacitor lead to a heatsinking solid pour ground plane is going to need a big fat tip at a much higher temperature.</p>

<p>However, I don't micromanage my soldering temperature, and simply keep mine at 700F (370C).  I'll change the tips according to what I'm soldering, and the tip size really ends up determining how much heat gets into the joint in a given period of contact.</p>

<p>I think you'll find that very few soldering jobs will really require you to change your tip temperature.</p>

<p>Keep in mind that the ideal situation is that the soldering iron heats up the joint enough that the <em>joint</em> melts the solder - not the iron.  So the iron is expected to be hotter than the melting point of the solder so that the entire joint comes up to the melting point of the solder quickly.</p>

<p>The more quickly you bring the joint temperature up and solder it, the less time the soldering iron is on the joint, and thus the less heat gets transferred to the component.  It's not a big deal for many passive or small components, but it turns out that overall a higher tip temperature results in faster soldering and less likely damage to the component being soldered.</p>

<p>So if you do use higher tip temperatures, don't leave them on components any longer than necessary.  Apply the iron, apply the solder, and remove both - it should take just a second or maybe two for surface mount, and 1-3 seconds for a through hole part.</p>

<p>Please note that I'm talking about prototyping, hobbyist, and one-off projects.  If you are planning on doing final assembly with the iron, repair work for critical projects, etc, then you'll need to consider what you're doing more carefully than this general rule of thumb.</p>
","1988"
"how to reduce DC voltage using resistors?","228519","","<p>How would one go about using a 12 V DC power source to power something which needs 4.5 V DC using resistors? Is there a way to determine how much adding a resistor would drop the voltage?</p>
","<p>The short answer is ""don't do that."" </p>

<p>The voltage dropped by a resistor is given by Ohm's Law: V = I R.</p>

<p>So if you know exactly how much current your device will draw, you could choose a resistor to drop exactly 7.5 V, and leave 4.5 V for your device, when that current is run through it. But if the current through your device is changing, or if you want to make more than one system and not every device is exactly alike in current draw, you can't consistently get 4.5 V at the device using just a resistor.</p>

<p>Your other options include</p>

<ul>
<li><p>A linear regulator. This is basically a variable resistor that will adjust it's value to keep the output where you want it. This is probably only a good solution if your device draws very little power (maybe up to 100 mA).</p></li>
<li><p>A shunt regulator. This means using a resistor to drop the voltage like you are suggesting, but then adding an extra device in parallel with the load to control the voltage. The shunt regulator will adjust its current (within limits) to keep the current through the resistor correct to maintain the desired output voltage.</p></li>
<li><p>A switching regulator. This uses some tricks to generate your desired output voltage with much better power efficiency than a linear regulator. This is probably the best choice if your device needs more than 10 or 20 mA of current.</p></li>
</ul>
","75450"
"Does mAh measure how long a battery would last?","225959","","<p>I know mAh tells how much milliamperes a battery can deliver in an hour. But does that also tell how many hours the battery would last? Sorry but I don't really get it. If we're talking about a water tank, to my impression, mAh is like how big the faucet is and not how much water there is in the tank. I'm really confused as to why we measure battery capacity in mAh if my understanding about it is correct.</p>
","<p>mAh (or mA&middot;h) is <em>not</em> how many milliamperes a battery can deliver in an hour. That would be mA/h. <a href=""http://en.wikipedia.org/wiki/Electric_current"" rel=""nofollow noreferrer"">Current</a>, measured in <a href=""http://en.wikipedia.org/wiki/Coulomb"" rel=""nofollow noreferrer"">amperes</a>, is already a rate of stuff. Specially, one ampere is one <a href=""http://en.wikipedia.org/wiki/Coulomb"" rel=""nofollow noreferrer"">coulomb</a> per second. So, if current is like speed, then mA/h is like acceleration, and mAh is like distance.</p>

<p>Rather, mAh it is a unit of <a href=""http://en.wikipedia.org/wiki/Electric_charge"" rel=""nofollow noreferrer"">charge</a>. It is what you get when you multiply current by time. By multiplying by time, the ""per time"" part of the ampere is cancelled, and you get back to charge.</p>

<p>If an ampere is a coulomb per second, then:</p>

<p>$$ \require{cancel} 1~\mathrm{mAh} = 1\cdot10^{-3}~\mathrm{\frac{C}{s}h} $$</p>

<p>and by <a href=""http://en.wikipedia.org/wiki/Dimensional_analysis"" rel=""nofollow noreferrer"">dimensional analysis</a>:</p>

<p>$$ \require{cancel}
\frac{1\cdot10^{-3}~\mathrm{C\cancel{h}}}{\cancel{\mathrm{s}}}
\frac{60\cancel{\mathrm{s}}}{1\cancel{\mathrm{min}}}
\frac{60\cancel{\mathrm{min}}}{1\cancel{\mathrm{h}}}
= 3.6~\mathrm{C}$$</p>

<p>For example, if you draw 1 mA for 1 hour from a battery, you have used 1 mA &middot; 1 h = 1 mAh of charge. If you draw 2 mA for 5 hours, you have used 2 mA &middot; 5 h = 10 mAh.</p>

<p>You can <em>approximate</em> how long a battery will last by dividing its total charge (in mAh) by your nominal load current (in mA). Say you have a 1800 mAh battery, and you connect it to a 20 mA load:</p>

<p>$$ \require{cancel}
\frac{1800~\mathrm{mA\cdot h}}{20~\mathrm{mA}} =
\frac{1800\cancel{\mathrm{mA}}\cdot\mathrm{h}}{20\cancel{\mathrm{mA}}} =
90~\mathrm{h}
$$</p>

<p>This is an approximation because:</p>

<ul>
<li><p>The charge capacity (the number measured in mAh) is determined by measuring how much charge can be removed from the battery before voltage drops to some arbitrarily selected level where the battery is considered ""discharged"". This may or may not be the threshold at which your circuit no longer functions. Battery manufacturers, wanting to make their batteries seem as good as possible, typically select a very low threshold voltage.</p></li>
<li><p>Assuming you are considering charge available only down to some voltage threshold, the actual charge available from the battery depends on temperature, and the rate at which you discharge it. Lower temperatures slow the chemical reaction in the battery, making it harder to extract charge. Higher rates of discharge increase losses in the battery, decreasing the voltage, thus hitting the ""discharged"" voltage threshold limit sooner.</p></li>
<li><p>The electric potential difference provided by the chemicals in the battery is actually constant; what makes the voltage decrease is the depletion of the chemicals around the electrodes and degradation of the electrodes and electrolyte. This is why <a href=""https://electronics.stackexchange.com/questions/75967/why-do-dead-batteries-appear-to-recharge-on-their-own-after-awhile"">battery voltage can recover after a period without use</a>. So, the point at which the threshold voltage is reached can actually be quite complex to determine.</p></li>
</ul>

<p>If you can find a good datasheet for your battery, it may give some insight into the parameters under which these calculations were made.</p>
","79283"
"Why does a Tesla car use an AC motor instead of a DC one?","214644","","<p>I was just watching a mega factory video and wondered why they use an AC motor which requires a power inverter instead of DC which may be powered directly from their DC battery? Introducing an inverter means more cost (weight, controller, etc).</p>

<p>Are there any reasons for that? What are the differences between an AC and DC motor that may have lead to this decision? Also does anyone know what kind of motor is used in other electric cars?</p>
","<p>You're asking about the technical tradeoffs surrounding the selection of a traction motor for an electric vehicle application. Describing the full design tradespace is far beyond what can reasonably be summarized here, but I'll outline the prominent design tradeoffs for such an application.</p>

<p>Because the amount of energy that can be stored chemically (i.e. in a battery) is quite limited, nearly all electric vehicles are designed with efficiency in mind. Most transit application traction motors for automotive applications range between 60kW and 300kW peak power.  Ohms law indicates that power losses in cabling, motor windings, and battery interconnects is P=I<sup>2</sup>R.  Thus reducing current in half reduces resistive losses by 4x.  As a result most automotive applications run at a nominal DC link voltage between 288 and 360V<sub>nom</sub> (there are other reasons for this selection of voltage, too, but let's focus on losses).  Supply voltage is relevant in this discussion, as certain motors, like Brush DC, have practical upper limits on supply voltage due to commutator arcing.</p>

<p>Ignoring more exotic motor technologies like switched/variable reluctance, there are three primary categories of electric motors used in automotive applications:</p>

<p><strong>Brush DC motor</strong>:  mechanically commutated, only a simple DC 'chopper' is required to control torque.  While Brush DC motors can have permanent magnets, the size of the magnets for traction applications makes them cost-prohibitive.  As a result, most DC traction motors are series- or shunt-wound.  In such a configuration, there are windings on both stator and rotor.</p>

<p><strong>Brushless DC motor</strong> (BLDC): electronically commutated by inverter, permanent magnets on rotor, windings on stator.  </p>

<p><strong>Induction motor</strong>: electronically commutated by inverter, induction rotor, windings on stator.</p>

<p>Following are some brash generalizations regarding tradeoffs between the three motor technologies.  There are plenty of point examples that will defy these parameters; my goal is only to share what I would consider nominal values for this type of application.</p>

<p><em>- Efficiency:</em><br>
<strong>Brush DC:</strong>  Motor:~80%, DC controller: ~94%  (passive flyback), NET=75%<br>
<strong>BLDC:</strong> ~93%, inverter: ~97% (synchronous flyback or hysteretic control), NET=90%<br>
<strong>Induction:</strong> ~91%: inverter: 97% (synchronous flyback or hysteretic control), NET=88%</p>

<p><em>- Wear/Service:</em><br>
<strong>Brush DC:</strong>  Brushes subject to wear; require periodic replacement.  Bearings.<br>
<strong>BLDC:</strong> Bearings (lifetime)<br>
<strong>Induction:</strong> Bearings (lifetime)</p>

<p><em>- Specific cost (cost per kW), including inverter</em><br>
<strong>Brush DC:</strong>  Low - motor and controller are generally inexpensive<br>
<strong>BLDC:</strong> High - high power permanent magnets are very expensive<br>
<strong>Induction:</strong> Moderate - inverters add cost, but motor is cheap   </p>

<p><em>- Heat rejection</em><br>
<strong>Brush DC:</strong>  Windings on rotor make heat removal from both rotor and commutator challenging with high power motors.<br>
<strong>BLDC:</strong> Windings on stator make heat rejection straightforward.  Magnets on rotor have low-moderate eddy current-induced heating<br>
<strong>Induction:</strong> Windings on stator make stator heat rejection straightforward.  Induced currents in rotor can require oil cooling in high power applications (in and out via shaft, not splashed).</p>

<p><em>- Torque/speed behavior</em><br>
<strong>Brush DC:</strong>  Theoretically infinite zero speed torque, torque drops with increasing speed.  Brush DC automotive applications generally require 3-4 gear ratios to span the full automotive range of grade and top speed.  I drove a 24kW DC motor-powered EV for a number of years that could light the tires up from a standstill (but struggled to get to 65 MPH).<br>
<strong>BLDC:</strong> Constant torque up to base speed, constant power up to max speed.  Automotive applications are viable with a single ratio gearbox.<br>
<strong>Induction:</strong> Constant torque up to base speed, constant power up to max speed.  Automotive applications are viable with a single ratio gearbox. Can take hundreds of ms for torque to build after application of current</p>

<p><em>- Miscellaneous:</em><br>
<strong>Brush DC:</strong>  At high voltages, commutator arcing can be problematic.  Brush DC motors are canonically used in golf cart and forklift (24V or 48V) applications, though newer models are induction due to improved efficiency.  Regnerative braking is tricky and requires a more complex speed controller.<br>
<strong>BLDC:</strong> Magnet cost and assembly challenges (the magnets are VERY powerful) make BLDC motors viable for lower power applications (like the two Prius motor/generators).  Regnerative braking comes essentially for free.<br>
<strong>Induction:</strong> The motor is relatively cheap to make, and power electronics for automotive applications have come down in price significantly over the past 20 years.  Regnerative braking comes essentially for free.</p>

<p>Again, this is only a very top-level summary of some of the primary design drivers for motor selection.  I've intentionally omitted specific power and specific torque, as those tend to vary much more with the actual implementation.</p>
","58240"
"Headphone wire color coding","205051","","<p>How do I tell which wire is which if I have a copper wire, red and green coded wire? Is the unshielded copper wire ground?</p>
","<p>Red is for Right. Blue (or green) is for Left. Copper is for ground (I remember this with the mnemonic Red Right bLue Left Copper Common). All 3 are coated in a lacquer you need to burn or scrape off before you solder.   With standard headphone plugs, with the plug facing away from you, the right pin is right, the center pin is ground, and the left pin is left. </p>

<ol>
<li>Common (or ""ground"")</li>
<li>Right</li>
<li>Left</li>
<li>Insulating ring   </li>
</ol>

<p><img src=""https://i.stack.imgur.com/Rnlk2.png"" alt=""1ground 2Right 3Left 4Insulating ring""></p>
","6725"
"What's the difference between a microcontroller and a microprocessor?","202247","","<p>What's the difference between a microcontroller and a microprocessor?</p>
","<p>A microprocessor generally does not have RAM, ROM and IO pins. It usually uses its pins as a bus to interface to peripherals such as RAM, ROM, Serial ports, Digital and Analog IO. It is expandable at the board level due to this.</p>

<p>A microcontroller is 'all in one', the processor, ram, IO all on the one chip, as such you cannot (say) increase the amount of RAM available or the number of IO ports. The controlling bus is internal and not available to the board designer.</p>

<p>This means that a microprocessor is generally capable of being built into bigger general purpose applications than a microcontroller. The microcontroller is usually used for more dedicated applications.</p>

<p>All of these are very general statements. There are chips available that blur the boundaries.</p>
","1093"
"What is the difference between \$V_{CC}\$, \$V_{DD}\$, \$V_{EE}\$, \$V_{SS}\$","202028","","<p>I've seen lots of schematics use \$V_{CC}\$ and \$V_{DD}\$ interchangeably. <br></p>

<ul>
<li>I know \$V_{CC}\$ and \$V_{DD}\$ are for positive voltage, and \$V_{SS}\$ and \$V_{EE}\$ are for ground, but what is the difference between each of the two? <br></li>
<li>Do the \$C\$, \$D\$, \$S\$, and \$E\$ stand for something?  </li>
</ul>

<p>For extra credit: Why \$V_{DD}\$ and not simply \$V_D\$?</p>
","<p>Back in the pleistoscene (1960s or earlier), logic was implemented with bipolar transistors.  Even more specifically, they were NPN because for some reasons I'm not going to get into, NPN were faster.  Back then it made sense to someone that the positive supply voltage would be called Vcc where the ""c"" stands for collector.  Sometimes (but less commonly) the negative supply was called Vee where ""e"" stands for emitter.</p>

<p>When FET logic came about, the same kind of naming was used, but now the positive supply was Vdd (drain) and the negative Vss (source).  With CMOS this makes no sense, but it persists anyway.  Note that the ""C"" in CMOS stands for ""complementary"".  That means both N and P channel devices are used in about equal numbers.  A CMOS inverter is just a P channel and a N channel MOSFET in its simplest form.  With roughly equal numbers of N and P channel devices, drains aren't more likely to be positive than sources, and vice versa.  However, the Vdd and Vss names have stuck for historical reasons.  Technically Vcc/Vee is for bipolar and Vdd/Vss for FETs, but in practise today Vcc and Vdd mean the same, and Vee and Vss mean the same.</p>
","17384"
"Why are there 3 pins on some batteries?","184917","","<p>Lots of new batteries (for mobile devices, MP3 players, etc) have connectors with 3 pins.
I would like to know what is the purpose of this and how should I use these three pins?  </p>

<p>They are usually marked as (+) plus, (-) minus, and T.</p>
","<p>The third pin is usually for an internal temperature sensor, to ensure safety during charging. Cheap knock-off batteries sometimes have a dummy sensor that returns a ""temp OK"" value regardless of actual temperature.<br>
Some higher-end batteries have internal intelligence for charge control and status monitoring, in which case the third pin is for communications.</p>
","10590"
"USART, UART, RS232, USB, SPI, I2C, TTL, etc. what are all of these and how do they relate to each other?","181999","","<p>As a novice electronics hobbyist, I have heard these terms and more being thrown around everywhere. At its root, I understand that they are all based on communication between devices, computers, peripherals, etc.</p>

<p>I have a basic understanding of how all of them work, but I get confused when I see so many of them and am having difficulty understanding how they relate to each other. For example, is UART a subset of USART? What is the difference between RS232 and Serial? What are the core differences between all of these communication methods: reliability, cost, application, speed, hardware requirements?</p>

<p>If you can imagine, I have all of these terms written on cards, scattered on the coffee table, and I need someone to just help me organize my understanding. Forgive me if this question is a little vague, but I really feel that is the nature of this question all together.</p>
","<p><strong>Serial</strong> is an umbrella word for all that is ""Time Division Multiplexed"", to use an expensive term. It means that the data is sent spread over time, most often one single bit after another. All the protocols you're naming are serial protocols.  </p>

<p><strong>UART</strong>, for Universal Asynchronous Receiver Transmitter, is one of the most used serial protocols. It's almost as old as I am, and very simple. Most controllers have a hardware UART on board. It uses a single data line for transmitting and one for receiving data. Most often 8-bit data is transferred, as follows: 1 start bit(low level), 8 data bits and 1 stop bit(high level). The low level start bit and high level stop bit mean that there's always a high to low transition to start the communication. That's what describes UART. No voltage level, so you can have it at 3.3 V or 5 V, whichever your microcontroller uses. Note that the microcontrollers which want to communicate via UART have to agree on the transmission speed, the bit-rate, as they only have the start bit's falling edge to synchronize. That's called asynchronous communication.   </p>

<p>For long distance communication (That doesn't have to be hundreds of meters) the 5 V UART is not very reliable, that's why it's converted to a higher voltage, typically +12 V for a ""0"" and -12 V for a ""1"". The data format remains the same. Then you have <strong>RS-232</strong> (which you actually should call EIA-232, but nobody does.)</p>

<p>The timing dependency is one of the big drawbacks of UART, and the solution is <strong>USART</strong>, for Universal Synchronous/Asynchronous Receiver Transmitter. This can do UART, but also a synchronous protocol. In synchronous there's not only data, but also a clock transmitted. With each bit a clock pulse tells the receiver it should latch that bit. Synchronous protocols either need a higher bandwidth, like in the case of Manchester encoding, or an extra wire for the clock, like SPI and I2C.  </p>

<p><strong>SPI</strong> (Serial Peripheral Interface) is another very simple serial protocol. A master sends a clock signal, and upon each clock pulse it shifts one bit out to the slave, and one bit in, coming from the slave. Signal names are therefore SCK for clock, MOSI for Master Out Slave In, and MISO for Master In Slave Out. By using SS (Slave Select) signals the master can control more than 1 slave on the bus. There are two ways to connect multiple slave devices to one master, one is mentioned above i.e. using slave select, and other is daisy chaining, it uses fewer hardware pins (select lines), but software gets complicated. </p>

<p><strong>I2C</strong> (Inter-Integrated Circuit, pronounced ""I squared C"") is also a synchronous protocol, and it's the first we see which has some ""intelligence"" in it; the other ones dumbly shifted bits in and out, and that was that. I2C uses only 2 wires, one for the clock (SCL) and one for the data (SDA). That means that master and slave send data over the same wire, again controlled by the master who creates the clock signal. I2C doesn't use separate Slave Selects to select a particular device, but has addressing. The first byte sent by the master holds a 7 bit address (so that you can use 127 devices on the bus) and a read/write bit, indicating whether the next byte(s) will also come from the master of should come from the slave. After each byte receiver must send a ""0"" to acknowledge the reception of the byte, which the master latches with a 9th clock pulse. If the master wants to write a byte the same process repeats: the master puts bit after bit on the bus and each time gives a clock pulse to signal that the data is ready to be read. If the master wants to receive data it only generates the clock pulses. The slave has to take care that the next bit is ready when the clock pulse is given. This protocol is patented by NXP(formerly Phillips), to save licensing cost, Atmel using the word TWI(2-wire interface) which exactly same as I2C, so any AVR device will not have I2C but it will have TWI.</p>

<p>Two or more signals on the same wire may cause conflicts, and you would have a problem if one device sends a ""1"" while the other sends a ""0"". Therefore the bus is wired-OR'd: two resistors pull the bus to a high level, and the devices only send low levels. If they want to send a high level they simply release the bus.  </p>

<p><strong>TTL</strong> (Transistor Transistor Logic) is not a protocol. It's an older technology for digital logic, but the name is often used to refer to the 5 V supply voltage, often incorrectly referring to what should be called UART.</p>

<p><br /> </p>

<p>About each of these you can write a book, and it looks I'm well on my way. This is just a very brief overview, let us know if some things need clarification.</p>
","37817"
"How does a capacitor block DC?","177187","","<p>I am confused with this! How does a capacitor block DC?</p>

<ul>
<li>I have seen many circuits using capacitors powered by a DC supply. So, if capacitor blocks DC, why should it be used in such circuits?</li>
<li>Also, the voltage rating is mentioned as a DC value on the capacitor. What does it signify?</li>
</ul>
","<p>I think it would help to understand <em>how</em> a capacitor blocks DC (direct current) while allowing AC (alternating current).</p>

<p>Let's start with the simplest source of DC, a battery:</p>

<p><img src=""https://i.stack.imgur.com/MNUcl.png"" alt=""just a battery""></p>

<p>When this battery is being used to power something, <em>electrons</em> are drawn into the <strong>+</strong> side of the battery, and pushed out the <strong>-</strong> side. </p>

<p>Let's attach some wires to the battery:</p>

<p><img src=""https://i.stack.imgur.com/Zl9Hj.png"" alt=""a battery with wires attached""></p>

<p>There still isn't a complete circuit here (the wires don't go anywhere), so there is no current flow. </p>

<p>But that doesn't mean that there wasn't <em>any</em> current flow. You see, the atoms in the copper wire metal are made up of a nuclei of the copper atoms, surrounded by their electrons. It can be helpful to think of the copper wire as positive copper ions, with electrons floating around:</p>

<p><img src=""https://i.stack.imgur.com/08Bkb.png"" alt=""illustration of copper ions with electrons""></p>

<blockquote>
  <p><strong>Note:</strong> I use the symbol <strong>e<sup>-</sup></strong> to represent an electron</p>
</blockquote>

<p>In a metal it is very easy to push the electrons around. In our case we have a battery attached. It is able to actually suck <em>some</em> electrons out of the wire:</p>

<p><img src=""https://i.stack.imgur.com/G95wV.png"" alt=""movement of an electron from the wire""></p>

<p>The wire attached to the <strong>positive</strong> side of the battery has electrons sucked <em>out</em> of it. Those electrons are then pushed out the <strong>negative</strong> side of the battery into the wire attached to the negative side.</p>

<p>It's important to note that the battery can't remove all the electrons. The electrons are generally attracted to the positive ions they leave behind; so it's hard to remove all the electrons.</p>

<p>In the end our red wire will have a <em>slight</em> positive charge (cause it's missing electrons), and the black wire will have a <em>slight</em> negative charge (cause it has extra electrons). </p>

<p><img src=""https://i.stack.imgur.com/z0ryu.png"" alt=""flow of current due to charge in the wires""></p>

<p>So when you first connect the battery to these wires, only a <strong>little</strong> bit of current will flow. The battery isn't able to move very many electrons, so the current flows <em>very</em> briefly, and then stops.</p>

<blockquote>
  <p>If you disconnected the battery, flipped it around, and reconnected it: electrons in the black wire would be sucked into the battery and pushed into the red wire.
  Once again there would only a tiny amount of current flow, and then it
  would stop.</p>
</blockquote>

<hr>

<p>The problem with just using two wires is that we don't have very many electrons to push around. What we need is a large store of electrons to play with - a large hunk of metal. That's what a capacitor is: a large chunk of metal attached to the ends of each wire.</p>

<p>With this large chunk of metal, there are a lot more electrons we can easily push around. Now the ""positive"" side can have a lot more electrons sucked out of it, and the ""negative"" side can have a lot more electrons pushed into it:</p>

<p><img src=""https://i.stack.imgur.com/XDbJd.png"" alt=""illustration of more charge on a larger surface""></p>

<p>So if you apply an <em>alternating</em> current source to a capacitor, some of that current will be allowed to flow, but after a while it will run out of electrons to push around, and the flow will stop. This is fortunate for the AC source, since it then reverses, and current is allowed to flow once more.</p>

<hr>

<h2>But why is a capacitor rated in DC volts</h2>

<p>A capacitor isn't just two hunks of metal. Another design feature of the capacitor is that it uses two hunks of metal <em>very</em> close to each other (imagine a layer of wax paper sandwiched between two sheets of tin foil).</p>

<p>The reason they use ""tin foil"" separated by ""waxed paper"" is because they want the negative electrons to be <em>very</em> close to the positive ""holes"" they left behind. This causes the electrons to be attracted to the positive ""holes"":</p>

<p><img src=""https://i.stack.imgur.com/dQptS.png"" alt=""charge attraction between capacitor plates""></p>

<p>Because the electrons are negative, and the ""holes"" are positive, the electrons are attracted to the holes. This causes the electrons to actually stay there. You can now <em>remove</em> the battery and the capacitor will actually <strong>hold</strong> that charge.</p>

<p>This is why a capacitor can store a charge; electrons being attracted to the holes they left behind.</p>

<p>But that waxed paper isn't a perfect insulator; it's going to allow <em>some</em> leakage. But the real problem comes if you have <strong>too many</strong> electrons piled up. The electric field between the two ""<em>plates</em>"" of the capacitor can actually get so intense that it causes a breakdown of the waxed paper, permanently damaging the capacitor:</p>

<p><img src=""https://i.stack.imgur.com/sL8P0.png"" alt=""capacitor plate breakdown""></p>

<p>In reality a capacitor isn't made of tin foil and waxed paper (anymore); they use better materials. But there is still a point, a ""voltage"", where the insulator between the two parallel plates breaks down, destroying the device. This is the capacitor's rated maximum <strong>DC</strong> voltage.</p>
","18366"
"How to Calculate the time of Charging and Discharging of battery?","168315","","<p>How do I calculate the approximated time for the Charging and Discharging of the battery? Is there any equation available for the purpose? If yes, then please provide me.</p>
","<p>Discharge time is basically the Ah or mAh rating divided by the current.</p>

<p>So for a 2200mAh battery with a load that draws 300mA you have:</p>

<p>\$\frac{2.2}{0.3} = 7.3 hours\$<sup>*</sup></p>

<p>The charge time depends on the battery chemistry and the charge current.</p>

<p>For NiMh, for example, this would typically be 10% of the Ah rating for 10 hours.</p>

<p>Other chemistries, such as Li-Ion, will be different.</p>

<p><sup>*2200mAh is the same as 2.2Ah.  300mA is the same as 0.3A</sup></p>
","24161"
"Reducing voltage with resistors","166587","","<p>I have been looking around for an easy way to convert <strong>12V</strong> to <strong>5V</strong>. I have seen some people saying that a simple resistor is all that is needed.</p>

<p>$$ Volts = Ohms \cdot Amps $$
$$ Amps  = \frac{Volts}{Ohms} $$
$$Ohms  = \frac{Volts}{Amps}$$</p>

<p>So applying a resistor will diminish the voltage of the circuit. That should mean that an appropriately sized resistor could simply be placed in the path of a 12V circuit, converting it to 5v.</p>

<ul>
<li>If this is the case how would one reduce amps?</li>
<li>Would series vs parallel make a difference in this area?</li>
</ul>

<p>I have seen designs that include a regulator IC and some capacitors, but if a simple resistor/fuse/diode setup will do the trick, I would really prefer that.</p>
","<p>There are a few ways to get 5V from a 12V supply. Each has its advantages and disadvantages, so I've drawn up 5 basic circuits to show their pros and cons.</p>

<p><img src=""https://i.stack.imgur.com/lVoQL.png"" alt=""5 diagrams of different voltage regulators""></p>

<ul>
<li><strong>Circuit 1</strong> is a simple series resistor - just like the one ""some people"" told you about.</li>
</ul>

<p>It works, <strong>BUT</strong> it only works at one value of load current and it wastes most of the power supplied. If the load value changes, the voltage will change, since there is no regulation. However, it will survive a short circuit at the output and protect the 12V source from shorting out.</p>

<ul>
<li><strong>Circuit 2</strong> is a series Zener diode (or you could use a number of ordinary diodes in series to make up the voltage drop - say 12 x silicon diodes)</li>
</ul>

<p>It works, <strong>BUT</strong> most of the power is dissipated by the Zener diode. Not very efficient! On the other hand it does give a degree of regulation if the load changes. However, if you short circuit the output, the magic blue smoke will break free from the Zener... Such a short circuit may also damage the 12V source once the Zener is destroyed.</p>

<ul>
<li><strong>Circuit 3</strong> is a series transistor (or emitter follower) - a junction transistor is shown, but a similar version could be built using a MOSFET as a source follower.</li>
</ul>

<p>It works, <strong>BUT</strong> most of the power has to be dissipated by the transistor and it isn't short circuit proof. Like circuit 2, you could end up damaging the 12V source. On the other hand, regulation will be improved (due to the current amplifying effect of the transistor). The Zener diode no longer has to take the full load current, so a much cheaper/smaller/lower power Zener or other voltage reference device can be used. This circuit is actually less efficient than circuits 1 and 2, because extra current is needed for the Zener and its associated resistor.</p>

<ul>
<li><strong>Circuit 4</strong> is a three terminal regulator (IN-COM-OUT). This could represent a dedicated IC (such as a 7805) or a discrete circuit built from op amps / transistors etc. </li>
</ul>

<p>It works, <strong>BUT</strong> the device (or circuit) has to dissipate more power than is supplied to the load. It is even more inefficient than circuits 1 and 2, because the extra electronics take additional current. On the other hand, it would survive a short circuit and so is an improvement on circuits 2 and 3. It also limits the maximum current that would be taken under short circuit conditions, protecting the 12v source.</p>

<ul>
<li><strong>Circuit 5</strong> is a buck type regulator (DC/DC switching regulator).</li>
</ul>

<p>It works, <strong>BUT</strong> the output can be a bit spikey due to the high frequency switching nature of the device. However, it's very efficient because it uses stored energy (in an inductor and a capacitor) to convert the voltage. It has reasonable voltage regulation and output current limiting. It will survive a short circuit and protect the battery.</p>

<p>These 5 circuits all work (i.e. they all produce 5V across a load) and they all have their pros and cons. Some work better than others in terms of protection, regulation and efficiency. Like most engineering problems, it's a trade off between simplicity, cost, efficiency, reliability etc.</p>

<p>Regarding 'constant current' - you <strong>cannot</strong> have a fixed (constant) voltage <strong>and</strong> a constant  current <strong>with a variable load</strong>. You have to choose - constant voltage <strong>OR</strong> constant current. If you choose constant voltage, you can add some form of circuit to <strong>limit</strong> the maximum current to a safe maximum value - such as in circuits 4 and 5.</p>
","127538"
"What is ""forward"" and ""reverse"" voltage when working with diodes?","165433","","<p>What is the difference between ""forward"" and ""reverse"" voltages when working with diodes and LEDs?</p>

<p>I realize this question is answered elsewhere on the interwebs such as wikipedia, but I am looking for a short summary that is less of a technical discussion and more a useful tip to someone using diodes in a hobby circuit.</p>
","<p>The <strong>forward voltage</strong> is the voltage drop across the diode if the voltage at the anode is more positive than the voltage at the cathode (if you connect + to the anode).</p>

<p>You will be using this value to calculate the power dissipation of the diode and the voltage after the diode.</p>

<p>The <strong>reverse voltage</strong> is the voltage drop across the diode if the voltage at the cathode is more positive than the voltage at the anode (if you connect + to the cathode).</p>

<p>This is usually much higher than the forward voltage. As with forward voltage, a current will flow if the connected voltage exceeds this value. This is called a ""breakdown"". Common diodes are usually destroyed but with Z and Zener diodes this effect is used deliberately.</p>
","10968"
"What is negative voltage?","159788","","<p>Just a general electronics question: What is negative voltage, like -5 Volt?</p>

<p>From my basic knowledge, power is generated by electrons wandering from the minus to the plus side of the power source (assuming DC power here). Is negative voltage when electrons wander from + to -?</p>

<p>Why do some devices even need it, what is so special about it?</p>
","<p>Someone may have better words to explain this than me, but the big thing you have to remember is voltage is a potential difference. In most cases the ""difference"" part is a difference between some potential and ground potential. When someone says -5v, they're saying that you are below ground.</p>

<p>You also need to keep in mind that voltage is relative. So like I mentioned before, most people reference to ""ground""; but what is ground? You can say ground is earth ground, but what about the case when you have a battery powered device that has no contact to ground. In this situation we have to treat some arbitrary point as ""ground"". Usually the negative terminal on the battery is what we consider from this reference.</p>

<p>Now consider the case that you have 2 batteries in series. If both were 5 volts, then you would say you would have 10 volts total.</p>

<p>But the assumption that you get 0/+10 is based off of ""ground"" as being the negative terminal on the battery that isn't touching the other battery and then 10V as being the location of the positive terminal that isn't touching the other battery. In this situation we can make the decision that we want to make the connection between the 2 batteries be our ""ground"" reference. This would then result in +5v on one end and -5v on the other end.</p>

<p>Here is what I was trying to explain:</p>

<pre><code>+10v   +++   +5v
       | |
       | | &lt; Battery
       | |
+5v    ---   0v
       +++
       | |
       | | &lt; Another Battery
       | |
0v     ---   -5v
</code></pre>
","10323"
"Differentiation between passive and active components","158163","","<p>While I (most of the time) know from experience what components are generally considered active or passive, I have yet to come across a satisfying definition.</p>

<p>Why do we divide electrical components into those two main categories at all?</p>

<p>Some examples:</p>

<p>From <a href=""http://www.electricaltechnology.org/2013/06/the-main-difference-between-active-and.html"">http://www.electricaltechnology.org/2013/06/the-main-difference-between-active-and.html</a></p>

<blockquote>
  <p><strong>Active:</strong> Those devices or components which produce energy in the form of Voltage or Current are called as Active Components<br>
  <strong>Passive:</strong> Those devices or components which store or maintain Energy in the form of Voltage or Current are known as Passive Components  </p>
</blockquote>

<p>How does a Diode ""produce"" energy?</p>

<p>From <a href=""http://www.differencebetween.com/difference-between-active-and-vs-passive-components/"">http://www.differencebetween.com/difference-between-active-and-vs-passive-components/</a></p>

<blockquote>
  <p><strong>What is the difference between active and passive components?</strong><br>
  1. Active devices inject power to the circuit, whereas passive devices are incapable of supplying any energy<br>
  2. Active devices are capable of providing power gain, and passive devices are incapable of providing power gain.<br>
  3. Active devices can control the current (energy) flow within the circuit, whereas passive devices cannot control it.</p>
</blockquote>

<p>What exactly means ""can control current flow""? Isn't a (passive) capacitor able to control or at least influence current flow as well? </p>

<p>Some people argue, that it depends on the context in which the component is used to be able to consider it active or passive. This doesn't make things easier.</p>

<p>Especially for diodes there are so many conflicting/different arguments:</p>

<ul>
<li>""In most cases (rectifier, Zener, etc.) a diode is, no doubt, a PASSIVE device. Only in some special cases like with a tunnel diode, when its negative resistance region is used, it can be considered as an ACTIVE device.""</li>
<li>""it is an active device.since its impedence is positive,or v-i chara lies in 1&amp;2 quadrants.""</li>
<li>""Yes it is an active device since it requires an external power source, to operate it in forward or reverse bias.""</li>
<li>""Diode is an active device, since it can be used as an waveform generator (half wave rectifier, for ex).""</li>
<li>""If the i-v characterisitics of the diode are in region I and III, then it is a passive device (always dissipating power). I think most diodes fall into this category.""</li>
</ul>

<p>I am pretty sure that there is no ""one rule"" and you always have to ask several questions about a component that must be satisfied to classify it. But what are those criteria exactly? </p>
","<p>There is a clear definition: 
Passive elements have no function of gain, or control over voltage or current: their controlling function is linear -> I/V = R in the case of a resistor. There are exactly four kinds of passive elements: Resistors, Capacitors, Inductors and Memristors. All other components are active. Source <a href=""http://de.wikipedia.org/wiki/Elektrisches_Bauelement"">http://de.wikipedia.org/wiki/Elektrisches_Bauelement</a></p>

<p>Active Elements have a function of gain or control, meaning the connection of the controlling parameters nonlinear. Diodes control current, transistors amplify current, etc. </p>

<p>The reason for the distinction is mathematical: 
You can use certain mathematical approaches to solve the equations of a device that contains only passive elements, while the same approaches would not work with active elements. If you have active elements, you may have to first approximate a passive network at the working conditions before you calculate. </p>

<p>This does not mean you cannot build advanced devices out of passive Elements. Analog filters are often made from passive elements and can be quite complicated. </p>
","82801"
"230V AC to 5V DC converter, lossless","156427","","<p>Is there any IC which converts 230V AC to 5V DC? As lossless as possible. I want to connect my microcontroller to an ordinary electrical socket and I don't have enough space available. Thanks.</p>
","<p>There's no such thing as ""lossless"" anything in electronics, and there's not a single IC that's designed to do what you want. But here are some different supply ideas. Since you didn't specify current consumption or efficiency, let's look at three different approaches:</p>

<h1>Non-isolating Zener supply</h1>

<h2>5% efficiency or less</h2>

<p>Plug-in timers that are microcontroller-based usually use non-isolating power supplies, like this:</p>

<p><img src=""https://i.stack.imgur.com/gcKcK.png"" alt=""Non-isolated DC supply schematic""></p>

<p>R1 essentially drops the difference between the Zener diode and the AC mains potential, so it's not going to be efficient for anything except light loads. Also, your load can't change dramatically, as the resistor has to be sized to provide enough current to the zener to cause it to reverse avalanche, without providing too much current. If your load starts pulling too much current, its voltage will drop. If your load doesn't pull enough current, the zener diode can be damaged. </p>

<h2>Pros</h2>

<ul>
<li>Very small</li>
<li>Very cheap</li>
<li>Excellent for extremely light loads (MCU + switch device)</li>
</ul>

<h2>Cons</h2>

<ul>
<li>No isolation</li>
<li>Load current isn't flexible; must be fixed within small window</li>
</ul>

<h1>Mains-frequency regulated transformer supply</h1>

<h2>20-75% efficiency</h2>

<p>You can always use a transformer (60:1 or so), a bridge rectifier, and a linear regulator, like this:
<img src=""https://i.stack.imgur.com/AAWg7.gif"" alt=""Regulated DC supply schematic""></p>

<p>This introduces a bulky, costly transformer into the design, but it's more efficient than the previous design, and your load can vary quite a bit.</p>

<h2>Pros</h2>

<ul>
<li>Easiest to implement</li>
<li>Designed for medium current loads -- a clock radio, for example.</li>
<li>Full isolation</li>
<li>Relatively inexpensive</li>
</ul>

<h2>Cons</h2>

<ul>
<li>Bulky</li>
<li>Fairly inefficient</li>
</ul>

<h1>Fully-isolated Switch-mode AC/DC Converter</h1>

<h2>75-95% efficiency</h2>

<p>Most efficient (and most complex) is a AC/DC switching converter. These work on the principle of first converting AC to DC, then switching the DC at very high frequencies to make optimal use of the transformer's characteristics, as well as minimize the size (and loss) of the filter network on the secondary. Power Integrations makes an IC that does all the control/feedback/driving -- all you need is to add a transformer and optoisolators. Here's an example design:
<img src=""https://i.stack.imgur.com/XAinY.jpg"" alt=""Power Integrations LinkSwitch converter schematic example""></p>

<p>As you can see, AC mains voltage is immediately rectified and filtered to produce high voltage DC. The Power Integrations device switches this voltage rapidly across the transformer's primary side. High-frequency AC is seen on the secondary, and rectified and filtered. You'll notice that the component values are quite small, even considering the current use. This is because high-frequency AC requires much smaller components to filter than line-frequency AC. Most of these devices have special ultra-low-power modes that work quite well.</p>

<p>These converters, in general, provide a great amount of efficiency and can also source high-power loads. These are the sorts of supplies you see in everything from tiny cell phone chargers to laptop and desktop computer power supplies.</p>

<h2>Pros</h2>

<ul>
<li>Extremely Efficient</li>
<li>Full isolation</li>
<li>High output current: can source 50+ amps of low voltage DC fairly easily.</li>
<li>Small size</li>
</ul>

<h2>Cons</h2>

<ul>
<li>Large BOM (Bill of Materials)</li>
<li>Difficult to design</li>
<li>Requires thoughtful PCB layout</li>
<li>Usually requires custom transformer design</li>
<li>Expensive</li>
</ul>
","41944"
"What standard UART rates are there?","148461","","<p>I know 9600, 19200, 38400, 57600, 115200 and 1.8432 Mbaud, but no others. Why are these values used, and is it simply doubling each time or is there something more complex going on (for example, 38400 quadrupled is not 115200 baud?) </p>

<p>The reason I ask this question is I'm designing something which may have to interact with a variety of different baud rates. It will initialise in 9600, and then switch to a specific baud rate. But I can't support arbitrary rates because the dsPIC33F I am using does not support arbitrary rates as it is limited to a 16-bit BRG down counter. It's similar in this regard to many other processors.</p>
","<p>It started a long long time ago with teletypes - I think 75 baud. Then it's been mostly doubling ever sice, with a  few fractional (x1.5) mutiples, for example 28800, where there were constraints on phone-line modem tech that didn't quite allow it to double.</p>

<p>Standard crystal values came from these early baudrates, and their availability dictates future rates. E.g. 7.3728 MHz / 16 = 460800 baud, 7.3728 MHz / 64 = 115200 baud.</p>

<p>Most UARTS use a clock of 2^n x16 of the baudrate,  more modern parts (e.g. NXP LPC) have fractional dividers to get a wider range by using non-binary multiples.</p>

<p>Other common standards are 31250 (MIDI) and 250K (DMX), both likely chosen as nice multiples of 'round' clocks like 1MHz etc.</p>
","9278"
"How to become an embedded software developer?","139864","","<p>I'd like some tips for those who want to become a good embedded software developer or want to improve in this area.</p>

<p>What should I need learn about hardware, software?</p>

<p>Which books are most recommended? Blogs?</p>

<p>In the end, how could I go from a beginner hobbyist to an excellent professional?</p>
","<p>All the answers have been good so far, but I'll throw in my two cents.</p>

<p>Here's a repeat of some tips with a twist and some extra:</p>

<ul>
<li>Learn C: The fundamental language of the hardware that is still portable (too some degree).  Don't just learn it, but become an expert of all it's features like volatile and why it is important for writing device drivers.</li>
<li>Start out with a good development kit like Arduino, but as said before learn other architectures once you got a good feel for it.  Luckily there are some Arduino compatible boards built with other processors, that way you can rewrite the same design on a different uC not mess up your whole design while getting a feel for something new.</li>
<li>In the learning stage, feel free to re-invent the wheel on device drivers or other pieces of code.  Don't just plop someone else's driver code down in there.  There's value in re-inventing the wheel when you're learning.</li>
<li>Challenge yourself to re-write your code more efficiently in terms of speed and memory usage.</li>
<li>Becoming familiar with different styles of embedded systems software architectures.  Start with basic interrupt driven/background loop processing, then move up to background schedulers, then real-time operating systems.</li>
<li>Get good source control! I prefer <a href=""http://mercurial.selenic.com/"" rel=""nofollow"">Mercurial</a> myself.  </li>
<li>Even sign up for some free source control hosting sites like <a href=""http://sourceforge.net/"" rel=""nofollow"">Sourceforge.net</a> or <a href=""http://bitbucket.org/"" rel=""nofollow"">Bitbucket.org</a> to host your project even if you're the only one working on it.  They'll back your code up, so you don't have to worry about that occasional hard drive crash destroying everything!  Using a distributed VCS comes in handy, because you can check in changes to your hard drive then upload to the host site when ready.</li>
<li>Learn your tools well for whatever chip you're working on!  Knowing how the compiler creates assembly is essential. You need to get a feel for how efficient the code is, because you may need to rewrite in assembly. Knowing how to use the linker file and interpreting the memory map output is also essential! How else are you going to know if that routine you just wrote is the culprit of taking up too much ROM/Flash!</li>
<li>Learn new techniques and experiment with them in your designs!</li>
<li>Assume nothing when debugging. Verify it!</li>
<li>Learn how to program defensively to catch errors and verify assumptions (like using assert)</li>
<li>Build a debugging information into your code where you can such as outputting memory consumption or profiling code with timers or using spare pins on the uC to toggle and measure interrupt latency on a O-scope.</li>
</ul>

<p>Here are some books:</p>

<ul>
<li><a href=""http://pragprog.com/titles/tpp/the-pragmatic-programmer"" rel=""nofollow"">The Pragmatic Programmer</a> by Andrew Hunt and David Thomas - more or less required reading for any practical software development</li>
<li><a href=""http://www.amazon.com/Practical-Arduino-Projects-Hardware-Technology/dp/1430224770"" rel=""nofollow"">Practical Arduino</a></li>
<li><a href=""http://www.amazon.com/Programming-Embedded-Systems-Development-Tools/dp/0596009836/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1278630869&amp;sr=1-1"" rel=""nofollow"">Programming Embedded Systems</a> by Michael Barr </li>
<li><a href=""http://www.amazon.com/Embedded-Systems-Building-Blocks-Second/dp/0879306041/ref=sr_1_3?ie=UTF8&amp;s=books&amp;qid=1278630936&amp;sr=1-3"" rel=""nofollow"">Embedded Systems Building Blocks</a> by Jean Labrosse</li>
<li><a href=""http://www.amazon.com/MicroC-OS-II-Kernel-CD-ROM/dp/1578201039/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1278631008&amp;sr=1-1"" rel=""nofollow"">MicroC OS II Real Time Kernel</a> by Jean Labrosse, great intro into RTOS's in general in there along with his OS.</li>
<li><a href=""http://www.amazon.com/Embedded-Software-Primer-David-Simon/dp/020161569X/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1278681571&amp;sr=8-1"" rel=""nofollow"">Embedded Software Primer</a> by David Simon - good intro to embedded software</li>
</ul>

<p>Here are some websites:</p>

<ul>
<li><a href=""http://embeddedgurus.com/"" rel=""nofollow"">Embedded Gurus</a></li>
<li><a href=""http://www.ganssle.com/"" rel=""nofollow"">Ganssle Group</a> Jack Ganssle has some wonderful historical stories to tell. Read the articles.  He gets a little preachy about some things though.</li>
<li><a href=""http://embedded.com"" rel=""nofollow"">Embedded.com</a> Good info for latest techniques and tips from Ganssle, Barr, and other industry experts.</li>
</ul>
","3361"
"What is a decoupling capacitor and how do I know if I need one?","136898","","<p>What is a decoupling capacitor (or smoothing capacitor as referred to in the link below)?</p>

<p>How do I know if I need one and if so, what size and where it needs to go? </p>

<p><a href=""https://electronics.stackexchange.com/questions/2262/smoothing-capacitors-what-size-and-how-many"">This question</a> mentions many chips needing one between VCC and GND; how do I know if a specific chip is one? </p>

<p>Would an <a href=""http://pdf1.alldatasheet.com/datasheet-pdf/view/27391/TI/SN74195N.html"" rel=""noreferrer"">SN74195N</a> 4-bit parallel access shift register used with an Arduino need one? (To use my current project as an example) Why or why not?</p>

<p>I feel like I'm starting to understand the basics of resistors and some places they're used, what values should be used in said places, etc, and I'd like to understand capacitors at the basic level as well.</p>
","<p>I was the one that asked that question. Here is my rudimentary understanding:</p>

<p>You attach capacitors across \$V_{CC}\$/GND to try and keep the voltage more constant. Under a DC circuit, a capacitor acts like an open circuit so there is no problem with shorting there. As your device is powered up (\$V_{CC}\$=5V), the capacitor is charged to capacity and waits until there is a change in the voltage between \$V_{CC}\$ and GND (\$V_{CC}\$=4.5V). At this point, the capacitor will discharge to try and bring the voltage back to the level of charge inside the capacitor (5V). This is called ""smoothing"" (or at least that is what I call it) because the change in voltage will be less pronounced. </p>

<p>Ultimately, the voltage will not ever return to 5V through a capacitor, rather the capacitor will discharge until the charge inside it is equal to the supply voltage (to an equilibrium). A similar mechanism is responsible for smoothing if \$V_{CC}\$ increases too far beyond its average (\$V_{CC}\$=5.5V perhaps).</p>

<p>As for why you need them, they are very important in high speed digital and analog circuits. I can't imagine you would need one for a SN74195, but it can't hurt!</p>
","2274"
"What is the relation between FFT length and frequency resolution?","134177","","<p>If I have sampled a signal using proper sampling methods (Nyquist, filtering, etc) how do I relate the length of my FFT to the resulting frequency resolution I can obtain?</p>

<p>Like if I have a 2,000 Hz and 1,999 Hz sine wave, how would I determine the length of FFT needed to accurately tell the difference between those two waves?</p>
","<p>The frequency resolution is dependent on the relationship between the FFT length and the sampling rate of the input signal.</p>

<p>If we collect 8192 samples for the FFT then we will have:</p>

<p>$$\frac{8192\ \text{samples}}{2} = 4096\ \,\text{FFT bins}$$</p>

<p>If our sampling rate is 10 kHz, then the Nyquist-Shannon sampling theorem says that our signal can contain frequency content up to 5 kHz. Then, our frequency bin resolution is:</p>

<p>$$\frac{5\ \text{kHz}}{4096\ \,\text{FFT bins}} \simeq \frac{1.22\ \text{Hz}}{\text{bin}}$$</p>

<p>This is may be the easier way to explain it conceptually but simplified: &nbsp;your bin resolution is just \$\frac{f_{samp}}{N}\$, where \$f_{samp}\$ is the input signal's sampling rate and N is the number of FFT points used (sample length).</p>

<p>We can see from the above that to get smaller FFT bins we can either run a longer FFT (that is, take more samples <em>at the same rate</em> before running the FFT) or decrease our sampling rate.</p>

<p><strong>The Catch:</strong></p>

<p>There is always a trade-off between temporal resolution and frequency resolution.</p>

<p>In the example above, we need to collect 8192 samples before we can run the FFT, which when sampling at 10 kHz takes 0.82 seconds. </p>

<p>If we tried to get smaller FFT bins by running a longer FFT it would take even longer to collect the needed samples.</p>

<p>That may be OK, it may not be.  The important point is that at a fixed sampling rate, increasing frequency resolution decreases temporal resolution. That is the more accurate your measurement in the frequency domain, the less accurate you can be in the time domain. You effectively lose all time information inside the FFT length.</p>

<p>In this example, if a 1999 Hz tone starts and stops in the first half of the 8192 sample FFT and a 2002 Hz tone plays in the second half of the window, we would see both, but they would appear to have occurred at the same time.</p>

<p>You also have to consider processing time.  A 8192 point FFT takes some decent processing power.  A way to reduce this need is to reduce the sampling rate, which is the second way to increase frequency resolution.</p>

<p>In your example, if you drop your sampling rate to something like 4096 Hz, then you only need a 4096 point FFT to achieve 1 Hz bins *4096 Hz, then you only need a 4096 point FFT to achieve 1hz bins and can still resolve a 2khz signal.  This reduces the FFT bin size, but also reduces the bandwidth of the signal.</p>

<p>Ultimately with an FFT there will always be a trade off between frequency resolution and time resolution.  You have to perform a bit of a balancing act to reach all goals.</p>
","12412"
"Why was Mini USB deprecated in favor of Micro USB?","132830","","<p>Mini USB connectors were standardized as part of USB 2.0 in 2000. In 2007, the USB Implemeters Forum standardized Micro USB connectors, deprecating Mini USB connectors four months later.</p>

<p>Why? What are the advantages of Micro USB over Mini USB that made USB-IF rip out an existing standard and replace it with another one that's basically the same thing?</p>
","<p><strong>A major flaw:</strong></p>

<p>A major factor in abandoning mini-USB is that it was fatally flawed mechanically. Most people who have used a mini-USB device which requires many insertions will have experienced poor reliability after a significant but not vast number of uses. </p>

<p>The original mini-USB had an extremely poor insertion lifetime - about 1000 insertions total claimed. That's about once a day for 3 years. Or 3 times a day for one year. Or ...  For some people that order of reliability may be acceptable and the problems may go unnoticed. For others it becomes a major issue. A photographer using a flash card reader may expend that lifetime in well under a year.</p>

<p>The original mini-USB connector had sides which sloped as at present but they were reasonably straight. (Much the same as the sides on a micro-A connector). These are now so rare that I couldn't find an image using a web search. This image is diagrammatic only but shows the basic shape with sloped but straight sides.</p>

<p><img src=""https://i.stack.imgur.com/rSJuo.jpg"" alt=""USB Mini-A receptacle""></p>

<p>Efforts were made to address the low lifetime issues while maintaining backwards compatibility and the current ""kinked sides"" design was produced. Both plug and socket were changed but the sockets (""receptacle"") will still accept the old straight sided plugs. This is the shape that we are all so used to that the old shape is largely forgotten. </p>

<p><img src=""https://i.stack.imgur.com/JjTJw.jpg"" alt=""USB Mini-B receptacle""> <img src=""https://i.stack.imgur.com/1Ks1r.jpg"" alt=""USB Mini-B plug""></p>

<p>Unfortunately, this alteration ""only sort of worked"".  Insertion lifetime was increased to about 5,000 cycles. This sounds high enough in theory but in practice the design was still walking wounded with respect to mechanical reliability. 5,000 cycles is a very poor rating in the connector industry. While most users will not achieve that many insertion cycles, the actual reliability in heavy use is poor.</p>

<p>The micro-USB connector was designed with these past failings in mind and has a rated lifetime of about 10,000 insertion cycles. This despite its apparent frailty and what may appear to be a less robust design. [This still seems woefully low to me. Time will tell]. </p>

<p><strong>Latching</strong> Unlike mini USB, Micro USB has a passive latching mechanism which increases retention force but which allows removal without active user action (apart from pulling). [Latching seems liable to reduce the plug  ""working"" in the receptacle and may increase reliability].  </p>

<p><strong>Size matters:</strong></p>

<p>The micro and mini USB connectors are of similar width. But the micro connector is much thinner (smaller vertical dimension). Some product designs were not able to accommodate the height of the mini receptacle and the new thinner receptacle will encourage and allow thinner products. A mini-USB socket would have been too tall for thin design. By way of example - a number of Motorola's ""Razr"" cellphones used micro-USB receptacles, thus allowing  the designs to be thinner than would have been possible with a Mini-USB receptacle. </p>

<ul>
<li>Specific Razr models which use MICRO-USB include RAZR2 V8, RAZR2 V9, RAZR2 V9m, 
RAZR2 V9x, DROID RAZR, RAZR MAXX &amp; RAZR VE20.</li>
</ul>

<p><a href=""http://en.wikipedia.org/wiki/USB"">Wikipedia on USB</a> - see ""durability"".</p>

<p>Connector manufacturer <a href=""http://www.molex.com/molex/products/family?key=micro_usb&amp;channel=products&amp;chanName=family&amp;pageTitle=Introduction"">Molex's micro USB page</a></p>

<p>They say:</p>

<ul>
<li><p>Micro-USB technology was developed by the USB Implementers Forum, Inc. (USB-IF), an independent nonprofit group that advances USB technology. Molex's Micro-USB connectors offer advantages of smaller size and increased durability compared with the Mini-USB. Micro-USB connectors allow manufacturers to push the limits of thinner and lighter mobile devices with sleeker designs and greater portability.  </p>

<p>Micro-USB replaces a majority of Mini-USB plugs and receptacles currently in use. The specification of the Micro-USB supports the current USB On-The-Go (OTG) supplement and provides total mobile interconnectivity by enabling portable devices to communicate directly with each other without the need for a host computer.  </p>

<p>... Other key features of the product include high durability of over 10,000 insertion cycles, and a passive latching mechanism that provides higher extraction forces without sacrificing the USB's ease-of-use when synchronizing and charging portable devices.</p></li>
</ul>

<p><strong>All change:</strong></p>

<p>Once all can change, all tend to. A significant driver to a common USB connector is the new USB charging standard which is being adopted by all cellphone makers. (Or all who wish to survive). The standard relates primarily to the electrical standards required to allow universal charging and chargers but a common mechanical connection system using the various micro-USB components is part of the standard. Whereas in the past it only really mattered that your 'whizzygig' could plug into its supplied power supply, it is now required that any whizzygig's power supply will fit any other device. A common plug and socket system is a necessary minimum for this to happen. While adapters can be used this is an undesirable approach. As USB charging becomes widely accepted not only for cellphones but for xxxpods, xxxpads, pda's and stuff in general, the drive for a common connector accelerates. The exception may be  manufacturers whose names begin with A who consider themselves large enough and safe enough to actively pursue interconnect incompatibility in their products.  </p>

<p>Once a new standard is widely adopted and attains 'critical mass"" the economics of scale tend to drive the market very rapidly to the new standard. It becomes increasingly less cost effective to manufacture and stock and handle parts which have a diminishing market share and which are incompatible with new facilities.</p>

<p>I may add some more references to this if it appears there is interest - or ask Mr Gargoyle. </p>

<p>Large list of <a href=""http://www.talkietech.com/moq9hra2v9mv.html"">cellphones that use micro-USB receptacle</a></p>

<p><strong>_______________________________</strong>
<strong>_______________________________</strong></p>

<p>A few more images allowing comparisons of a range of aspects including thickness, area of panel, overall volume (all being important independently of the others to some for various reasons) and retention means. </p>

<p>Large Google <a href=""https://www.google.co.nz/search?tbm=isch&amp;tbs=rimg%3ACV1pTd3uj10mIjgKGCtV3PYUNVlRa8WUhaIOo1ULQnKKzyY3lbcDsH0MLIOI5EpgyveWQgsrY5mMUrajh7dPivfciCoSCQoYK1Xc9hQ1EXAqLcJPlzzZKhIJWVFrxZSFog4RBrp-LtNhtIYqEgmjVQtCcorPJhGrcjrXQxM9TyoSCTeVtwOwfQwsEaPSwhyJcSNpKhIJg4jkSmDK95YRYt0emTkipB4qEglCCytjmYxSthGnMHp9jfTbWSoSCaOHt0-K99yIEXhrHDJfKUzx&amp;q&amp;bih=841&amp;biw=1527&amp;ved=0ahUKEwiOyY3Qxo3OAhVDHJQKHbHzBVIQ9C8ICQ&amp;dpr=1.1"">image samples</a> each linked to a web page</p>

<p><a href=""https://www.google.co.nz/search?q=mini+micro+usb&amp;num=100&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ved=0ahUKEwjahoapxo3OAhUFupQKHUdEDeUQsAQIGw&amp;biw=1527&amp;bih=841&amp;dpr=1.1"">and more</a></p>

<p><a href=""http://gct.co/usb-connectors/"">Useful discussion &amp; brief history</a> Note: they say (and, as Bailey S also notes) </p>

<ul>
<li>Why Micro types offer better durability?<br>
Accomplished by moving leaf-spring from the PCB receptacle to plug, the most-stressed part is now on the cable side of the connection. 
Inexpensive cable bears most wear instead of the µUSB device.</li>
</ul>

<p><strong>Maybe useful:</strong></p>

<p><a href=""http://www.cablestogo.com/learning/connector-guides/usb"">USB CONNECTOR GUIDE — GUIDE TO USB CABLES</a>   </p>

<p><a href=""http://www.laptopmag.com/articles/usb-type-c-faq"">USB connections compared</a> </p>

<p><a href=""http://blog.premiumusb.com/2012/07/micro-usb-vs-mini-usb-answered/"">What is Micro USB vs Mini USB</a>  </p>
","18559"
"How to program Arduino Nano / Pro-Mini / Pro-Micro clone that has no usb port?","130676","","<p>I was looking for a cheapest possible option to get arduino and wireless comms for a dimmable light and come across this <a href=""http://www.ebay.ie/itm/New-Mini-atmega328-Replace-ATmega128-For-Arduino-Compatible-Nano-Module-Green-/390718606255?pt=UK_Computing_Other_Computing_Networking&amp;hash=item5af8a4cbaf"">ebay item</a> when searching for Arduino Nano clone. It has no usb port so how can it be programmed?</p>

<p>Edit:</p>

<p>I have discovered that there is a new device called ""Arduino Pro Micro"" which is similar to Pro Mini and Nano but have usb port in-built. The best thing is you can <a href=""http://www.ebay.ie/itm/Pro-Micro-5V-16MHz-ATMega32U4-Module-For-Arduino-Leonardo-2-Row-Pin-Header-/390729373456?pt=UK_Computing_Other_Computing_Networking&amp;hash=item5af9491710"">buy Pro Micro</a> for under 4 euros! Excellent for a dimmable LED light...</p>
","<p>It's similar to an arduino but with the USB to UART converter chip removed to be cheaper. In order to program it you have to use an external converter and connect it to the Rx/Tx pins.<br>
Please note that these boards don't use a crystal as a clock source but a 16MHz resonator which has higher tolerance (0.5%)</p>

<p><img src=""https://i.stack.imgur.com/COefn.jpg"" alt=""enter image description here""></p>

<p>You'll need to get an external USB to serial board (or cable), like</p>

<p><img src=""https://i.stack.imgur.com/nWrRF.jpg"" alt=""enter image description here""></p>

<p>Note that there are two ""versions"" of USB to serial boards. One version outputs Tx pin to Tx header and Rx pin to Rx header and the other version outputs Tx pin to Rx header and Rx pin to Tx header.</p>

<p>If your board outputs Tx pin to Rx header and Rx pin to Tx header (the signals are already crossed) then you should connect Rx of the USB board to Rx of Arduino, and Tx of the USB board to Tx of Arduino (like shown below)</p>

<p><img src=""https://i.stack.imgur.com/m7Oip.jpg"" alt=""enter image description here""></p>

<p>If your board outputs Tx pin to Tx header and Rx pin to Rx header then you should connect Rx of the USB board to Tx of Arduino, and Tx of the USB board to Tx of Arduino (cross connect like shown below)</p>

<p><img src=""https://i.stack.imgur.com/4Feyr.jpg"" alt=""enter image description here""></p>
","96806"
"How to get more than 100mA from a USB port","130175","","<p>I heard that the current limit for a USB port is 100mA. However, I also heard that some devices can get up to 1.8A from a port. How do you get past the 100mA limit?</p>
","<p>I think I can attempt to clear this up.</p>

<h2>USB-100mA</h2>

<p>USB by default will deliver 100mA of current (it is 500mW power because we know it is 5v, right?) to a device. This is the most you can pull from a USB hub that does not have its own power supply, as they never offer more than 4 ports and keep a greedy 100mA for themselves.</p>

<p>Some computers that are cheaply built will use an bus-powered hub(<em>all of your USB connections share the same 500mA source and the electronics acting as a hub use that source also</em>) internally to increase the number of USB ports and to save a small amount of money. This can be frustrating, but you can always be guaranteed 100mA.</p>

<h2>USB-500mA</h2>

<p>When a device is connected it goes through enumeration. This is not a trivial process and can be seen in detail on <a href=""http://janaxelson.com/usbcenum.htm"">Jan Axelson's site</a>. As you can see this is a long process, but a chip from a company like FTDI will handle the hard part for you. They discuss enumeration in one of <a href=""http://www.ftdichip.com/Support/Documents/TechnicalNotes/TN_113_Simplified%20Description%20of%20USB%20Device%20Enumeration.pdf"">their app notes</a>.</p>

<p>Near the end of enumeration you setup device parameters. Very specifically the configuration descriptors. If you look on <a href=""http://www.beyondlogic.org/usbnutshell/usb5.shtml"">this website they will show you all of the different pieces that can be set</a>. It shows that you can get right up to 500mA of power requested. This is what you can expect from a computer. You can get FTDI chips to handle this for you, which is nice, as you only have to treat the chip as a serial line.</p>

<h2>USB-1.8A</h2>

<p>This is where things get interesting. You can purchase a charger that does outlet to USB at the store. This is a USB charging port. your computer does not supply these, and your device must be able to recognize it.</p>

<p>First, to get the best information about USB, you sometimes have to bite the bullet and go to the people whom write the spec. I found <a href=""http://www.usb.org/developers/devclass_docs"">great information about the USB charging spec here</a>. The link on the page that is useful is the <a href=""http://www.usb.org/developers/devclass_docs/batt_charging_1_1.zip"">link for battery charging</a>. This link seems to be tied to revision number, so I have linked both in case the revision is updated people can still access the information.</p>

<p>Now, what does this mean. if you open up the batt_charging PDF and jump to chapter three they go into charging ports. Specifically 3.2.1 explains how this is gone about. Now they keep it very technical, but the key point is simple. A usb charging port places a termination resistance between D+ and D-. I would like to copy out the chapter that explains it, but it is a secured PDF and I cannot copy it out without retyping it.</p>

<h2>Summing it up</h2>

<p>You may pull 100mA from a computer port. You may pull 500mA after enumeration and setting the correct configuration. Computers vary their enforcement, as many others have said, but most I have had experience with will try to stop you. If you violate this, you may also damage a poorly design computer (Davr is spot on there, this is poor practice). You may pull up to 1.8A from a charging port, but this is a rare case where the port tells you something. You have to check for this and when it is verified you may do it. This is the same as buying a wall adapter, but you get to use a USB cable and USB port.</p>

<p>Why use the charging spec? So that when my phone dies, my charger charges it quickly, but if I do not have my charger I may pull power from a computer, while using the same hardware port to communicate files and information with my computer.</p>

<p>Please let me know if there is anything I can add.</p>

<p></p>
","5581"
"What is the difference between Vrms and Vm?","119393","","<p>I am relatively new here and I am confused as to the difference between Vrms and Vm. I would be obliged if someone can explain. (This in relation to 3-phase circuits would be even better)</p>

<p><a href=""https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;ie=UTF-8#hl=en&amp;safe=off&amp;q=what%20is%20Vm%20Rms%20voltage&amp;spell=1&amp;sa=X&amp;ei=CPFiUYHDKpLO0QGYkIHwCQ&amp;ved=0CC4QvwUoAA&amp;bav=on.2,or.r_cp.r_qf.&amp;fp=bb37ffff2bca0b6f&amp;biw=1252&amp;bih=1309&amp;ion=1"" rel=""nofollow"">My shot at learning, but not many results on Google that I can understand.</a></p>

<p><a href=""http://www.animations.physics.unsw.edu.au/jw/power.html"" rel=""nofollow"">Reference</a></p>
","<p>RMS:
The RMS value of a waveform is the DC-eqvalent voltage. It means, that if you have a sin wave with an RMS value of 10 Volts RMS, in order to deliver the same power via DC voltage, you would need 10 volts DC. Don't confuse the average magnitude with the RMS voltage; Vav does not equal Vrms. In fact technically, the average voltage of an unshifted sin wave is 0</p>

<p>Vm:
Vm generally refers to the peak/max voltage on your waveform.</p>

<p><img src=""https://i.stack.imgur.com/Xug3U.gif"" alt=""enter image description here""></p>
","64899"
"MOSFET as a Switch - When is it in Saturation?","117744","","<p>I have the following circuit hooked up on a breadboard.</p>

<p><img src=""https://i.stack.imgur.com/BADoG.png"" alt=""enter image description here""></p>

<p>I vary the gate voltage using a potentiometer. Here is what confuses me: according to wikipedia, the MOSFET is in saturation when V(GS) > V(TH) <em>and</em> V(DS) > V(GS) - V(TH). </p>

<p>If I slowly increase the gate voltage starting from 0, the MOSFET remains off. The LED starts conducting a small amount of current when the gate voltage is around 2.5V or so. The brightness stops increasing when the gate voltage reaches around 4V. There is no change in the brightness of the LED when the gate voltage is greater then 4V. Even if I increase the voltage rapidly from 4 to 12, the brightness of the LED remains unchanged.</p>

<p>I also monitor the Drain to Source voltage while I'm increasing the gate voltage. The drain to source voltage drops from 12V to close to 0V when the gate voltage is 4V or so. This is easy to understand: since R1 and R(DS) form a voltage divider and R1 is much larger than R(DS), most of the voltage is dropped on R1. In my measurements, around 10V is being dropped on R1 and the rest on the red LED (2V).</p>

<p>However, since V(DS) is now approximately 0, the condition V(DS) > V(GS) - V(TH) is not satisfied, is the MOSFET not in saturation? If this is the case, how would one design a circuit in which the MOSFET is in saturation?</p>

<p>Note that: R(DS) for IRF840 is 0.8 Ohms. V(TH) is between 2V and 4V. Vcc is 12V.</p>

<hr>

<hr>

<p>Here is the load line that I plotted of my circuit.</p>

<p><img src=""https://i.stack.imgur.com/B6vbz.png"" alt=""enter image description here""></p>

<p>Now, from what I've gained from the answers here is that in order to operate the MOSFET as a switch, the operating point should be towards the left of the load line. Am I correct in my understanding?</p>

<p>And If one imposes the MOSFET characteristic curves, on the above graph, then the operating point would be in the so called ""linear/triode"" region. Infact, the switch should reach that region as quickly as possible in order to work efficiently. Do I get it or am I completely wrong?</p>
","<p>First of all, ""saturation"" in mosfets means that change in VDS will not produce significant change in the Id (drain current). You can think about MOSFET in saturation as a current source. That is regardless of the voltage across VDS (with limits of course) the current through the device will be (almost) constant.</p>

<p>Now going back to the question:</p>

<p><em>According to wikipedia, the MOSFET is in saturation when V(GS) > V(TH) and V(DS) > V(GS) - V(TH).</em></p>

<p>That is correct. </p>

<p><em>If I slowly increase the gate voltage starting from 0, the MOSFET remains off. The LED starts conducting a small amount of current when the gate voltage is around 2.5V or so.</em></p>

<p>You increased The Vgs above Vth of the NMOS so the channel was formed and device started to conduct.</p>

<p><em>The brightness stops increasing when the gate voltage reaches around 4V. There is no change in the brightness of the LED when the gate voltage is greater then 4V. Even if I increase the voltage rapidly from 4 to 12, the brightness of the LED remains unchanged.</em></p>

<p>You increased the Vgs making the device conducting more current. At Vgs = 4V the thing that is limiting amount of current is no longer transistor but resistor that you have in series with transistor.</p>

<p><em>I also monitor the Drain to Source voltage while I'm increasing the gate voltage. The drain to source voltage drops from 12V to close to 0V when the gate voltage is 4V or so. This is easy to understand: since R1 and R(DS) form a voltage divider and R1 is much larger than R(DS), most of the voltage is dropped on R1. In my measurements, around 10V is being dropped on R1 and the rest on the red LED (2V).</em></p>

<p>Everything looks in order here.</p>

<p><em>However, since V(DS) is now approximately 0, the condition V(DS) > V(GS) - V(TH) is not satisfied, is the MOSFET not in saturation?</em></p>

<p>No it is not. It is in linear or triode region. It behaves as resistor in that region. That is increasing Vds will increase Id.</p>

<p><em>If this is the case, how would one design a circuit in which the MOSFET is in saturation?</em></p>

<p>You already have. You just to need take care for operating point (make sure that conditions that you have mention are met).</p>

<p>A) In linear region you can observe following: -> when increasing the SUPPLY voltage, the LED will get brighter as the current across resistor and transistor will rise and thus more will be flowing through the LED.</p>

<p>B) In saturation region something different will happen -> when increasing SUPPLY voltage, the LED brightness will not change. The extra voltage that you apply on the SUPPLY will not translate to bigger current. Instead it will be across MOSFET, so the DRAIN volage will rise together with supply voltage (so increase supply by 2V will mean increasing drain volage by almost 2V)</p>
","18904"
"How do I calculate the cutoff frequency of a low pass rc circuit?","117110","","<p>I want to calculate the cutoff frequency for a specific filter, but I can't find any formula for that.</p>

<p>I know the formula for the cutoff frequency of a low pass filter: </p>

<p>$$f_c=\frac{1}{2\pi RC}$$</p>

<p>But how is that derived in the first place? I don't have a regular low pass filter, but something similar that I want to calculate the cutoff frequency of.</p>
","<p>The specific formula applies only for a first order RC low pass filter. This is derived from its frequency response:</p>

<p>$$H(j\omega)=\frac{1}{1+j\omega RC}$$</p>

<p>The cutoff frequency is defined as the frequency where the amplitude of \$H(j\omega)\$ is \$1\over\sqrt2\$ times the DC amplitude (approximately -3dB, half power point).</p>

<p>$$|H(j\omega_c)|=\frac{1}{\sqrt{1^2+\omega_c^2R^2C^2}}=\frac{1}{\sqrt{2}}\cdot|H(j0)|=\frac{1}{\sqrt{2}}$$</p>

<p>Solve it for \$\omega_c\$ (cutoff angular frequency), you'll get \$1\over RC\$. Divide that by \$2\pi\$ and you get the cutoff frequency \$f_c\$.</p>

<p>If you know the frequency response of your filter, you can apply this method (given that the cutoff frequency is defined as above). Obviously, for high-pass filters for example, you calculate with the value for \$\omega\to \infty\$ as opposed to the DC value (always the maximum of the amplitude response, relative to which there is a 3dB decrease in amplitude at the cutoff frequency.)</p>
","140557"
"Why does micro USB 2.0 have 5 pins, when the A-type only has 4?","115704","","<p>What is the extra, 5th, pin on micro usb 2.0 adapters for?</p>

<hr>

<p>Here is an image with the different connectors.  Most of them have 5 pins, but the A-type host only has four.</p>

<p><img src=""https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Types-usb_th1.svg/271px-Types-usb_th1.svg.png"" alt=""USB Connectors""></p>
","<p>It's for <a href=""http://en.wikipedia.org/wiki/USB_On-The-Go"" rel=""noreferrer"">On-The-Go</a>, to select which device is the host or slave:</p>

<blockquote>
  <p>The OTG cable has a micro-A plug on one side, and a micro-B plug on
  the other (it cannot have two plugs of the same type). OTG adds a
  fifth pin to the standard USB connector, called the ID-pin; the
  micro-A plug has the ID pin grounded, while the ID in the micro-B plug
  is floating. The device that has a micro-A plugged in becomes an OTG
  A-device, and the one that has micro-B plugged becomes a B-device. The
  type of the plug inserted is detected by the state of the pin ID .</p>
</blockquote>

<p><img src=""https://i.stack.imgur.com/sfE9Y.gif"" alt=""OTG ID""></p>
","35468"
"Why do we connect a battery to ground when jumping a car?","114993","","<p>This may seem like a very simple question, but I've searched all over the place and haven't found an answer.</p>

<p>When jumping a car, we connect the + end of the charged battery to the + end of the dead battery, and the - end of the charged battery to the chassis or other metal part of the car.</p>

<p>I always thought that you need a closed circuit for current to flow. But this circuit appears to be open: we are connecting the - end of the charged battery to the ground! Thus, how can <em>any</em> circuit connected to ground have a current?</p>

<p>I believe another way to ask this question is: will jump starting a car still work if I connect the - end of the charged battery to a third (powered-off) car, instead of to the chassis of the car with the dead battery? If so, why? (I've heard people say that jump starting a car only works because the chassis is connected to the electrical components of the vehicle, thus providing a closed circuit since the battery is also connected to the electrical components of the vehicle).</p>
","<p>""Ground"" is just a code word which, in this case, refers to the ""current return common"" circuit node. There is a complete circuit because everything electrical in the car, such as the starter motor, also connects to ground in order to return current to the minus terminal of the battery through the ground. The car's chassis is used for this return network, and so the entire chassis is an extension of the minus terminal of the battery.</p>

<p>During jump-starting, we connect the boosting battery to ground rather than to the dead battery's - terminal for the simple reason that this provides a more direct return path to the good battery which is powering the dead car: the return current does not have to travel through the dead battery's minus terminal hookup cable and then to the jumper cable, but can go directly from the chassis ground to the jumper cable. </p>

<p>A more direct return path allows for better current flow and less voltage drop, like plugging a big appliance directly into an outlet, rather than via an extension cord.</p>

<p>In case you're also wondering why the plus jumper connections are made first, then the minuses. This is because there is no harm done if you leave the minus jumper dangling in the chassis of the car. Anything it accidentally touches is likely to be ground.  If you connect both alligator clips on one end before connecting the other end, the other end is now live and you can accidentally touch the clips together to create a short circuit. If you connect the minuses/grounds first and then go to connect one of the pluses, you can create a short circuit, because the opposite side plus is probably dangling and touching something that is grounded. </p>
","74962"
"How to calculate voltage drop over and power loss in wires","114663","","<p>How do I calculate the voltage drop over wires given a supply voltage and a current? How do I anticipate on voltage drop so that the final load has the correct supply voltage?</p>

<p>What will be the power loss?</p>

<p>What if I don't know the resistance of the wire but the AWG (<a href=""http://en.wikipedia.org/wiki/American_wire_gauge"">American Wire Gauge</a>) and the length?</p>
","<h1>Voltage drop</h1>

<p>You have to see a wire as another resistor placed in series. Instead of this, a resistance \$\text{R}_{\text{load}}\$ connected to a power supply with voltage \$\text{V}\$...</p>

<p><img src=""https://i.stack.imgur.com/EyA5V.png"" alt=""enter image description here""></p>

<p>You should see it as this, a resistance \$\text{R}_{\text{load}}\$ connected <em>via two wires with resistance \$\text{R}_{\text{wire}}\$</em> to a power supply with voltage \$\text{V}\$:</p>

<p><img src=""https://i.stack.imgur.com/rYUrl.png"" alt=""enter image description here""></p>

<p>Now we can use \$\text{V} = \text{I}\cdot{}\text{R}\$ where \$\text{V}\$ stands for voltage, \$\text{I}\$ for current and \$\text{R}\$ for resistance. </p>

<p><strong>An example</strong></p>

<p>Let's assume the voltage applied to the circuit is \$5\text{V}\$. \$\text{R}_{\text{load}}\$ equals \$250\Omega\$ and the resistance \$\text{R}_{\text{wire}}\$ is \$2.5\Omega\$ (if you don't know the resistance of the wire, see below at ""Calculating the resistance of a wire""). At first, we calculate the current through the circuit using \$\text{I}=\dfrac{\text{V}}{\text{R}}\$: \$\text{I}=\dfrac{5}{250+2\cdot2.5}=\dfrac{5}{255}=0.01961\text{A}=19.61\text{mA}\$</p>

<p>Now, we want to know what the voltage drop over one piece of wire is using \$\text{V}=\text{I}\cdot{}\text{R}\$: \$\text{V}=0.01961\cdot2.5=0.049025V=49.025\text{mV}\$</p>

<p>We can also calculate the voltage over \$\text{R}_{\text{load}}\$ in the same way: \$\text{V}=0.01961\cdot250=4.9025\text{V}\$</p>

<p><strong>Anticipating on voltage loss</strong></p>

<p>What if we really need a voltage of \$5\text{V}\$ over \$\text{R}_{\text{load}}\$? We will have to change the voltage \$\text{V}\$ from the power supply so that the voltage over \$\text{R}_{\text{load}}\$ will become \$5\text{V}\$.</p>

<p>At first we calculate the current through \$\text{R}_{\text{load}}\$: \$\text{I}_{\text{load}} = \dfrac{\text{V}_{\text{load}}}{\text{R}_{\text{load}}} = \dfrac{5}{250} = 0.02\text{A} = 20\text{mA}\$</p>

<p>Since we're talking about resistances in series, the current is the same in the whole circuit. Therefore, the current the power source has to give, \$\text{I}\$, equals \$\text{I}_{\text{load}}\$. We already know the total resistance of the circuit: \$\text{R} = 250 + 2\cdot2.5 = 255\Omega\$. We can now calculate the needed voltage supply using \$\text{V}=\text{I}\cdot{}\text{R}\$: \$\text{V}=0.02\cdot255=5.1\text{V}\$</p>

<hr>

<h1>Power loss</h1>

<p>What if we want to know how much power is lost in the wires? Basically, we use \$\text{P}=\text{V}\cdot{}\text{I}\$, where \$\text{P}\$ stands for power, \$\text{V}\$ for voltage and \$\text{I}\$ for current. </p>

<p>So the only thing we have to do is fill in the correct values in the formula.</p>

<p><strong>An example</strong></p>

<p>We again use the \$5\text{V}\$ power supply with a \$250\Omega\$ \$\text{R}_{\text{load}}\$ and two wires of \$2.5\Omega\$ each. The voltage drop over one piece of wire is, as calculated above, \$0.049025\text{V}\$. The current through the circuit was \$0.01961\text{A}\$. </p>

<p>We can now calculate the power loss in one wire: \$\text{P}_{\text{wire}} = 0.049025\cdot0.01961 = 0.00096138\text{W} = 0.96138\text{mW}\$</p>

<hr>

<h1>Calculating the resistance of a wire</h1>

<p>In many cases, we will know the length of a wire \$l\$ and the AWG (<a href=""http://en.wikipedia.org/wiki/American_wire_gauge"" rel=""noreferrer"">American Wire Gauge</a>) of the wire, but not the resistance. It's easy to calculate the resistance though.</p>

<p>Wikipedia has a list of AWG specifications <a href=""http://en.wikipedia.org/wiki/American_wire_gauge#Tables_of_AWG_wire_sizes"" rel=""noreferrer"">available here</a>, which includes the resistance per meter in Ohms per kilometer or milliOhms per meter. They also have it per kilofeet or feet.</p>

<p>We can calculate the resistance of the wire \$\text{R}_{\text{wire}}\$ by multiplying the length of the wire by the resistance per meter. </p>

<p><strong>An example</strong></p>

<p>We have \$500\text{m}\$ of a 20AWG wire. What will be the total resistance?</p>

<p>\$\text{R}_{\text{wire}} = 0.5\text{km} \cdot 33.31\Omega/\text{km} = 16.655\Omega\$</p>
","58701"
"What is the voltage range of a standard headphone jack from a phone?","113132","","<p>I want to connect the output from the audio jack of an iPhone to an Arduino.</p>

<p>What voltage range can I expect to see on the audio lines from the iPhone? I assume that turning the volume up on the phone will produce a large AC voltage, but how large does it go up to?</p>

<p>I want to make sure that it wont exceed the voltage level that an Arduino can read on its input pins. Will I need to provide any circuitry between the iPhone and the Arduino?</p>
","<p>Check out: <a href=""http://en.wikipedia.org/wiki/Line_level"" rel=""nofollow"">http://en.wikipedia.org/wiki/Line_level</a></p>

<blockquote>
  <p><del>The most common nominal level for consumer audio equipment is −10 dBV, ... Expressed in absolute terms, a signal at −10 dBV is equivalent to a sine wave signal with a peak amplitude of approximately 0.447 volts, or any general signal at 0.316 volts root mean square (VRMS). ... There is no absolute maximum, and it depends on the circuit design.</del></p>
</blockquote>

<p><del>This is however for the ""Line out"" plug which, apparently, carries a signal at a fixed amplitude and lets the receiving end determine the volume.</del></p>

<blockquote>
  <p><del>In most cases changing the volume setting on the source equipment does not vary the strength of the line out signal.</del></p>
</blockquote>

<p>For a speaker-driving headphone plug I believe things might get more complicated, since that signal is really rather a current signal (used to drive the coil of a speaker).</p>

<blockquote>
  <p><del>In contrast to line level, there are ... those used to drive headphones and loudspeakers. The strength of the various signals does not necessarily correlate with the output voltage of a device; it also depends on the source's output impedance which determines the amount of current available to drive different loads.</del></p>
</blockquote>

<p>I guess your best bet might be to look at the wave with an oscilloscope, which should have a high-impedance input like the Arduino's analog input (ADC).</p>

<p>(I'm no expert, take with a grain of salt and feel free to edit)</p>

<p><strong>Edit:</strong> The <a href=""https://en.wikipedia.org/w/index.php?title=Line_level&amp;oldid=479535426"" rel=""nofollow"">Wikipedia article</a> I used as a source has been edited a lot since I originally posted this answer. Among other changes, the qouted pieces above have been removed/changed. Therefore I'm striking most of this answer out and recommend referring to the Wikipedia article linked at the top.</p>
","28520"
"How to measure capacity of a Lithium-ion battery","111658","","<p>I bought a Lithium-ion battery for a camera (much cheaper than the brand replacement but non unreasonably cheap compared to AAA Li-Ion batteries with similar charge). I however have doubts that it has the capacity it claims on the package (in mAH). Is there a simple way for me to roughly verify the claim on the package which is more precise and less time consuming that to run some benchmarks with the camera and a comparison battery? I.e. is there some device / method that given a a Lithium-ion battery which is supposedly fully charged determines:</p>

<ul>
<li>Is it actually fully charged</li>
<li>What is its current charge in mAH</li>
</ul>
","<p><strong>Assessing full charge is the easy part.</strong></p>

<ul>
<li><p>Method (a) A fully charged Lithium Ion single cell battery will have an open circuit voltage of about 4.2 Volt*. (4.1 to 4.2 OK. 4.0 not quite there. 4.3 - a bit high.) Some cameras use two cells - double the expected voltages. Laptops and other larger devices use 3 or more cells. The voltage should be a multiple of the above voltage. [*There are variants that allow higher voltages. Unless you are CERTAIN that this includes your one, assume that it doesn't. Getting it wrong can be 'upsetting'.<br>
(ie N x (4.1 to 4.2V))</p></li>
<li><p>Method (b) Use a good quality charger (eg one supplied by camera manufacturer or one of known quality) which has a ""charging light.</p>

<p>Place ""charged battery on charger"". Depending on how long since it was last charged the charge light should either flash or perhaps remain on for a minute or two and then go off.</p>

<p>Remove battery from charger. Wait 10 seconds. Place battery back on charger. Charge light should flash very briefly and go out.</p></li>
</ul>

<p><strong>Assessing capacity is harder, but not hard.</strong></p>

<p>(a) you can get <strong>some</strong> indication, for nominally equal batteries, from the weight. A significant part of the weight in a LiIon battery is actively involved components whether electrically or mechanically  (separators, conductors, electrolyte &amp; (of course) Lithium metal. Two batteries of the same nominal capacity should have similar weights. I'd guesstimate that a 10% difference <strong>may</strong> be due to happenstance and construction, but beyond that I'd be suspicious. In larger &amp; heavier batteries this test will work better than for very small batteries. </p>

<p>For interest, for AA NimH cells this is an excellent indicator. Modern high capacity AA's which claim 2500 mAh + capacity should be in the high twenty gram range - say 26 grams plus with some just over 30 grams. Anything under 20 grams is a complete dud and anything 25 grams or below is suspect. </p>

<p>(b) For any sort of accuracy you need to discharge the battery to an ""end point"" and measure capacity. No other method reasonably available to you is available. There are other methods such as measuring the change in voltage over a given time under a given load and trying to assess where you are on the discharge curve. This is difficult to get right and needs experience and a degree of luck. Measuring discharge time is ""easier"".</p>

<p>Best is a constant current load, which can be made very easily with eg an LM317 and one resistor, but I'll assume for now that you don't want to do that. Ask if interested.</p>

<p>A discharge resistor that takes at least one hour to discharge should be used. You could use a motor or lamp or camera or ... but a resistor has some advantages.</p>

<p>R minimum ~= (Cells_in_battery x 4000) / mAh </p>

<p>eg if you have a 1 cell battery (Voc=~4.2V) of 1500 mAh capacity then</p>

<ul>
<li>R = cells x 4000 / mAh = 1 x 4000/1500 = 2.666 ohm ~= 3 ohm or 3.3 ohm (std value)</li>
</ul>

<p>Use the next largest resistor than the value calculated.<br>
  Up to Several times larger is OK BUT it will take proportionally longer. </p>

<p>Resistor power rating: Resistor power = V^2/R = (4 x number of cells)/R</p>

<p>eg for the above single cell and 3 ohm resistor the minimum wattage rating is </p>

<ul>
<li>4 x 1 / 3 = 1.333 Watt.</li>
</ul>

<p>Use a 2 Watt or greater resistor.</p>

<p><strong>Method:</strong></p>

<p>I'll describe this briefly as I don't know your experience level. This may be easy to follow or hard. If hard, ask more questions.</p>

<ul>
<li>Attach temporary wires to battery terminals. Two paper clips bent at end resting on terminal is flat and accessible and held with weight or tape. Wires inserted into connector id not openly accessible. Some batteries will not provide power until you give them secret handshakes. but most will.</li>
</ul>

<p>Battery with accessible terminals. </p>

<p><img src=""https://i.stack.imgur.com/lYAnR.jpg"" alt=""enter image description here""> </p>

<p><strong>Below:</strong>  Harder to access terminals. Two dress making pins or two wires can work here <strong>BUT DO NOT SHORT TOGETHER !!!</strong> IF YOU ARE NOT COMFORTABLE DOING THIS DON'T DO IT. </p>

<p><img src=""https://i.stack.imgur.com/leAYr.jpg"" alt=""enter image description here""></p>

<ul>
<li>Monitor battery voltage throughout. Multimeter connected to battery wires and set to appropriate range.</li>
</ul>

<p><a href=""http://t2.gstatic.com/images?q=tbn:ANd9GcR4lcHSRViGF_kk58tbzmBWf9G11VxLY3J45qj0lW-_spRMZIiDNg"" rel=""noreferrer"">http://t2.gstatic.com/images?q=tbn:ANd9GcR4lcHSRViGF_kk58tbzmBWf9G11VxLY3J45qj0lW-_spRMZIiDNg</a></p>

<ul>
<li>Connect resistor to battery leads. Start a timer. Monitor voltage. Stop at 3.2V per cell. <strong>DO NOT DISCHARGE BELOW 3 VOLTS PER CELL. STOPPING AT 3.2V IS A ""GOOD IDEA"".</strong> A LiIon battery may be damaged badly by very deep discharge. Set a timer. DO NO leave this running and walk away. </li>
</ul>

<p>Below: Typical lithium Ion 1 cell 'battery' discharge curve. </p>

<p><img src=""https://i.stack.imgur.com/51APD.jpg"" alt=""enter image description here""></p>

<p>Best method is to do this with genuine and clone batteries and compare times.</p>

<ul>
<li>Method (c) Easiest :-). </li>
</ul>

<p>Use a camera. Set to video or timed photos. Note start and end frame times. Compare. </p>

<p>Major advantages are  </p>

<ul>
<li><p>""set and forget</p></li>
<li><p>no playing with battery connections</p></li>
<li><p>self timing.</p></li>
</ul>

<hr>

<h2>UPDATE - January 1st 2013 - Happy New Year.</h2>

<p>I've just been asked offlist by somebody about the LM317 circuit I mentioned for constant current discharge. Here is an example. I copied this from the very useful and relevant <a href=""http://www.google.co.nz/imgres?hl=en&amp;sa=X&amp;tbo=d&amp;biw=2133&amp;bih=1201&amp;tbm=isch&amp;tbnid=E87jx9MMwjjgPM:&amp;imgrefurl=http://www.ae5d.com/led-1.html&amp;docid=dEoNELtHgexC8M&amp;imgurl=http://www.ae5d.com/images/Lim.png&amp;w=555&amp;h=311&amp;ei=2IXhUM7yCemMmQXq7YDwCA&amp;zoom=1&amp;iact=hc&amp;vpx=132&amp;vpy=132&amp;dur=1118&amp;hovh=167&amp;hovw=300&amp;tx=158&amp;ty=88&amp;sig=105250506097979753968&amp;page=1&amp;tbnh=110&amp;tbnw=166&amp;start=0&amp;ndsp=68&amp;ved=1t:429,r:1,s:0,i:90"" rel=""noreferrer"">webpage on LED driving - here</a> and they in turn copied it from an LM317 data sheet.</p>

<p><img src=""https://i.stack.imgur.com/4sLo0.png"" alt=""enter image description here""></p>

<p>The offlist query said</p>

<ul>
<li>You mentioned a way by using LM317 to determine battery capacity. I need to check a lithium ion battery with about 1700mAh capacity.<br>
What do you recommend to me to measure this kind of battery capacity in a reasonable time like 3-4 hours.</li>
</ul>

<p>A 1700 mAh battery would be discharged in 3 hours by 1700/3 =~ 570 mA and in 4 hours by 1700/4 ~= 425 mA. So using about 500 mA and seeing how long it takes will give a measure of battery capacity.<br>
 The current of the3 load in the circuit above is<br>
 Iout = Vref/R1  so</p>

<p>R1 = Vref/Iout<br>
For an LM317 Vref = 1.25V so for 500 mA<br>
 R1 = V/I = 1.25V / 0.5A = 2.5 Ohm.<br>
 Power in R1 = I^2 R = 0.5^2 x 2.5 or about 0.7 Watt.<br>
 A 1 Watt resistor would probably survive this - a 2 Watt or 5 Watt would be better.<br>
The LM317 will dissipate V_LM317 x I = (Vbattery - Vref) x I = (4.2-1.25) x 0.5 =~ 1.5 Watt. So a heatsink or piece of Aluminum or other thermally conductive material on the LM317 will be ""a good idea"". I use 4.2 V for the battery voltage. It will drop as the battery discharges.</p>

<p>Note that in many cases a 1700 mAh LiIon battery can be safely discharged at up to 1C rate - = 1700 mA in this case. Safer is C/2 = 850 mA. Actual max allowed rate should be set by the manufacturer. Use Imax = C/2 if no data available. This will usually be safe but ""caveat emptor"" / ""YMMV"" ... . If using a higher rate the power  dissipation in the resistor and LM317 will be higher and changes will be needed. Some LM317 will handle 1A max. Some will handle 1.5A. (Some smaller pkgs &lt; 1A) . See data sheet. The LM350 is a big brother version of the LM317 that works at several amps. </p>

<p>The battery endpoint voltage should be the endpoint Voltage that you will use in your system. As per my comments above, this MUST NOT BE below 3.0V to prevent battery damage, and higher is safer. You need either to keep a close eye on this if stopping discharge manually OR set up an automatic cutoff system. How you do this and how you time the discharge period is up to you. </p>
","18613"
"Why does fuse blow up sometimes?","111520","","<p>Sometimes once in a year, either one of main fuses or a fuse in room blow up due to something. What is the cause of this? Why do we even use fuses? Is it because the voltage doesn't stay at 220V all the time?</p>
","<p><strong>IMPORTANT:</strong></p>

<ul>
<li>It is far far better that a fuse sometimes blows when there was no need for it to, than for it to sometimes fail to blow when a fault condition exists.</li>
</ul>

<p><strong>Blowing a fuse.</strong>  The term ""blow"" will be used here for the fusing of a fuse - the act of melting the fuse wire and breaking the electrical circuit. Terms such as ""it blew a fuse""  and ""why did the fuse blow?"" are common here. The term ""blow"" in this context may be less common in some countries. Using ""fuse"" which is correct, as in ""the fuse fused"", is liable to be too confusing :-). </p>

<p><strong>Why do they blow?</strong><br>
 <strong>Should they?</strong><br>
 The purpose of a fuse is to protect equipment and wiring against the damaging effects of electrical faults which cause excess currents, and to disable equipment which is faulty. The fuse ""blows"" when the current carried exceeds the rated value for an excessive time. The higher the overload the shorter the period before the fuse blows. So, equipment which is meant to ""draw""  10 amps but which has a short from phase to ground, so it draws, say, 100 amps, will blow its fuse in milliseconds. But, a piece of equipment which draws say double the fuse's rated value, may take many seconds to melt the fusewire and to blow the fuse. The ratio between trip times(time to blow) and ""overload to rated current ratio"" vary with fuse design and can to some extent be controlled by the manufacturer. This is a complete subject in its own right, but assume that a fuse will blow ""after a while"" at 2 x + overload and will blow almost immediately with say 10 x +  overload.  </p>

<p><strong>A piece of wire can only be so smart ...</strong><br>
 Because a somewhat complex task is being carried out by a deceptively simple piece of equipment (ie a piece of wire) and because the fuse is not always optimally dimensioned for the equipment used, the fuse sometimes ""blows"" when there is no significant or long term fault condition present.</p>

<p><strong>To blow or not to blow ? - that is the question.</strong><br>
 Dimensioning &amp; surges.<br>
 Assume that a fuse will blow ""after a while"" at 2 x its rated value then we can expect it to run indefinitely at its rated value.   </p>

<p>If we have a household circuit rate at 20 amps and a number of outlets rated at say 10A then it is possible to connect more load that the rated fuse value. If we connect say a 10A fan heater, a 5 amp one bar radiator (maybe in the next room), a 400 Watt plasma TV (about 2A), and some plug in mood lighting at say 1 A or less then all SHOULD be well. 10+5+2+1 = 18A. If somebody then turns on an electric jug rated at say 8A current rises to 26A. More than the 20A nominal value but less than the 2 x 20A = 40A we have said it will blow at. But if the plasma TV is off and is turned on suddenly the power supply input filters amy present a nearly pure capacitive load to the mains. The mains will be at random phase at TV turnon and usually a current spike will cause no problems. But on some random lucky (or unlucky) day the mains may be at the very peak of the mains cycle at turn on.   The capacitor may have stored charge of opposite polarity from last turnoff leading to an even greater current spike. Add a possibly high mains voltage (as happens) and some heavy switching spikes from a nearby factory, or even domestic equipment (treadmill, welder, drill, sander, router, planer ...) Then load + capacitor spike + high mains + switching transient may lead to a very high short term load. And the fuse may decide enough is enough and melt. Or may not.  </p>

<p>*<em>Unlikely?</em>*Is all the above likely to happen at once?<br>
 No. But as reported, the nuisance blowing happens only a few times a year. Ij the order of what is expected.</p>

<p><strong>We could make the fuse rating higher (more amps)!</strong><br>
 Yes. That is one solution. But the ability to react to moderate overloads is lost. Along with lack of protection may go loss of insurance, if the insurance loss assessors find a still intact 2 x 20A wire fuse in the smouldering ruins of your workshop. </p>
","25510"
"What do the PCB markings mean?","109314","","<p>On a printed circuit board, I see lots of tiny letters and numbers. Is there some kind of standard that dictates what letter indicates what type of component?</p>
","<p>The technical term for the markings is ""reference designators"" (aka ""refdes"") and there are a few standards can define them. Take a look at this wikipedia page for a quick overview.
<a href=""http://en.wikipedia.org/wiki/Electronic_symbol"">http://en.wikipedia.org/wiki/Electronic_symbol</a></p>

<p><a href=""http://blogs.mentor.com/tom-hausherr/blog/tag/reference-designator/"">http://blogs.mentor.com/tom-hausherr/blog/tag/reference-designator/</a></p>

<p><img src=""https://i.stack.imgur.com/uftV4.png"" alt=""enter image description here""></p>

<p>For schematic components, most EDA tools start off with one or few alphabets and then a sequential number. For example, R1 for the first resistor, C1 for the first capacitor, IC1 for the first IC and so on. You can download a free EDA tool such as <a href=""http://www.cadsoftusa.com/downloads/freeware/?language=en"">Eagle</a> to play around. Also, see the <a href=""http://en.wikipedia.org/wiki/Electronic_symbol"">wikipedia</a> page for a few more examples.</p>

<p>For PCB footprints, different vendors do make naming convention suggestions. See Altium's suggestions <a href=""http://www.altium.com/files/libraries/ls0002_pcbnamingconvention.pdf"">here</a>, for example.</p>

<p><strong>Edit:</strong> I do <strong>NOT</strong> know anyone personally that refers to this as a strict standard or a standard at all. It's mostly what you are used to and familiar with.</p>
","25310"
"Can you clarify what an 1NO1NC switch is?","108357","","<p>I've come across multiple mentions of switches described as 1NO1NC. </p>

<p>They often described as having 2 options: ON/(OFF) and (ON)/OFF and from what I gather they have 3 terminals for wires: a NO terminal, a NC terminal and a C (?) terminal.</p>

<p>Can you explain what these mean?</p>

<p>When would you use an NO or an NC switch?</p>
","<p>NO = Normally open (open = open circuit = not creating a path for the current)<br>
NC = Normally closed (closed = short circuit = creating a path for the current)<br>
C = Common  </p>

<p><img src=""https://i.stack.imgur.com/Vfzvx.png"" alt=""Schematic""></p>

<p>(The drawings show the state in the absence of force.)</p>

<p>When you press a normally-open pushbutton, you provide a path for the current.<br>
When you press a normally-closed pushbutton, you impede the current from flowing.</p>

<p>In a relay, when the coil is not energized, C and NC are connected. When the coil is energized, the magnetic field attracts the movable metal, and C and NO are connected instead.</p>

<p>Uses:</p>

<ul>
<li>NC pushbuttons are used in emergency stop buttons. You press them when an accident has occurred, or may occur, and you need to <em>immediately</em> stop some machine, whose action could damage someone or something. Normally-closed buttons are preferred for two reasons:<br>
a) they don't rely on creating a good contact, to signal something. They just have to open a circuit, which is much easier. An NC is more robust and therefore safer.<br>
b) they react quicker. For an NO button, the signal event happens at the end of the movement (when the movable part makes contact). For an NC button, the signal event happens at the beginning of the movement (when the movable part stops making contact).</li>
</ul>
","30956"
"Differences between OLED, LED, LCD, and TFT Screens","108286","","<p>I have heard about these different types of screens on DIY websites and in consumer electronics. What are the differences in these types of screens and what are their advantages and disadvantages?</p>
","<ul>
<li><p><strong>LCD:</strong> liquid crystal display. Works by adjusting the amount of light blocked. Usually has a backlight but might not (clocks, calculators, Nintendo Gameboy). The green-black ones can be very cheap and are a mature technology. Response time can be slow.</p></li>
<li><p><strong>TFT:</strong> is a type of LCD with a <strong>thin film transistor</strong> attached to each pixel. All computer LCD screens are TFT since early 2000s; older ones had slower response times and poorer colour. Cost is now very good; power consumption is fairly good but dominated by the backlight. Has to be manufactured out of glass.</p></li>
<li><p><strong>LED:</strong> light emitting diode. As the name suggests, emits light rather than blocking it like LCD. Used for red/green/blue/white indicator lights everywhere.
Some manufacturers advertise ""LED"" displays that are TFT screens with a white LED backlight, which is just confusing. Ones that are real LED screens are usually OLED.</p></li>
<li><p><strong>OLED:</strong> organic LED (rather than silicon or germanium based like regular LEDs). Comparatively recent technology, so cost still quite variable and not available in really large sizes. In theory can be printed on plastic, resulting in lighter flexible displays with good brightness, good power consumption and good response time.</p></li>
</ul>

<p>Best power consumption of all of these is a monochrome infrequently changing LCD display with no backlight.</p>
","72532"
"What is the purpose of carbon brushes in an electric motor","106068","","<p>I just took apart our washing machine to replace the carbon brushes.</p>

<p>Was wondering why the machine stopped working when the brushes were worn down?</p>

<p>Also if the engine makes a wuring noise after you put it together, does that mean that the brushes have been put in the wrong way?</p>
","<p>The brushes transfer the electricity from outside the motor to the spinning winding in the center of the motor.  They undergo quite a lot of friction, and after a while wear out.  Carbon is used as it is a reasonable conductor, and is soft enough to wear down instead of wearing down the ""comutator"" - the ring the brushes press against.  Brushes are designed to be replaceable in large motors because of this.</p>

<p>When brushes are first put into a motor they won't be the exact same shape and size as the commutator (which may have had a small amount of wear) and thus won't make a perfect smooth contact.  With time the brushes will wear to fit the commutator perfectly.  The noise you hear is probably the brushes undergoing this initial shaping wear and will stop soon enough.</p>

<p>Also, the brushes are located inside a tube-like recess, and are pushed against the commutator using small springs.  If the noise doesn't stop after a while a small amount of grease to help stop vibration in the brushes may be in order.  make sure of the thermal properties of the grease though, as brushes are liable to get rather hot.</p>
","19545"
"Help me understand the relationship between positive, negative, neutral and ground in AC and DC","105855","","<p>This question stems from notations on schematics and seemingly conflicting information I'm seeing. I suspect that I'm seeing different vernacular for the same concepts--but I'm in a place where no one's ever told me that an ""elevator"" is a ""lift"". Then again, I may have the concept completely off, and need to be schooled so I don't blow up my workshop. :)</p>

<p>With DC: Batteries have +/- terminals. Most schematics I see show the circuit with voltage in and ground. I've heard that most schematics don't trace the return path to the negative terminal because that's understood and it doesn't need to clutter everything up. I've also heard that on a DC circuit, ground is SYNONYMOUS with the negative terminal. On schematics, I've seen V-in and ground, I've also seen V-in, ground, and a separate trace connecting to the negative terminal. </p>

<p>Then, we move to AC. There's a hot wire (positive), a neutral wire, and ground. I ~assume~ that in an AC circuit, positive correlates to positive, neutral to negative, and ground to ground. Transformers will correlate the +/- when changing DC.</p>

<p>What are the facts and what are the myths? How can I tell if I need to ground something to earth vs. ""ground"" to the negative terminal? When do I ground to the chassis of my device? Are there standard conventions in a schematic that would indicate GROUNDED ground vs. return-to-the-source ground? Or is that something you know from experience and doing an analysis of the circuit? Is it generally safe to assume I can connect ground to negative? Or are there cases in which that would be a Very Bad Thing, and how do I identify those cases?</p>

<p>Just trying to wrap my head around +/-/ground in AC vs. DC, and how that voltage is used...</p>
","<p>Ground means whatever is attached to this symbol in the schematic:</p>

<p><img src=""https://i.stack.imgur.com/kT2jk.jpg"" alt=""symbol for ground""></p>

<p>Everything that touches this symbol in the schematic is actually connected to everything else that touches the symbol. Since so many things connect to it, this makes the schematic easier to read.</p>

<p><em>Usually</em> the negative side of a battery is attached to that. But, there are many circuits that work differently. Some circuits need a negative voltage, so the positive side of a battery would be ""ground"". Some circuits need positive and negative voltages, in which case there could be two batteries, one with the negative side attached to ground, and the other with the positive side attached to ground.</p>

<p>This works because voltages are relative. Put three \$10k\Omega\$ resistors in series, and attach them to a battery. The <em>difference</em> in voltage from one side of the battery is 3V (because it's a 3V battery). The difference in voltage from one side of a resistor (any of the three) to the other side of the same resistor is 1V, because the battery's 3V is divided among 3 resistors of equal value.</p>

<p>Since voltages are relative, <em>ground</em> exists as a sort of assumed reference voltage. If we say an input is ""5 volts"", we mean ""the difference between the input and ground is five volts"".</p>

<p>In the context of AC, things aren't really different, except that tradition has done a good job of making the same term ""ground"" mean many things. It still could mean whatever is attached to that symbol, or it could mean that 3rd connector on the wall. More on that later.</p>

<p>As far as the circuit is concerned, <em>live</em> and <em>neutral</em> are no different. Pick either one, and the other oscillates between a higher and lower voltage, relatively. If all you have are those two wires for reference, they are indistinguishable.</p>

<p>The difference is more important when you consider safety. The things around you are at some particular electromotive potential (voltage). Current flows when there is a difference in potential. The <em>neutral</em> AC line <em>should</em> be <em>about</em> the same potential as most of the things around you, so in theory, if you touch it, and also Earth, you don't get shocked, because there is no difference in voltage. If you touch the live wire, you do get shocked, because there's a difference in potential.</p>

<p>However, I said neutral <em>should</em> be <em>about</em> the same potential as Earth, and since you are probably touching Earth, you. But, I wouldn't trust your life on it. There could be a faulty transformer on the pole near your house. There could be a lightning strike nearby. The house would be wired backwards. Or, as I mentioned the circuit will function even if the wires are reversed, it could be plugged in backwards. In the US, one of the prongs is a bit fatter to prevent this, but you never know. This is why there's the third connector, called <em>ground</em> or <em>earth</em>. This should go to a big copper rod near your house stuck in Earth, like this:</p>

<p><img src=""https://i.stack.imgur.com/5d61w.jpg"" alt=""grounding rod""></p>

<p>It doesn't otherwise connect to anything else. There are some times this is important for safety, and other times it's important for other reasons. Point is, it has nothing to do with the electrical power supplied to your home.</p>

<blockquote>
  <p>How can I tell if I need to ground something to earth vs. ""ground"" to the negative terminal? When do I ground to the chassis of my device?</p>
</blockquote>

<p>If we are talking about a device that plugs into the wall, leave these questions to someone else. Each country has safety regulations, and these regulations exist for good reason. Buy a DC power supply that takes care of all that for you, and connect to its output, and nothing else. Don't connect to Earth through the 3rd pin on the wall or you may circumvent the safety features of your power supply.</p>

<p>If you are wondering if the ""ground"" symbol on your schematic should also be connected to box your project is in, well, it depends. Maybe you want to do that for RF shielding. Or maybe you don't, because you don't want some other device with a different idea of ""ground"" to touch it, which could result in noise in your circuit or melting something. In many circuits, it doesn't matter at all.</p>
","55349"
"Why is high input impedance good?","104718","","<p>Naive perhaps, but </p>

<ul>
<li>Why is high input impedance a good thing? </li>
<li>Is high input impedance always a good thing?</li>
</ul>
","<p>It is a good thing for a <em>voltage</em> input, as if the input impedance is high compared to the source impedance then the voltage level will not drop too much due to the divider effect.  </p>

<p>For example, say we have a \$10V\$ signal with \$1k\Omega\$ impedance.   </p>

<p>We connect this to a \$1M\Omega\$ input, the input voltage will be \$ 10V\cdot\frac{1M\Omega}{1M\Omega+1k\Omega} = 9.99V \$.  </p>

<p>If we reduce the input impedance to \$10k\Omega\$, we get \$10V \cdot \frac{10k\Omega}{10k\Omega + 1k\Omega} = 9.09V\$  </p>

<p>Reduce it to 1k and we get \$ 10V \cdot \frac{1k\Omega}{1k\Omega + 1k\Omega} = 5V\$ </p>

<p>Hopefully you get the picture - generally an input impedance of at least 10 times the source impedance is a good idea to prevent significant loading.</p>

<p>High input impedance is not always a good thing though, for example if you want to <a href=""http://en.wikipedia.org/wiki/Maximum_power_transfer_theorem"">transfer as much power as possible</a> then the source and load impedance should be equal. So in the above example the 1k input impedance would be the best choice.<br>
For a current input a low input impedance (ideally zero) is desired, for example in a <a href=""http://en.wikipedia.org/wiki/Current-to-voltage_converter"">transimpedance</a> (current to voltage) amplifier.</p>
","21788"
"How can I use a 12 V input on a digital Arduino pin?","104258","","<p>I am creating a controller for a 12 V system using an Arduino Uno microcrontroller. For the outputs I am using a relay shield to switch the 12 V components. I have a 12 V toggle switch that turns on some 12 V components in the system and I want to use a trigger signal off of this same switch to send to an Arduino digital input. I know that the Arduino can only handle 5 V max. What would be the best way to step down the 12 V coming off of the switch to the 5 V for the input?</p>

<p>EDIT: The system is for use in a car. Would the amperage of the car battery need to be lowered somehow as to not blow up the components?</p>
","<p>Good news! This going to be cheap! :-)  </p>

<p><img src=""https://i.stack.imgur.com/AXZiT.png"" alt="""">  </p>

<p>A simple resistor divider will bring the 12 V down to the 5 V an Arduino can digest. The output voltage can be calculated as </p>

<p>\$ V_{OUT} = \dfrac{R2}{R1+R2} V_{IN}\$</p>

<p>Resistor values in the range of 10 k&Omega; are a good choice. If your R2 is 10 k&Omega; then R1 should be 14 k&Omega;. Now 14 k&Omega; is not a standard value, but 15 k&Omega; is. Your input voltage will be 4.8 V instead of 5 V, but the Arduino will see that still as a high level. You also have a bit of headroom in case the 12 V should be a bit too high. Even 18 k&Omega; will still give you a sufficiently high 4.3 V, but then you have to start thinking about the 12 V a bit too low. Will the voltage still be seen as high? I would stick with the 15 k&Omega;.  </p>

<p><strong>edit</strong><br>
You mention an automotive environment, and then you do need some extra protection. The car's 12 V is never quite 12 V, but most of the time higher, with peaks several volts above the nominal 12 V. (Actually nominal is more like 12.9 V, at 2.15 V per cell.) You can place a 5 V zener diode in parallel with R2, and this should cut off any voltage higher than the zener's 5 V. But a zener voltage varies with the current, and at the low input current the resistors give you it will cut off at lower voltages. A better solution would be to have a Schottky diode between the Arduino's input and the 5 V supply. Then any input voltage higher than about 5.2 V will make the Schottky diode conduct, and the input voltage will be limited to the 5.2 V. You really need a Schottky diode for this, a common P-N diode has a 0.7 V drop instead of the Schottky's 0.2 V, and then the 5.7 V maximum input voltage may be too high.  </p>

<p><strong>Better</strong><br>
Michael's optocoupler is a good alternative, though a bit more expensive. You often will use an optocoupler to isolate input from output, but you can also use it to protect an input like you want here.  </p>

<p><img src=""https://i.stack.imgur.com/edSjI.png"" alt=""enter image description here""> </p>

<p>How it works: the input current light the internal infrared LED, which causes an output current through the phototransistor. The ratio between input and output current is called <strong>CTR</strong>, for Current Transfer Ratio. The <a href=""http://www.vishay.com/docs/83606/cny17.pdf"">CNY17</a> has a minimum CTR of 40 %, which means you need 10 mA input for 4 mA output. Let's go for the 10 mA input. Then R1 should be (12 V - 1.5 V) / 10 mA = 1 k&Omega;. The output resistor will have to cause a 5 V drop at 4 mA, then that should be 5 V / 4 mA = 1250 &Omega;. It's better to have a bit higher value, the voltage won't drop more than 5 V anyway. A 4.7 k&Omega; will limit the current to about 1 mA.   </p>

<p>Vcc is the Arduino's 5 V supply, Vout goes to the Arduino's input. Note that the input will be inversed: it will be low if the 12 V is present, high when it isn't. If you don't want that, you can swap the position of the optocoupler's output and the pull-up resistor.</p>

<p><strong>edit 2</strong><br>
How doesn't the optocoupler solution solve the overvoltage issue? The resistor divider is ratiometric: the output voltage is a fixed ration of the input. If you have calculated for 5 V out at 12 V in, then 24 V in will give 10 V out. Not OK, hence the protection diode.  </p>

<p>In the optocoupler circuit you can see that the right side, which connects to the Arduino's input pin doesn't have any voltage higher than 5 V at all. If the optocoupler is on then the transistor will draw current, I used 4 mA in the example above. A 1.2 k&Omega; will cause a 4.8 V voltage drop, due to Ohm's Law (current times resistance = voltage). Then the output voltage will be 5 V (Vcc) - 4.8 V across the resistor = 0.2 V, that's a low level. If the current would be lower the voltage drop will be smaller as well, and the output voltage will rise. A 1 mA current, for instance, will cause a 1.2 V drop, and the output will be 5 V - 1.2 V = 3.8 V. The minimum current is zero. Then you don't have a voltage across the resistor, and the output will be 5 V. That's the maximum, there's nothing there which will give you a higher voltage. </p>

<p>What if the input voltage would become too high? You accidentally connect a 24 V battery instead of 12 V. Then the LED current will double, form 10 mA to 20 mA. The 40 % CTR will cause 8 mA output current instead of the calculated 4 mA. 8 mA through the 1.2 k&Omega; resistor would be a 9.6 V drop. But from a 5 V supply that would be negative, and that's impossible; you can't go lower than 0 V here. So while the optocoupler would very much like to draw 8 mA, the resistor will limit that. The maximum current through it is when the full 5 V is across it. The output will then be really 0 V, and the current 5 V / 1.2 k&Omega; = 4.2 mA. So whatever power supply you attach the output current won't go higher than that, and the voltage will stay between 0 V and 5 V. No further protection needed.</p>

<p>If you expect overvoltage you'll have to check if the optocoupler's LED can handle the increased current, but the 20 mA will not be a problem for most optocouplers (they're often rated at 50 mA maximum), and besides, that's for <em>double</em> input voltage, which probably won't happen IRL.</p>
","43502"
"How much current can I draw from the Arduino's pins?","99913","","<p>What's the maximum amount of current which I can draw from each of the Arduino's pins without tripping any of the internal fuses? Is there a limit per pin as well as an overall limit for the whole board?</p>
","<p>This is a bit complex. Basically, there are a number of limiting factors:</p>

<p>The IO lines from the microcontroller (i.e. the analog and digital pins) have both an aggregate (e.g. total) current limit, and an per-pin limit:</p>

<p><img src=""https://i.stack.imgur.com/nLAlB.png"" alt=""enter image description here""><br>
<sup><sub>From the <a href=""http://www.atmel.com/Images/doc8161.pdf"">ATmega328P datasheet</a>.</sub></sup></p>

<p>However, depending on how you define the Arduino ""Pins"", this is not the entire story. </p>

<p>The 5V pin of the arduino is <em>not connected through the microcontroller</em>. As such, it can source significantly more power. When you are powering your arduino from USB, the USB interface limits your total power consumption to 500 mA. This is shared with the devices on the arduino board, so the available power will be somewhat less.<br>
When you are using an external power supply, through the barrel power connector, you are limited by the local 5V regulator, which is rated for a maximum of <strong>1 Amp</strong>. However, this it also <em>thermally limited</em>, meaning that as you draw power, the regulator will heat up. When it overheats, it will shut down temporarily.</p>

<p>The 3.3V regulated output is able to supply 150 mA max, which is the limit of the 3.3V regulator.</p>

<hr>

<h2>In Summary</h2>

<ul>
<li>The <em>absolute maximum</em> for any single IO pin is <strong>40 mA</strong> (<sub><sup>this is the <em>maximum</em>. You should never actually pull a full 40 mA from a pin. Basically, it's the threshold at which Atmel can no longer guarantee the chip won't be damaged. You should always ensure you're safely <em>below</em> this current limit.</sub></sup>)</li>
<li>The total current from all the IO pins together is <strong>200 mA max</strong> </li>
<li>The 5V output pin is good for <strong>~400 mA on USB, ~900 mA when using an external power adapter</strong>

<ul>
<li>The 900 mA is for an adapter that provides ~7V. As the adapter voltage increases, the amount of heat the regulator has to deal with also increases, so the maximum current will drop as the voltage increases. <sub><sup>This is called <em>thermal limiting</em></sup></sub></li>
</ul></li>
<li>The 3.3V output is capable of supplying <strong>150 mA</strong>. 

<ul>
<li>Note - Any power drawn from the 3.3V rail <em>has to go through the 5V rail</em>. Therefore, if you have a 100 mA device on the 3.3V output, you need to <em>also</em> count it against the 5V total current.</li>
</ul></li>
</ul>

<p><strong><sub>Note: This does not apply to the Arduino Due, and there are likely some differences for the Arduino Mega. It is likely generally true for any Arduino based off the ATmega328 microcontroller.</sub></strong></p>
","67094"
"Why does Samsung mobile phone batteries come with a chip-like paper? Are they spying on us?","99650","","<p>Yesterday I saw a <a href=""https://en.wikipedia.org/wiki/WhatsApp"" rel=""nofollow"">WhatsApp</a> message. In that, one person is showing the Samsung phone batteries.</p>

<p>He removes the wrapper and takes out the black color thin paper or plastic sheet which is attached with the body of the battery and there are some lines on that, like a circuit, and he claimed that this is a kind of chip to spy on our daily use of mobile phones. Is it true?</p>
","<p>That coil is most likely the NFC antenna.  If you read the docs for some of the Samsung phones, only specific batteries allow the phone to have NFC capability.  In other words, the NFC antenna is part of the battery pack.</p>

<p>NFC is the acronym for Near Field Communications.  It is that technology that allows phones to transfer data back and forth just by touching them together.</p>

<p>NFC communications is extremely short range.  A gap of a few millimetres will stop the communications.</p>

<p>It is extremely unlikely that this technology can be used to spy on people without their explicit permission - the user must make the conscious choice to place their phone in direct contact with another device.</p>
","175839"
"Tradeoffs when considering SPI or I2C?","99643","","<p>What tradeoffs should I consider when deciding to use an SPI or I2C interface?</p>

<p>This accelerometer/gyro breakout board is available in two models, one for each interface.  Would either one be easier to integrate into an Arduino project?</p>

<p><a href=""http://www.sparkfun.com/products/11028"" rel=""noreferrer"">http://www.sparkfun.com/products/11028</a></p>

<p><img src=""https://i.stack.imgur.com/DCCfE.jpg"" alt=""enter image description here""></p>
","<p><strong>Summary</strong>  </p>

<ul>
<li>SPI is faster.  </li>
<li>I2C is more complex and not as easy to use if your microcontroller doesn't have an I2C controller. </li>
<li>I2C only requires 2 lines.</li>
</ul>

<hr>

<p>I2C is a bus system with bidirectional data on the SDA line. SPI is a point-to-point connection with data in and data out on separate lines (MOSI and MISO).  </p>

<p>Essentially <strong>SPI</strong> consists of a pair of shift registers, where you clock data in to one shift register while you clock data out of the other. Usually data is written in bytes by having each time 8 clock pulses in succession, but that's not an SPI requirement. You can also have word lengths of 16 bit or even 13 bit, if you like. While in I2C synchronization is done by the start sequence in SPI it's done by SS going high (SS is active low). You decide yourself after how many clock pulses this is. If you use 13 bit words the SS will latch the last clocked in bits after 13 clock pulses.<br>
Since the bidirectional data is on two separate lines it's easy to interface.  </p>

<p>SPI in standard mode needs at least four lines: SCLK (serial clock), MOSI (Master Out Slave In), MISO (Master In Slave Out) and SS (Slave Select).
In bideroctional mode needs at least three lines: SCLK (serial clock), MIMO (Master In Master Out) which is one of the MOSI or MISO lines and SS (Slave Select).
In systems with more than one slave you need a SS line for each slave, so that for \$N\$ slaves you have \$N+3\$ lines in standard mode and \$N+2\$ lines in bidirectional mode. If you don't want that, in standard mode you can daisy-chain the slaves by connecting the MOSI signal of one slave to the MISO of the next. This will slow down communication since you have to cycle through all slaves data.</p>

<p>Like tcrosley says SPI can operate at a much higher frequency than I2C.  </p>

<p><strong>I2C</strong> is a bit more complex. Since it's a bus you need a way to address devices. Your communication starts with a unique start sequence: the data line (SDA) is pulled low while the clock (SCL) is high, for the rest of the communication data is only allowed to change when the clock is low. This start sequence synchronizes each communication.<br>
Since the communication includes the addressing only two lines are required for any number of devices (up to 127).  </p>

<blockquote>
  <p><strong>edit</strong><br>
  It's obvious that the data line is bidirectional, but it's worth noting that this is also true for the clock line. Slaves may <a href=""http://www.i2c-bus.org/clock-stretching/"" rel=""nofollow noreferrer"">stretch the clock</a> to control bus speed. This makes I2C less convenient for level-shifting or buffering. (SPI lines in standard mode are all unidirectional.) </p>
</blockquote>

<p>After each byte (address or data) is sent the receiver has to acknowledge the receipt by placing an acknowledge pulse on SDA. If your microcontroller has an I2C interface this will automatically be taken care of. You can still bit-bang it if your microcontroller doesn't support it, but you'll have to switch the I/O pin from output to input for each acknowledge or read data, unless you use an I/O pin for reading and one for writing.</p>

<p>At 400kHz standard I2C is much slower than SPI. There are high-speed I2C devices which operate at 1MHz, still much slower than 20MHz SPI.</p>
","29041"
"Why does the thickness of a wire affect resistance?","98376","","<p>A teacher explained why by using a highway analogy. The more lanes you have, the faster the cars go through, where the number of lanes obviously represent the wire thickness and the cars represent electrons. Easy enough.</p>

<p>But after a certain point shouldn't the wire get so thick, that any thickness after that doesn't affect resistance? For example, if you have a 100 cars going down a highway, a 4 lane highway is going to allow the cars to move a lot faster than a 1 lane one, because there are a fewer cars per lane. But a 1000 lane highway highway is going to be as efficient as a 10000 lane one, because on both highways every car has its own lane. After a 100 lanes, the number of lanes doesn't provide resistance.</p>

<p>So why does increasing wire thickness <em>always</em> decrease resistance?</p>
","<p>The car analogy isn't such a good one, since electrons don't actually flow from one end of the wire to the other (well they do but extremely slowly) and it implies there is some space between the cars, whereas it would be more like a traffic jam whatever the width of the highway.<br>
It's more like a line of billiard balls, and force is applied to the first one, and the energy is transferred to the last one through all the intermediate balls (a bit like newtons cradle, although the balls don't really bounce into each other). The free electrons bounce around, occasionally being impeded (see below) with the potential difference causing an average inclination to the direction of current.  </p>

<p>A water analogy is better - the pipe is always full of water, and for the same pump (battery), the pressure (voltage) is always lower the wider the pipe, which equates to more flow and a lower resistance.  </p>

<p>This quote from the Wiki page on <a href=""http://en.wikipedia.org/wiki/Resistivity"" rel=""noreferrer"">resistivity</a> explains reasonably well: </p>

<blockquote>
  <p>In metals - A metal consists of a lattice of atoms, each with an
  outer shell of electrons which freely dissociate from their parent
  atoms and travel through the lattice. This is also known as a positive
  ionic lattice.<a href=""https://i.stack.imgur.com/fuqBv.png"" rel=""noreferrer"">4</a><br>
  This 'sea' of dissociable electrons allows the metal
  to conduct electric current. When an electrical potential difference
  (a voltage) is applied across the metal, the resulting electric field
  causes electrons to move from one end of the conductor to the other.<br>
  Near room temperatures, metals have resistance. The primary cause of
  this resistance is the thermal motion of ions. This acts to scatter
  electrons (due to destructive interference of free electron waves on
  non-correlating potentials of ions)[citation needed]. Also
  contributing to resistance in metals with impurities are the resulting
  imperfections in the lattice. In pure metals this source is
  negligible[citation needed].<br>
  The larger the cross-sectional area of
  the conductor, the more electrons per unit length are available to
  carry the current. As a result, the resistance is lower in larger
  cross-section conductors. The number of scattering events encountered
  by an electron passing through a material is proportional to the
  length of the conductor. The longer the conductor, therefore, the
  higher the resistance. Different materials also affect the
  resistance.</p>
</blockquote>

<p><img src=""https://i.stack.imgur.com/lHWkj.gif"" alt=""enter image description here""> </p>

<p><img src=""https://i.stack.imgur.com/IFt9C.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/fuqBv.png"" alt=""enter image description here""></p>
","78678"
"LED bulb still emits light when turned off","97571","","<p>I have recently purchased an IKEA LED bulb with G9 fittings, to replace a halogen one. <a href=""http://www.ikea.com/us/en/catalog/products/90255902/"">This one</a>.</p>

<p>The bulb is installed in a lamp with 3 other halogen G9s in a 3 + 1 configuration with a 3-state switch. ""up"" lights up all four bulbs, ""down"" lights up only the socket where the LED is.</p>

<p>I have found a strange behaviour. When the lamp's switch is in the off position, the LED bulb still emits a very dim light, whereas the halogen ones do not.</p>

<p>What is happenning here? Is this normal?</p>

<p>From my limited knowledge I would guess the lamp's circuit has some residual current which is not enough to light up the halogen bulbs, but makes the LED emit the dim light observed.</p>
","<p>There are two possibilities the switch is inserted:</p>

<ol>
<li>Switch switching the voltage line.</li>
<li>Switch switching the GND line.</li>
</ol>



<p><img src=""https://i.stack.imgur.com/y8jxU.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fy8jxU.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>The capacitors shown in the circuit are the capacities the (more or less) long lines form to GND.</p>

<p>If the 2nd circuit is what you have the lamp <em>always</em> is connected to alternating voltage.
In that case there is a possibility of some very low alternating current flowing via C10 to GND even if the switch is open.</p>

<p>You can find out if your configuration is the 2nd circuit by testing with a <a href=""http://en.wikipedia.org/wiki/Test_light"" rel=""noreferrer"">one-contact neon test light</a>. It is the case if the test light lights up when touching one of the two connections in your lamp socket even if the switch is turned off. </p>
","138907"
"Relation and difference between Fourier, Laplace and Z transforms","96661","","<p>I have become a bit confused about these topics. They've all started looking the same to me. They seem to have the same properties such as linearity, shifting and scaling associated with them. I can't seem to put them separately and identify the purpose of each transform. Also, which one of these is used for frequency analysis?</p>

<p>I couldn't find (with Google) a complete answer that addresses this specific issue. I wish to see them compared on the same page so that I can have some clarity.</p>
","<p>The Laplace and Fourier transforms are <em>continuous</em> (integral) transforms of continuous functions.</p>

<p>The Laplace transform maps a function \$f(t)\$ to a function \$F(s)\$ of the complex variable <em>s</em>, where \$s = \sigma + j\omega\$.</p>

<p>Since the derivative \$\dot f(t) = \frac{df(t)}{dt} \$ maps to \$sF(s)\$, the Laplace transform of a linear differential equation is an algebraic equation.  Thus, the Laplace transform is useful for, among other things, solving linear differential equations.</p>

<p>If we set the real part of the complex variable <em>s</em> to zero, \$ \sigma = 0\$, the result is the Fourier transform \$F(j\omega)\$ which is essentially the <em>frequency domain representation</em> of \$f(t)\$ (note that this is true only if for that value of \$ \sigma\$ the formula to obtain the Laplace transform of \$f(t)\$ exists, i.e., it does not go to infinity).</p>

<p>The Z transform is essentially a discrete version of the Laplace transform and, thus, can be useful in solving <em>difference</em> equations, the discrete version of <em>differential</em> equations.  The Z transform maps a sequence \$f[n]\$ to a continuous function \$F(z)\$ of the complex variable \$z = re^{j\Omega}\$.</p>

<p>If we set the magnitude of <em>z</em> to unity, \$r = 1\$, the result is the Discrete Time Fourier Transform (DTFT) \$ F(j\Omega)\$ which is essentially the frequency domain representation of \$f[n]\$.</p>
","86496"
"Why we use 330 ohm resistor to connect a LED?","96645","","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/17179/correct-formula-for-led-current-limiting-resistor"">Correct formula for LED current-limiting resistor?</a>  </p>
</blockquote>



<p>Why we use 330 ohm resistor to connect a LED ?</p>

<p>I mean: </p>

<p><img src=""https://i.stack.imgur.com/0ay3a.png"" alt=""schematic""></p>

<p>the R is by practice 330 ohm.</p>

<p>Why this value? How do I calculate it? what's the purpose of it? </p>

<p>Is there a specific parameters in LED to get this value?</p>
","<p>This is to limit current through LED, without resistor LED will eat current until it melts.</p>

<p>Voltage drop across a LED depends on a it's color, for blue led for example - 3.4V.
So if you have 5V power supply, and want 5mA current through led (5mA usually gives good visibility), you need (5V-3.4V)/0.005A = 320 Ohm resistor. (I.e. this resistance will give voltage drop across resistor of 1.6V, remaining 3.4V drops on LED => 5V total)</p>

<p>Red LEDs usually have smaller voltage drop (~2V), so you'll have slightly higher current with same resistor, but anything below 20mA is usually ok. Also, slightly smaller currents are ok, LEDs at 1mA are easily visible.</p>

<p><strong>PS.</strong> few extra things:</p>

<p>1) Light output of led is linearly proportional to current until it's well over specifications. That's why everyone are talking about current through led. </p>

<p>2) Personally I throw 220 Ohm in 5V circuits to make it really bright :-) </p>

<p>But on my recent project where I had 3.3V supply, and leds of different color (green, red, blue) I had to calculate resistances more carefully, and they were 68 Ohm for blue and 220 Ohm for green and red.</p>
","27562"
"What is ""offset null"" in IC 741?","96293","","<p>What is Offset null in 1st and 5th pin in IC 741 (Op-Amp)? Why it is used, though it is not used in many circuits? Give me explanation regarding the offset null!
Why offset voltage was formed in IC 741?</p>

<p><img src=""https://i.stack.imgur.com/LDtag.png"" alt=""pinout diagram""></p>
","<p>The datasheet gives an example.</p>

<p><img src=""https://i.stack.imgur.com/jiJPI.png"" alt=""offset null circuit""></p>

<p>By adjusting the pot we can null any <a href=""http://en.wikipedia.org/wiki/Input_offset_voltage"">offset error</a>. An offset error is when the inputs are exactly equal but the output isn't exactly zero. This error is also characterized by the datasheet:</p>

<p><img src=""https://i.stack.imgur.com/xTGyu.png"" alt=""electrical characteristics""></p>

<p>It can be safely ignored in AC applications, where this offset will be ignored by the AC coupling. It becomes more important in DC applications, especially amplifiers, since this DC error will be amplified by the next stage.</p>

<p>This offset voltage exists because a real omp-amp can't be ideal. There will always be some unintended asymmetries between due to random variation in manufacturing. In all cases, there are op-amp designs that can minimize these errors, but usually at the expense of some other parameter, like cost.</p>
","55875"
"What is input and output impedance of an opamp?","95518","","<p>I have never understood input and output impedances of an op-amp. If anyone can explain what these two terms mean in an op-amp I'd highly appreciate it. Thank you!</p>

<p><a href=""http://www.eecs.tufts.edu/~dsculley/tutorial/opamps/opamps5.html"">http://www.eecs.tufts.edu/~dsculley/tutorial/opamps/opamps5.html</a></p>
","<p>The short answer: input impedance is ""high"" (ideally infinite). Output impedance is ""low"" (ideally zero). But what does this mean, and why is that useful?</p>

<p>Impedance is the relationship between voltage and current. It's a combination of resistance (frequency-independent, resistors) and reactance (frequency-dependant, inductors and capacitors). To simplify the discussion, let's just assume that all our impedances are purely resistive, so impedance = resistance.</p>

<p>You already know that resistance relates voltage and current by Ohm's law:</p>

<p>$$ E = IR $$</p>

<p>or maybe</p>

<p>$$ R = \frac{E}{I} $$</p>

<p>That is, one ohm means that for each volt, you get one ampere. We know that if we have a resistor of \$100\Omega\$, and we have a current of \$1A\$, then the voltage must be \$100V\$.</p>

<p>The concept of ""input"" and ""output"" impedance are very nearly the same thing, except we are concerned only with the relative <em>change</em> in voltage and current. That is:</p>

<p>$$ R = \frac{\partial E}{\partial I} $$</p>

<p>If we are talking about the input impedance of an op-amp, we are talking about how much more current will flow when voltage is increased (or how much less current will flow, when voltage is decreased). So say the input to an op-amp was \$1V\$, and you measured the current required from the signal source to develop this voltage to be \$1\mu A\$. Then you changed the source such that \$3V\$ appeared at the op-amp, and the current was now \$2\mu A\$. You can then calculate the input impedance of the op-amp as:</p>

<p>$$ \frac{(3V-1V)}{2\mu A-1\mu A} = 2 M\Omega$$</p>

<p>Typically, a very high input impedance of op-amps is desirable because that means very little current is required from the source to make a voltage. That is, an op-amp doesn't look much different from an open circuit, where it takes no current to make a voltage, because the impedance of an open circuit is infinite.</p>

<p><em>Output impedance</em> is the same thing, but now we are talking about how much the apparent voltage of the source changes as it is required to supply more current. You've probably observed that a battery under load has a lower voltage than the same battery not under load. This is source impedance in action.</p>

<p>Say you set your op-amp to output 5V, and you measure the voltage with an open circuit<sup>1</sup>. The current will be \$0A\$ (because the circuit is open) and the voltage you measure will be 5V. Now, you connect a resistor to the output, such that the current at the output of the op-amp is \$50mA\$. You measure the voltage across this resistor and find it to be \$4.99V\$. You can then calculate the output impedance of the op-amp as:</p>

<p>$$ - \frac{5V - 4.99V}{0mA - 50mA} = 0.2\Omega $$</p>

<p>You will note that I changed the sign of the result. It will make sense why, later. This low source impedance means the op-amp can supply (or sink) a lot of current without the voltage changing much.</p>

<p>There are some observations to be made here. The input impedance of the op-amp looks like the load impedance to whatever is proving the signal to the op-amp. The output impedance of the op-amp looks like the source impedance to whatever is receiving the signal from the op-amp.</p>

<p>A source driving a load with a relatively low load impedance is said to be <em>heavily loaded</em>, and a voltage signal will require a high current. To the extent that the source impedance is low, the source will be able to supply that current without the voltage sagging.</p>

<p>If you want to minimize voltage sagging, then the source impedance should be much less than the load impedance. This is called <a href=""http://en.wikipedia.org/wiki/Impedance_bridging"">impedance bridging</a>. It's a common thing to do, because we commonly represent signals as voltages, and we want to transfer these voltages unchanged from one stage to the next. A high load impedance also means there won't be much current, which also means less power.</p>

<p>The ideal op-amp has infinite input impedance and zero output impedance because it's easy to make the input impedance lower (put a resistor in parallel) or the source impedance higher (put a resistor in series). It's not so easy to go the other way; you need something that can amplify. An op-amp as a <a href=""http://en.wikipedia.org/wiki/Buffer_amplifier#Op-amp_implementation"">voltage follower</a> is one way to transform a high source impedance into a low source impedance.</p>

<p>Lastly, <a href=""http://en.wikipedia.org/wiki/Th%C3%A9venin%27s_theorem"">Thévenin's theorem</a> says that we can transform just about any linear electrical network into a voltage source and a resistor:</p>

<p><img src=""https://i.stack.imgur.com/gDKyq.png"" alt=""schematic""></p>

<p>In fact, ""source impedance"" can be defined as the Thévenin equivalent resistance, \$R_{th}\$ here. It works for loads also. But unless you already know Thévenin's theorem, that's not a useful thing to say. However, understanding what source and load impedances are, Thévenin's theorem means you can calculate an impedance for linear networks, regardless of complexity.</p>

<p><sup>1: this isn't actually possible, because you must connect both leads of your voltmeter to the circuit, thus completing it! But, your voltmeter has a very high impedance, so it's close enough to an open circuit that we can consider it such.</sup></p>
","73695"
"What is the difference between Flash memory and EEPROM?","95395","","<p>Flash memory storage and EEPROM both use floating gate transistors for storage of data. What differs between the two and why is Flash so much faster?</p>
","<p>The first ROM devices had to have information placed in them via some mechanical, photolithographic, or other means (before integrated circuits, it was common to use a grid where diodes could be selectively installed or omitted).  The first major improvement was a ""fuse-PROM""--a chip containing a grid of fused diodes, and row-drive transistors that were sufficiently strong that selecting a row and forcing the state of the output one could blow the fuses on any diodes one didn't want.  Although such chips were electrically writable, most of the devices in which they would be used did not have the powerful drive circuitry necessary to write to them.  Instead, they would be written using a device called a ""programmer"", and then installed in the equipment that needed to be able to read them.</p>

<p>The next improvement was an implanted-charge memory device, which allowed charges to be electrically implanted but not removed.  If such devices were packaged in UV-transparent packages (EPROM), they could be erased with about 5-30 minutes' exposure to ultraviolet light.  This made it possible to reuse devices whose contents were found not to be of value (e.g. buggy or unfinished versions of software).  Putting the same chips in an opaque package allowed them to be sold more inexpensively for end-user applications where it was unlikely anyone would want to erase and reuse them (OTPROM).  A succeeding improvement made it possible to erase the devices electrically without the UV light (early EEPROM).</p>

<p>Early EEPROM devices could only be erased en masse, and programming required conditions very different from those associated with normal operation; consequently, as with PROM/EPROM devices, they were generally used in circuitry which could read but not write them.  Later improvements to EEPROM made it possible to erase smaller regions, if not individual bytes, and also allowed them to be written by the same circuitry that used them.  Nonetheless, the name did not change.</p>

<p>When a technology called ""Flash ROM"" came on the scene, it was pretty normal for EEPROM devices to allow individual bytes to be erased and rewritten within an application circuit.  Flash ROM was in some sense a step back functionally since erasure could only take place in large chunks.  Nonetheless, restricting erasure to large chunks made it possible to store information much more compactly than had been possible with EEPROM.  Further, many flash devices have faster write cycles but slower erase cycles than would be typical of EEPROM devices (many EEPROM devices would take 1-10ms to write a byte, and 5-50ms to erase; flash devices would generally require less than 100us to write, but some required hundreds of milliseconds to erase).</p>

<p>I don't know that there's a clear dividing line between flash and EEPROM, since some devices that called themselves ""flash"" could be erased on a per-byte basis.  Nonetheless, today's trend seems to be to use the term ""EEPROM"" for devices with per-byte erase capabilities and ""flash"" for devices which only support large-block erasure.</p>
","69275"
"Are solder fumes bad for me?","93237","","<p>I do a fair bit of soldering (lead-free). Is breathing in solder/flux/paste fumes actually going to harm me?</p>

<p>Are cheap fume extractors worth buying?</p>
","<p>Solder fumes aren't very good for you. Some people can become sensitized to flux fumes, especially from the older rosin flux used in cored solder, and get breathing problems:</p>

<p><a href=""http://www.hse.gov.uk/pubns/indg249.pdf"">Controlling health risks from rosin (colophony) based solder fluxes</a></p>

<p>The no-clean flux isn't as bad.</p>

<p>I once felt quite ill after assembling about 30 boards that I had to do myself as my distributor wanted them very quickly.</p>

<p>Breathing out whilst you are soldering each joint helps a lot, if you don't have fume extraction.</p>
","1905"
"How to improve torque and RPM of a DC motor?","92232","","<p>I have an FA-130 motor (DC) with permanent magnet, my power source is a 2 AA batteries (rechargeable) so a total of 2.4v.</p>

<p>Assume that all cases will start from the same specification, theoretically, what would happen if I do the following?</p>

<p><strong>Case 1</strong>: Increase/Decrease strength of permanent magnets. What would happen to torque and RPM? Why?</p>

<p><strong>Case 2</strong>: Increase/Decrease size of magnet wires. What would happen to torque, power consumption and RPM? Why?</p>

<p><strong>Case 3</strong>: Increase/Decrease the size of armature. What would happen to torque, power consumption and RPM? Why?</p>

<p><strong>Case 4</strong>: Increase/Decrease the number of turns (coil). What would happen to torque, power consumption and RPM? Why?</p>

<p>In general, how can I increase the torque and RPM of this motor given a constant voltage?</p>

<p>Please, explain it as if you're talking to a 6-year old kid, I'm not knowledgeable in this field but I want to know the concept.</p>
","<p>I'm going to assume that this 6 year old has at least a little background in physics. I'm going to start off by answering why each result will occur with a lot of math to describe the physics behind it all. Then I will answer each case individually with the math providing the reasoning behind each result. I will wrap up by answering your ""in general"" question.</p>

<hr>

<h1>Why?</h1>

<p>The answer to all of your ""Why?"" questions is: Physics! Specifically <a href=""http://en.wikipedia.org/wiki/Lorentz_force"" rel=""nofollow noreferrer"">Lorentz's law</a> and <a href=""http://en.wikipedia.org/wiki/Faraday&#39;s_law_of_induction"" rel=""nofollow noreferrer"">Faraday's law</a>. From <a href=""http://ocw.mit.edu/courses/mechanical-engineering/2-004-systems-modeling-and-control-ii-fall-2007/lecture-notes/lecture05.pdf"" rel=""nofollow noreferrer"">here</a>:</p>

<p><img src=""https://i.stack.imgur.com/5x3Mp.png"" alt=""lorentz and faraday""></p>

<hr>

<p>The torque of the motor is determined by the equation:</p>

<p>$$\tau = K_t \cdot I~~~~~~~~~~(N \cdot m)$$</p>

<p>Where:</p>

<p>\$\tau = \text{torque}\$<br>
\$K_t = \text{torque constant}\$<br>
\$I = \text{motor current}\$</p>

<p>The torque constant, \$K_t\$, is one of the main motor parameters that describe the specific motor based on the various parameters of its design such as magnetic strength, number of wire turns, armature length, etc. as you've mentioned. Its value is given in torque per amp and is calculated as:</p>

<p>$$K_t = 2 \cdot B \cdot N \cdot l \cdot r~~~~~~~~~~(N \cdot m / A)$$</p>

<p>Where:</p>

<p>\$B = \text{strength of magnetic field in Teslas}\$<br>
\$N = \text{number of loops of wire in the magnetic field}\$<br>
\$l = \text{length of magnetic field acting on wire}\$<br>
\$r = \text{radius of motor armature}\$</p>

<hr>

<p>The Back-EMF voltage is determined by:</p>

<p>$$V = K_e \cdot \omega~~~~~~~~~~(volts)$$</p>

<p>Where:</p>

<p>\$V = \text{Back-EMF voltage}\$<br>
\$K_e = \text{voltage constant}\$<br>
\$\omega = \text{angular velocity}\$</p>

<p>Angular velocity is the speed of the motor in radians per second (rad/sec) which can be converted from RPM:</p>

<p>$$\text{rad/sec} = \text{RPM}\times\dfrac{\pi}{30}$$</p>

<p>\$K_e\$ is the second main motor parameter. Funnily enough, \$K_e\$ is calculated using the same formula as \$K_t\$ but is given in different units:</p>

<p>$$K_e = 2 \cdot B \cdot N \cdot l \cdot r~~~~~~~~~~(volts/rad/sec)$$</p>

<hr>

<p>Why does \$K_e = K_t\$? Because of the physical law of <a href=""http://en.wikipedia.org/wiki/Conservation_of_energy"" rel=""nofollow noreferrer"">Conservation of Energy</a>. Which basically states that the electrical power put into the motor needs to equal the mechanical power got out of the motor. Assuming 100% efficiency:</p>

<p>\$P_{in} = P_{out}\$<br>
\$V \cdot I = \tau \cdot \omega\$</p>

<p>Substituting the equations from above we get:</p>

<p>\$(K_e \cdot \omega) \cdot I = (K_t \cdot I) \cdot \omega\$<br>
\$K_e = K_t\$</p>

<hr>

<h1>Cases</h1>

<p>I'm going to assume that each parameter is being changed in isolation.</p>

<hr>

<p><strong>Case 1:</strong> Magnetic field strength is directly proportional to the torque constant, \$K_t\$. So as magnetic field strength is increased or decreased, the torque, \$\tau\$, will increase or decrease proportionally. Which makes sense because the stronger the magnetic field, the stronger the ""push"" on the armature.</p>

<p>Magnetic field strength is also directly proportional to the voltage constant, \$K_e\$. However \$K_e\$ is inversely proportional to the angular velocity:</p>

<p>$$\omega = \dfrac{V}{K_e}$$</p>

<p>So, as the magnetic field increases, the speed will decrease. This again makes sense because the stronger the magnetic field, the stronger the ""push"" on the armature so it will resist a change in speed.</p>

<p>Because power out is equal to torque times angular velocity, and power in equals power out (again, assuming 100% efficiency), we get:</p>

<p>$$P_{in} = \tau \cdot \omega$$</p>

<p>So any change to torque or speed will be directly proportional to the power required to drive the motor.</p>

<hr>

<p><strong>Case 2:</strong> (A bit more math here that I didn't explicitly go over above) Going back to Lorentz's law we see that:</p>

<p>$$\tau = 2 \cdot F \cdot r = 2 (I \cdot B \cdot N \cdot l) r$$</p>

<p>Therefore:</p>

<p>$$F = I \cdot B \cdot N \cdot l$$</p>

<p>Thanks to Newton we have:</p>

<p>$$F = m \cdot g$$</p>

<p>So...</p>

<p>$$\tau = 2 \cdot m \cdot g \cdot r$$</p>

<p>If you keep the length of the wire the same but increase its gauge, the mass will increase. As can be seen above, mass is directly proportional to torque just like magnetic field strength so the same result applies.</p>

<hr>

<p><strong>Case 3:</strong> The radius of the armature, \$r\$ in our equations above, is again directly proportional to our motor constants. So, once again, we have the same results as we increase and decrease its length.</p>

<p><em>Starting to see a pattern here?</em></p>

<hr>

<p><strong>Case 4:</strong> The number of turns of our wire, \$N\$ in our equations above, is also directly proportional to our motor constants. So, as usual, we have the same results as we increase and decrease the number of turns.</p>

<hr>

<h1>In general</h1>

<p>If it isn't obvious by now, torque and speed are <a href=""http://lancet.mit.edu/motors/motors3.html#tscurve"" rel=""nofollow noreferrer"">inversely proportional</a>:</p>

<p><img src=""https://i.stack.imgur.com/k29W1.jpg"" alt=""torque versus speed""></p>

<p>There is a trade-off to be made in terms of power input to the motor (voltage and current) and power output from the motor (torque and speed):</p>

<p>$$V \cdot I = \tau \cdot \omega$$</p>

<p>If you want to keep the voltage constant, you can only increase current. Increasing current will only increase torque (and the total power being supplied to the system):</p>

<p>$$\tau = K_t \cdot I$$</p>

<p>In order to increase speed, you need to increase voltage:</p>

<p>$$\omega = \dfrac{V}{K_e}$$</p>

<p>If you want to keep the input power constant, then you need to modify one of the physical motor parameters to change the motor constants.</p>
","43099"
"Rules and guidelines for drawing good schematics","91535","","<p>We see a lot of poorly drawn schematics here.  A few times people have actually asked for critiques of their schematics.  This question is intended as a single repository on schematic drawing rules and guidelines we can point people to.</p>

<p>So the questions is, <i>what do you think are rules and guidelines for drawing good schematics?</i><br>
Note that this is about schematics themselves, not about the circuits they represent.</p>
","<p>A schematic is a visual representation of a circuit.  As such, its
purpose is to communicate a circuit to someone else.  A schematic in a
special computer program for that purpose is also a machine-readable
description of the circuit. This use is easy to judge in absolute terms.
Either the proper formal rules for describing the circuit are followed and
the circuit is correctly defined or it isn't. Since there are hard rules
for that and the result can be judged by machine, this isn't the point of
the discussion here.  This discussion is about rules, guidelines, and
suggestions for good schematics for the first purpose, which is to
communicate a circuit to a human.  <em>Good</em> and <em>bad</em> will be
judged here in that context.</p>

<p>Since a schematic is to communicate information, a good schematic does
this quickly, clearly, and with low chance of misunderstanding.  It is
necessary but far from sufficient for a schematic to be correct.  If a
schematic is likely to mislead a human observer, it is a bad schematic
whether you can eventually show that after due deciphering it was in fact
correct.  The point is <strong><em>clarity</em></strong>. A technically correct but
obfuscated schematic is still a bad schematic.</p>

<p>Some people have their own silly-ass opinions, but here are the rules
(actually you'll probably notice broad agreement between experienced
people on most of the important points):</p>

<ol>
<li><p><strong><em>Use component designators</em></strong></p>

<p>This is pretty much automatic with any schematic capture program, but
we still often see schematics here without them.  If you draw your
schematic on a napkin and then scan it, make sure to add component
designators. These make the circuit much easier to talk about.  I have
skipped over questions when schematics didn't have component designators
because I didn't feel like bothering with <em>the second 10 k&Omega;
resistor from the left by the top pushbutton</em>.  It's a lot easier to
say R1, R5, Q7, etc.</p></li>
<li><p><strong><em>Clean up text placement</em></strong></p>

<p>Schematic programs generally plunk down part names and values based
on a generic part definition.  This means they often end up in
inconvenient places in the schematic when other parts are placed nearby.
Fix it.  That's part of the job of drawing a schematic.  Some schematic
capture programs make this easier than others.  In Eagle for example,
unfortunately, there can only be one symbol for a part. Some parts are
commonly placed in different orientations, horizontal and vertical in
the case of resistors for example.  Diodes can be placed in at least 4
orientations since they have direction too.  The placement of text
around a part, like the component designator and value, probably won't
work in other orientations than it was originally drawn in.  If you
rotate a stock part, move the text around afterwards so that it is
easily readable, clearly belongs to that part, and doesn't collide with
other parts of the drawing.  Vertical text looks stupid and makes the
schematic hard to read.</p>

<p>I make separate redundant parts in Eagle that differ only in the
symbol orientation and therefore the text placement.  That's more work
up front, but makes it easier when drawing a schematic.  However, it
doesn't matter how you achieve a neat and clear end result, only that
you do.  There is no excuse.  Sometimes we hear whines like <em>""But
CircuitBarf 0.1 doesn't let me do that""</em>.  So get something that
does.  Besides, CircuitBarf 0.1 probably does let you do it, just that
you were too lazy to read the manual to learn how, and too sloppy to
care. Draw it (neatly!) on paper and scan it if you have to.  Again,
there is no excuse.</p>

<p>For example, here are some parts at different orientations.  Note how
the text is in different places relative to parts to make things neat
and clear.</p>

<p><img src=""https://i.stack.imgur.com/Z3K1z.gif"" alt=""""></p>

<p>Don't let this happen to you:</p>

<p><img src=""https://i.stack.imgur.com/jNuIc.jpg"" alt=""""></p>

<p>Yes, this is actually a small snippet of what someone dumped on us
here.</p></li>
<li><p><strong><em>Basic layout and flow</em></strong></p>

<p>In general, it is good to put higher voltages towards the top, lower
voltages towards the bottom, and logical flow left to right.  That's
clearly not possible all the time, but at least a general higher level
effort to do this will greatly illuminate the circuit to those reading
your schematic.</p>

<p>One notable exception to this are feedback signals.  By their very
nature, they feed ""back"" from downstream to upstream, so they
<em>should</em> be shown sending information opposite of the main flow.</p>

<p>Power connections should go up to positive voltages and down to
negative voltages.  Don't do this:</p>

<p><img src=""https://i.stack.imgur.com/mgPnl.jpg"" alt=""""></p>

<p>There wasn't room to show the line going down to ground because other
stuff was already there.  Move it.  You made the mess, you can unmake
it.  There is always a way.</p>

<p>Following these rules causes common subcircuits to be drawn similarly
most of the time.  Once you get more experience looking at schematics,
these will pop out at you and you will appreciate this.  If stuff is
drawn every which way, then these common circuits will look visually
different every time and it will take others longer to understand your
schematic.  What's this mess, for example?</p>

<p><img src=""https://i.stack.imgur.com/t9ppN.gif"" alt=""""></p>

<p>After some deciphering, you realize <em>""Oh, it's a common emitter
amplifier.  Why didn't that #%&amp;^$@#$% just draw it like one in the first
place!?""</em>:</p>

<p><img src=""https://i.stack.imgur.com/wkhaq.gif"" alt=""""></p></li>
<li><p><strong><em>Draw pins according to function</em></strong></p>

<p>Show pins of ICs in position relevant to their function, NOT HOW THEY
HAPPEN TO STICK OUT OF THE CHIP.  Try to put positive power pins at top,
negative power pins (usually grounds) at bottom, inputs at left, and
outputs at right.  Note that this fits with the general schematic layout
as described above. Of course, this isn't always reasonable and possible.
General purpose parts like microcontrollers and FPGAs have pins that can
be input and output depending on use and can even vary at run time.  At
least you can put the dedicated power and ground pins at top and bottom,
and possibly group together any closely related pins with dedicated
functions, like crystal driver connections.</p>

<p>ICs with pins in physical pin order are difficult to understand. Some
people use the excuse that this aids in debugging, but with a little
thought you can see that's not true.  When you want to look at something
with a scope, which question is more common <em>""I want to look at the
clock, what pin is that?""</em> or <em>""I want to look at pin 5, what
function is that?""</em>. In some rare cases, you might want to go around a
IC and look at all the pins, but the first question is by far more
common.</p>

<p>Physical pin order layouts obfuscate the circuit <em>and</em> make
debugging more difficult.  Don't do it.</p></li>
<li><p><strong><em>Direct connections, within reason</em></strong></p>

<p>Spend some time with placement reducing wire crossings and the like.
The recurring theme here is <em>clarity</em>.  Of course drawing a direct
connection line isn't always possible or reasonable. Obviously, it can't
be done with multiple sheets, and a messy ratsnest of wires is worse
than a few carefully chosen ""air wires"".</p>

<p>It is impossible to come up with a universal rule here, but if you
constantly think of the mythical person looking over your shoulder
trying to understand the circuit from the schematic you are drawing,
you'll probably do alright. You should be trying to help people
understand the circuit easily, not make them figure it out despite the
schematic.</p></li>
<li><p><strong><em>Design for regular size paper</em></strong></p>

<p>The days of electrical engineers having drafting tables and being set
up to work with D size drawings are long gone.  Most people only have
access to regular page-size printers, like for 8 1/2 x 11 inch paper
here in the US.  The exact size is a little different all around the
world, but they are all roughly what you can easily hold in front of you
or place on your desk. There is a reason this size evolved as a
standard. Handling larger paper is a hassle.  There isn't room on the
desk, it ends up overlapping the keyboard, pushes things off your desk
when you move it, etc.</p>

<p>The point is design your schematic so that individual sheets are
nicely readable on a single normal page, and on the screen at about the
same size.  Currently, the largest common screen size is 1920 x 1080.
Having to scroll a page at that resolution to see necessary detail is
annoying.</p>

<p>If that means using more pages, go ahead.  You can flip pages back
and forth with a single button press in Acrobat Reader.  Flipping pages
is preferable to panning a large drawing or dealing with outsized paper.
I also find that one normal page at reasonable detail is a good size to
show a subcircuit.  Think of pages in schematics like paragraphs in a
narrative.  Breaking a schematic into individually labeled sections by
pages can actually help readability if done right.  For example, you
might have a page for the power input section, the immediate
microcontroller connections, the analog inputs, the H bridge drive power
outputs, the ethernet interface, etc.  It's actually useful to break up
the schematic this way even if it had nothing to do with drawing size.</p>

<p>Here is a small section of a schematic I received.  This is from a
screen shot displaying a single page of the schematic maximized in
Acrobat Reader on a 1920 x 1200 screen.</p>

<p><img src=""https://i.stack.imgur.com/uoLbA.jpg"" alt=""""></p>

<p>In this case I was being paid in part to look at this schematic so I
put up with it, although I probably used more time and therefore charged
the customer more money than if the schematic had been easier to work
with.  If this was from someone looking for free help like on this web
site, I would have thought to myself <i>screw this</i> and gone on to
answer someone else's question.</p></li>
<li><p><strong><em>Label key nets</em></strong></p>

<p>Schematic capture programs generally let you give nets nicely
readable names. All nets probably have names inside the software, just
that they default to some gobbledygook unless you explicitly set them.</p>

<p>If a net is broken up into visually unconnected segments, then you
absolutely have to let people know the two seemingly disconnected nets
are really the same.  Different packages have different built-in ways to
show that.  Use whatever works with the software you have, but in any
case give the net a name and show that name at each separately drawn
segment.  Think of that as the lowest common denominator or using ""air
wires"" in a schematic.  If your software supports it and you think it
helps with clarity, by all means use little ""jump point"" markers or
whatever.  Sometimes these even give you the sheet and coordinates of
one or more corresponding jump points.  That's all great, but label any
such net anyway.</p>

<p>The important point is that the little name strings for these nets
are derived automatically from the internal net name by the software.
Never draw them manually as arbitrary text that the software doesn't
understand as the net name. If separate sections of the net ever get
disconnected or separately renamed by accident, the software will
automatically show this since the name shown comes from the actual net
name, not something you type in separately.  This is a lot like a
variable in a computer language. You know that multiple uses of the
variable symbol refer to the same variable.</p>

<p>Another good reason for net names is short comments.  I sometimes
name and then show the names of nets only to give a quick idea what the
purpose of that net is.  For example, seeing that a net is called ""5V""
or ""MISO"" could help a lot in understanding the circuit.  Many short
nets don't need a name or clarification, and adding names would hurt
more due to clutter than they would illuminate.  Again, the whole point
is clarity.  Show a meaningful net name when it helps in understanding
the circuit, and don't when it would be more distracting than useful.</p></li>
<li><p><strong><em>Keep names reasonably short</em></strong></p>

<p>Just because your software lets you enter 32 or 64 character net
names, doesn't mean you should.  Again, the point is clarity.  No names
is no information, but lots of long names are clutter, which then
decreases clarity.  Somewhere in between is a good tradeoff.  Don't get
silly and write ""8 MHz clock to my PIC"", when simply ""CLOCK"", ""CLK"", or
""8MHZ"" would convey the same information.</p>

<p>See <a href=""http://www.altium.com/files/libraries/ls0001_pinabbreviation.pdf"" rel=""noreferrer"">this ANSI/IEEE standard</a> for recommended pin name abbreviations.</p></li>
<li><p><strong><em>Upper case symbol names</em></strong></p>

<p>Use all caps for net names and pin names.  Pin names are almost
always shown upper case in datasheets and schematics.  Various schematic
programs, Eagle included, don't even allow for lower case names.  One
advantage of this, which is also helped when the names aren't too long,
is that they stick out in regular text.  If you do write real comments
in the schematic, always write them in mixed case but make sure to upper
case symbol names to make it clear they are symbol names and not part of
your narrative.  For example, <i>""The input signal TEST1 goes high to
turn on Q1, which resets the processor by driving MCLR low.""</i>.  In
this case, it is obvious that TEST1, Q1, and MCLR refer to names in the
schematic and aren't part of the words you are using in the description.</p></li>
<li><p><strong><em>Show decoupling caps by the part</em></strong></p>

<p>Decoupling caps must be physically close to the part they are
decoupling due to their purpose and basic physics.  Show them that way.
Sometimes I've seen schematics with a bunch of decoupling caps off in a
corner.  Of course, these can be placed anywhere in the layout, but by
placing them by their IC you at least show the <em>intent</em> of each
cap.  This makes it much easier to see that proper decoupling was at
least thought about, more likely a mistake is caught in a design review,
and more likely the cap actually ends up where intended when layout is
done.</p></li>
<li><p><strong><em>Dots connect, crosses don't</em></strong></p>

<p>Draw a dot at every junction.  That's the convention.  Don't be lazy.
Any competent software will enforce this anyway, but surprisingly we still
see schematics without junction dots here occasionally.  It's a rule. We
don't care whether you think it's silly or not.  That's how it's done.</p>

<p>Sort of related, try to keep junctions to Ts not 4-way crosses.  This
isn't as hard a rule, but stuff happens.  With two lines crossing, one
vertical the other horizontal, the <em>only</em> way to know whether they
are connected is whether the little junction dot is present.  In past
days when schematics were routinely photocopied or otherwise optically
reproduced, junction dots could disappear after a few generations, or
could sometimes even appear at crosses when they weren't there
originally.  This is less important now that schematics are generally in
a computer, but it's not a bad idea to be extra careful.  The way to do
that is to never have a 4-way junction.</p>

<p>If two lines cross, then they are never connected, even if after some
reproduction or compression artifacts it looks like there maybe is a dot
there.  Ideally connections or crossovers would be unambiguous without
junction dots, but in reality you want as little chance of
misunderstanding as possible.  Make all junctions Ts with dots, and all
crossing lines are therefore different nets without dots.</p></li>
</ol>

<p>Look back and you can see the point of all these rules is to make it as
easy as possible for someone else to understand the circuit from the
schematic, and to maximize the chance that understanding is correct.</p>

<ul>
<li><strong><em>Good schematics show you the circuit.  Bad schematics make you
decipher them.</em></strong></li>
</ul>

<p>There is another human point to this too.  A sloppy schematic
shows lack of attention to detail and is irritating and insulting to anyone
you ask to look at it.  Think about it.  It says to others <em>""Your
aggravation with this schematic isn't worth my time to clean it up""</em>
which is basically saying <em>""I'm more important than you are""</em>.  That's
not a smart thing to say in many cases, like when you are asking for free
help here, showing your schematic to a customer, teacher, etc.</p>

<p><strong><em>Neatness and presentation count.  A lot.</em></strong>  You are judged
by your presentation quality every time you present something, whether you
think that's how it should be or not.  In most cases, people won't bother
to tell you either. They'll just go on to answer a
different question, not look for some good points that might make the
grade one notch higher, or hire someone else, etc.  When you give someone a sloppy schematic (or
any other sloppy work from you), the first thing they're going to think is
<em>""What a jerk""</em>.  Everything else they think of you and your work
will be colored by that initial impression.  Don't be that loser.</p>
","28255"
"How can I tell charge-only USB cables from USB data cables?","90678","","<p>Like most computer hobbyists and programmers, I've amassed boxes of USB cables to connect USB, Micro-USB, and Mini-USB to chargers, computers, and gadgets. These cables are a mix of phone charger cables, and cables that came with external hard drives, bike lights, GPS units, and other miscellaneous gadgets. The problem is, they all look the same, just plain black cables.</p>

<p>How can I tell if one of these cables is a charge-only USB cable instead of a USB data cable? Ideally, I would love to rely on some visual clue, but I have a multimeter I could use to test the cables with if I knew a good approach to this.</p>

<p>My goal is to label these cables so I can resolve this ambiguity so when I reach in to my box of cables, I know which cable to use for charging my phone and which one to use to synchronise my GPS with my computer.</p>
","<p>The kind of cable you mean is missing the D+ and D- data lines. It simply doesn't have those wires inside the cable.</p>

<p>You can test for continuity or resistance using a multimeter. Probe between the corresponding data pins: D+ on one side to D+ on the other, or D- to D-. The D+/D- lines are the middle two pins of a USB connector. Just select one on one side of the cable, and test continuity to both of the middle pins on the other side.</p>

<p>You will see no continuity or a high/""infinite"" resistance on your meter if the cable is missing data wires and is a ""charge only cable"". </p>

<p>Technically USB requires the data lines to request more power from a host device, so a cable missing these connections would, in theory, only let devices charge very slowly. In practice most USB hosts will not enforce such a limit. It is also possible that some phones will refuse to charge without data lines in the cable.</p>
","140229"
"What does 40VA rating for transformer mean?","90317","","<p>I am working on a circuit for a home make home security system. I bought the following wall transformer to power my circuit. I was going to use with a 5VDC Linear voltage regulator to get 5 volts for my digital circuitry.</p>

<p><a href=""http://www.mpja.com/prodinfo.asp?number=12635+PA"">http://www.mpja.com/prodinfo.asp?number=12635+PA</a></p>

<p>I couldn't find any documentation on this transformer. When I plug it into the wall and measure the voltage at the output I get zero volts. I tried attaching it to a couple different loads (with fairly small resistance) but I still couldn't measure any voltage at the output. I realize this is probably because the transformer is not regulated and thus requires a load for the output to be 12V but I am still not sure if I can use this transformer with my design. Does this thing only output 12VDC if it has the exact right load? Or since I will be connecting this to a linear voltage regulator will that handle it all for me? The total current draw of my circuit will typically be less than 200mA unless the alarm is sounding, and then it will go up some. </p>

<p>Also, I was planning on using the 12V from the transformer to power the horn(siren) directly and switch it on with a power Mosfet. The 12 Volts will not be regulated so do I need to add a big resistor in series with the horn so that it will have the proper 12 Volts across it?</p>

<p>I guess I should have just spent a little more and got a regulated supply!</p>
","<p>Those 12V are the <em>effective</em> AC voltage. To get the peak voltage you need to multiply by the square root of 2, which results in about 17V.</p>

<p>40VA means that at an effective voltage of 12V it can handle an effective current of 40VA / 12V = 3.3A, which should be enough (though you neglected to tell us how much current the horn needs).</p>

<p>You need a rectifier and a smoothing capacitor in front of the linear regulator. The rectifier will reduce the voltage by about 1.4V, so at the input of the linear rectifier you will have a little more than 15V, with some ripple depending on the capacitor and the current drawn.</p>

<p>At 200mA and 10V difference between input and output your linear regulator will need to get rid of 2W of power, so it will need some cooling.</p>

<p>As for the horn, it depends on the specification of the horn, how precisely it needs those 12V. If it can tolerate some ripple you could use five 1N4004 diodes in series (5 * 0.7V = 3.5V, 15.5V - 3.5V = 12V) to lower the voltage. This is better than a resistor, because the voltage across a resistor depends much more on the load than for a diode.</p>
","15114"
"Convert Watt to Ampere-hour for battery","89090","","<p>I'm trying to find replacement batteries for my UPS, I checked my local store and they dont' have this particular model I need so I'm looking for other brand that does exactly the same. 
What I usually see on the battery label is something like 12V 7Ah or 12V 9Ah. However, this one is 12V 21W. Does anyone know how can I convert the 21W to the equivalent Ah? Also, what is the reason of specifying the spec in Watt rather than Ampere-hour?</p>

<p>Below is the spec sheet of the battery in my UPS:</p>

<p><a href=""http://www.csb-battery.com/upfiles/dow01320199011.pdf"" rel=""nofollow"">http://www.csb-battery.com/upfiles/dow01320199011.pdf</a></p>
","<p>W is a measure of power, therefore it's likely that it's rated in Wh (Watt-hour, energy).</p>

<p>Since Ah represent a charge (current * time) you can multiply it by the voltage to get Wh; conversely, divide the Wh by the voltage to get the Ah rating.</p>

<p>Looking at the datasheet, there seem to be a reason why a single Ah value is not specified: it varies depending on the load current (see table in the bottom).</p>

<p>The 21 W indicates that it can provide 21 W for 15 minutes (21/4=5.25 Wh) when the cell voltage is at least 1.67 V, times 6 cells means 10 V. This voltage is the minimum tolerated value, and influences the depth of the discharge and, in the long term, the lifetime of the battery.</p>

<p>If you look at the table, the battery is approximately 4 Ah.</p>
","100253"
"How to compare mAh and Wh","88920","","<p>When looking at consumer electronic devices with batteries I sometimes see the battery capacity listed in Wh (watt hours) and sometimes in mAh (milliamp hours).  I would like to be able to compare the two different metrics and I'm wondering how to convert from one value to the other.</p>
","<h2>The Simple Answer</h2>

<p>DC Power is defined in terms of W = 1 V * 1 A - that is, the power that is delivered by sustaining 1V potential with 1A of current. </p>

<p>Thus, a battery pack that can deliver 5400mAh, that is 5.4Ah, while sustaining voltage of 10.4V (this happens to be running in my laptop right now), can in theory deliver <em>up</em> to 5.4 * 10.4 = 56.16 Wh = 56160mWh.</p>

<h2>The Complicated Answer</h2>

<p>The above get a lot more complicated with different battery chemistries, and with different measurement methods. Firstly, the mAh rating can depend on the actual current draw - in general, the more current you draw, the less capacity the battery has, but there are exceptions at both ends of this guideline (if you draw too slowly, self discharge affects your measurement, and if you drive quickly enough, the battery gets warmer, and if it doesn't break, it tends to perform better).</p>

<p>Also, the voltage across the battery changes with the load - this is at least simple, the more current you draw, the lower the voltage across the terminals (this is due to internal resistance).</p>

<p>Finally, some devices are essentially dumb loads (battery powered tools), and draw as much as they can from the battery.. and some devices handle voltage and current changes in a more intelligent manner (mostly laptops and other DC/DC converters). </p>

<p>This means that for dumb loads, you are more concerned with mAh ratings (perhaps measured until battery voltage remains above some usable threshold).. since this can be used to calculate time-to-empty (which is really what you or your users are after), and dumb loads are approximately constant current/constant resistance loads. </p>

<p>For smart loads, the discharge controller (DC/DC converter) would actually try to drain constant <em>power</em> - the lower the voltage, the more current it drains so that it can continue outputting constant power on it's business end.</p>
","33248"
"Voltage across capacitor","88861","","<p>I am learning to find the voltage drops across the capacitors in a DC circuits.
we all know that capacitor charges till it equals the input voltage (assuming initial charge of capacitor is zero). If a DC voltage is applied</p>

<p><img src=""https://i.stack.imgur.com/6x7ZM.gif"" alt=""enter image description here""></p>

<p>For the above circuit  Vc= Vs(1-exp(-t/rc))</p>

<p>Now I considered little complex circuit something like below.
<img src=""https://i.stack.imgur.com/5hOmt.png"" alt=""enter image description here""></p>

<p>Here capacitor is not directly connected to a voltage source. After googling I found that the circuit can be solved by considering the capacitor as a load and finding the Voc and Rth  by using Thevenin's theorem( Or its dual Norton's theorem). Now R value in the time constant is replaced with Rth value and Vs voltage with Vth voltage.</p>

<p>Finally the voltage across capacitor, Vc= Vth(1-exp(-t/RthC))</p>

<p>Now I considered more complex circuit. Suppose if the circuit consists of more than one capacitor in the circuit. Something like below.</p>

<p><img src=""https://i.stack.imgur.com/8kDrS.gif"" alt=""enter image description here""></p>

<p>Now I am stucked here. How do I solve for the voltages across the capacitors C1 and C2.</p>

<p>I am wondering what would be the capacitor voltage equations for both capacitors. If there is a single capacitor, we used Thevinin's theorem but how do I solve if I have more than one capacitor in the DC circuits.</p>

<p>Vc1= Vunknown1(1-exp(-t/Runknown1 C1)
Vc2= Vunknown2(1-exp(-t/Runknown2 C2)</p>

<p>How do i solve for Vunknown1, Vunknown2, Runknown1 and Runknown2. Could anyone kindly explain me. How do I solve if we come across these type of circuits. Kindly help me through this.Thank you. </p>
","<h3>Solving ckt#3 the hard way using differential equations:</h3>

<p>To start with, this equations <em>always</em> holds, for any capacitor
$$i = CdV/dt$$</p>

<p>In the circuit you've provided, we have two unknown voltages (V1 across C1 and V2 across C2). These can be solved by applying Kirchoff's Current Laws on the two nodes.</p>

<p>For node V1: 
$$
(V_s-V_1)/R_1 = C_1 dV_1/dt + (V_1-V_2)/R_2
$$</p>

<p>And for node V2: 
$$
(V_1-V_2)/R_2 = C_2 dV_2/dt
$$</p>

<p>Now we've got two differential equations in two unknowns. Solve the two simultaneously and we'll get the expressions for V1 and V2. Once V1 and V2 are calculated, calculating the currents through the branches is trivial.</p>

<p>Of course, solving differential equations is not trivial, so generally we use Laplace Transform or Fourier Transform to convert them into simple algebraic equations in the frequency domain, solve for the unknowns, and then do Inverse Laplace/Fourier transform to get the unknowns back into time domain.</p>

<h3>Method 2: Use voltage divider rule:</h3>

<p>If we recall that the impedance across a capacitor C is $$Z=1/jwC$$ and denoting the impedances of the two capacitors C1 and C2 as Z1 and Z2, we can calculate V2 using the formula for voltage division across two impedances (<a href=""http://en.wikipedia.org/wiki/Voltage_divider"" rel=""nofollow noreferrer"">http://en.wikipedia.org/wiki/Voltage_divider</a>): $$V_2 = V_1 R_2/(R_2 + Z_2)$$
V1 can also be calculated using the same rule, the only issue is that the impedance on the right side of node 1 is a bit complex: it's the parallel combination of Z1 and (R2 + Z2). V1 now becomes $$V_1 = V_s (Z_1*(R_2+Z_2)/(Z_1+R_2+Z_2))/(R_1 + (Z_1*(R_2+Z_2)/(Z_1+R_2+Z_2)))$$</p>

<p>What to do next is to expand Z1 and Z2 using the capacitive-impedance formula, to get V1 and V2 in terms of w. If you need the complete time response of the variables, you can do Inverse Fourier Transforms and get V1 and V2 as functions of time. If however, you just the need the final (steady-state) value, just set $$w=0$$ and evaluate V1 and V2.</p>

<h3>A rather simpler way:</h3>

<p>This method can give only the final steady-state values, but it's a bit handy for quick calculations. The catch is that once a circuit has settled into a steady state, the current through every capacitor will be zero. Take the first circuit (the simple RC) for example. The fact that the current through C is zero dictates the current through R (and hence the voltage drop across it) also to be zero. Hence, the voltage across C will be equal to Vs.</p>

<p>For the second circuit, all the current must pass through the path R1->R2->R3 if the capacitor draws no current. This means the voltage across C (equal to the voltage across R2) is $$V_s R_2 / (R_1 + R_2 + R_3)$$</p>

<p>In the last circuit, current through C2 being equal to zero implies the current through R2 being zero (and hence any voltage drop across it). This means any current that flows must take the path R1->C1. However, the current through C1 is also zero, which means R1 also carries no current. So both the voltages V1 and V2 will be equal to Vs in steady state</p>
","58194"
"How to determine a system is stable using pole zero analysis?","88259","","<p>To my knowledge, as long as the poles of the transfer function are in the left half plane, then the system is stable. It is because the time response can be written as ""a*exp(-b*t)"" where 'a' and 'b' are positive. Therefore, the system is stable.</p>

<p>However, I saw people stated on websites that ""Also no zero is allow in the right half plane"". Why?</p>
","<p>For a LTI system to be stable, it is sufficient that its transfer function has no poles on the right semi-plane.</p>

<p>Take this example, for instance: F = (s-1)/(s+1)(s+2). It has a zero at s=1, on the right half-plane. Its step response is:
<img src=""https://i.stack.imgur.com/PQYCl.png"" alt=""F = (s-1)/(s+1)(s+2) Step Response""></p>

<p>As you can see, it is perfectly stable.</p>

<p>The characteristic function of a closed-looped system, on the other hand, cannot have zeros on the right half-plane. The characteristic function of a closed loop system is the denominator of the overall transfer function, and therefore its zeros are the poles of the system. That's why you are mixing things up.</p>

<p>A very important concept, worth mentioning, is closely related with the existence of zeros on the right half-plane, though: <strong>minimum and maximum phase systems</strong>. <a href=""http://en.wikipedia.org/wiki/Minimum_phase"" rel=""noreferrer"">I suggest you take a look at the wikipedia article about it.</a></p>
","29660"
"how to calculate total resistance in circuit with parallel and series resistors connected","87648","","<p>A battery of EMF 8.0 V and internal resistance r = 1.0 – is connected to an external circuit as shown:</p>

<p><img src=""https://i.stack.imgur.com/jL7HM.png"" alt=""""></p>

<p>I need to find out the total resistence and my problem is that I dont know which resistors consider parallel and which are in series as there is connection for 3ohm resistor after 1st resistor which confuses me. Answer I got is that the total resistance is 15ohms could anyone confirm it? Or point out where I went wrong?</p>
","<p>Start with the part that's easy, and work your way out. 6 ohms in parallel with 12 ohms is 4 ohms. 4 ohms in series with 2 ohms is 6 ohms. 6 ohms in parallel with 3 ohms is 2 ohms. 1 ohm in series with 2 ohms in series with 4 ohms in series with 1 ohm is 8 ohms.</p>
","59663"
"How do the open loop voltage gain and closed loop voltage gain differ?","86798","","<p>The closed-loop gain of op-amp is calculated by the ratio of Vout/Vin. What about the open-loop gain? How does the value of open-loop gain and closed-loop gain affect the performance of op-amp ? What is the relationship between open-loop and closed-loop gain of op-amp?</p>
","<p>Closed loop gain is the gain that results when we apply negative feedback to ""tame"" the open loop gain. The closed loop gain can be calculated if we know the open loop gain and the amount of feedback (what fraction of the output voltage is negatively fed back to the input).</p>

<p>The formula is this:</p>

<p>$$ A_{closed} = \frac{A_{open}}{1 + A_{open} \cdot Feedback} $$</p>

<p>The open-loop gain affects the performance generally like this. Firstly, look at the above formula. If the open loop is huge, like 100,000, then the 1 + does not matter. \$A_{open} \cdot Feedback\$ is a large number, and it doesn't matter whether or not we add 1 to this large number: it is like a drop in a bucket.  Thus the formula reduces to:</p>

<p>$$ \begin{align}
  A_{closed} &amp;= \frac{A_{open}}{A_{open} \cdot Feedback} \\
             &amp;= \frac{1}{Feedback}\\
\end{align}
$$
So, with a huge open-loop gain, we can easily get the closed loop gain if all we know is the negative feedback: if it just the reciprocal. If the feedback is 100% (i.e. 1) then the gain is 1, or <em>unity gain</em>.  If the negative feedback is 10%, then the gain is 10. With a huge open-loop gain, we can precisely set up gains: as precisely as we care to design and build our feedback circuit. With open-loop gain which is not that large, we may not be able to ignore that <code>1 +</code>. All the more so if \$Feedback\$ is small.</p>

<p>Okay, so far that's more of an issue of clean math and design convenience. Big open loop gain: closed loop gain is simple.  But, practically speaking, small open-loop gains means that you must use less negative feedback to achieve a given gain. If the open loop-gain is a hundred thousand, then we can use 10% feedback to get a gain of 10.  If the open loop gain is only 50, then we must use much less negative feedback to get a gain of 10. (You can work that out with the formula.)</p>

<p>We generally want to be able to use as much negative feedback as possible, because this stabilizes the amplifier: it makes the amplifier more linear, gives it a higher input impedance and lower output impedance and so on. From this perspective, amplifiers with huge open loop gains are good.  It is usually better to achieve some necessary closed loop gain with an amplifier that has huge open loop gain, and lots of negative feedback, than to use a lower gain amplifier and less negative feedback (or even just an amplifier with no negative feedback which happens to have <em>that</em> gain open loop). The amp with the most negative feedback will be stable, more linear, and so on.</p>

<p>Also note that we don't even have to care how huge the open loop gain is. Is it 100,000 or is it 200,000? It doesn't matter: after a certain gain, the simplified approximate formula applies. Amplifiers based on high gain and negative feedback are therefore very gain-stable. The gain depends only on the feedback, not on the specific open-loop gain of the amplifier. The open loop gain can vary wildly (as long as it stays huge).  For instance, suppose that the open loop gain is different at different temperatures. That does not matter. As long as the feedback circuit is not affected by temperature, the closed-loop gain will be the same.</p>
","43221"
"Torque kgcm (what is kgcm)?","86727","","<p>I know what torque is but I find difficult to understand what Torque: 3kgcm means ?</p>

<p>I am not sure, how much weight that motor can carry, and I want to know how I can calculate that.</p>

<p>Please give me some hints :)</p>
","<p>Torque is a measure of ""twisting force"".<br>
 Power is a measure of twisting force x speed.</p>

<p>Torque is usually expressed as a Force x a distance 
 So for the same Torque if you double the distance you halve the force to get the same answer.</p>

<p>So kg.cm is kg force x centimetre distance.<br>
 In fact kg are a mass and not a force BUT kg are sloppily used as a force in many cases.</p>

<p>Other torque units include foot-pound, Newton-metre, dyne-centimeter (!) ...</p>

<p>In your case 3 kg.cm means that a ""force"" of 3 kg acting at a radius of 1 cm would produce the same amount of torque as your motor.<br>
Equally that could be 0.1 kg x 30 cm, or 10 kg x 0.3 cm or ...</p>

<p>FWIW - kg is a unit of mass and Newton the corresponding unit of force.
Where the ""weight"" of 1 kg = g Newton where g = 9.8 m/s/s.
Close enough g = 10 here so 1 kg weighs 10 Newton.</p>

<p>BUT pound IS in fact a unit of force. The corresponding unit of mass is the Slug where<br>
 1 Slug weighs ~32 pounds force.<br>
 You will not find people selling vegetables by the slug, or by the Newton :-).<br>
 A Newton glass of beer is about 4 ounces.</p>

<p>A useful approximation</p>

<ul>
<li>Power in Watts ~= kg.m torgue x RPM</li>
</ul>

<p>This is just happenstance as various constants cancel almost exactly but it is extremely useful. Accurate to about 1%.</p>

<p>So in your case 3 kg.cm = 0.03 kg.m<br>
 So the power that your motor makes at a given RPM at this torque is<br>
 Power = 0.03 x RPM Watts.<br>
 ie about 30 Watts at 1000 RPM at 3 kg.cm torque.</p>

<hr>

<p>I have spent many long hours playing with dynamometers while developing alternator brakes and controllers to act as loads for exercise equipment.<br>
The approximation  </p>

<ul>
<li>Watts = kg.m.RPM ......was a useful approximation to remember. </li>
</ul>
","27938"
"What is the polarity of a car cigarette lighter adapter?","86594","","<p>There is a center pin, and two outside tabs.  Which are positive and negative?</p>
","<p>Every car that I have seen had center-positive cigarette lighter 'sockets'.  </p>

<p>All (as far as I know) modern cars use negative ground systems, so the outer negative 'body' is vehicle ground and positive center is battery </p>

<p>You would expect this polarity to be maintained even with positive ground vehicles made by any sane manufacturer (and most insane ones as well).  </p>

<p>AFAIR some old British Vehicles and Volkswagens had positive ground systems. No doubt there were others.</p>
","45297"
"Difference between UART and RS-232?","86205","","<p>Most of the time <a href=""http://en.wikipedia.org/wiki/RS-232"" rel=""noreferrer"">RS-232</a> and UART come together in serial communication theories. Are they both the same? From my readings I concluded UART is a hardware form of the RS-232 protocol. Am I correct?</p>
","<p>No, UART and RS-232 are not the same.</p>

<p>UART is responsible for sending and receiving a sequence of bits.  At the output of a UART these bits are usually represented by logic level voltages.  These bits can become RS-232, RS-422, RS-485, or perhaps some proprietary spec.</p>

<p>RS-232 specifies <a href=""http://en.wikipedia.org/wiki/RS-232#Voltage_levels"">voltage levels</a>.  Notice that some of these voltage levels are negative, and they can also reach ±15V.  Larger voltage swing makes RS-232 more resistant to interference (albeit only to some extent).</p>

<p>A microcontroller UART can not generate such voltages levels by itself.  This is done with help of an additional component: RS-232 line driver.  A classic example of an RS-232 line driver is <a href=""http://datasheets.maximintegrated.com/en/ds/MAX220-MAX249.pdf"">MAX232</a>.  If you go through the datasheet, you'll notice that this IC has a charge pump, which generates ±10V from +5V.</p>

<p><img src=""https://i.stack.imgur.com/i0E17.png"" alt=""enter image description here"">
(<a href=""http://en.wikipedia.org/wiki/RS-232"">source</a>)</p>
","110479"
"Step up 3.3V to 5V for digital I/O","85702","","<p>I normally use an Arduino for my projects because it has 5V inputs and outputs and has 5V Vin so that makes life very easy when interfacing with 5V components. For this project I want to use a Raspberry Pi because I want to hook it up to a display. The Pi is powered by 5V so that's easy enough. It has 3.3V I/O pins however and the devices I want to interface with are 5V.</p>

<p>I have a device with a 5V input pin, which needs to be driven to 5V. The device has a 5V output pin, which the device drives to 5V when it outputs.</p>

<p>I've converted bidirectionally between 5V and 3.3V devices before, but that was with a logic level shifter that was active LOW. The circuit is the typical one with a transistor and a diode and two pull up resistors. This application requires active HIGH. This project thankfully does not require bidirectional I/O.</p>

<p>For the 5V to 3.3V direction, a crude voltage divider will work.</p>

<p>For the 3.3V to 5V direction however, I don't know of an easy solution. I did some searching and there seem to be boost-converters (DC-DC boost converters) but to build them from discrete components I need to build a PWM circuit to drive the switching.</p>

<p>I was just wondering if there was a simplier way to achieve this, with complexity comparable to the active low logic level shifter.</p>
","<p>Since Dave Tweed has pointed out the flaw in the other answer, I have basically copied my answer to <a href=""https://electronics.stackexchange.com/questions/82104/single-transistor-level-up-shifter/82112#82112"">Single transistor level up shifter</a> ... Note also the interesting solution by Nicolas D in the question.</p>

<p>I have a few solutions (some solutions provided by Microchip <a href=""http://www.newark.com/pdfs/techarticles/microchip/3_3vto5vAnalogTipsnTricksBrchr.pdf"" rel=""noreferrer"">HERE</a>):</p>

<p>1) Direct connection: If Voh (high-level output voltage) from your 3.3V logic is greater than Vih (high-level input voltage), all you need is a direct connection. (it is also required for this solution that Vol (low-level output voltage) of the 3.3V output is less than the Vil (low-level input voltage) of the 5V input). This solution is most often rejected due to insufficient margins.</p>

<p>2) If the above conditions are close, you can often boost the high-level output voltage slightly with a pull-up resistor (to 3.3V) and direct connect the signals.</p>

<p>3) The pull-up resistor can provide a small amount of high-level voltage increase. For more, you can use diodes and pull-up to 5V. The circuit shown will not pull-up clear to 5V, but it will increase the high-level input voltage to the 5V logic by the amount of one diode voltage drop (appx 0.7v). Care must be taken with this method that you still have a valid low-level as that is also raised by one diode drop. Schottky diodes may be used for a slight increase in high-level voltage while minimizing the undesired increase in low-level voltage. Refer to the above mentioned app note for more on this circuit.:</p>



<p><img src=""https://i.stack.imgur.com/vk0vs.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fvk0vs.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>4) If you can deal with a logic inversion (and don't require active pull-up), a mosfet and pull-up resistor may be used:</p>



<p><img src=""https://i.stack.imgur.com/HDchC.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fHDchC.png"">simulate this circuit</a></sup></p>

<p>5) There are also many logic ic solutions such as: <a href=""http://www.onsemi.com/pub_link/Collateral/MC74VHC1GT125-D.PDF"" rel=""noreferrer"">MC74VHC1GT125</a> which is a ""Noninverting Buffer /
CMOS Logic Level Shifter with LSTTL−Compatible Inputs"" in a SOT23-5 or SOT-353 package. Small simple and fairly inexpensive. Use of this solution should also include a decoupling capacitor close to the IC.</p>
","82149"
"Full-wave bridge rectifier with capacitor filter and ripple voltage","83937","","<p>According to various sources, the ripple voltage of a full-wave bridge rectifier is </p>

<p>$$ V_r = \frac{V_s}{2}fCR $$</p>

<p>where \$V_s\$ is the peak of the input voltage source, \$f\$ is the frequency, \$C\$ is the capacitor and \$R\$ the resistor.</p>

<p>I have simulated this circuit on PSPICE, circuitlab, and built it in real life:
<a href=""https://www.circuitlab.com/circuit/423m43/fullwave-rectifier/"">https://www.circuitlab.com/circuit/423m43/fullwave-rectifier/</a></p>

<p>\$R\$ is \$4.7K\$ and \$C\$ is \$10 uF\$. Voltage source is sine wave with \$0 V\$ offset, \$5V\$ amplitude and \$40 Hz\$ frequency.</p>

<p>All 3 experiments give me a ripple voltage of approximately \$0.65V\$, but the formula gives me \$1.330 V\$ (twice as much).</p>

<p>What am I missing?</p>
","<p>The ripple formula you have is an approximation and just to demonstrate that here's another: -</p>

<p><img src=""https://i.stack.imgur.com/IfB18.jpg"" alt=""enter image description here""></p>

<p>The formula used here is not too disimilar from yours but it more accurately shows the time and not the frequency as being the important factor. However, the article makes an error in stating the 10msecs should be used at 50Hz. When the diode stops conducting at the top of the cycle and when it restarts is slightly less than 10msecs.</p>

<p>But, in the article's credit, look at the final paragraph - small print indicating where problems with the formula might lie and of course the OP's example falls into this area where all bets are off.</p>

<p>In truth the decay of the voltage is exponential from the top of the peak and not-linear and this will make a difference too.</p>
","75275"
"Soldering a VGA cable - number of wires doesn't match","82348","","<p>I decided to open up a VGA cable which started to produce only red / blue / green colored image. I thought that inside I will find something like shown on  this scheme:</p>

<p><img src=""https://i.stack.imgur.com/DtrXl.gif"" alt=""enter image description here""> </p>

<p>Instead I found that my VGA cable is a more complex one. Allso the wire colors do not mach with the ones in the scheme above:</p>

<p><img src=""https://i.stack.imgur.com/avJfR.jpg"" alt=""enter image description here""></p>

<p>It has 11 wires instead of just 6. My cable has yellow and cyan cables for V-sync and H-sync but then there are these colours (white, gray, brown, black, dark red and bright red) which I don't know where to solder. I need an advice. </p>
","<p>You actually have 14 wires if you count the ground return for each colour, it may use one of those on pin 5 (GND) as in your diagram to complete the set of 15. The other pins are often used for communications. For example from <a href=""https://en.wikipedia.org/wiki/VGA_connector"" rel=""nofollow"">VGA connector</a> on Wikipedia some of the ones your diagram showns as not connected are:</p>

<ul>
<li>Pin 4 - ID2/RES - formerly Monitor ID bit 2, reserved since E-DDC</li>
<li>Pin 9 - KEY/PWR - formerly key, now +5V DC</li>
<li>Pin 11 - ID0/RES - formerly Monitor ID bit 0, reserved since E-DDC</li>
<li>Pin 12 - ID1/SDA - formerly Monitor ID bit 1, I²C data since DDC2</li>
<li>Pin 15 - ID3/SCL - formerly Monitor ID bit 3, I²C clock since DDC2</li>
</ul>

<p>The reference to DDC refers to the <a href=""https://en.wikipedia.org/wiki/Display_Data_Channel"" rel=""nofollow"">Display Data Channel</a> that the host can use to query the monitor for its capabilities such as supported resolutions and refresh frequencies. So while I believe in many cases they could be left disconnected with the loss of that functionality they won't all be additional ground signals as you mentioned in a comment.</p>

<p>If you're feeling experimental (and there are no guarantees this won't cause damage) because I'm not sure if the colours are 100% standard I'd try the following:</p>

<ul>
<li><p>Connect the RGB center wires to pins 1/2/3 with the shields going to pins 6/7/8 respectively.</p></li>
<li><p>Short pin 8 to pin 5 to get the additional ground.</p></li>
<li><p>Connect the other wires as per your diagram leaving unknown ones disconnected</p></li>
</ul>

<p>Now see if you can get an image on the projector by forcing a resolution you know that it supports because you won't have the DDC channel. If that works OK and it's not a problem leave it at that. Otherwise you could probably identify the remaining pins by measuring between ground and the DDC2 pins 12 / 15 using a scope during initial negotiation to check for the square clock versus data. The 5V to go to pin 9 should be easy enough to spot and is presumably present the whole time.</p>
","93088"
"Is it possible to calculate how much heat dissipation and temperature rise will take place in a resistor","81840","","<p>Suppose I have a 100 mAh battery at 20V. I connect a 1000 kohm resistor across it. How much heat will be generated and how can I find the temperature rise in the resistor? As the battery operates I think that the current flow will reduce over time but am not sure about the voltage for a real battery. Perhaps I am not giving sufficient information here, I am sorry for that.</p>

<p>I just wish to know, what information is needed to make such calculation? Have you ever done it? In the ideal case (taking only the most significant factors into consideration) what factors are considered to make an estimate of the heat dissipation and temperature rise and why would the real heat dissipation and temperature in the actual practical experiment be different?</p>

<p>I know this question looks hard, but I will be very happy if I can finally have this mystery resolved.</p>
","<p>The power delivered to a resistor, all of which it converts to heat, is the voltage accross it times the current thru it:</p>

<p>&nbsp;&nbsp;P = IV</p>

<p>Where P is power, I is current, and V is voltage.  Since current thru a resistor is related to the voltage accross it and the resistance:</p>

<p>&nbsp;&nbsp;I = V/R</p>

<p>where R is the resitance, there are several other ways to look at the power.  For example, you can rearrange the above equations to make power as a direct function of voltage or current:</p>

<p>&nbsp;&nbsp;P = V<sup>2</sup>/R</p>

<p>&nbsp;&nbsp;P = I<sup>2</sup>R</p>

<p>It so happens that if you stick to units of Volts, Amps, Watts, and Ohms, no additional conversion constants are required.</p>

<p>In your case you have 20 V accross a 1 k&Omega; resistor:</p>

<p>&nbsp;&nbsp;(20V)<sup>2</sup>/1k&Omega; = 400 mW</p>

<p>That's how much power the resistor will be dissipating.  The first step to dealing with this is to make sure the resistor is rated for that much power in the first place.  Obvious a ""1/4 Watt"" resistor won't do.  The next common size is is ""1/2 Watt"", which can take that power in theory with all appropriate conditions met.  Read the datasheet carefully to see under what conditions your 1/2 Watt resistor can actually dissipate a 1/2 Watt.  It might specify that ambient has to be 20&deg;C or less with a certain amount of ventillation.  If this resistor is on a board that is in a box with something else that dissipates power like a power supply, the ambient temperature it sees could be significantly more than 20&deg;C.  In that case, the ""1/2 Watt"" resistor can't really handle 1/2 Watt, unless perhaps there is air from a fan actively blowing accross its top.</p>

<p>To know how much the resistor's temperature will rise above ambient you will need one more figure, which is the thermal resistance of the resistor to ambient.  This will be roughly the same for the same package types, but the true answer is available only from the resistor datasheet.  Let's way just to pick a number (out of thin air, I didn't look anything up, example only) that the resistor with suitable copper pads has a thermal resistance of 200&deg;C/W.  The resistor is dissipating 400 mW, so its temperature rise will be about  400mW * 200&deg;C/W = 80&deg;C.  If it's on a open board on your desk, you can probably figure 25&deg;C maximum ambient, so the resistor could get to 105&deg;C.  Note that's hot enough to boil water, but most resistors will be fine at this temperature.  Just keep your finger away.  If this is on a board in a box with a power supply that raises the temperature in the box 30&deg;C from ambient, then the resistor temp could reach 25&deg;C + 30&deg;C + 80&deg;C = 135&deg;C.  Is that OK?  Don't ask me, check the datasheet.</p>
","65205"
"Why does the CAN bus use a 120 ohm resistor as the terminating resistor and not any other value?","81348","","<p>I know the reasons for using terminating resistors on a <a href=""http://en.wikipedia.org/wiki/CAN_bus"">CAN bus</a> and how important it is.</p>

<p>But why 120&nbsp;ohm? How did this value come up? Is there any specific reason to use 120&nbsp;ohm?</p>
","<p>You need to be familiar with <a href=""http://www.ece.uci.edu/docs/hspice/hspice_2001_2-269.html"">Transmission Line Theory</a> to understand the deeper physics in play here. That said, here's the high-level overview:</p>

<p>How important termination is to your system is almost exclusively determined by how long the bus wires are. Here length is determined in terms of wavelengths. If your bus is shorter than one wavelength over 10, the termination is irrelevant (practically) since there is plenty of time for the reflections introduced from an impedance mismatch to die out.</p>

<p>Length defined in wavelengths is a strange unit on first encounter. To convert to standard units you need to know the velocity of the wave and it's frequency. Velocity is a function of the medium it travels through and the environment surrounding the medium. Usually this can be estimated fairly well through the dielectric constant of the material and assuming free-space surrounding that medium.</p>

<p>Frequency is a little more interesting. For digital signals (such as those in CAN), you are concerned with the maximum frequency in the digital signal. That is well approximated by f,max = 1/(2*Tr) where Tr is the rise time (defined 30%-60% of the final voltage level, conservatively).</p>

<p>Why it's 120 is simply a function of the design limited by physical size. It isn't specifically important which value they picked within a broad range (for example, they could have gone with 300 Ohms). However, all devices in the network have to conform to the bus impedance, so once the CAN standard was published there can be no more debate. </p>

<p>Here's <a href=""http://en.wikipedia.org/wiki/ISO_11898"">a reference</a> to the publication (Thanks @MartinThompson).</p>
","55394"
"Blink an LED with just a capacitor?","80748","","<p>Is it possible to blink an LED using just a capacitor? (and maybe a resistor).</p>

<p>For example, if I want to LED to blink once every 2 seconds. Is that possible?</p>

<p>I know it can be done with a 555 as well as with a capacitor and transistor.</p>
","<p>Blinking an LED can't done with just passive elements. Interestingly, you <em>can</em> accomplish periodically blinking a light, with a resistor and a capacitor, if your light happens to be a neon discharge lamp. The reason a neon bulb will work and an LED won't has to do with their current-vs-voltage behavior. </p>

<p>In the LED's case, no matter what the voltage across it, some current will be passed. This effectively keeps the cap from charging up, as an operating point is established that is determined by the LED and the resistor. You'll just get a constant glow of some intensity.</p>

<p>But with the neon bulb, no current is passed until the voltage exceeds some threshold, which is the breakdown voltage of the neon gas. This allows the capacitor to charge up while the bulb remains dark. When the breakdown voltage is reached, the gas ionizes, and the energy stored in the capacitor is dumped through it, producing a short, bright flash.</p>

<p>Basically you need some device in the circuit that operates like an active device. To blink an LED, you need a couple of transistors (e.g., multivibrator configuration) or possibly a single SCR (biased to have a suitably low break-over voltage). In the case of a neon bulb, the bulb itself is the active device, having distinct conducting and cutoff behavior.</p>
","3739"
"What kind of wattage for soldering small electronics?","80693","","<p>I am just starting out in Electronics and I am looking for a Soldering Iron. (Obviously it would make no sense since I'm starting to get a SUPER expensive iron.)</p>

<p>What kind of wattage should I be looking for? 30-40 watts?</p>

<p>I've seen the name Weller thrown around a lot. Are they a good reliable brand?
edit: Also side question, when looking for multimeters I see a lot of ""ranges"" like 29 range, 39 range etc.  How do I know exactly which one to get?</p>

<p>I saw something like <a href=""http://www.sparkfun.com/products/9672"" rel=""noreferrer"">this one</a>,</p>

<p><img src=""https://i.stack.imgur.com/vYnON.jpg"" alt=""enter image description here""></p>

<p>but I don't know if that's ""good"".  I don't figure I need a HUGELY expensive kit just to do small electronics/robotics.</p>
","<p>A 30-40 watt fixed-temperature iron will be on the hot side for electronics work. It will melt solder very quickly and make it really easy to heat up large component leads quickly, such as those on connectors. However, it also risks exceeding the heat limits on more delicate components. If you have good technique so that you can make a joint quickly, you avoid the risk and get the benefit, but by the same token, I don't know that I would recommend an iron that hot to a newbie.</p>

<p>If you only want a simple pencil iron and are going to be using it primarily for relatively delicate parts &mdash; ICs, small-signal transistors, film capacitors... &mdash; you may want to start with something more in the 15 to 25 W range. Again, the hotter it is, the faster it is to make the joint, but also the quicker it can damage something.</p>

<p>There's a tradeoff, where the iron is too cool to heat the component lead and solder quickly so you also burn the board because it simply takes too long to make the joint. Some may argue that 15 W is below this limit, others may say it's just above the limit. I haven't used an iron that cool in so long that I couldn't really say.</p>

<p>The high road is to avoid all this and get a good temperature-controlled iron. With such a tool, you can trust that when you set the iron to 300°C to solder a component whose datasheet says it should be soldered at no more than 300°C for 5 seconds, that it won't die if you complete the joint in less than 5 seconds. With a fixed-temperature iron, you not only probably won't know the idle temp of the iron, you won't know how far its temp dips when loaded or how long it takes to recover. With a cheap adjustable iron, it probably won't be properly calibrated to give the rated temp at the tip with every combination of tip type, and you also get the ""loading and recovery"" problem.</p>

<p>I know you say you don't want a ""super expensive"" iron, but the one you pointed to is downright cheap, relatively speaking. It may be that it's a poor clone of the famous Hakko 936, and its bad value is signalled by being in that no-mans land between a basic pencil iron and the low-end of good temp-controlled irons. (I'd put that low end border at around $90 US, by the way.) It may also be that it's an outstanding value. I couldn't say, having not used it. Its price does make me wary, however, as does the fact that it's cloning a well-known design. Some clones are nearly as good as the original, a rare few are better, but most are worse. If you buy it, I'd say you'd want to be prepared to replace it.</p>

<p>Actually, for someone in that position, I'd say start with a $9 pencil iron and then later step up to a good temperature-controlled iron and skip over the no-mans land of cheapies you're looking at now.</p>

<p>As for ""Weller"" as a brand, they have a good reputation, but I've never used one, having never found one with the combination of features and price that made me happy. I've only ever used one name-brand iron, and it's way outside your price range. Everything else I've used successfully has been no-name house brand stuff. The point is that while quality matters, brand names aren't the best way to find it in this particular market. I suppose that's due to the fact that soldering irons are fundamentally not that complicated, and they're used worldwide, including in the same cheap Chinese factories we all love/hate. The poor Chinese laborer needs good irons, too, so they make their way out to the rest of us.</p>
","13184"
"Just chopped a cable, is red power, black ground?","80035","","<p>I've just chopped a usb to micro-b usb cable. </p>

<p>There are 4 small wires inside</p>

<ul>
<li>Red</li>
<li>Black</li>
<li>White</li>
<li>Green</li>
</ul>

<p>Isn't it universal that Red is power and black is ground?</p>
","<blockquote>
  <p>red = +5 V<br>
  white = D-<br>
  green = D+<br>
  black = ground</p>
</blockquote>

<p><img src=""https://i.stack.imgur.com/yLO7c.png"" alt=""enter image description here""></p>

<p>(Page 89 of the USB 2 specification)  </p>

<p><strong>edit</strong> (after reading the other 649 pages)<br>
OK, that's from the formal specification. Reassuring, isn't it? It can even get you an accepted answer. You can feel it coming: there's a but.  </p>

<p><img src=""https://i.stack.imgur.com/jRC86.png"" alt=""enter image description here""></p>

<p>This is from page 94. At first sight it seems to confirm what I said, but then there's that word ""typical"". So not mandatory? I read some more, and the answer isn't clear. The word ""typical"" must be the most used word in the spec, and also seems to be used for mandatory specifications:  </p>

<p><img src=""https://i.stack.imgur.com/seq6x.png"" alt=""enter image description here""></p>

<p>There's that word again, page 93. Sounds like non-binding, but the text above it does say ""<em>should</em> be oriented to allow"" (emphasis mine). So ""typical"" seems to be used for mandatory specifications. Talk about confusion!</p>

<p>Apparently there's only 1 way you can trust: measure it. Compare the wire color with the pin number on the connector. The pin number locations are shown in the drawing and their assignments in the table. I'm 99 % sure that it will agree with the ""typical"" wiring assignment.  </p>

<p>There's just that other 1 %... :-(</p>

<p><br /></p>

<p><strong>Further reading</strong><br>
<a href=""http://www.usb.org/developers/docs/usb_20_071012.zip"" rel=""noreferrer"">USB version 2.0 specification</a> (.zip file format, size 19.5 MB)</p>
","37066"
"Do I really need resistors when controlling LEDs with Arduino?","79210","","<p>I'm just trying out Arduino Uno for the first time with 2 blinking LEDs on a breadboard. All the tutorials on the Internet seem to use a resistor. I do know the function of resistors, but does it really matter here? These LEDs are working just fine without a resistor.</p>
","<p>Naughty! :-). If they say to use a resistor there's a good reason for that! <strong>Switch it off, NOW!</strong> </p>

<p>The resistor is there to limit the LED's current. If you omit it the current limiting has to come from the Arduino's output, and it will not like it. How do you find out what the resistor needs to be? You do know Ohm's Law? If you don't, write it down in big letters:  </p>

<p>\$ V = I \cdot R \$</p>

<p>Voltage equals current times resistance. Or you could say  </p>

<p>\$ R = \dfrac{V}{I} \$</p>

<p>It's the same thing. The voltage you know: Arduino runs at 5V. But not all that will go over the resistor. The LED also has a voltage drop, typically around 2V for a red LED. So there remains 3V for the resistor. A typical indicator LED will have a nominal current of 20mA, then</p>

<p>\$ R = \dfrac{5V - 2V}{20mA} = 150\Omega \$</p>

<p>The Arduino Uno uses the <a href=""http://www.atmel.com/Images/doc8161.pdf"">ATmega328</a> microcontroller. The datasheet says that the current for any I/O pin shouldn't exceed 40mA, what's commonly known as Absolute Maximum Ratings. Since you don't have anything to limit the current there's only the (low!) resistance of the output transistor. The current may so well be higher than 40mA, and your microcontroller will suffer damage.</p>

<p><strong>edit</strong><br>
The following graph from the ATmega's datasheet shows what will happen if you drive the LED without current limiting resistor:  </p>

<p><img src=""https://i.stack.imgur.com/SVBGv.png"" alt=""enter image description here"">  </p>

<p>Without load the output voltage is 5V as expected. But the higher the current drawn the lower that output voltage will be, it will drop about 100mV for every extra 4mA load. That's an internal resistance of 25\$\Omega\$. Then  </p>

<p>\$ I = \dfrac{5V - 2V}{25\Omega} = 120mA \$  </p>

<p>The graph doesn't go that far, the resistance will rise with temperature, but the current will remain very high. Remember that the datasheet gave 40mA as Absolute Maximum Rating. You have three times that. This will <em>definitely</em> damage the I/O port if you do this for a long time. And probably the LED as well. A 20mA indicator LED will often have 30mA as Absolute Maximum Rating.</p>
","32992"
"I'm trying to use 3v LEDs in a 12V circuit, in my car","78752","","<p>I'm trying to make a circuit that will run 1-3 LED in a parallel, powered by a 12V power source. I used a voltage divider calculator and it said to use a 100ohm and 33ohm resistor. when I wire them in correctly, the 100ohm resistor overheats and eventually fails. How would I change this circuit to keep this resistor from overheating??
Both resistors are 1/2 Watt.
LEDs are 3.6v max.</p>
","<p>By decoding your question, this is what I arrive at: </p>

<p>You are using the two resistors as a voltage divider, with the LEDs wired in parallel connected to the junction of these two resistors.  </p>



<p><img src=""https://i.stack.imgur.com/xLtFv.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fxLtFv.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p><strong>This is not a valid approach</strong>, the voltage divider will not provide the 1:4 (approximately) voltage division your calculations indicate. </p>

<p>Firstly, either apply the three LEDs in series, with one resistor in series, or if you must have them in parallel, each will need a series resistor.  </p>



<p><img src=""https://i.stack.imgur.com/LUd7n.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fLUd7n.png"">simulate this circuit</a></sup></p>

<p>The above indicative values of resistors are assuming 20 mA per LED as optimal. Do your own calculations for your specific LEDs.</p>

<p>For a ready to use online calculator, use an ""LED resistance calculator"" instead of a voltage divider one. <a href=""http://led.linear1.org/led.wiz"" rel=""noreferrer"">This one</a> even provides the correct schematic or wiring diagram as you prefer, to wire the LEDs up.</p>
","66359"
"How to determine which wire is which on a transformer?","78647","","<p>Let's say I have a transformer with 3 coils. When primary coil is connected to 230V, two secondaries output 12V. Wires are color coded, but I don't know what colors stand for and there is no information about that on manufacturer's website.</p>

<p>Is there any relatively easy way to determine which wire is primary, which is secondary and which is start to the secondary and which is end of the secondary coil?</p>
","<p>In a step-down transformer, the primary winding will have a higher resistance. The resistance will be low, but there should be a noticable difference unless you've got a really big transformer.</p>

<p>If you're trying to identify what a winding is, then here are some notes:</p>

<ul>
<li>If 3 wires have continuity, then you probably have a center-tap winding (+, 0, -)</li>
<li>If only 2 wires have continuity, then that is a simple winding.</li>
<li>If 4 or more wires have continuity, then you have a multi-tap transformer winding.</li>
</ul>

<p>Transformer windings have a phase relationship, but it's typically not important for power supplies. Unless one of the wires has continuity to the transformer core, the polarity doesn't matter.</p>

<p>A relatively safe way to test transformers is to hook up a small AC voltage (1-5VAC) and measure the voltages across the other windings.</p>
","8025"
"How is using a transformer for isolation safer than directly connecting to the power grid?","77518","","<p>How is using a 1:1 transformer safer than using the mains straight off? Is it because you can limit the current coming from the transformer whereas straight from the mains its not current limited? I fail to see how its ""safer"" when playing with electricity is dangerous. Could someone please explain why it is considered safer to be isolated by a transformer. </p>
","<p>Without a transformer the live wire is live relative to ground.
If you are at ""ground"" potential then touching the live wire makes you part of the return path.</p>

<p><img src=""https://t3.gstatic.com/images?q=tbn:ANd9GcRuXQXyGwaKKhwOt-9d7QsnY1iYfnTQe0-4XwEU-5Qly1ToFr60"" alt=""enter image description here""></p>

<p>{This image taken from <a href=""http://www.soundonsound.com/sos/nov06/articles/crosstalk_1106.htm"" rel=""noreferrer"">an excellent discussion here</a></p>

<p>With a transformer the output voltage is not referenced to ground - see diagram (a) below. There is no ""return path"" so you could (<strong>stupidly</strong>) safely touch the ""live "" conductor and ground and not received a shock.</p>

<p><img src=""https://i.stack.imgur.com/AYytn.gif"" alt=""enter image description here""></p>

<p>From <a href=""http://www.tlc-direct.co.uk/Book/5.8.4.htm"" rel=""noreferrer"">The Electricians Guide</a></p>

<p>I say ""<strong>stupidly</strong>"" as, while this arrangement is <strong>safer</strong> it is not <strong>safe</strong> unconditionally. This is because, if there is leakage or hard connection from the other side of the transformer to ground then there may still be a return path - as shown in (b) above. In the diagram the return path is shown as either capacitive or direct. If the coupling is capacitive then you may feel a ""tickle"" or somewhat mild ""bite"" from the live conductor. If the other conductor is grounded then you are back to the original transformlerless situation. (Capacitive coupling may occur when an appliance body is connected to a conductor but there is no direct connection from body to ground. The body to ground proximity forms a capacitor.) </p>

<p>SO a transformer makes things <strong>safer</strong> by providing isolation relative to ground. Murphy / circumstance will work to defeat this isoation.</p>

<p>This is why, ideally, an isolating transformer should be used to protect only one item of equipment at a time. With one item a fault in the equipment will propbably not produce a dangerous situation. The transformer has done its job. BUT with N items of equipment - if one has a fault from neutral to case or is wired wrongly this may defeat the transformer such that a second faulty device may then present a hazard to the user.  In figure (b) above, the first faulty device provides the link at bottom and the second provides the link at top.</p>

<hr>

<p>Similarly:</p>

<p><img src=""https://i.stack.imgur.com/d0XDr.jpg"" alt=""enter image description here""></p>
","17500"
"definition of power signals and energy signals","77412","","<p>Why is it so that for a signal to be an energy signal it must have power zero and for a power signal the energy value should be infinity ?</p>
","<p>Reading between the lines of the question: -</p>

<p>Firstly a signal that posseses energy has the potential to do work - it can convert that energy into heat or just pass that energy on to something else. Energy isn't lost, it either remains ""potential"" energy or gets transferred to something else partially or wholly.</p>

<p>When energy is taken from an object or a component (such as an inductor or capacitor or spring or flywheel), the amount of energy taken divided by the time elapsed to take that energy is power. Over a long time period this is often called ""average power""</p>

<p>Therefore, for a signal possessing energy to have zero power I guess you could say that it is not losing or gaining any energy i.e. it is in equilibrium.</p>

<p>By contrast, if something is giving off power and is still in energy equilibrium it must have infinite energy.</p>

<p>I've done the best I can to try and read between the lines of this question and if you want a better answer you'll have to try and explain the statements in your question.</p>
","77679"
"What is the reverse recovery time in a diode?","75796","","<p>What is the reverse recovery time in a diode?</p>
","<p>If a diode is conducting in a forward condition and immediately switched to a reverse condition, the diode will conduct in a reverse condition for a short time as the forward voltage bleeds off.  The current through the diode will be fairly large in a reverse direction during this small recovery time.</p>

<p>After the carriers have been flushed and the diode is acting as a normal blocking device in the reversed condition, the current flow should drop to leakage levels.</p>

<p>This is just a generic description reverse recovery time.  It can affect quite a few things, depending on context, as mentioned in the comments.</p>
","14597"
"Solder won't stick","75452","","<p>I am trying to make an LCD <a href=""http://www.arduino.cc/en/Main/ArduinoShields"" rel=""nofollow"">shield</a> from my Arduino and am having problems trying to got the solder to stick to the Freetronics <a href=""http://www.arduino.cc/playground/tutorials/protoshield"" rel=""nofollow"">protoshield</a> PCB. I have cleaned it as best I can. </p>

<p>I am using a decent Proxxon soldering bolt with solder that has worked good for me in the past. How can I get it to stick?</p>

<p>It won't bond to the PCB, only the wires.</p>
","<p>Heat! (One word answer)</p>

<p>A classic reason solder won't stick to something is because you're not getting it hot enough. My interns come to me with this problem <em>all the time</em>.</p>

<ol>
<li><p>Make sure the tip of the iron is nice and shiny. Touch some solder on it, and it should melt almost instantly.</p></li>
<li><p>Put a nice little blob of solder on the tip of the iron.</p></li>
<li><p>Press the blob of solder into the metal to be soldered.</p></li>
<li><p>Initially the solder won't be too keen, but when the metal reaches the right temperature, the solder will suddenly be attracted to it, and you'll see it move slightly.</p></li>
<li><p>Now that the pad has reached temperature, you can touch the solder anywhere on the pad and it should melt almost instantly. I often add solder this way so I know I'm adding it to a nice hot pad.</p></li>
</ol>

<p>Hugo</p>
","3811"
"Diodes in parallel or series","75040","","<p>I am wondering what the effects are of putting diodes in parallel or putting them in series. (like current capabilities, voltage capabilities etc.) Let's say I have a datasheet of a diode. What characteristics would change ? My estimation is that putting parallel would increase the current capabilities, but may have a negative effect in reverse leakage. I have no idea if I am right or how to test it, so any info on diodes in parallel or series would be great.</p>
","<p>Connecting diodes in series (<code>AK-AK --|&lt;--|&lt;--</code>) will increase the forward voltage of the resultant diode.</p>

<p>Connecting diodes in series (<code>AK-KA --|&lt;--&gt;|--</code>) will cause an open circuit until peak inverse voltage (smallest diode) is applied on total resultant.</p>

<p>Connecting diodes in parallel (<code>AK/AK --|&lt;-- + --|&lt;--</code>) will increase the current carrying capacity of the diode. See ""Current Sharing"" document below.</p>

<p>Connecting diodes in parallel (<code>AK/KA  --|&lt;-- + --&gt;|--</code>) will not get you a resultant diode conduction in both sides.</p>

<p><strong>Diodes in parallel:</strong></p>

<p>Diodes are frequently connected in parallel in switching power supplies in order to share the current. Here is a document on <a href=""http://www.st.com/content/ccc/resource/technical/document/application_note/a4/ef/bc/7d/78/89/49/f1/DM00098381.pdf/files/DM00098381.pdf/jcr:content/translations/en.DM00098381.pdf"" rel=""nofollow noreferrer"">""Current sharing in parallel diodes""</a>.</p>

<p><a href=""https://i.stack.imgur.com/NTIFQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NTIFQ.png"" alt=""Diodes in parallel""></a></p>

<p>Thermal Runaway really depends on the diode package and the heat-sink (dissipation) that they are mounted on. The diode in my hand right now has a maximum Tj of 150 C (<a href=""https://www.vishay.com/docs/94329/stps30l6.pdf"" rel=""nofollow noreferrer"">Vishay STPS30L60CW-N3</a>). Provided enough dissipation in the design, the design can deliver higher current in ""diodes in parallel"".</p>
","53194"
"What is ground and what does it do?","74565","","<p>I'm a bit confused about the concept of ground, and perhaps voltage as well, particularly when trying to analyze a circuit. When I learned about Ohm's law in grade school, I learned how to apply the law to calculate current, voltage, and resistance of simple circuits. </p>

<p>For instance, if we were given the following circuit:</p>

<p><img src=""https://i.stack.imgur.com/vkU4h.png"" alt=""enter image description here""></p>

<p>We would be could be asked to calculate the current passing through the circuit. At the time, I'd simply compute (based on the rules given) 1.5V/1Ohms=1.5A.</p>

<p>Later on, however, I learned that the reason the voltage of the resistor would be 1.5V is because voltage is really the difference in potential between two points, and that the difference of the voltage across the battery would be the same as that of the resistor (correct me if I'm mistaken), or 1.5V. I got confused, however, after the introduction of the concept of ground. </p>

<p>The first time I tried to do the current calculation for a circuit similar to the previous circuit on a simulator, the program complained about not having a ground and ""floating voltage sources"". After a bit of searching, I learned that circuits need ground as a reference point or for safety reasons. It was mentioned in one explanation that one can pick any node for ground, although it's customary to design circuits so there is a ""easy place"" to pick ground. </p>

<p>Thus for this circuit</p>

<p><img src=""https://i.stack.imgur.com/UFuuq.png"" alt=""enter image description here""></p>

<p>I picked ground at the bottom, but would it be okay to pick ground between the 7 ohm and 2 ohm resistor - or any other place? And what would be the difference when analyzing the circuit?</p>

<p>I've read that there are 3 typical ground symbols with different meanings - chassis ground, earth ground, and signal ground. A lot of circuits I've seen used in exercises either use earth ground or signal ground. What purpose is there in using earth ground? What is the signal ground connected to?</p>

<p>Another question: since the ground is at unknown potential, wouldn't there be current flowing to or from ground to the circuit? From what I've read we treat the ground as 0V, but wouldn't there be some sort of effect because of a difference in potential of the circuit and ground? Would the effect be different depending on what ground was used?</p>

<p>Finally: In nodal analysis, one customarily picks a ground at the negative terminal of the battery. However, when there are multiple voltage sources, some of them are ""floating"". What meaning does the voltage of a floating voltage source have?</p>
","<blockquote>
  <p>The first time I tried to do the current calculation for a circuit similar to the previous circuit on a simulator, the program complained about not having a ground and ""floating voltage sources"".</p>
</blockquote>

<p>Your simulator wants to be able to do its calculations and report out the voltages of each node relative to some reference, rather than have to report the difference between every possible pair of nodes. It needs you to tell it which node is the reference node.  </p>

<p>Other than that, for a well-designed circuit, the ""ground"" has no significance in the simulation. If you design a circuit where there is no dc path between two nodes, though, the circuit will be unsolvable. Typical SPICE-like simulators resolve this by connecting extra resistors, typically 1 GOhm, between every node and ground, so it is conceivable that the choice of ground node could artificially affect the results of a simulation of a very high-impedance circuit.</p>

<blockquote>
  <p>I picked ground at the bottom, but would it be okay to pick ground between the 7 ohm and 2 ohm resistor - or any other place? And what would be the difference when analyzing the circuit?</p>
</blockquote>

<p>You can pick any node as your reference ground. Often we think ahead and pick a node that will eliminate terms for the equations (by setting them equal to 0), or simplify the schematic (by allowing us to indicate connections through a ground symbol instead of by a bunch of lines connecting together).</p>

<blockquote>
  <p>I've read that there are 3 typical ground symbols with different meanings - chassis ground, earth ground, and signal ground. A lot of circuits I've seen used in exercises use earth ground or signal ground. What purpose is there in using earth ground? What is the signal ground connected to?</p>
</blockquote>

<p>Earth ground is used to indicate a connection to something that is physically connected to the ground beneath our feet. A wire leading through the building down to a copper rod driven into the ground, in a typical case. This ground is used for safety purposes. We assume that someone who handles our equipment will be connected to something like earth ground by their feet. So earth ground is the safest circuit node for them to touch, because it won't drive currents through their body.</p>

<p>Chassis ground is just the potential of the case or enclosure of your circuit. For safety purposes it's often best for this to be connected to earth ground. But calling it ""chassis"" instead of ""earth"" means you haven't assumed that it <em>is</em> connected.</p>

<p>Signal ground is often distinguished from earth ground (and partially isolated from it) to minimize the possibility that currents flowing through the earth ground wires will disturb measurements of the important signals.</p>

<blockquote>
  <p>Another question: since the ground is at unknown potential, wouldn't there be current flowing to or from ground to the circuit?</p>
</blockquote>

<p>Remember, a complete circuit is required for current to flow. You would need connections to earth ground in two places for current to flow in and out of your circuit from earth ground. Realistically, you'd also need some kind of voltage source (a battery, or an antenna, or something) in one of those connection paths to have any sustained flow back and forth between your circuit and the earth.</p>

<blockquote>
  <p>However, when there are multiple voltage sources, some of them are ""floating"". What meaning does the voltage of a floating voltage source have?</p>
</blockquote>

<p>If I have voltage source with value <em>V</em> between nodes <em>a</em> and <em>b</em>, it means that the voltage difference between <em>a</em> and <em>b</em> will be <em>V</em> volts. A perfect voltage source will generate whatever current is required to make this happen. If one of the nodes happens to be ground, that gives you immediately the value at the other node in your reference system. If neither of those nodes happens to be ""ground"" then you will need some other connections to establish the value of the voltages at <em>a</em> and <em>b</em> relative to ground.</p>
","56214"
"How can I get my atmega328 to run for a year on batteries?","74554","","<h3>Scenario</h3>

<p>I have created a nice electronic door lock for my dorm room. It is currently an Arduino Diecimila with a servo [un]locking the door. It has a numerical keypad with 3x4 buttons and 5 LED's (2 serie pairs and one single LED). It also currently runs on a cellphone charger.</p>

<p>I have now redesigned it to run on a standalone Arduino (ATmega328), but would really like to have it run on AA batteries or even a 9V battery.</p>

<p>For the software part, I figured I could put <code>sleep</code> calls for certain times inside the loop method to keep the ATmega power consumption as low as possible. And let the LED's ""flash"" with as long as possible time off.</p>

<h3>Question 1</h3>

<p>When a button is pressed during the few milliseconds which the board sleeps, will it be ""remembered""/""held"" until it comes out of sleep and then be picked up as a button press?</p>

<p>What would be the best way to handle this button press on sleep? Can I code it to wake up upon button activity, or must I just let it sleep for e.g. 10m.s. in every loop?</p>

<h3>Question 2</h3>

<p>How would I approach the math of calculating how many AA batteries are needed to run this device for 10 months?</p>

<p>Also, I don't know how to measure the average power usage per minute or so, since it alternates quickly etc.</p>

<h3>The Device</h3>

<p><img src=""https://i.stack.imgur.com/VfDzi.jpg"" alt=""My door lock device""></p>
","<p>The Atmega328 provides six power saving modes, ordered from minimal to excellent (estimated current consumptions from <a href=""http://www.gammon.com.au/forum/?id=11497"">this forum post</a>):</p>

<ul>
<li>SLEEP_MODE_IDLE: 15 mA</li>
<li>SLEEP_MODE_ADC: 6.5 mA</li>
<li>SLEEP_MODE_PWR_SAVE: 1.62 mA</li>
<li>SLEEP_MODE_EXT_STANDBY: 1.62 mA</li>
<li>SLEEP_MODE_STANDBY : 0.84 mA</li>
<li>SLEEP_MODE_PWR_DOWN : 0.36 mA</li>
</ul>

<p>Quoting the original question:</p>

<blockquote>
  <p><em>I figured I could put <code>sleep</code> calls for certain times inside the loop method</em>""</p>
</blockquote>

<p>You would need to use <code>sleep_cpu()</code> after setting up the sleep mode you require, from the list above. The Arduino Playground has a <a href=""http://www.arduino.cc/playground/Learning/arduinoSleepCode"">useful post about this</a>. </p>

<p>The application needs to be interrupt driven, use the above sleep modes extensively, and wake the processor up on button push, timer overflow and watchdog timer events to actually execute tasks.</p>

<p>Additional power savings can be obtained through the following steps:</p>

<ul>
<li>Use the microcontroller's internal oscillator and a low clock rate (8MHz instead of 16) - but ensure that time and timing related code still works as expected. A different version of the bootloader might be needed for this.</li>
<li>Avoid keeping LEDs on for long if the application uses them. Using a rapid double or triple flash of short duration (0.05 second on, 0.5 second off), with gaps of seconds in between, ensures noticeable indication with minimal power consumption</li>
<li>Use a switching regulator instead of a linear one, if a regulator is required.</li>
<li>Run the microcontroller at lower voltage if supported, 3.0 Volts (e.g. CR2032 Lithium cell, no regulator needed) or 3.3 Volts instead of 5 Volts.</li>
<li>Follow recommendations in the datasheet for unused input and output pin settings for minimum power wastage.</li>
</ul>

<p>Incorporating these suggestions allows for running microcontroller applications for weeks or months on a single CR2032 coin cell, and years on a LR123 type lithium cell. Of course, your mileage may vary depending on what sensors, outputs and actual processing your application requires.</p>

<p>Some useful references:</p>

<ul>
<li><a href=""http://www.engblaze.com/hush-little-microprocessor-avr-and-arduino-sleep-mode-basics/"">Hush little microprocessor… AVR and Arduino sleep mode basics</a></li>
<li><a href=""http://www.sparkfun.com/tutorials/309"">Adventures in Low Power Land - Sparkfun tutorial</a></li>
<li><a href=""http://www.gammon.com.au/forum/?id=11497"">Power saving techniques for microprocessors (forum post)</a></li>
</ul>
","49233"
"Is Bluetooth Communication Possible Without Pairing?","72608","","<p>I'm working on a device which can wirelessly activate a system ""instantly"". The first thing which came to mind was to use RFID technology which has the advantage of instant and cheap communication. However, I am interested in using my phone's bluetooth capabilities to accomplish this task instead.</p>

<p>So my question is, to use Bluetooth communication, is there a way to communicate without pairing? In other words, at a very simplistic level, suppose my Bluetooth receiever is expecting a code ""abc123"". A Bluetooth device, like a phone, is programmed to constantly transmit this code. Upon receipt of the code, the system commences to do whatever its supposed to once access is granted. Such a system would remove the pairing barrier, of course, at the cost of security.</p>

<p>So is this concept a possibility? I have little understanding of Bluetooth link protocols at a very technical level, but if someone can give me a lead, I can start learning from that point. Do not consider my limited understanding a constraint.</p>
","<p>Yeah, it's entirely possible. I commented on this previously and have since looked into it further. You can have the triggering Bluetooth device send the activation signal through its <em>friendly name</em>. </p>

<p>The friendly name is the human-readable name that appears in the the list when you search for a Bluetooth device to pair with. The speed at which this activates depends on how quickly the receiving device polls for friendly names. You haven't mentioned what type of receiving device you're using but I found <a href=""http://people.csail.mit.edu/rudolph/Teaching/Articles/BTBook-march.pdf"">this PDF</a> (Pg.35) detailing the process for updating the friendly names of in-range Bluetooth devices. </p>

<p>You can poll for friendly names as often as you require. If your triggering device changes its friendly name to the activation code, <code>abc123</code>, then the receiving device will be able to see that name without pairing and activate whatever task you're attempting to perform. This also allows you to have a multitude of activation codes, I think you can get up to 248 bytes for the friendly Bluetooth name.</p>

<p>You may also look into intentionally opening yourself up to <a href=""http://en.wikipedia.org/wiki/Bluejacking"">Bluejacking</a>. I'm not familiar with it, but if security isn't an issue it could work.</p>
","48658"
"How should I use a multimeter to determine which AA batteries to keep and which to toss?","72555","","<p>I have a bag of about 50 non-rechargeable AA batteries (1.5 V) that I have collected over the years.  I bought a multimeter recently and would like to know the best way to test these batteries to determine which ones I should keep and which I should toss.</p>

<p>Sometimes a battery will be useless for certain high-power devices (e.g. children's toys) but are still perfectly suitable for low-power devices such as TV remote controls.  Ideally, I'd like to divide the batteries into several arbitrary categories:</p>

<ul>
<li>As-new condition (suitable for most devices)</li>
<li>Suitable for low-powered devices such as remote controls</li>
<li>Not worth keeping</li>
</ul>

<p>Should I be measuring voltage, current, power or a combination of several of these?  Is there a simple metric I can use to determine what to keep and what to toss?</p>
","<h3>1) Ignore the funny answers</h3>

<p>Generally speaking, if a battery is more than 1 year old then only Alkaline batteries are worth keeping. Shelf life of non-Alkaline can be some years but they deteriorate badly with time. Modern Alkaline have got awesome - still a majority of charge at 3 to 5 years. </p>

<p>Non brand name batteries are often (but not always) junk.</p>

<p>Heft battery in hand. Learn to get the feel of what a ""real"" AA cell weighs. An Eveready or similar Alkaline will be around 30 grams/one ounce. An AA NiMH 2500 mAh will be similar. Anything under 25g is suspect. Under 20g is junk. Under 15g is not unknown.</p>

<h3>2) Brutal but works</h3>

<p>Set multimeter to high current range (10A or 20A usually). Needs both dial setting and probe socket change in most meters.</p>

<p>Use two sharpish probes.</p>

<p>If battery has any light surface corrosion scratch a clean bright spot with probe tip. If it has more than surface corrosion consider binning it. Some only Alkaline cells leak electrolyte over time, which is damaging of gear and annoying (at least) to skin.</p>

<p>Press negative probe against battery base. Move slightly to make scratching contact. Press firmly. DO NOT slip so probe jumps off battery and punctures your other hand. Not advised. Ask me how I know. </p>

<p>Press positive probe onto top of battery. Hold for maybe 1 second. Perhaps 2. Experience will show what is needed. This is thrashing the battery, decreasing its life and making it sad. Try not to do this often or for very long.</p>

<ul>
<li><p>Top AA Alkaline cells new will give 5-10 A. (NiMH AA will approach 10A for a good cell).</p>

<p>Lightly used AA or ones which have had bursts of heavy use and then recovered will typically give a few amps.</p>

<p>Deader again will be 1-3A.</p>

<p>Anything under 1 A you probably want to discard unless you have a micropower application.</p>

<p>Non Alkaline will usually be lower. I buy ONLY Alkaline primary cells as other ""quality"" cells are usually not vastly cheaper but are of much lower capacity.</p>

<p>Current will fall with time. Very good cell will fall little over 1 to maybe 2 seconds. More used cells will start lower and fall faster. Well used cells may plummet.</p>

<p>I place cells in approximate order of current after testing. The top ones can be grouped and wrapped with a rubber band. The excessively keen may mark the current given on the cell with a marker. Absolute current is not the point - it serves as a measure of usefulness. </p></li>
</ul>

<h3>3) Gentler - but works reasonably well.</h3>

<p>Set meter to 2V range or next above 2V if no 2V range.</p>

<p>Measure battery unloaded voltage.</p>

<p>New unused Alkaline are about 1.65V. Most books don't tell you that. </p>

<p>Unused but sat on the shelf 1 year + Alkaline will be down slightly. Maybe 1.55 - 1.6V</p>

<p>Modestly used cells will be 1.5V+</p>

<p>Used but useful may be 1.3V - 1.5V range</p>

<p>After that it's all downhill. A 1V OC cell is dodo dead. A 1.1V -.2V cell will probably load down to 1V if you look at it harshly. Do this a few times and you will get a feel for it.</p>

<h3>4) In between.</h3>

<p>Use a heavyish load and measure voltage. Keep a standard resistor for this.<br>
SOLDER the wires on that you use as probes. A twisted connection has too much variability.</p>

<p>Resistor should draw a heavy load for battery type used.<br>
100 mA - 500 mA is probably OK. </p>

<p>Battery testers usually work this way.   </p>

<h3>5) Is this worth doing?</h3>

<p>Yes, it is. As well as returning a few batteries to the fold and making your life more exciting when some fail to perform, it teaches you a new skill that can be helpful in understanding how batteries behave in real life and the possible effect on equipment. The more you know the more you get to know and this is one more tool along the path towards knowing everything :-). [The path is rather longer than any can traverse, but learning how to run along it can be fun].</p>
","125877"
"difference between single double and three phase","72478","","<p>If single phase is 230 V and 3 phase is 440 v then what about for 2 phase?
And why is it so?</p>
","<p><a href=""http://en.wikipedia.org/wiki/Two-phase_electric_power"" rel=""nofollow noreferrer"">Here</a> is what wikipedia says about two-phase power. </p>

<blockquote>
  <p>Two-phase electrical power was an early 20th century polyphase
  alternating current electric power distribution system. Two circuits
  were used, with voltage phases differing by 90 degrees. Usually
  circuits used four wires, two for each phase. Less frequently, three
  wires were used, with a common wire with a larger-diameter conductor.
  Some early two-phase generators had two complete rotor and field
  assemblies, with windings physically offset by 90 electrical degrees
  to provide two-phase power. The generators at Niagara Falls installed
  in 1895 were the largest generators in the world at the time and were
  two-phase machines.</p>
  
  <p>The advantage of two-phase electrical power was that it allowed for
  simple, self-starting electric motors. In the early days of electrical
  engineering, it was easier to analyze and design two-phase systems
  where the phases were completely separated. It was not until the
  invention of the method of symmetrical components in 1918 that
  polyphase power systems had a convenient mathematical tool for
  describing unbalanced load cases. The revolving magnetic field
  produced with a two-phase system allowed electric motors to provide
  torque from zero motor speed, which was not possible with a
  single-phase induction motor (without extra starting means). Induction
  motors designed for two-phase operation use the same winding
  configuration as capacitor start single-phase motors.</p>
</blockquote>

<p>Single phase and 3 phase are unrelated to 2 phase described above. Basically, 3 phase is what the power stations produce now and ultimately this gets distributed as 3 single phases to our homes: -</p>

<p><img src=""https://i.stack.imgur.com/Szn0J.gif"" alt=""enter image description here""></p>

<p>There are three line voltages shown in red that are 120º apart in phase orientation. This can be seen as three single phase voltages (blue) and if you did the trigonometry you'd see that the length of red is sqrt(3) times bigger than the length of blue hence, if you have 230V phase voltage, the line voltage would be 398V. Here's how the voltages look in time: -</p>

<p><img src=""https://i.stack.imgur.com/qpzlO.jpg"" alt=""enter image description here""></p>

<p>Going back a few years when the UK had 240V, the line voltage was 415V and sometimes 440V line voltages were referred to ans they yielded a phase voltage of 250V.</p>
","73179"
"FPGA's vs Microcontrollers","72410","","<p>I've worked on the Arduino family (specifically the Sanguino), built a few simple devices and a simple phototrope. I am thus pretty comfortable with microcontrollers - specifically Atmel's. I'm curious to know how do FPGA's differ from standard microcontrollers. I am from a technical background (C/C++ programming) and thus would love technical answers. Just keep in mind that I am a newbie (relative to my s/w experience) in the electronics domain. :)</p>

<p>I did go through <a href=""https://electronics.stackexchange.com/questions/1060/what-is-an-fpga"">this query</a> and it was good but I'm looking for further deeper details.</p>

<p>Thanks!
Sushrut.</p>
","<p>Designing for an FPGA requires a Hardware Description Language (HDL).  HDLs are absolutely nothing at all like C.  Whereas a C program is a sequential series of instructions and must contort itself to achieve parallel execution, an HDL describes a concurrent circuit and must contort itself to achieve sequential execution.  It is a very different world and if you try to build a circuit in an FPGA while thinking like a software developer it will hurt.</p>

<p>An MCU is time-limited.  In order to accomplish more work, you need more processor cycles.  Clocks have very real limits to their frequencies, so it's easy to hit a computational wall.  However, an FPGA is space-limited.  In order to accomplish more work, you merely add more circuits.  If your FPGA isn't big enough, you can buy a bigger one.  It's very hard to build a circuit that can't fit in the largest FPGA, and even if you do there are app notes describing how to daisy chain FPGAs together.</p>

<p>FPGAs focus way more on parallel execution.  Sometimes you have to worry about how long your MCU's ISR takes to service the interrupt, and whether you'll be able to achieve your hard-real-time limits.  However, an in FPGA there are lots of Finite State Machines (FSM) running all the time.  They are like ""femto-controllers"", like little clouds of control logic.  They are all running simultaneously, so there's no worrying about missing an interrupt.  You might have an FSM to interface to an ADC, another FSM to interface to a microcontroller's address/data bus, another FSM to stream data to a stereo codec, yet another FSM to buffer the dataflow from the ADC to the codec...You need to use a simulator to make sure that all the FSMs sing in harmony.  If any control logic is off by even a single clock cycle (and such mistakes are easy to make) then you will get a cacophony of failure.</p>

<p>FPGAs are a PCB layout designer's wet dream.  They are extremely configurable.  You can have many different logic interfaces (LVTTL, LVCMOS, LVDS, etc), of varying voltages and even drive strengths (so you don't need series-termination resistors).  The pins are swappable; have you ever seen an MCU address bus where the pins were scattered around the chip?  Your PCB designer probably has to drop a bunch of vias just to tie all the signals together correctly.  With an FPGA, the PCB designer can then run the signals into the chip in pretty much any order that is convenient, and then the design can be back-annotated to the FPGA toolchain.</p>

<p>FPGAs also have lots of nice, fancy toys.  One of my favorites is the Digital Clock Manager in Xilinx chips.  You feed it one clock signal, and it can derive four more from it using a wide variety of frequency multipliers and dividers, all with pristine 50% duty cycle and 100% in phase...and it can even account for the clock skew that arises from propagation delays external to the chip!</p>

<p>EDIT (reply to addendum):</p>

<p>You can place a ""soft core"" into an FPGA.  You're literally wiring together a microcontroller circuit, or rather you're probably dropping someone else's circuit into your design, like Xilinx's PicoBlaze or MicroBlaze or Altera's Nios.  But like the C->VHDL compilers, these cores tend to be a little bloated and slow compared to using an FSM and datapath, or an actual microcontroller.  The development tools can also add significant complexity to the design process, which can be a bad thing when FPGAs are already extremely complex chips.</p>

<p>There are also some FPGAs that have ""hard cores"" embedded in them, like Xilinx's Virtex4 series that have a real, dedicated IBM PowerPC with FPGA fabric around it.</p>

<p>EDIT2 (reply to comment):</p>

<p>I think I see now...you're asking about connecting a discrete MCU to an FPGA; i.e. two separate chips.  There are good reasons to do this; the FPGA's that have hard cores and the ones that are big enough to support decent soft cores are usually monsters with many hundreds of pins that end up requiring a BGA package, which easily increases the difficulty of designing a PCB by a factor of 10.</p>

<p>C is a lot easier, though, so MCUs definitely have their place working in tandem with an FPGA.  Since it's easier to write C, you might write the ""brains"" or the central algorithm in the MCU, while the FPGA can implement sub-algorithms that might need accelerated.  Try to put things that change into the C code, because it's easier to change, and leave the FPGA to be more dedicated type stuff that won't change often.</p>

<p>MCU design tools are also easier to use.  It takes several minutes for the design tools to build the FPGA bit file, even for somewhat simple designs, but complex MCU programs usually take a few seconds.  There's much, much less to go wrong with the MCU, so they're also easier to debug...I cannot understate how complex FPGAs can be.  You really need to get the datasheet for the one you have, and you should try to read every page of it.  I know, it's a few hundred pages...do it anyway.</p>

<p>The best way to connect them is to use an MCU with an external address and data bus.  Then you can simply memory map the FPGA circuits into the MCU, and add your own ""registers"" that each have their own address.  Now the FPGA can add custom peripherals, like a 32-bit timer that can latch all 4 bytes at once when the first byte is read to prevent overflows between 8-bit reads.  You can also use it as glue logic to memory map more peripherals from other chips, like a separate ADC.</p>

<p>Finally, some MCUs are designed for use with an ""external master"" like an FPGA.  Cypress makes a few USB MCUs that have an 8051 inside, but the intent is for the USB data to be produced/consumed by e.g. an FPGA.</p>
","4393"
"How do I saturate an NPN transistor?","72080","","<p>I understand that in ""saturation mode"", a BJT functions as a simple switch. I've used this before driving LEDs, but I'm not sure I understand clearly how I got the transistor into that state.</p>

<p>Does a BJT become saturated by raising Vbe above a certain threshold? I doubt this, because BJTs, as I understand them, are current-controlled, not voltage-controlled.</p>

<p>Does a BJT become saturated by allowing Ib to go over a certain threshold? If so, does this threshold depend on the ""load"" that is connected to the collector? Is a transistor saturated simply because Ib is high enough that the beta of the transistor is no longer the limiting factor in Ic?</p>
","<p>Drive enough current into the base so that the base-collector junction becomes forward biased. How much current will depend on the type of transistor. 'saturation' has to do with how many of the charge carriers in the base region can make it into the collector region. Some will come from the base terminal, but many more will come into the base region from the emitter region. Beyond a certain amount of base current, there just won't be an increase in the available charge carriers that can cross the B-C junction. </p>
","13080"
"What is a boot loader, and how would I develop one?","72008","","<p>I've met many projects in which an AVR microcontroller uses with a bootloader (such as the Arduino), but I don't understand the concept very well.</p>

<p>How can I make a bootloader (for any microcontroller)?</p>

<p>After writing my bootloader, how it is programmed to the microcontroller (like any .hex program burnt on the flash rom of the AVR, or some other method)?</p>
","<p>A bootloader is a program that runs in the microcontroller to be programmed.  It receives new program information externally via some communication means and writes that information to the program memory of the processor.</p>

<p>This is in contrast with the normal way of getting the program into the microcontroller, which is via special hardware built into the micro for that purpose.  On PICs, this is a SPI-like interface.  If I remember right, AVRs use Jtag, or at least some of them do.  Either way, this requires some external hardware that wiggles the programming pins just right to write the information into the program memory.  The HEX file describing the program memory contents originates on a general purpose computer, so this hardware connects to the computer on one side and the special programming pins of the micro on the other.  My company makes <a href=""http://www.embedinc.com/products"">PIC programmers</a> among other things as a sideline, so I am quite familiar with this process on PICs.</p>

<p>The important point of external programming via specialized hardware is that it works regardless of the existing contents of program memory.  Microcontrollers start out with program memory erased or in a unknown state, so external programming is the only means to get the first program into a micro.</p>

<p>If you are sure about the program you want to load into your product and your volumes are high enough, you can have the manufacturer or a distributor program chips for you.  The chip gets soldered to the board like any other chip, and the unit is ready to go.  This can be appropriate for something like a toy, for example.  Once the firmware is done, it's pretty much done, and it will be produced in large volumes.</p>

<p>If your volumes are lower, or more importantly, you expect ongoing firmware development and bug fixes, you don't want to buy pre-programmed chips.  In this case blank chips are mounted on the board and the firmware has to get loaded onto the chip as part of the production process.  In that case the hardware programming lines have to be made available somehow.  This can be via a explicit connector, or pogo pin pads if you're willing to create a production test fixture.  Often such products have to be tested and maybe calibrated anyway, so the additional cost of writing the program to the processor is usually minimal.  Sometimes when small processors are used a special production test firmware is first loaded into the processor.  This is used to facilitate testing and calibrating the unit, then the real firmware is loaded after the hardware is known to be good.  In this case there are some circuit design considerations to allow access to the programming lines sufficiently for the programming process to work but to also not inconvenience the circuit too much.  For more details on this, see my <a href=""http://www.embedinc.com/picprg/icsp.htm"">in-circuit programming</a> writeup.</p>

<p>So far so good, and no bootloader is needed.  However, consider a product with relatively complex firmware that you want field upgradable or even allow the end customer to upgrade.  You can't expect the end customer to have a programmer gadget, or know how to use one properly even if you provided one.  Actually one of my customers does this.  If you buy their special field customizing option, you get one of my programmers with the product.</p>

<p>However, in most cases you just want the customer to run a program on a PC and have the firmware magically updated.  This is where a bootloader comes in, especially if your product already has a communications port that can easily interface with a PC, like USB, RS-232, or ethernet.  The customer runs a PC program which talks to the bootloader already in the micro.  This sends the new binary to the bootloader, which writes it to program memory and then causes the new code to be run.</p>

<p>Sounds simple, but it's not, at least not if you want this process to be robust.  What if a communication error happens and the new firmware is corrupt by the time it arrives at the bootloader?  What if power gets interrupted during the boot process?  What if the bootloader has a bug and craps on itself?</p>

<p>A simplistic scenario is that the bootloader always runs from reset.  It tries to communicate with the host.  If the host responds, then it either tells the bootloader it has nothing new, or sends it new code.  As the new code arrives, the old code is overwritten.  You always include a checksum with uploaded code, so the bootloader can tell if the new app is intact.  If not, it stays in the bootloader constantly requesting a upload until something with a valid checksum gets loaded into memory.  This might be acceptable for a device that is always connected and possibly where a background task is run on the host that responds to bootloader requests.  This scheme is no good for units that are largely autonomous and only occasionally connect to a host computer.</p>

<p>Usually the simple bootloader as described above is not acceptable since there is no fail safe.  If a new app image is not received intact, you want the device to continue on running the old image, not to be dead until a successful upload is performed.  For this reason, usually there are actually two special modules in the firmware, a uploader and a bootloader.  The uploader is part of the main app.  As part of regular communications with the host, a new app image can be uploaded.  This requires separate memory from the main app image, like a external EEPROM or use a larger processor so half the program memory space can be allocated to storing the new app image.  The uploader just writes the received new app image somewhere, but does not run it.  When the processor is reset, which could happen on command from the host after a upload, the bootloader runs.  This is now a totally self-contained program that does not need external communication capability.  It compares the current and uploaded app versions, checks their checksums, and copies the new image onto the app area if the versions differ and the new image checksum checks.  If the new image is corrupt, it simply runs the old app as before.</p>

<p>I've done a lot of bootloaders, and no two are the same.  There is no general purpose bootloader, despite what some of the microcontroller companies want you to believe.  Every device has its own requirements and special circumstances in dealing with the host.  Here are just some of the bootloader and sometimes uploader configurations I've used:<ol></p>

<p><li>Basic bootloader.  This device had a serial line and would be connected to a host and turned on as needed.  The bootloader ran from reset and sent a few upload request responses to the host.  If the upload program was running, it would respond and send a new app image.  If it didn't respond within 500 ms, the bootloader would give up and run the existing app.  To update firmware therefore, you had to run the updater app on the host first, then connect and power on the device.</p>

<p><li>Program memory uploader.  Here we used the next size up PIC that had twice as much program memory.  The program memory was roughly divided into 49% main app, 49% new app image, and 2% bootloader.  The bootloader would run from reset and copy the new app image onto the current app image under the right conditions.</p>

<p><li>External EEPROM image.  Like #2 except that a external EEPROM was used to store the new app image.  In this case the processor with more memory would have also been physically bigger and in a different sub-family that didn't have the mix of peripherals we needed.</p>

<p><li>TCP bootloader.  This was the most complex of them all.  A large PIC 18F was used.  The last 1/4 of memory or so held the bootloader, which had its own complete copy of a TCP network stack.  The bootloader ran from reset and tried to connect to a special upload server at a known port at a previously configured IP address.  This was for large installations where there was always a dedicated server machine for the whole system.  Each small device would check in with the upload server after reset and would be given a new app copy as appropriate.  The bootloader would overwrite the existing app with the new copy, but only run it if the checksum checked.  If not, it would go back to the upload server and try again.</p>

<p>Since the bootloader was itself a complicated piece of code containing a full TCP network stack, it had to be field upgradeable too.  They way we did that was to have the upload server feed it a special app whose only purpose was to overwrite the bootloader once it got executed, then reset the machine so that the new bootloader would run, which would cause the upload server to send the latest main app image.  Technically a power glitch during the few milliseconds it took the special app to copy a new image over the bootloader would be a unrecoverable failure.  In practise this never happened.  We were OK with the very unlikely chance of that since these devices were parts of large installations where there already were people who would do maintainance on the system, which occasionally meant replacing the embedded devices for other reasons anyway.</p>

<p></ol></p>

<p>Hopefully you can see that there are a number of other possibilities, each with its own tradeoffs of risk, speed, cost, ease of use, downtime, etc.</p>
","27490"
"What happens if a 240V appliance is connected in a 120V AC power supply?","71870","","<p>I know that putting 240V through an appliance rated at only 120V would almost certainly damage it. </p>

<p>But what if I connect an appliance rated for 240V into a 120V AC socket? Apart from degradation in performance, would there be any damage to the appliance itself?</p>
","<p>Probably nothing serious would happen as has been mentioned already but there is a possibility of a potential serious situation. Consider an appliance only intended for operation on 240V AC but is able to work from (say) 200V to 250V. To do so might mean it uses a switch-mode power supply to regulate the internal DC voltages. Let's say it required 100 watts internally, maybe some form of audio amplifier.</p>

<p>At 250 volts AC it would draw 0.4 amps plus 10 % more for inefficiencies - that's a current of 440 mA. At 200 volts AC it would draw 550mA. At 100 V ac it would try and draw a current of nearly an amp if it were able.</p>

<p>The point is that it will try and draw more current at a lower AC voltage and this could blow an internal fuse or damage the switching transistor - the average current may only be 1 amp but the switching current might be 10 amps. Also, at a lower voltage (with the increase in current) the reservoir capacitor after the bridge rectifier will be struggling to maintain low ripple and between cycles the dc voltage before the switching element may sag to only 50 volts - this means a higher instantaneous current draw on a cyclic basis and possibly more damage to the regulating switching transistor.</p>
","120997"
"How do I calculate the temperature rise in a copper conductor?","71788","","<p>If I pass a current through a copper conductor, how can I calculate how hot the conductor will get?</p>

<p>For example, if I have a 7.2kW load powered by 240VAC, the current will be 30A. If I transmit this power to the load via a \$2.5mm^2\$ copper conductor, how do I calculate how hot this conductor will get?</p>

<p><strong>UPDATE:</strong></p>

<p>From the comments and answer from Olin and Jason, I've created the following graph showing Watts per foot of \$2.5mm^2\$ copper wire:</p>

<p><img src=""https://i.stack.imgur.com/tnAt4.png"" alt=""Watts per foot""></p>

<p>But how do I translate this into the the actual temperature rise. I understand that the missing variable is the rate of cooling, but I just need to get an idea of what the maximum safe current is that can be passed through copper cable of a given thickness.</p>

<p>Assuming a constant current, and that there is no cooling at all, how do I calculate the degrees of temperature rise per hour per Watt for the foot length of copper cable in question?</p>
","<p>In your edit, what's missing is that the rate of cooling will depend on the temperature. In general, the cooling rate will increase as the temperature increases. When the temperature rises enough that the cooling rate matches the heating rate, the temperature will stabilize. </p>

<p>But the actual cooling rate is very difficult to calculate. It depends on what other materials the copper is in contact with (conductive cooling), the airflow around the conductor, etc. </p>

<p>As an added complication, the heating rate will also depend on temperature, because the resistance of the copper will increase at higher temperatures. </p>

<p>So without much more detailed information about your conductor and its environment, its not really possible to give a precise answer to your initial question, how hot will it get?. </p>

<p>As for the second question, how fast will it heat up if there's no cooling, you can calculate that from the heat capacity of copper, which Wikipedia gives as 0.385 J / (g K), or 3.45 J / (cm^3 K).</p>
","22369"
"VHDL or Verilog?","71578","","<p><strong>VHDL</strong> and <strong>Verilog</strong> are the HDLs of the day. What are the advantages of either for someone who has no experience with HDLs at all?</p>
","<p>I can't tell you which to learn, but here's some contrasting points (from a very VHDL-centric user, but I've tried to be as fair as possible!), which may help you make a choice based on your own preferences in terms of development style:</p>

<p>And keep in mind the famous quote which goes along the lines of ""I prefer whichever of the two I'm not currently using"" (sorry, I can't recall who actually wrote this - possibly Janick Bergeron?)</p>

<h2>VHDL</h2>

<ul>
<li>strongly-typed</li>
<li>more verbose</li>
<li>very deterministic</li>
<li>non-C-like syntax (and mindset)</li>
</ul>

<p>Lots of compilation errors to start with, but then mostly works how you expect.  This can lead to a very steep feeling learning curve (along with the unfamiliar syntax)</p>

<h2>Verilog</h2>

<ul>
<li>weakly-typed</li>
<li>more concise</li>
<li>only deterministic if you follow some rules carefully</li>
<li>more C-like syntax (and mindset)</li>
</ul>

<p>Errors are found later in simulation - the learning curve to ""feeling like getting something done"" is shallower, but goes on longer (if that's the right metaphor?)</p>

<p>Also in Verilog's favour is that high-end verification is leaning more and more to SystemVerilog which is a huge extension to Verilog.  But the high-end tools can also combine VHDL synthesis code with SystemVerilog verification code.</p>

<hr>

<p>For another approach entirely: <a href=""http://www.myhdl.org/"" rel=""noreferrer"">MyHDL</a> - you get all the power of Python as a verification language with a set of synthesis extensions from which you can generate either VHDL or Verilog.</p>

<p>Or <a href=""http://potential.ventures/cocotb/"" rel=""noreferrer"">Cocotb</a> - all the power of Python as a verification language, with your synthesisable code still written in whichever HDL you decided to learn (ie VHDL or Verilog).</p>
","16814"
"How is an XOR with more than 2 inputs supposed to work?","71486","","<p>I've just started studying computer engineering, and I'm having some doubts regarding the behavior of the XOR gate.</p>

<p>I've been projecting circuits with Logisim, whose XORs behave differently from what I've learnt. To me, it should behave as a parity gate, giving a high output whenever the inputs receives an odd combination. It doesn't, though, for more than two inputs. How should it behave?</p>

<p>I also read in a book that XOR gates are not produced with more than two inputs. Is that correct? Why?</p>
","<p>There are different points of view regarding how an exclusive-OR gate with more than two inputs should behave. Most often such an XOR gate behaves like a cascade of 2-input gates and performs an odd-parity function. However, some people interpret the meaning of exclusive-OR more literally and say that the output should be a 1 <em>if and only if</em> exactly one of the inputs is a 1. I do seem to recall that Logisim uses the latter interpretation, and somewhere in my rusty memory I have seen it in an ASIC cell library. One of the the international standard symbols for an XOR gate is a rectangle labelled with <code>=1</code> which seems to be more consistent with the ""1 and only 1"" definition.</p>

<p>EDIT: The definition of exclusive-OR as ""1 and only 1"" is uncommon but it can be found. For example, IEEE-Std91a-1991 gives the symbol for the exclusive-OR on p. 62 with the note: ""The output stands at its 1-state if one and only one of the two inputs stands at its 1-state."" For more than 2 inputs the standard recommends using the ""odd parity"" symbol instead. Web sites that discuss this confusing situation include <a href=""http://mindhunter74.wordpress.com/2011/04/25/xor-the-interesting-gate/"">XOR: The Interesting Gate</a> and <a href=""http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/10-gates/00-gates/xor.html"">gate demos at TAMS</a>. A google search will also turn up sites that claim that, strictly speaking, there is no such thing as an XOR gate with more than two inputs.</p>
","93719"
"Can I use the analog pins on the Arduino for my project as digital?","71200","","<p>I am new to using Arduino, and I have an Arduino Uno. For the projects I've done, I've only used the digital pins. </p>

<p>I am building a small vehicle that uses stepper motors. I have run out of pins to control the motors for this vehicle. What are the analog pins for? Is it possible for me to use analog pins to control the rest of the step motors which I connect to the Arduino, or do I have to buy a bigger Arduino than Arduino Uno to control this contraption?</p>
","<p>Yes, the analog pins on the Arduino can be used as digital outputs. </p>

<p>This is documented in the <a href=""http://arduino.cc/en/Tutorial/AnalogInputPins"">Arduino input pins documentation</a>, in the Pin Mapping section:</p>

<blockquote>
  <p>Pin mapping<br>
  The analog pins can be used identically to the digital pins, using the aliases A0 (for analog input 0), A1, etc. For example, the code would look like this to set analog pin 0 to an output, and to set it HIGH:<br>
  pinMode(A0, OUTPUT);<br>
  digitalWrite(A0, HIGH);</p>
</blockquote>
","67104"
"What's the difference between a potentiometer and a rheostat?","71122","","<p>I've seen that a number of schematics will connect the center (common) pin of a potentiometer to one or the other leg, and it then functions more like a rheostat. Is that how a rheostat is wired internally? What's the difference between a potentiometer and a rheostat? Finally, why connect the common to a leg at all on a potentiometer, instead of just ignoring the unused leg?</p>
","<p>The correct term for the common terminal of a potentiometer is the slider.</p>

<p>A rheostat is simply a variable resistance used to control power to a load and you are correct about the wiring. Only the slider and one other terminal are used.</p>

<p>A potentiometer uses all three terminals, enabling a variable voltage or signal to be tapped off from the slider.</p>

<p>Potentiometers and rheostats are made the same way, but rheostats are usually much ""beefier"", as they are generally used in high-power situations.</p>

<p>The slider is often connected to one or other terminal for safety reasons, in case it loses contact with the track.</p>
","11051"
"How to store all those spare cables and connector cords?","70391","","<p>One thing that it seems I have many of are cords and connector/patch cables.</p>

<p>I don't want to throw out all of them, but am looking for useful storage tips?</p>

<p>Most are under 6 foot / 2 metres long, they are the usual assortment of TV cable, stereo-cable, serial cable, ethernet, 12-volt power, etc.</p>

<p>Looking for some way to store them efficiently, while I can still see both ends.  Coiling is a possibility, but then there's just a stack of circles that I have to dig through.</p>

<p>Ideally, some sort of hanging method, that has them semi-secur, but still accessable/visible.</p>

<p>How do you store all those cables? (and hope this is Electronics-enough!)</p>
","<p>I found a really neat cheap way to bundle them - use the cardboard tubes from toilet rolls, and loop them inside. This prevents them being in a tangle. Also, those cardboard tubes can be written on with a marker to clearly ID the cables. </p>

<p>Since each side will have a loop, you can probably hang these on pegs, but I simply keep them in a box.</p>
","8438"
"How do I calculate how fast a capacitor will discharge?","70378","","<p>Say I have a 1F capacitor that is charged up to 5V. Then say I connect the cap to a circuit that draws 10 mA of current when operating between 3 and 5 V. What equation would I use to calculate the voltage across the capacitor, with respect to time, as it is discharging and powering the circuit?</p>
","<p>charge on a cap is a linear product of capacitance and voltage, Q=CV. If you plan to drop from 5V to 3V, the charge you remove is 5V*1F - 3V*1F = 2V*1F = 2 Coulombs of charge. One Amp is one Coulomb per second, so 2C can provide 0.01A for 2C / (0.01 C/sec) or 200 seconds. If you actually withdraw charge from the cap at a <em>constant current</em>, the voltage on the cap will decrease from 5V to 3V linearly with time, given by Vcap(t) = 5 - 2*(t/200).</p>

<p>Of course, this assumes you have a load that draws a constant 10mA even while the voltage supplied to it changes. Common simple loads tend to have relatively constant impedance, which means that the current they draw will decrease as the cap voltage decreases, leading to the usual non-linear, decaying exponential voltage on the cap. That equation has the form of V(t) = V0 * exp(-t/RC).</p>
","4953"
"How grounding works to prevent electrical shock","70349","","<p>Can someone please explain the how grounding / earthing to prevent a person from getting electrical shock using simple illustration of a faulty electric iron connected to the 240VAC mains?</p>

<p>I don't understand how a person standing on the floor tile in the house and holding a live equipment can complete the circuit for current flow. Where is the connection from the ground to the back to the equipment?</p>
","<p>The main point of grounding a line-powered appliance is to electrically ""box up"" the dangerous parts.  If, for example, a ""hot"" wire comes loose inside the appliance and touches the metal case, the current will flow thru the ground connection to that case.  That will blow a fuse, trip a breaker, or trigger the <i>ground fault interruptor</i> if that line is equipped with one.</p>

<p>If the case weren't grounded, then the same loose wire now puts the case at the hot potential.  If you come along and touch it and something else grounded, like a faucet, at the same time, the full 220 V is now applied across your body.</p>

<p>You are right that touching just a hot wire without touching anything else conductive won't hurt you.  Presumably the ""tile"" floor you are talking about is made of insulating material.  However, the reason this is unsafe is that often you are not completely insulated from everything else.  If you touch the faulty appliance and happen to brush against a water faucet, the case of your desktop computer, a radiator, or any other appliance that is ground, you can be seriously hurt.  Even a concrete floor can carry enough current to be dangerous.</p>
","152296"
"What value does ammeter or voltmeter measures (RMS, Average or Peak )?","70069","","<p>What value does these meters measure?</p>

<p>Is it <strong>RMS, Average or Peak value</strong> ?</p>
","<p>RMS measurement, like average and peak, only applies to measuring AC, though it may be superposed to a DC offset.  </p>

<p>Measuring RMS values is a bit more expensive than measuring average values, so most multimeters avoid the former. Instead they <strong>presume your signal is a sine</strong> and measure the average value for the <em>rectified</em> sine or the peak value, after which they apply a conversion factor to find the presumed RMS value.  </p>

<blockquote>
  <p>\$V_{RMS} = 0.71 \times V_{PEAK} = 1.11 \times V_{AVG}\$  </p>
</blockquote>

<p>For other waveforms than sines this calculated RMS value will be wrong! The ratio \$\dfrac{V_{PEAK}}{V_{RMS}}\$ is known as the signal's <strong>crest factor</strong>, </p>

<p><img src=""https://i.stack.imgur.com/Wcq46.jpg"" alt=""signal waveform""></p>

<p>and this can be significantly larger than the \$\sqrt{2}\$ value for the sine. If the crest factor is 3 and the multimeter would actually measure peak voltage you would have a <strong>100% error</strong> for the calculated RMS value. Usually this error is smaller when the averaged rectified signal is measured instead. We're talking about the <strong>form factor</strong> then instead of the crest factor.<br>
So the lesson is: be very careful when AC measuring anything else than a sine on those multimeters.</p>

<p>Solution: some more expensive multimeters measure <strong>""True RMS""</strong>.</p>

<p><img src=""https://i.stack.imgur.com/tYBr8.jpg"" alt=""True RMS multimeter""></p>

<p>Just like measuring averages true RMS measurement includes <strong>an averaging</strong> over a certain period. Only when this period is an exact multiple of the signal frequency this will give the most accurate result. If this <strong>time constant</strong> is a multiple of 100ms accurate results for 50Hz and 60Hz are possible (5 periods and 6 periods, resp.).<br>
<a href=""https://electronics.stackexchange.com/users/1225/thomas-o"">Thomas</a> points out that not all True RMS multimeters can measure AC superposed to DC.</p>

<hr>

<p><strong>Further reading:</strong><br>
<a href=""http://cp.literature.agilent.com/litweb/pdf/5988-5513EN.pdf"" rel=""nofollow noreferrer"">AC Voltage Measurement Errors in Digital Multimeters</a> (Agilent application note)</p>
","18372"
"Standard PCB trace widths?","69988","","<p>Is there a standard for the sizes of PCB traces?</p>

<p>That is are some 25 mil and others 10 mil or is can you choose your own?</p>

<p>I plan to run 400mA through some thicker traces, but less than 30mA for all other traces. About what size would I need?</p>
","<p>Your traces can be any size you want as long as you stay within the minimum feature size and spacing that your PCB fab supports for your particular price point. </p>

<p>These will cover basic needs, the trace width one is a best fit calculation to the chart Engen posted:</p>

<p><a href=""http://circuitcalculator.com/wordpress/?p=25/"">PCB Trace Width Calculator</a></p>

<p><a href=""http://circuitcalculator.com/wordpress/2006/03/12/pcb-via-calculator/"">PCB Via Calculator</a></p>

<p>Neither of those cover controlled impedance calculations, if you need those look elsewhere.</p>
","5406"
"Relay vs. Transistor?","69789","","<p>Rather basic, I'm afraid, but when would you use a relay, and when would you use a transistor?  In a relay the contacts wear out, so why are relays used at all?</p>
","<p>Relays are on-off devices. Transistors can have their voltage drop varied.</p>

<p>Relays are far slower than transistors; typically 50ms to switch, and probably more. Some types of transistors can switch in picoseconds (almost 10 orders of magnitude faster.)</p>

<p>Relays are isolated. Transistors can be (e.g. SSR), but are often not.</p>

<p>Relays are electromagnetic and bring problems with them - for example, try building a relay computer with many relays. You will find that relays will interfere with each other in some cases. Transistors are not very EM sensitive. They do not emit much electromagnetic interference.</p>

<p>Relays consume a lot of current in the ""on"" state, most transistors do not.</p>
","10103"
"What is a good microcontroller for Ethernet applications?","69731","","<p>What is a good microcontroller for doing Ethernet applications?  Or do I just need a good Ethernet library to connect with an Ethernet MAC/PHY?</p>
","<p>Microchip's PIC18s with built-in ethernet are excellent for this, just add a magjack (or other connector with built in magnetics) and download their TCP/IP stack. You'll be pinging things in no time. For more grunt, the PIC24 and PIC32 also have TCP/IP stacks designed to run with one of the SPI Ethernet MAC/PHY parts they offer (ENC624J600 or ENC628J60).</p>

<p>ST also recently enhanced their ARM Cortex based STM32 line to include on-chip ethernet, but you'll need an external PHY and magnetics. It's an option if you're already looking at the PIC32.</p>
","343"
"Maximum I2C Bus Length?","69246","","<p>What is the maximum length of cable that could be used to connect two I2C devices (I2C master-> I2C slave)?</p>

<p>Yes, I know that I2C is really designed for intra-board communication.  I have been tasked with a ""design goal"" of using a common I2C bus for multiple I2C slaves to support a demo.</p>

<p>For purposes of clarity, let's assume the standard I2C bus rate of 100 kHz.</p>
","<p>For fast mode, and resistor pullup, capacitance should be less than 200pF, according to this <a href=""http://www.nxp.com/documents/user_manual/UM10204.pdf"">NXP document</a> <strong>I2C-bus specification and user manual</strong>.</p>

<p>With current source pullups you can go to 400pF, but not with resistors. </p>

<p>If your wire is 20pF/30cm and you have another 50pF of stray and input capacitance, you're limited to 2.25m of cable length. Different assumptions will lead to different numbers. </p>
","106269"
"Voltage at what Amperage","69129","","<p>I've often seen devices with power requirements specified only in Volts (e.g. 7-12V) but never the amperage. I've wanted to run various embedded devices of wall warts and batteries (the devices have regulators don't worry) however I've been hesitant because I'm not aware of the amperage requirements for the devices.</p>

<p>My question is: Is there a standard amperage that is ""understood"" for microcontrollers and the like?</p>

<p>I have been told that amperage doesn't matter however I beg to differ, since I am quite sure that if I supplied a 7-12 volt device with 9 volts at 1 billion, amps that it would explode.</p>

<p>EDIT: To put it simply. A power supply is rated at the amps that it will <strong>tolerate</strong> before overheating and taking damage?</p>
","<p>Voltage (which is kinda like the strength of the supply), and Current (measured in Amps, which is the quantity of electricity), are two very different things.</p>

<p><strong>Voltage:</strong>
When trying to match a supply to a device, you need to get the voltage right... if the supply voltage is too high, then it will damage your device. If the supply voltage is too low, then your device just won't work.</p>

<p><strong>Current:</strong>
When looking at current, you need to ensure that the Amps rating is <em>higher</em> than the device needs as it will only use as much electricity as it needs. If the rating is too low for the device, it will be trying to get more electricity from the supply than the supply can provide, and so it will get hot and possibly explode. If you had a supply that was rated at 1 billion amps, then it would happily power a tiny bulb... it just means it could also power 1 billion bulbs or more a the same time!</p>

<p>So, the possible dangerous situations are:</p>

<ol>
<li>If the voltage is too high for the device.</li>
<li>If the amps are too low for the device.</li>
</ol>

<p>As a general rule, devices that produce a lot of heat or light or movement usually need a high current supply. Devices that control things, like a TV remote or some small gadget with maybe a few LEDs on it, won't need a lot of current.</p>

<p>To answer your question, the microcontroller itself probably only needs between 0.02 and 0.1 amps. If the microcontroller is controlling something else, and sharing the supply, then the current rating of the supply really depends on the device.</p>
","10663"
"Is there a correct resistance value for I2C pull-up resistors?","68829","","<p><a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/21203P.pdf"">The datasheet</a> of the 24LC256 EEPROM states that:</p>

<blockquote>
  <p>The SDA bus requires a pull-up resistor to VCC (typical 10 kΩ for 100 kHz, 2 kΩ for 400 kHz and 1 MHz).</p>
</blockquote>

<p>I thought that any resistor with a kΩ value would do the job (and it seems that my EEPROM works fine at different frequencies with a 10 kΩ resistor).</p>

<p>My questions are:</p>

<ul>
<li>is there a correct value for pull-up resistors ?</li>
<li>is there a law/rule to determine this value ?</li>
<li>how do different resistance values affect the I²C data bus ?</li>
</ul>
","<p>The correct pullup resistance for the I<sup>2</sup>C bus depends on the total capacitance on the bus
and the frequency you want to operate the bus at. </p>

<p>The formula from the <a href=""http://www.atmel.com/images/doc2545.pdf"">ATmega168 datasheet</a> (which I believe comes from the official I<sup>2</sup>C spec) is -- </p>

<p>$$\text{Freq}&lt;100\text{kHz} \implies R_{\text{min}}=\frac{V_{cc}-0.4\text{V}}{3\text{mA}}, R_{\text{max}}=\frac{1000\text{ns}}{C_{\text{bus}}}$$</p>

<p>$$\text{Freq}&gt;100\text{kHz} \implies R_{\text{min}}=\frac{V_{cc}-0.4\text{V}}{3\text{mA}}, R_{\text{max}}=\frac{300\text{ns}}{C_{\text{bus}}}$$</p>

<p>The Microchip 24LC256 specifies a maximum pin capacitance of 10pF (which is fairly
typical). Count up the number of devices you have in parallel on the bus and
use the formula above to calculate a range of values that will work. </p>

<p>If you are powering off of batteries I would use values that are at the high
end of the range. If there are no power limits on the power source or
power dissipation issues in the ICs I would use values on the lower end
of the range. </p>

<p>I sell some kits with an I<sup>2</sup>C RTC (DS1337). I include 4K7 resistors in the kit which 
seems like a reasonable compromise for most users.</p>
","1852"
"What kind of glue should I use for PCB-mounted components to avoid vibrations?","68591","","<p>I want to protect the PCB-mounted components from vibrations. What kind of glue/substance should I use?
What are the most prone to failure components due to vibrations?</p>
","<p>My preference:</p>

<ul>
<li><p>Neutral cure silicone rubber as the long term anti-vibration and sealing agent. Expect 20+ year lifetimes.</p></li>
<li><p>If initial mechanical location is required, hot-glue (hot melt glue)  <strong><em>only</em></strong> to hold things in place while the silicone rubber sets. [Hot glue is a completely unsatisfactory long term solution !!!]. </p></li>
</ul>

<hr>

<p><strong>Details:</strong></p>

<p>For long term survivability, anything that needs more mechanical strength than its solder connections provide <strong>should</strong> use 'proper' mechanical restraints such as brackets, mounting clamps etc.</p>

<p><strong>However</strong>, it is common in many consumer products for larger mechanical items to be ""held in place"" or mechanically supported by an adhesive. Properly done this is a legitimate manufacturing method, even though sometimes frowned on by ""proper"" designers.</p>

<p><strong>Asian solution:</strong> The most common method in Asian products is a white glue that sets to a hard ceramic white finish. It has good initial bonding capabilities and strength, is fast setting <strong>and fails miserably within a period of from months to a year or so.</strong> </p>

<p><strong>Western solution:</strong> The most common western method is hot-glue or hotmelt glue. It has good initial bonding capabilities, reasonable strength, sets within the time taken to cool (tens of seconds to minutes depending on amount and thermal conduction) <strong>and fails miserably within a period of from months to a year or so.</strong> People still use it and say how good it is.</p>

<p><strong>A superb solution:</strong> An excellent solution is neutral cure silicone rubber. It has good bonding capabilities once set - these vary with materials but primers or special variants are available for difficult materials. It has reasonable strength but low modulus (somewhat stretchy) so resists vibration and impact forces superbly. Setting time can be minutes to many hours - usually longer than shorter. <strong>Once set it will typically last for 20++ years.</strong> The long setting times are not an issue as long as the adhesive is <strong>not</strong> used to retain the objects in position but to add long term vibration resistance. Most silicone rubbers will not flow during setting so setting time is unimportant except that the surface will be tacky at first. ""Skin over"" occurs typically in 10 to 20 minutes. Setting in achieved by action of atmospheric moisture so low humidity causes longer setting times. Full setting rate depends on water thickness with rates of about 3mm depth per 24 hours being typical.  </p>

<p>An excellent combination where mechanical retention or location using the adhesive is required is to use a ""dab"" of hotmelt glue to hold things in place initially and then use silicone rubber as the long term binding and antivibration agent. </p>

<p>As well as their  excellent low modulus and long life, SR's make excellent waterproofing and sealing agents. <strong>However</strong> they are <strong>not</strong> wter vapor sealants - ater vapor will pass through SR with time - liquid water wont. So they ""breathe"" - which may be good or bad depending on application.</p>

<ul>
<li><p>Note that the silicone rubber used <strong><em>MUST</em></strong> be <strong>neutral cure</strong> where electronics or corrosion sensitive components are used. ""Normal"" SR is acid cure and releases acetic acid during setting (smells like vinegar). This is ""not too bad"" in many cases but can cause corrosion in sensitive applications.    </p>

<p><strong>Neutral cure</strong> silicone rubbers are widely available, and cost little if any extra. Most are ""Oxeme"" cure and release oxemes and methyl alcohol. The former may cause corrosion of bare copper.  Oxeme cure not suitable for polycarbonate - use alcohol cure. </p>

<p>Somewhat dearer neutral cure SR's are straight alcohol cure and release Methyl Alcohol on setting. Sensible handling is good enough. Ventilate well if using kgs at a time :-). </p>

<p>Dow Corning make a wide range of SRs that are available in most countries and which have extensive technical data available. [No association with Dow Corning apart from being a satisfied customer].</p></li>
</ul>

<p>There are numerous other adhesives which my work for you. Cyanoacrylate glues set fast (super glue, elephant glue), risk marring surfaces in some applications and will debond with time on some surfaces. Latex and contact glues are low modulus and can be useful. Solvents tend to be used  which may have adverse effects. Others exist, but I've found silicone rubber to be the best overall.</p>

<p><strong>- Silicone Rubber versus Epoxy Resin:</strong></p>

<p>I didn't mention epoxy resin (ER), and Mike has recommended it in preference to silicone rubber (SR).  Epoxy resins are certainly highly useful. They are available with ""pot lives (usable time before setting) of under 1 minute to hours, and time to full curing of an hour or so to a day or so. Elevated temperatures increase curing rate and reduce pot life. ER's are usually '2 pot"" - two different components are mixed just prior to use. SR's are also available in 2 part formulations, usually with rapid setting times (minutes to 10's of minutes - can be longer by design). </p>

<p>A factor which I cited as an advantage, Mike has cited as a disadvantage. Both of us are correct (and both wrong? :-) ) and it is worth understanding why. </p>

<p>The factor is ""modulus"". Modulus (more properly ""Elastic Modulus"") is the ratio of stress to strain - the amount of deformation experienced per applied force. There are various measures of modulus, mainly relating to directional aspects of the forces and deformations. Some more details here in this <a href=""http://en.wikipedia.org/wiki/Elastic_modulus"" rel=""noreferrer"">Wikipedia article on elastic modulus.</a>.</p>

<p>Silicone Rubbers are ""low modulus"" - while the actual values can vary widely by design, those normally encountered will be ""substantially ""more elastic"" than typical epoxy resins. Mike and I are agreed on this :-). How useful this is is a matter for discussion.</p>

<p>An epoxy resin will generally act in the same way as a clamp or bracket or mechanical mounting system. It rigidly attaches the component to a fixture or PCB etc. Typical silicone rubbers are by no means ""jelly like"" - they set to a stiff rubber - typically as flexible as a less than stiff block eraser - solid but not concrete like. The hardness of a rubber formulation is not intuitively related to modulus* but the two are related enough to be useful. An appropriate scale for hardness for rubbers is the ""Shore A"" hardness scale. Car tyres would be about Shore A 70 - a rather stiff rubber. A typical rubber band would be Shore A 25-30 - rather stretchy. Silicone Rubbers are available that set to either of these extremes, but most would be intermediate, with a tendency towards the stiff side in most cases. </p>

<p>Now consider, if you have ever encountered a vibration damper, earthquake protector, shockproof mounting, auto engine mounting, ... - what mechanical characteristics do  they have? What sort of materials would you expect them to be made of?</p>

<ul>
<li><p>If a mounting demands absolute rigidity, cannot tolerate any degree of flexure, needs to be solidly mounted with no movement relative to mounting whatsoever - then silicone rubber is probably not the mounting material of choice. </p></li>
<li><p>Conversely, if a degree of mechanical isolation from vibration, the ability to withstand impacts and large external movements or forces by distributing the forces involved in space and time, the minimisation of vibration transmission by lossy transfer of vibrational energy, the freedom from stress fractures and minimal mechanical degradation with age are valuable, then silicone rubbers will be serious contenders.</p></li>
</ul>

<p>M Alin asked about what sort of things most needed to be glued.<br>
 Typically these are </p>

<ul>
<li><p>Heavy objects that exert substantial forces under impact (can capacitors, loose battery boxes, ... </p>

<ul>
<li><p>PCB's in slots, edge connectors, objects that may attain ""whiplash"" under eternal impact. </p></li>
<li><p>Items retained solely or mainly by the adhesive. </p></li>
</ul></li>
</ul>

<p>Essentially, objects that are liable to move under impact or vibration and to sustain damage if they do.</p>

<p><a href=""http://www.google.co.nz/search?tbm=isch&amp;hl=en&amp;source=hp&amp;biw=1333&amp;bih=723&amp;q=rubber+shock&amp;gbv=2&amp;oq=rubber+shock&amp;aq=f&amp;aqi=&amp;aql=&amp;gs_sm=e&amp;gs_upl=1907l4472l0l4745l12l8l0l0l0l0l0l0ll0l0"" rel=""noreferrer"">Rubber shock absorbers - images are live links</a></p>

<p><a href=""http://en.wikipedia.org/wiki/Shore_durometer"" rel=""noreferrer"">Wikipedia - Shore durometer</a><br>
 <a href=""http://www.machinist-materials.com/hardness.htm"" rel=""noreferrer"">Machinist materials - Shore hardness</a><br>
 <a href=""http://www.performance-plastics.co.uk/pdf/relationship_shoreA_ShoreD_hardness.pdf"" rel=""noreferrer"">Shore A to Shore D comparison (suspect!)</a></p>

<p>(* A formula that approximately relates Shore A to Young's modulus is given below. Unlikely to be useful in this context.)</p>

<p><img src=""https://i.stack.imgur.com/wY6ki.png"" alt=""enter image description here""></p>

<hr>

<p>Added 4 years on:</p>

<blockquote>
  <p><strong>Q:</strong> I don't understand your back-to-back contradicting statements ""should use 'proper' mechanical restraints [...] Properly done this [adhesive] is a legitimate manufacturing method"". Adhesives are fantastic, when, as you mention, it is designed for. If you want to lead off with ""everything should use nuts and bolts"", I'd point you to 3M whose adhesives hold the surface of the world's tallest building on.</p>
</blockquote>

<p><strong>A:</strong> I reread or skimmed what I'd written to see how it fits together.<br>
I agree that if you take some of the statements both in semi-isolation AND (boolean) at absolute face value you can see some contradiction. If you take both the original question and what I've written as a whole it seems preasonably OK as is. I could change a few words to remove a few partial contradictions but I think that anyone looking for advice on the subject who reads it all will get an extremely good idea of what I am saying [[Whether what I am saying is valid is another question :-) ]]. </p>

<p>I note that I note that good quality SRs (silicone rubbers) will ""last 20+ years) and that they are useful in this role. And I am comfortable with the idea that a 'properly' designed 'properly' applied sheet of material (such as glass) can be 'safely' held by adhesive for the design life of a building when all assumptions turn out to be valid. </p>

<p>But, I also know of glass panes that have ""just fallen off"" buildings and here (New ealand) one man fell to his death when he leant on an adhesive retained full floor height window-pane which then fell off :-(.<br>
ie ""Proper design"" and ""proper application"" and ""valid assumptions"" are or should be within the capabilities of professional designers - and even they get it wrong sometimes.  </p>

<p>People ""designing"" fastening systems with lesser resources and capabilities can in general be much    more sure on ""getting it right"" with mechanical fasteners than with adhesives.</p>

<p>I have been involved with the use of adhesive fastening on maybe 500,000 products made in a number of (Chinese) factories over a number of years. The lessons and experiences were enlightening :-).<br>
Yes, adhesives have their place.<br>
Yes, I use them.<br>
And, yes, I am ALWAYS wary and aware of what may happen.</p>
","18533"
"Confusion between MW and MWh","68559","","<p>A 1MW power plant producing power constantly for 24 hours will produce 24 MWh a day. Is that right?</p>

<p>If it is, I don't understand when it says, in <a href=""http://www.beaconpower.com/files/Flywheel_FR-Fact-Sheet.pdf"" rel=""noreferrer"">http://www.beaconpower.com/files/Flywheel_FR-Fact-Sheet.pdf</a>, that the 20MW energy storage plant can release 25kWh at 100kW for 5 minutes.</p>

<p>What does that mean? I don't get why they refer the plant as having 20MW, when all it can do is release 25kWh at 100kW for 5 minutes. Also isn't 25kWh over 5 minutes at a rate of 300kW?</p>
","<p>A watt (or kilowatt or megawatt) is a measure of power.  Power is the <i>rate</i> of energy transfer.  For example, a watt is defined as 1 joule per second, where you can think of a joule as one nicely measured packet of energy.</p>

<p>Watt-hours (or kilowatt-hours or megawatt-hours) is just another way of measuring energy.  A kWh is one kW of power flowing for one hour, which is 1000 joules going by every second for one hour.  Since there are 3600 seconds in a hour, 1 kWh is therefore exactly the same as 3.6 Mj.  The electric grid deals with large power levels and large energy transfers, so that discipline has evolved to express energy in MWh and kWh because that is more directly relevant to how they transfer and store energy.</p>

<p>I didn't look at your link, but what I remember from the Beacon Power flywheels is that each one is rated for 100 kWh.  The 100 kWh is stored by spinning large and heavy flywheels in vacuum on magnetic bearings.  During normal operation, the flywheel speed goes from its maximum to half that, which means from full to 1/4 of the flywheel's total energy.  If I remember right, the 100 kWh figure is the difference between the two normal operating extremes.</p>

<p>I think the discrepancy between 20 MW and the 100 kWh of individual flywheels is that they are referring to a large plant with many flywheels.</p>

<p>25 kWh transferred over 5 minutes is 25 kWh transferred over 1/12 hour, which is 300 kW continuously for 1/12 hour.  So yes, your last sentence is correct.</p>
","52303"
"How to read the current program from an Arduino?","67870","","<p>I acquired an Arduino PCB with an <a href=""http://www.atmel.com/devices/ATMEGA2560.aspx"" rel=""nofollow"">ATmega2560</a>, already programmed with the Arduino bootloader and some program. I do have the <a href=""http://www.arduino.cc/en/Tutorial/Sketch"" rel=""nofollow"">sketch</a>, but before fiddling with it, I'd like to backup the current binary that is in the controller. As most Arduinos, it's connected to the PC using an USB-to-serial converter connected to TX0 and RX0 and there is no <a href=""https://en.wikipedia.org/wiki/In-system_programming"" rel=""nofollow"">ISP</a> interface.</p>

<p>Apparently there is <a href=""http://code.google.com/p/arduino/source/browse/tags/0019/hardware/arduino/bootloaders/atmega/ATmegaBOOT_168.c#700"" rel=""nofollow"">code for reading in the Arduino bootloader</a>, but I have no idea which tool to use to access it as there is no menu item in the Arduino IDE.</p>

<p>What software do I need to read the program from the Arduino?</p>
","<p>The Arduino bootloader is a variant of the <a href=""http://atmel.com/Images/doc2525.pdf"" rel=""nofollow"">original STK500 protocol (1.x)</a>. The character 't' (ASCII 0x74) is the ""Read Page"" command. So perhaps it is possible to pull the program out through the serial port via the bootloader using <a href=""http://www.nongnu.org/avrdude/"" rel=""nofollow"">AVRDUDE</a>... But at best I reckon it will take some fancy timing to pull it off.</p>
","34228"
"Why exactly can't a single resistor be used for many parallel LEDs?","67609","","<p>Why can't you use a single resistor for a number of LEDs in parallel instead of one each?</p>
","<p>The main reason is because you can't safely connect diodes in parallel.</p>

<p>So when we use one resistor, we have a current limit for the whole diode section. After that it's up to each diode to control the current that goes through it. </p>

<p>The problem is that real world diodes don't have same characteristics and therefore there's a danger that one diode will start conducting while others won't. </p>

<p>So you basically want this (<a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+10.20027730826997+50+5.0+43%0As+400+96+464+96+0+0+false%0Av+464+368+464+96+0+0+40.0+8.0+0.0+0.0+0.5%0Ad+160+176+288+176+1+0.807904783%0Ad+160+224+288+224+1+0.807904783%0Ad+160+256+288+256+1+0.807904783%0Ad+160+288+288+288+1+0.807904783%0Ar+240+96+400+96+0+100.0%0Aw+240+96+160+96+0%0Aw+160+176+160+96+0%0Aw+160+224+160+176+0%0Aw+160+256+160+224+0%0Aw+160+288+160+256+0%0Aw+288+288+384+288+0%0Aw+384+288+384+368+0%0Aw+384+368+464+368+0%0Aw+288+256+288+288+0%0Aw+288+224+288+256+0%0Aw+288+176+288+224+0%0A"">open in Paul Falstad's circuit simulator</a>):</p>

<p><a href=""https://i.stack.imgur.com/3FRWT.gif""><img src=""https://i.stack.imgur.com/3FRWT.gif"" alt=""First circuit, all 3 LEDs have precisely the same forward voltage""></a></p>

<p>And you in reality get this (<a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+10.20027730826997+50+5.0+43%0As+400+96+464+96+0+0+false%0Av+464+368+464+96+0+0+40.0+8.0+0.0+0.0+0.5%0Ad+160+176+288+176+1+0.807904783%0Ad+160+224+288+224+1+1.0%0Ad+160+256+288+256+1+1.0%0Ad+160+288+288+288+1+0.9%0Ar+240+96+400+96+0+100.0%0Aw+240+96+160+96+0%0Aw+160+176+160+96+0%0Aw+160+224+160+176+0%0Aw+160+256+160+224+0%0Aw+160+288+160+256+0%0Aw+288+288+384+288+0%0Aw+384+288+384+368+0%0Aw+384+368+464+368+0%0Aw+288+256+288+288+0%0Aw+288+224+288+256+0%0Aw+288+176+288+224+0%0A"">open in Paul Falstad's circuit simulator</a>):</p>

<p><a href=""https://i.stack.imgur.com/shCWb.gif""><img src=""https://i.stack.imgur.com/shCWb.gif"" alt=""Second circuit, the 3 LEDs have different values of forward voltage""></a></p>

<p>As you can see, in the first example, all diodes are conducting equal amounts of current and in the second example one diode is conducting most of the current while other diodes are barely conducting anything at all. The example itself is a bit exaggerated so that the differences will be a bit more obvious, but nicely demonstrate what happens in real world.</p>

<p>The above is written with assumption that you will chose the resistor in such way that is sets the current so that the current is <em>n</em> times the current you want in each diode where <em>n</em> is the number of diodes and that the current is actually larger than the current which a single diode can safely conduct. What then happens is that the diode with lowest forward voltage will conduct most of the current and it will wear out the fastest. After it dies (if it dies as open circuit) the diode with next lowest forward voltage will conduct most of the current and will die even faster than first diode and so on until you run out of diodes. </p>

<p>One case that I can think of where you can use a resistor powering several diodes would be if the maximum current going through the resistor is small enough that a single diode can work with full current. This way the diode won't die, but I myself haven't experimented with that so I can't comment on how good idea it is.</p>
","22293"
"How to invert a digital signal","67596","","<p>I need a way to invert a digital signal i.e. if the input is high, I want the output to be low and if the input is low I want the output to be high.  </p>

<p>I think this can be accomplished with a single PNP transistor, but wanted to verify that here.  The voltages that I'm dealing with are less than 5V.</p>
","<p>Or, since you're talking about digital signals anyway you use an <strong>inverter</strong>.  </p>

<p><img src=""https://i.stack.imgur.com/V6c6L.jpg"" alt=""enter image description here"">  </p>

<p><code>A</code> is the input (for gates with more inputs that will be <code>A</code>, <code>B</code>, <code>C</code>, etc.), <code>Y</code> is the output. If it doesn't complicate your schematic too much place the symbol with the input to the left.  </p>

<p>NXP has <a href=""http://www.nxp.com/documents/data_sheet/74AHC_AHCT1G04.pdf"">single-gate inverters</a>. Just four connections: power supply, ground, input and output.   </p>

<p>It can be done with a transistor and two resistors, though. It's a simple schematic, but you still have to make a few simple calculations. You'll have exactly the same connections as with the inverter.<br>
BTW, a PNP is an option, but more often an NPN will be used.  </p>

<p><strong>edit</strong> (re your comment)  </p>

<p><img src=""https://i.stack.imgur.com/KntFP.jpg"" alt=""enter image description here"">  </p>

<p>If the input signal is high there will flow current through R2 and the transistor's base-emitter junction (base, not gate). This current will be amplified, and the collector current through R1 will cause a voltage drop so that the output will be low. Input high, output low.<br>
If the input signal is low there won't be any base current, and no collector current. No current through R1 means no voltage drop, so that the output will be at +V. Input low, output high.  </p>

<p>This already leads a bit further, but like I said in comment to <em>sandun</em> the output is highly asymmetrical. If the output is connected to a capacitor a high output level would mean that the capacitor is charged through R1, which will result in an exponential slope with a time constant R1C. When the output goes low the capacitor will be discharged through a much lower resistance and the slope will be much steeper. You won't get this difference with CMOS gates, which have symmetrical source/sink capabilities.  </p>

<p>The transistor version's input will also draw (a small) current when high. The CMOS version will only have a small leakage current both when high and low.  </p>

<p>Overall the integrated logic gate is the winner.</p>
","30241"
"How to measure temperature using a NTC thermistor?","67406","","<p>I have a <a href=""http://extra-parts.com/datasheets/TTC.pdf"">TTC103</a> NTC thermistor. It has zero-power resistance of 10 kΩ at 25°C and B25/50 value of 4050. How do I use it to measure temperature?</p>
","<p>NTC (negative temperature coefficient) thermistors change their effective resistance over temperature.  The most common equation used to model this change is the <a href=""http://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation"" rel=""nofollow"">Steinhart-Hart equation</a>.  It uses three coefficients to characterize the NTC material with great accuracy.</p>

<blockquote>
  <p>The <strong>Steinhart–Hart equation</strong> is a model of the resistance of a semiconductor at different temperatures. The equation is:</p>
  
  <p>$${1 \over T} = A + B \ln(R) + C (\ln(R))^3$$</p>
  
  <p>where:</p>
  
  <ul>
  <li>\$T\$ is the temperature (in kelvins)</li>
  <li>\$R\$ is the resistance at \$T\$ (in ohms)</li>
  <li>\$A\$, \$B\$, and \$C\$ are the <strong>Steinhart–Hart coefficients</strong> which vary depending on the type and model of thermistor and the temperature range of interest. (The most general form of the applied equation contains a \$(\ln(R))^2\$ term, but this is frequently neglected because it is typically much smaller than the other coefficients, and is therefore not shown above.)</li>
  </ul>
  
  <p>&mdash; <a href=""http://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation"" rel=""nofollow"">Steinhart-Hart equation - Wikipedia, The Free Encyclopedia</a></p>
</blockquote>

<p>Many manufacturers provide application notes (e.g. <a href=""http://www.ilxlightwave.com/appnotes/AN%204%20REV02%20Thermistor%20Calibration%20and%20Steinhart%20Hart.pdf"" rel=""nofollow"">here</a>) detailing on how to calibrate a given NTC if you desire accuracy better than the quoted manufacturing tolerance.</p>

<p>The provided B-coefficient can be used in a simplified Steinhart-Hart equation as described on the <a href=""http://en.wikipedia.org/wiki/Thermistor#B_parameter_equation"" rel=""nofollow"">Wikipedia Thermistor article under ""B parameter equation""</a>.</p>
","8759"
"What's the purpose of two capacitors in parallel?","67344","","<p>What's the purpose of the two capacitors in parallel on each side of the regulator in<br>
 <a href=""http://www.circuitsonline.net/schakelingen/30/voedingen/78xx-voeding.html"" rel=""noreferrer"">this power supply circuit</a></p>

<p><img src=""https://i.stack.imgur.com/RV7ay.gif"" alt=""enter image description here""></p>

<p>I've seen similar setups in other similar circuits and can guess that it's related to one being polarized an one not, but I don't really understand what's going on there.</p>
","<p><strong>Summary:</strong></p>

<ul>
<li><p>Big capacitors handles low frequency ripple and mains noise and major output load changes.</p></li>
<li><p>Small capacitors handle noise and fast transients.</p></li>
</ul>

<hr>

<p>That circuit uses ""overkill"" with that application but serves as an OK example.</p>

<p>Here is a typical <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""noreferrer"">LM7805 datasheet</a>  </p>

<p>It can be seen on page 22 that having two capacitors at Vin abd two at Vout is not necessarily a standard arrangement, and that the capacitor values in the supplied circuit are relatively large.<br>
 Below is fig22 from the datasheet. </p>

<p><img src=""https://i.stack.imgur.com/xVvHK.jpg"" alt=""enter image description here""></p>

<p>Your circuit:</p>

<p><img src=""https://i.stack.imgur.com/o8Mbj.gif"" alt=""enter image description here""></p>

<p>A large capacitor like the 2200 uF act as a ""reservoir"" to store energy from the rough DC out of the bridge rectifier. The larger the capacitor the less ripple and the more constant the DC. When large current peaks are drawn the capacitor supplied surge energy helps the regulator not sag in output.</p>

<p>The white and black bars on the capacitor symbol show that it is a ""polar "" capacitor - it only works with + and - on the selected ends.</p>

<p>Such capacitors are usually ""electrolytic capacitors"". These have good ability to filter out low frequency ripple and to respond to reasonably fast load changes. 
By itself it is not enough to do the whole job as it is not good at filtering higher frequency noise because electrolytics tend to have large internal inductance + large (relatively) internal series resistance (ESR).</p>

<p>The small input capacitor (here 1 uF) will be non polarized and will usually nowadays be a multilayer ceramic capacitor with low ESR and low inductance giving it excellent high frequency response and noise filtering capabilities. By itself it is not enough to do the whole job as it cannot store enough energy to deal with the energy needed to filter out ripple changes and large load transients.</p>

<p>The same applies in general terms to the output capacitors.
 C4 = 10 uF helps to supply any gross load changes thus taking some load off the regulator.  It is not usually deemed necessary to have more than a very small capacitor here. Some modern regulators need a largish capacitor here for stability reasons but the LM78xx does not.</p>

<p>Here the second output capacitor is 1 uF and it is there to deal with high frequency noise.</p>

<p>Note that the datasheet circuit uses 0.1 uF as ""small"" and the example circuit uses 1 uF as small. This is because modern 1 uF ceramic capacitors have much better noise performance, low inductance etc. than used to be the case so a 1 uF can be used where a 0.1 uF may have been as large as is safe noise wise. </p>

<p>Note that having a large capacitor on the output can cause problems. If the input was shorted so that power was removed C4 would discharge back through the regulator. Depending on voltage and capacitor size this can cause damage. There are ways of dealing with this which I won't deal with here.</p>
","21695"
"Why does a resistor need to be on the anode of an LED?","67139","","<p>Please be kind, I am an electronics nub.  This is in reference to getting an LED to emit photons.</p>

<p>From what I read (Getting Started in Electronics - Forrest Mims III and Make: Electronics) electrons flow from the more negative side to the more positive side.</p>

<p>In an example experiment (involving a primary dry cell, a SPDT switch, a resistor and an LED) it states that the resistor MUST be connected to the anode of the LED.  In my mind, if the electrons flow from negative to positive, wouldn't the electron flow run through the LED before the resistor; thereby making the resistor pointless?</p>
","<p>The resistor can be on either side of the LED, but it must be present.  When two or more components are in series, the current will be the same through all of them, and so it doesn't matter which order they are in.  I think the way to read ""the resistor must be connected to the anode"" as ""the resistor cannot be omitted from the circuit.""</p>
","13749"
"Why do many laptops run on 19 volts?","67124","","<p>Typically mobile devices that have a mains-powered supply will accept voltage that is multiple of some single battery voltage. For example, 4.5 volts is 1.5 volts (AA primary battery) 3 times and 36 volts is 3.6 volts (Li-Ion battery) 10 times.</p>

<p>Now there're laptops that use external power supplies rated at exactly 19 volts. That isn't a multiple of anything suitable. Puzzles me a lot.</p>

<p>Where does this voltage originate from?</p>
","<blockquote>
  <p>Now there're laptops that use external power supplies rated at exactly 19 volts. That isn't a multiple of anything suitable. Puzzles me a lot.</p>
</blockquote>

<p>This is not a design question as posed, but it has relevance to design of battery charging systems. </p>

<p>Summary: </p>

<ul>
<li><p>The voltage is slightly more than a multiple of the fully charged voltage of a Lithium Ion battery—the type used in almost every modern laptop.</p></li>
<li><p>Most laptops use Lithium Ion batteries.</p></li>
<li><p>19 V provides a voltage which is suitable for use for charging up to 4 x Lithium Ion cells in series using a buck converter to drop the excess voltage efficiently. </p></li>
<li><p>Various combinations of series and parallel cells can be accommodated. </p></li>
<li><p>Voltages slightly below 19 V can be used but 19 V is a useful standard voltage that will meet most eventualities.</p></li>
</ul>

<hr>

<p>Almost all modern laptops use Lithium Ion (LiIon) batteries. Each battery consists of at least a number of LiIon cells in a series 'string' and may consist of a number of parallel combinations of several series strings. </p>

<p>A Lithium Ion cell has a maximum charging voltage of 4.2 V (4.3 V for the brave and foolhardy). To charge a 4.2 V cell at least slightly more voltage is required to provide some “headroom” to allow charge control electronics to function. At the very least about 0.1 V extra might do but usually at least 0.5 V would be useful and more might be used.</p>

<p>One cell = 4.2 V<br>
 Two cells = 8.4 V<br>
 Three cells = 12.6 V<br>
 Four cells = 16.8 V<br>
 Five cells  = 21 V.</p>

<p>It is usual for a charger to use a <a href=""https://en.wikipedia.org/wiki/Switched-mode_power_supply"" rel=""noreferrer"">switched mode power supply</a> (SMPS) to convert the available voltage to required voltage. A SMPS can be a <a href=""https://en.wikipedia.org/wiki/Boost_converter"" rel=""noreferrer"">Boost converter</a> (steps voltage up) or <a href=""https://en.wikipedia.org/wiki/Buck_converter"" rel=""noreferrer"">Buck converter</a> (steps voltage down) or swap from one to the other as required. In many cases a buck converter can be made more efficient than a boost converter. In this case, using a buck converter it would be possible to charge up to 4 cells in series. </p>

<p>I have seen laptop batteries with   </p>

<p>3 cells in series (3S),<br>
 4 cells in series (4S),<br>
 6 cells in 2 parallel strings of 3 (2P3S),<br>
 8 cells in 2 parallel strings of 4 (2P4S)</p>

<p>and with a source voltage of 19 V it would be possible to charge 1, 2, 3 or 4 LiIon cells in series and any number of parallel strings of these. </p>

<p>For cells at 16.8 V leave a headroom of (19−16.8) = 2.4 volt  for the electronics. Most of this is not needed and the difference is accommodated by the buck converter, which acts as an “electronic gearbox”, taking in energy at one voltage and outputting it at a lower voltage and appropriately higher current.</p>

<p>With say 0.7 V of headroom it would notionally be possible to use say 16.8 V + 0.5 V = 17.5 V from the power supply—but using 19 V ensures that there is enough for any eventuality and the excess is not wasted as the buck converter converts the voltage down as required. Voltage drop other than in the battery can occur in SMPS switch (usually a <a href=""https://en.wikipedia.org/wiki/MOSFET"" rel=""noreferrer"">MOSFET</a>), SMPS diodes (or synchronous rectifier), wiring, connectors, resistive current sense elements and protection circuitry. As little drop as possible is desirable to minimise energy wastage. </p>

<p>When a Lithium Ion cell is close to fully discharged it's terminal voltage is about 3 V. How low they are allowed to discharge to is subject to technical considerations related to longevity and capacity.  At 3 V/cell 1/2/3/4 cells have a terminal voltage of 3/6/9/12 volt. The buck converter accommodates this reduced voltage to maintain charging efficiency. A good buck converter design can exceed 95 % efficient and in this sort of application should never be under 90 % efficient (although some may be). </p>

<hr>

<p>I recently replaced a netbook battery with 4 cells with an extended capacity version with 6 cells. The 4 cells version operated in 4S configuration and the 6 cell version in 2P3S. Despite the lower voltage of the new battery the charging circuitry accommodated the change, recognising the battery and adjusting accordingly. Making this sort of change in a system NOT designed to accommodate a lower voltage battery could be injurious to the health of the battery, the equipment and the user. </p>
","31621"
"Safe temperature for desoldering SMD components w/ hot-air rework gun?","67048","","<p>What is a reasonably safe temperature to use for desoldering SMD components using a hot-air rework gun? I have a new-to-me rework station from Xytronic and the documentation clearly assumes you know what you're doing… It tells you what temperature range the gun is capable of, but has nothing to say about where you <em>should</em> be setting it.</p>

<p>Also, I was surprised by how little air pressure the unit generates even when the AIR setting is set to max (99). Is this normal?</p>

<p>My one test so far was to desolder a random surface-mount IC package from a piece of electronic salvage I had lying around (kept for exactly this purpose). I tried to step up the temperature slowly, but I got all the way to 400 degrees Celsius before the chip seemed to suddenly be floating free. I never did see any visible change in the solder… (But perhaps that's just my eyesight.)</p>

<p>I am concerned that at that temperature any component that I can get off a board might be damaged by the heat.</p>
","<p>Very good idea to practice, practice, and practice some more on salvaged boards until you get competent with new tools. You didn't notice the solder had reached the molten state because there's so little of it used to solder components.</p>

<p>The typical lead-free solder has a melting point around 217 degrees C, so you'll have to get the leads and pads up to that temperature before trying to remove the component. The reason why you need a much higher temperature is because you want to get the solder joints to the melting point as fast as possible. If the hot-air gun is set to a much lower temperature, it'll take a longer time to reach the melting point. The longer the time to raise the temperature of the leads/pads will increase the overall temperature of the component, possibly past the point of destruction. So the technique is to heat it up fast, remove the part and hot-air gun, then put the part where it can cool off. </p>

<p>Now, if you're removing a part that's already fried due to some other reason, no worries then. Just don't damage the board by overheating the pads and causing them to lift off. If that happens, your headaches are just beginning on this repair.</p>
","26289"
"Does higher dBI mean further range, for an antenna?","66787","","<p>I recently purchased <a href=""http://www.sparkfun.com/products/158"">this</a> (ridiculously expensive) <a href=""http://www.sparkfun.com/products/158"">Bluetooth module</a> for my Arduino from SparkFun.  On the item's page it says that it has been tested at 100m.  I contacted SparkFun for info about their setup and they said to achieve the 100m range they used <a href=""http://www.sparkfun.com/products/145"">this 2.2dBI antenna</a>.</p>

<p>I presume any (2.4GHz) 2.2dBI antenna will yield similar, 100m, results: is that correct?</p>

<p>However, I have <a href=""http://www.ebay.com/itm/150854443105?ssPageName=STRK%3aMEWNX%3aIT&amp;_trksid=p3984.m1439.l2649#ht_4013wt_1197"">this 7dBI antenna</a> on it's way.  If I use that will I be able to get further range than from the 2.2dBI antenna?</p>

<p>Thank you.</p>
","<p>Yes, you will get more signal strength from a 7 dBI antenna than a 2.2dBI (specifically 4.8 dB). It solves that by radiating energy more directionally than an idea antenna that radiates evenly in all directions (0 dBI).</p>

<p>This increased signal strength of 4.8 dB is 10^(4.8/10) = 3 times more power. That will increase your range by about 70% in ideal conditions.</p>

<p>Since it is directional, you will need to point it more carefully. Specifically the linked antenna is pretty much a vertical wire. It radiates in a circle around the antenna; your receiver shouldn't be much above or below this plane.</p>
","36035"
"How do ceiling fan controllers work?","66780","","<p>There are some devices that look like ordinary light dimmers, but are sold expressly for ceiling fan speed control. For example: <a href=""http://www.lutron.com/en-US/Products/Pages/StandAloneControls/FanControls/Diva/Models.aspx#Quiet%203-speed%20Control"" rel=""noreferrer"">Lutron Diva Quiet 3-speed control</a>. Unlike an ordinary dimmer, this has a three-position switch for low, medium, and high speeds, instead of a continuously variable knob. The <a href=""http://www.lutron.com/TechnicalDocumentLibrary/030-1541_Combined_Language.pdf"" rel=""noreferrer"">manual</a> shows typical wiring, which is like an ordinary dimmer:</p>

<p><img src=""https://i.stack.imgur.com/n1gqQ.png"" alt=""wiring diagram""></p>

<p>(the unconnected red/white wire is for an optional 3-way circuit)</p>

<p>I've heard people say ""don't run a fan on a dimmer; you will start a fire"", but don't say why. Yet, that Lutron sells this device <em>expressly for fans</em> suggests it is something other than an ordinary triac light dimmer, and that it's totally safe, but they also don't say why.</p>

<p>I also know when I bought this house, a different, uglier fan controller of a similar type was installed. Could it be that this ceiling fan is designed for this type of control, where others are not?</p>

<p>Can someone tell me, as an electrical engineer, exactly what these fan speed controllers do, electrically? How are they different from ordinary triac light dimmers?</p>
","<p>I was recently (today) helping someone with their home renovations, including replacement of the three-speed fan controllers. The old one, which we ripped out and replaced, is shown below. Note the crude circuit diagram on the black box object (the fan speed controller.)</p>

<p><img src=""https://i.stack.imgur.com/YQdXT.jpg"" alt=""enter image description here""></p>

<p>I infer that the fan controller works by inserting a capacitance into the fan's power supply circuit. The slow speed is obtained by using the 4.3uF capacitor (purple, P), the medium speed is obtained by using the 2.1uF capacitor (red, R), and the high speed is obtained by direct connection (no capacitor.)</p>

<p>Here's a circuit diagram for a very similar three-speed motor controller by Clipsal.</p>

<p><img src=""https://i.stack.imgur.com/P0v98.jpg"" alt=""enter image description here""></p>

<p>I don't understand single-phase induction motors well enough to state with certainly exactly <em>how</em> the extra capacitance modifies the speed of the motor. Sorry!</p>

<p>Note that single-phase induction motors aren't self-starting and must include a phase shifted auxiliary winding to provide starting torque. The phase shift is provided by a capacitor, which may be relevant. (If anyone knows more about the workings of single-phase induction motors, please come forward!)</p>
","95199"
"How much does it cost to have a custom ASIC made?","65742","","<p>I have browsed several ASIC manufacturer's webs, but I haven't found an actual number.
I assume there would be a fixed cost associated with creating masks and such and then there will be a cost per unit.</p>

<p>Note that I don't actually want to have an ASIC made, I'm just curious.</p>
","<p>I looked into ASIC's a while ago and here's what I found:</p>

<p>Everybody has different definitions for the word ""ASIC"".  There are (very roughly) three categories:  FPGA Conversions, ""normal"" ASIC, and ""full custom"".  As expected, these are in order of increasing price and increasing performance.</p>

<p>Before describing what these are, let me tell you how a chip is made...  A chip has anywhere from 4 to 12+ ""layers"".  The bottom 3 or 4 layers contains the transistors and some basic interconnectivity.  The upper layers are almost entirely used to connect things together.  ""Masks"" are kind-of like the transparencies used in the photo-etching of a PCB, but there is one mask per IC layer.</p>

<p>When it comes to making an ASIC, the cost of the masks is <em>HUGE</em>.  It is not uncommon at all for a set of masks (8 layers, 35 to 50 nm) to run US$1 Million!  So it is no great surprise to know that most of the ""cheaper"" ASIC suppliers try very hard to keep the costs of the masks down.</p>

<p><strong>FPGA Conversions:</strong>  There are companies that specialize in FPGA to ASIC conversions.  What they do is have a somewhat standard or fixed ""base"" which is then customized.  Essentially the first 4 or 5 layers of their chip is the same for all of their customers.  It contains some logic that is similar to common FPGA's.  Your ""customized"" version will have some additional layers on top of it for routing.  Essentially you're using their logic, but connecting it up in a way that works for you.  Performance of these chips is maybe 30% faster than the FPGA you started with. Back in ""the day"", this would also be called a ""sea of gates"" or ""gate array"" chip.</p>

<p>Pro's:  Low NRE (US$35k is about the lowest).  Low minimum quantities (10k units/year).  </p>

<p>Con's:  High per-chip costs-- maybe 50% the cost of an FPGA.  Low performance, relative to the other solutions.</p>

<p><strong>""Normal"" ASIC:</strong>  In this solution, you are designing things down to the gate level.  You take your VHDL/Verilog and compile it.  The design for the individual gates are taken from a library of gates &amp; devices that has been approved by the chip manufacturer (so they know it works with their process).  You pay for all the masks, etc.</p>

<p>Pro's:  This is what <em>most</em> of the chips in the world are.  Performance can be very good.  Per-chip costs is low.</p>

<p>Con's:  NRE for this <em>starts</em> at US$0.5 million and quickly goes up from there.  Design verification is super important, since a simple screw-up will cost a lot of money.  NRE+Minimum order qty is usually around US$1 million.</p>

<p><strong>Full Custom:</strong>  This is similar to a Normal ASIC, except that you have the flexibility to design down to the transistor level (or below).  If you need to do analog design, super low power, super high performance, or anything that can't be done in a Normal ASIC, then this is the thing for you.  </p>

<p>Pro's:  This requires a very specialized set of talents to do properly.  Performance is great. </p>

<p>Con's:  Same con's as Normal ASIC, only more so.  Odds of screwing something up is much higher.</p>

<p>How you go about this really depends on how much of the work you want to take on.  It could be as ""simple"" as giving the design files to a company like TSMC or UMC and they give you back the bare wafers.  Then you have to test them, cut them apart, package them, probably re-test, and finally label them.  Of course there are other companies that will do most of that work for you, so all you get back are the tested chips ready to be put on a PCB.</p>

<p>If you have gotten to this point and it still seems like an ASIC is what you want to do then the next step would be to start Googling for companies and talking with them.  All of those companies are slightly different, so it makes sense to talk with as many of them as you can put up with.  They should also be able to tell you what the next step is beyond talking with them.</p>
","19369"
"How to know how many LEDs can be used at a given voltage","65436","","<p>I am newbie to electronics. Basically I developed a mini circuit just to understand concept of electronic circuit. What I did was I developed a circuit with 3Volt AA battery and 1 LED. The LED lighted up. When I increased the number of LEDs to two, the second LEDs didn't light up. </p>

<p>So, I increase the number of battery so that it became 6Volt. The two LEDs light up fine. Then I added the third one, but only two light up and the third one didn't. Also I noticed that the brightness of the light is decreased when I add the third one.</p>

<p>For your information, I connected the LED in series. My question is, how can I determine the number of LEDs can be used for specific volt? I understand that LED is not a resistor, so why the volt dropped from LED to LED in series and how to determine this? </p>

<p>I did know the V=IR thingy. Thanks.</p>
","<p>The \$ V = I \cdot R\$ ""thingy"", as you call it is <strong>Ohm's Law</strong>. A very important one.  </p>

<p>LEDs cause a pretty constant drop which, like <em>Malife</em> says, depends mainly on the LED's color, and also varies a bit with current. <a href=""http://www.oksolar.com/led/led_color_chart.htm"" rel=""noreferrer"">This chart</a> shows you that all visible light LEDs require at least 1.8V. A red LED will drop about 2.2V, so like you saw it can be powered from a 3V battery. Two LEDs in series require at least 4.4V, so it won't work with the 3V battery, but the 6V is OK.  </p>

<p>That three LEDs are weird. You say two light up faintly and the third doesn't. A LED's luminosity is determined by the current, and the same current passes through all LEDs so they should all three light evenly. The only explanations I can think of is that the third one may be defective, or it may be an IR LED. Though a LED which fails because of too much current will usually be open, not shorted. Also a shorted LED shouldn't decrease brightness.<br>
LEDs are <strong>extremely sensitive to ESD</strong>, and that may have caused the dead LED. If you don't have any other ESD protective tools, touch a large metal object before handling your LEDs.</p>

<p>Now there's a <em>big</em> mistake in <em>Malife</em>'s schematic, and that's the absence of a resistor.  You'll have a difference in voltage between the LEDs and the battery. For the two LEDs that will be about 6V - 4.4V = 1.6V. You have to do something with that, if you connect the three just like that there might flow a very large current which can destroy your LEDs. So you place a resistor which will handle the 1.6V. Since you know Ohm's Law you can calculate the resistor's value if you know that a typical indicator LED needs 20mA:  </p>

<p>\$ R = \dfrac{V}{I} = \dfrac{6V - 2 \times 2.2V}{20 mA} = 80 \Omega \$  </p>

<p>For the single LED this would be  </p>

<p>\$ R = \dfrac{V}{I} = \dfrac{3V - 2.2V}{20 mA} = 40 \Omega \$  </p>

<p><img src=""https://i.stack.imgur.com/1XK9J.png"" alt=""enter image description here"">  </p>

<p>It doesn't matter in which order you place the LEDs and resistor.</p>

<p>If you haven't used a resistor in your experiments and the LEDs didn't go up in smoke it's probably because the battery can't supply too much current.  </p>

<hr>

<p><strong>edit</strong> (after your comment)<br>
Next to Ohm's Law there are also Kirchhoff's Laws: Kirchhoff's Voltage Law (KVL) and Kirchhoff's Current Law (KCL). KVL says that the sum of all voltages in a loop is zero. In our case, the battery's voltage is equal to the sum of the voltages over LEDS and resistor. (The voltage over a component is often called the voltage drop over it.)<br>
In the schematic above we start with 3V at the top. The LED ""drops"" 2.2V, so the voltage at the cathode is 0.8V. There's only the resistor left before we arrive at 0V, so that 0.8V is the resistor's voltage drop.<br>
For more than 1 LED start at the battery's positive contact and walk through the loop, subtracting voltages as you pass components, until you arrive at 0V when you return to the battery.</p>
","31591"
"How do I know if which leg is the emitter or the collector? (Transistor)","65265","","<p>I'm new to electronics and here's a newbie question that I would like to ask:
How do I know if which leg is the emitter or the collector in a Transistor (For both PNP and NPN) using only an <strong>analog</strong> multimeter?</p>
","<p>Set meter to lowish ohms range so a diode conduction can be seen - trial and error OR diode test if available.</p>

<ul>
<li><p>With an NPN transistor the base will have two diodes facing away from it. ie with most positive meter lead on the base the other two leads will show a conducting diode when the negative lead is placed on them</p></li>
<li><p>With a PNP  transistor the base will have two diodes facing towards it. ie with most positive negative (usually black) meter lead on the base the other two leads wil show a conducting diode when the positive  lead is placed on them</p></li>
</ul>

<p>OK - now you know NPN from PNP and which is base. Now</p>

<ul>
<li><p>Connect positive to guessed collector for NPN and negative to guessed emitter. Set meter to 1 megohm plus range.</p>

<p>-Connect base to guessed collector via a high value resistor - probably 100k to 1M. A wet finger works well. Note reading.</p>

<ul>
<li>Now swap guessed emitter and collector and repeat. Again resistor is added from base to guessed collector. Note reading</li>
</ul></li>
</ul>

<p>One of the two above will have a much lower R_CE reading when base is forward biased. That's the correct guess. </p>

<p>Once you get used to this you can pick up a leaded transistor, juggle it with meter leads till you find the two diodes giving base and NPN or PNP then lick your finger and do a forward bias base test - and then declare pinout. Looks like magic to many. Works.</p>

<p>You can or course formalize that on a breadboard and even add (gasp) switches to swap polarity etc. </p>

<p>Note that you can get some idea of Beta (current gain _ from this once you learn to calibrate your wet finger. </p>
","23307"
"How can I quickly and safely discharge a charged capacitor (small and low voltage; <= 42V)?","65097","","<p>I am learning how to use capacitors (ceramic and electrolytic from 1pf - 1000uf) and am trying out various experiments using a breadboard. I am constantly adding/removing things to my layout to see what happens... but waiting for a capacitor to discharge sometimes takes a long time! The book I am currently reading (Make: Electronics) suggested to ""discharge a capacitor by touching a resistor across it for a second or two"". Is this safe/recommended way? Can I just hold the resistor with my fingers and touch it across both terminals?</p>

<p>Note: I have to admit I am a bit paranoid with capacitors after seeing pictures of exploded capacitors and resulting fallout such as melted breadboards, burnt tables and even reading about people losing fingers!</p>

<p>Edit: I am currently working with 1.5 - 12V though I also have some 24V stepper motors which I'd eventually like to get working.</p>
","<p>With small capacitors up to 1 mF, there is little to worry about.  I suppose it's a good idea to make sure they are discharged before plugging them in where the voltage that could be on the cap could damage something, but this is something not generally worried about until you get to some real energies or high voltages.</p>

<p>For small electrolytic caps like what you are working with, just short them against something metal, like a bare component lead, metal chassis, or handy screw driver.</p>

<p>Don't waste brain cycles thinking about this for anything small enough to be a ceramic cap you can plug into a breadboard.  By the time you plug it in, your fingers will have discharged it.  Even if not, do the math.  1 &micro;F at 10 V is only 50 &micro;J.  Yes <b>micro</b>Joules.  Big deal.</p>
","28674"
"In an NMOS, does current flow from source to drain or vice-versa?","64845","","<p>In an NMOS, does current flow from source to drain or vice-versa?</p>

<p>This Wikipedia page is confusing me: <a href=""http://en.wikipedia.org/wiki/MOSFET"" rel=""noreferrer"">http://en.wikipedia.org/wiki/MOSFET</a></p>

<p><img src=""https://i.stack.imgur.com/pRlUm.png"" alt=""Image that&#39;s confusing me""></p>

<p>The above image confuses me.  For the N-channel, it shows the diode's polarity going towards source in some, but away from the source in others. </p>

<p>I'm wondering which terminal should be connected to the power source (i.e. the positive battery terminal) and which should be connected to the power user (i.e. electric motor).</p>
","<p>Conventional current flows from Drain to Source in an N Channel MOSFET.<br>
 The arrow shows body diode direction in a MOSFET with a parsitic diode between source and drain via the substrate. This diode is missing in silicon on saphire. </p>

<p>2a is a JFet so different topology. </p>

<p>2d is a MOSFET with no body diode. I've never seen one                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   </p>

<p>\2e is a depletion mode FET - it is on with no gate voltage and takes negative voltage to turn the FET off. So diode has other polarity otherwise body diode would conduct whenever there was gate voltage.</p>
","48665"
"Solder doesn't stick wires to connectors","64533","","<p>I'm always having problems soldering wires to connectors. I've read through the <a href=""https://electronics.stackexchange.com/questions/3805/solder-wont-stick"">Solder won&#39;t stick</a> question, but nothing there seems to have helped.</p>

<p>Here's my procedure:</p>

<ul>
<li>If the connector is being difficult, I rub the surface of the connector with fine-grain sandpaper to clear any oxidisation.</li>
<li>Get my iron up to about 175 deg C (it's a temp-controlled iron)</li>
<li>Brush the tip across a damp sponge.</li>
<li>Add a small spot of solder to the tip.</li>
<li>Line up the wire to the connector, usually with a clamp.</li>
<li>Hold the tip of the iron on the connector for a short time.</li>
<li>Push some solder onto the wire at the edge of the tip, so the solder melts onto the wire.</li>
<li>Remove the iron.</li>
<li>Brush the tip across the sponge again to clean off the excess solder.</li>
</ul>

<p>The problem I'm having is that the solder just doesn't stick the wire to the connector. It usually holds for a second, then unsticks from the connector as soon as the wire moves. I've tried more solder, less solder, different solder - same issue.</p>

<p>I've started to notice the same issue when soldering onto stripboard, too. The flow seems to be poor, the solder doesn't look shiny, and it's all rather viscous.</p>

<p>Am I doing something wrong? Is my iron / tip bad?</p>
","<p>175C is pretty low for soldering. Low temperature lead solder (""63/37"") melts around 185C, RHoS solder even melts around 250C. You also do not seem to use flux - do it. The solder flows fast and evely if the pads/pins have the right temperature. If you have problems with soldering in general check <a href=""http://www.solderinguide.com/"">solderingguide.com</a>, the <a href=""http://mightyohm.com/blog/2011/04/soldering-is-easy-comic-book/"">soldering is easy comic</a> or <a href=""http://www.youtube.com/results?search_query=solder%20tutorial"">the tons of videos on youtube</a>.</p>
","31409"
"High Voltage Capacitor, in a low voltage system?","63146","","<p>Quick question, is using a Capacitor rated for High Voltage (lets say 35v) in a System that lets say supplies 5v (like for LEDS.....or what have you) Dangerous?</p>

<p>Since it can store UP to 35v, will it like somehow store a bunch then release it at once damaging the system? or it is ok to use a higher rated capacitor than the voltage being supplied?</p>
","<p>While not a perfect analogy, think of the voltage on the capacitor similar to the liter capacity of a tank. It will hold ""35 V"" but you needn't fill it completely. But like @JustJeff said, you'd be wise to ensure the container can hold more than necessary to prevent spills (and in an electrolytic capacitor's case, the electrolyte can expand and quite literally ""spill"" out).</p>

<p><em>Note that a better analogy to capacity would be the farad unit, since that's a measure of a capacitor's charge capacity, so don't get that confused with voltage, which is the potential to do work.</em></p>
","13103"
"How do I measure the RPM of a wheel?","62939","","<p>I'm trying to make an onboard system for my bike using an Arduino or maybe the Lilypad boards.</p>

<p>I think I should use a Hall effect sensor, but any alternative is good as well.</p>

<p>I want to output my speed to an LCD display and I'm wondering the best way to go about this.</p>
","<p>Using a hall effect sensor as Starliner suggested will be one way to interface with the wheel. Achim and Shutterdrone's suggestion to use a reed switch makes more sense though, given the supporting hardware a hall effect sensor requires to get a clean digital signal.</p>

<p>You might be able to pickup a magnet and sensor from a broken bicycle computer but if you can't, a local component store should have one of each in stock. The advantage of a recycled sensor and magnet is the you will already have the mounting hardware.</p>

<p>There is a page on the arduino wiki on <a href=""http://www.arduino.cc/playground/Main/ReadingRPM"">ReadingRPM</a> signals. To calculate the speed multiply the RPM value by the circumference of the wheel (2 * pi * radius [in meters]). The result will be in meters per minute.</p>

<p>Edit: I've notice that the linked code is for systems with two pulses per revolution. One magnet is sufficient for your task. Additionally, for a bicycle computer you'll probably want the result to be in KPH (or MPH if you live somewhere that still thinks that's civilised). I've made some (untested) mods to the code on the wiki to print out KPH and pasted them bellow.</p>

<pre><code>volatile byte revolutions;

unsigned int rpmilli;
float speed;


unsigned long timeold;

void setup()
{
  Serial.begin(9600);
  attachInterrupt(0, rpm_fun, RISING);

  revolutions = 0;
  rpmilli = 0;
  timeold = 0;
}

void loop()
{
  if (revolutions &gt;= 20) { 
    //Update RPM every 20 counts, increase this for better RPM resolution,
    //decrease for faster update

    // calculate the revolutions per milli(second)
    **rpmilli = (millis() - timeold)/revolutions;** EDIT: it should be revolutions/(millis()-timeold)

    timeold = millis();
    **rpmcount = 0;** (EDIT: revolutions = 0;)

    // WHEELCIRC = 2 * PI * radius (in meters)
    // speed = rpmilli * WHEELCIRC * ""milliseconds per hour"" / ""meters per kilometer""

    // simplify the equation to reduce the number of floating point operations
    // speed = rpmilli * WHEELCIRC * 3600000 / 1000
    // speed = rpmilli * WHEELCIRC * 3600

    speed = rpmilli * WHEELCIRC * 3600;

    Serial.print(""RPM:"");
    Serial.print(rpmilli * 60000,DEC);
    Serial.print("" Speed:"");
    Serial.print(speed,DEC);
    Serial.println("" kph"");
  }
}

void rpm_fun()
{
  revolutions++;
}
</code></pre>

<p>Also, I've enabled 'community wiki' on this, which I think means other users can edit it. If my maths is wrong (and you can prove it!) jump in and fix it for me. :)</p>
","104"
"get a DC motor from household device?","62591","","<p>I was wondering if there are any common household devices from which I can get a small DC motor (I have a 9V battery...) to use with a breadboard? It'd take me a long time to buy one so I was hoping to just extract one from somewhere instead... </p>
","<p><strong>Sources and types of small DC motors:</strong></p>

<ul>
<li><strong>Easy guide:</strong>  if it has a motor and is solely battery operated it should be useful. </li>
</ul>

<p><strong>There are two main type of ""DC"" motors.</strong> </p>

<ol>
<li><p>""<strong>Brush"" motors</strong> that use a segmented commutator and brush contacts (often actually pieces of carbon) to keep the DC feed to the rotor in proper ""alignment"" with the magnetic field as the rotor spins. I'll use the term BM or ""brush motor"" for these. </p>

<ul>
<li><p>Look at the small DC motors sold as such at hobby or model or electrical shops. These will almost all be brush motors. Look at one end (usually the end where the wiring is connected, and see the commutator (copper striped cylinder that the brushes bear on and brush holders. In some these will be easy to see, in others almost impossible. You can usually tell these by them having a slightly gritty feel when turned - as the brushes run on the commutator. </p></li>
<li><p>A true DC brush motor may have only 2 leads. A BLDCM with an internal controller can also have two leads. Any DC motor with only two leads can generally be operated by applying the correct voltage.  </p></li>
</ul></li>
<li><p>""<strong>Brushless DC motors</strong>"" / BLDCM / BLDC motor. In these, rather than using brushest to switch the DC to the rotor, they (usually) have a permanent magnet rotor and switch DC to the stationary field coils using electronic switches (usually transistors). A BLDCM is like a stepper motor that has position sensing feedback devices that tell the ntroller when to provide the next motor signal. Without this feedback the controller cannot oprated the motor correctly. </p>

<ul>
<li>These are close enough to stepper motors that turning one of these by hand will show you the characteristic ""lumpiness) (cogging, saliency) that is caused as the rotor moves from magnet pole to magnet pole. Some BLDCMs are ""ironless"" and will not have cogging. </li>
</ul></li>
<li><p>A ""<strong>Stepper Motor</strong>"" can be thought of as a specialist BLDCM where there is no controller per se. WIth a SM the control circuit says 'do one step"" and assumes it has happened. They are really a specialist AC motor. </p></li>
</ol>

<p><strong>SO</strong> both  BLDCMs and Brush motors type can be run from a battery but the second type needs to have it's control circuitry included. Some BLDC motors have the control circuitry internal, making them as easy to use as brush type motors. Stepper motors are usually too specialised for easy stand alone use. </p>

<p><strong>Sources</strong> </p>

<p>Any battery operated motor is almost certainly a DC motor of one sort or the other. </p>

<ul>
<li><p><strong>Good &amp; easy</strong>: Battery powered toys that operate wheels, elevators etc will almost always contain brush motors. Dismantle and use. Proper voltage can be determined roughly from the voltage originally used. May use low grade open cage gearboxes to reduce rotation rate. Toys and tools are the most likely source. </p></li>
<li><p><strong>Good, easy, usually more powerful</strong> Small battery powered power tools usually use brush motors. Battery screwdrivers are useful as there are very cheap versions available and they have a gearbox to slow the rotation rate. Useful for eg small robot wheel drives etc. Often use a multistage ""planetary gearbox"" - useful for high reduction ratios. Google knows. </p></li>
<li><p><strong>Good usually</strong> Purely battery or battery/mains motorised appliances will usually have DC motors - eg electric toothbrush, razors, battery belnders, ... . Mains powered motorised devices will usually have either unsuitable high voltage brushed universal motors (vaccuum cleaner), mains only shaver, maains only drill ... or unsuitable induction motors or unsuitabloe ""shaded pole motors"".  </p></li>
<li><p><strong>Varied</strong> Printers usually contain a number of DC motors. These may be BMs, BLDCM's or pure stepper motors. Old printers get throw out in their millions. Finding which motor is of what type in them is part of the learning experience.</p></li>
<li><p><strong>Good but mechanical issues</strong> Computer type ""Muffin fans"" that operated on 12V or 5 V almost all contain DC motors. These are almost always BLDCMs but as the controller is inside the fan they can be used in the same way as a BM. The fan blades can be removed and usually the cooling loss would be OK. Hard to mount. </p></li>
<li><p><strong>BLDCM or stepper</strong> Hard disk, floppy disk, CD/DVD ROM drives. These are usually either stepper or BLDCMs. The controller is usually either on a PCB that the motor is mounted on or cable connected to the motor. By retaining the controller the motor cam be used. 1.44 MB disk motors are BLDCMs - some have very compact controllers on a removable PCB that mounts the motor. Some Samsung 1.44 MB FDDs were superb in this respect. Others are very entwined with the drive PCB. [[Michal notes he found 2 x brush motors in a CD with one moving the head. In floppy drives I've only ever seen stepper motors for head movement - so sounds like a CD could be useful. Platter/disk motir in CD/DVD/Floppy/HDD is liable to be a BLDCM. ]] </p></li>
</ul>

<hr>

<p><strong>Use of 9V battery with fan</strong></p>

<p>A 5V fan will operate ""rather fast"" from 9V. A 12V fan may operate. </p>

<p>For a 5V fan and new 9 V battery, use a series resistor of </p>

<ul>
<li><p>R = 4000/I </p></li>
<li><p>where I = fan mA on spec labl. </p></li>
</ul>

<p>eg for I=100 mA use 4000/100 = 40 ohm. </p>

<p>Closest = 39 ohms. </p>

<p>As battery runs down a smaller or no resisuor is OK. </p>

<p>Best is to use a 5V regulator and 5V fan. LM7805 or similar. </p>

<p>With a 100 mA fan a 9V ""PP3"" battery will last about 5 hours. </p>
","17663"
"Can silicone sealant be used to insulate and waterproof electronic components?","62247","","<p>Well, can it, when it is in direct contact with the components and circuitry?</p>
","<p>The best generic term is ""Silicone Rubber"".<br>
 I'll refer to it as SR for brevity.</p>

<p>SR is a good to excellent encapsulant that has limitations (as does everything).</p>

<p>It is not essential to use an electronics grade SR - these are usually dearer and may have Mil Spec ratings which are not essential.<br>
 <strong>BUT see below for what IS essential.</strong></p>

<p>For electronics and anything liable to be corroded you <strong><em>MUST</em></strong> use ""neutral cure"" SR.<br>
 You can buy acid cure SR which exudes acetic acid as it sets.<br>
 If it smells like vinegar then it's acid cure.   </p>

<h2> <strong>Do not use ""acid cure"" silicone rubber for electronics.</strong></h2>

<p>Neutral cure SRs will always say ""neutral cure"" or similar on the container. if they do not say this or similar they will be acid cure.</p>

<p>There are 2 main types of neutral cure SR (= NCSR) in common use. There are a number of other NCSRs but you will almost certainly not meet them.</p>

<p>Oxime cure is the cheaper and most common NCSR. It releases oximes and usually also methyl alcohol as it sets. Ventilation is needed and some people may get excema skin reactions. The oximes can corrode bare bright copper during curingh but this is usually not a major problem.  Oxime cure NCSR does not bond to polycarbonate plastic.</p>

<p>Alkoxy NCSR is more costly and the better grades of NCSR are alkoxy. It releases methyl alcohol as it sts. This can be 5% - 10% by volume ! so ventilation is an extremely good idea. It is good to work with - just be sensible.</p>

<p>ALL SRs that you meet are moisture cured !!!!!!!!!!!!!!!!!!!!<br>
 Atmospheric water reacts with the SR to cause cross linking of the SR rubber.
If the air is relatively dry it takes longer. If the air is completely dry then SR will; not set !!!. SR tubes are water proof and water vapor proof. Once you open them they are <strong>NOT</strong> water vapor proof - a tube of set of SR that is carefully sealed will set completely hard on months to a year. Storage in 100% dry air MAY work.</p>

<p>To set right through water vapor from the air must penetrate the SR. Penetration rates vary from about 1mm/day   to 3mm/day. If you make a very very thick blob of SR it can take many days to set in the middle. If you take two flat plates and overlap them and apply SR to the overlap the air path to the overlap is d/2 where d is the smallest overlap dimension and the path is through set SR and is very thin. SO an overlap SR join may take many many many days to set. Major SR makers recommend not using vast overlap in joins. </p>

<p>The 600 pound gorillas of the SR market are Dow Corning, Shinetsu (Japanese) and maybe BASF (BASF are the 600 pound gorilla of ANYTHING chemical but nobody notices). There are many other brands and many are good but if it's made by DC or Shinetsu you know it's good. Not all brands are good. Some people put large amounts of filler  in their SRs to the extent that it works poorly. </p>

<p>DC do make some cheap lower performance NCSRs but even these work well for most purposes. DC and other large makers may sell specific grades in selected markets which are not available in all countries. eg they sell ""Dow Corning Neutral Plus"" oxime cure NCSR in Asia.Unlike most DC SR's it has no product number and US sources do not know of its existence. It costs a few $US a tube in eg Hong Kong and works well enough.</p>

<p><strong>Many people do not know the following. Others will refuse to believe it:</strong><br>
  Note that SR's are NOT water vapor proof. Water vapor will permeate through them but liquid water will not. So a container ""sealed"" with SR will have an internal relative humidity comparable to that outside it! SR is typically about 10x more water permeable than the EVA sealant/adhesive used to bond silicon ""solar cells"" &amp; glass PV panels together. So a Glass fronted PV panel and a ""waterproof"" backsheet is also not in fact sealed and inside humidity levels are ~+ outside ones. Keeping LIQUID water off your components is what is required to prevent major corrosion. Fortunately.<br>
Corrosion still occurs with water vapour but at a vastl;y reduced rate due to the much lower concentration of reactants.<br>
The other requirement is a void-free bond to the component. If there are voids then water vapour can condense to form liquid water and allow corrosion at greatl;y accelerated rates. </p>

<p>There are many many grades of NCSR - setting times vary from minutes to hours. Viscosity varies from very pourable to thixotropic. </p>

<hr>

<p>If you ask specific SR questions not covered here I may be able to answer them. </p>

<hr>

<p>Added, February 2014:</p>

<p>@DaveTweed linked to<br>
<a href=""https://www.momentive.com/workarea/downloadasset.aspx?id=24761"" rel=""nofollow noreferrer""><strong>""Silicone materials for Electronic Devices and Component Assemblies""</strong> - here</a> which is probably the document that user 55online mentioned.<br>
This seems to be a very relevant document  - it is specific brand related  but contains much useful information. </p>
","32812"
"Fuses: What are the practical differences between Ceramic and Glass cartridge fuses","62035","","<p>What are the practical differences between ceramic and glass tube cartridge fuses?</p>

<p>I am trying to find new fuses for a piece of consumer electronics. The original fuses are going out of production.</p>

<p>The fuses the original BOM called for are <em>ceramic</em> cartridge fuses.  </p>

<p>It is my understanding that ceramic-tube fuses are significantly more durable, and are able to break a higher-current fault.<br>
However, in this case, both buses have identical markings (CE, UL, etc...) and are sufficiently rated for any fault-situation the device could reasonably be expected to endure.<br>
Also, this is a piece of tabletop-equipment, so durability is not relevant (if you drop the thing, lots more then the fuse will break).</p>

<p>As far as I can tell, the originally specified ceramic fuses are kind of overkill. What should I be concerned about if I switch to glass-tube fuses?</p>
","<p>Using the wrong type of eg 10 A fuse can result in death - and has done so in some cases. </p>

<p>As well as the aspects mentioned there is an extremely important characteristic of some fuses which Johny's answer was somewhat related to.</p>

<p>The characteristic is termed ""high rupture capacity"" or HRC. The rupture capacity or breaking current of a fuse is NOT directly rlated to its fusing current. The RC is the current that the fuse can interupt under fault conditions.</p>

<p>A fuse may be rated at say 10A bu an initial fault condition may produce an initial surge current of 100A, or 1000A or even 10,000A. If the fuse is unable to terminate this flowing current then ""there will be problems"". </p>

<p>Items like multimeters that are intended for mains use may have HRC fuses specified. This is because the mains will happily provide fault currents well in excess of their fusing currents. Currents of hundreds of amps can occur under mains fault conditions. Worst case, people have been killed because a non-HRC fuse was used when an HRC one was specified. An arc develops in the equipment, cannot be extinguished and the resultant arc energy melts and scatters the meter or other equipment essentially explosively.  </p>

<p>While many HRC fuses are visibly special <a href=""https://www.google.co.nz/search?q=hrc+fuse&amp;hl=en&amp;safe=off&amp;prmd=imvns&amp;source=lnms&amp;tbm=isch&amp;ei=T-anT9ujEJCbiQepvam6Aw&amp;sa=X&amp;oi=mode_link&amp;ct=mode&amp;cd=2&amp;sqi=2&amp;ved=0CBoQ_AUoAQ&amp;biw=1536&amp;bih=864"">See Gargoyle  mug shots  HERE</a> some appear nearly identical to standard small glass fuses. HRC fuses will almost invariably be ceramic rather than glass. </p>

<p><a href=""http://www05.abb.com/global/scot/scot235.nsf/veritydisplay/39ae25c019313b2ec1256c28003d032a/%24file/bwmwang.pdf"">HRC fuse catalog</a> - these are high voltage by normal standards, but it's interesting to note 3A fuses with 40,000A interruption capability. </p>

<hr>

<p><a href=""http://en.wikipedia.org/wiki/Fuse_%28electrical%29"">Wikipedia - Fuses - breaking capacity</a></p>

<ul>
<li>The breaking capacity is the maximum current that can safely be interrupted by the fuse. Generally, this should be higher than the prospective short circuit current. Miniature fuses may have an interrupting rating only 10 times their rated current. Some fuses are designated High Rupture Capacity (HRC) and are usually filled with sand or a similar material. <strong>Fuses for small, low-voltage, usually residential, wiring systems are commonly rated, in North American practice, to interrupt 10,000 amperes.</strong> Fuses for larger power systems must have higher interrupting ratings, <strong>with some low-voltage current-limiting high interrupting fuses rated for 300,000 amperes.</strong> Fuses for high-voltage equipment, up to 115,000 volts, are rated by the total apparent power (megavolt-amperes, MVA) of the fault level on the circuit.</li>
</ul>

<hr>

<p><a href=""http://wiki.answers.com/Q/What_is_the_advantage_of_an_HRC_high_rupturing_capacity_fuse"">This Answers answer</a> says</p>

<ul>
<li><p>The main advantage offered by an HRC fuse is that, when a fault current condition occurs, a tremendous amount of heat is created within the fuse. That heat melts the silica sand filling of the fuse into glass. Glass, being an insulator, suppresses any arc-over and breaks the circuit instantaneously. This behavior minimizes the possibility of a continuing - and dangerous - ""high arc current"" situation from developing, which is what happens if a normal fuse fails to break a heavy fault current. </p>

<p>... choosing to use an HRC fuse instead of a normal fuse makes very good sense if the equipment that needs to be protected - or other equipment nearby - would be very expensive to replace if it all went up in smoke just because of a fuse which was not capable of stopping a high fault current flowing. </p>

<p>So, if some expensive electrical equipment was supplied with one or more HRC fuses installed to protect it, you would be very foolish indeed to replace them with normal ""non-HRC"" fuses.</p></li>
</ul>

<p>Read more: <a href=""http://wiki.answers.com/Q/What_is_the_advantage_of_an_HRC_high_rupturing_capacity_fuse#ixzz1uCKdwImw"">http://wiki.answers.com/Q/What_is_the_advantage_of_an_HRC_high_rupturing_capacity_fuse#ixzz1uCKdwImw</a></p>
","31396"
"How do I calculate the required value for a pull-up resistor?","61923","","<p>There are many tutorials that use a pull-up or pull-down resistor in conjunction with a switch to avoid a floating ground, e.g.</p>

<blockquote>
  <p><a href=""http://www.arduino.cc/en/Tutorial/button"">http://www.arduino.cc/en/Tutorial/button</a></p>
</blockquote>

<p>Many of these projects use a 10K resistor, merely remarking that it is a good value.</p>

<p>Given a a particular circuit, how do I determine the appropriate value for a pull-down resistor?  Can it be calculated, or is it best determined by experimentation?</p>
","<p>Quick Answer:  Experience and experimentation is how you figure out the proper pullup/pulldown value.</p>

<p>Long Answer:  The pullup/down resistor is the R in an RC timing circuit.  The speed that your signal will transition will depend on R (your resistor) and C (the capacitance of that signal).  Often times C is hard to know exactly because it depends on many factors, including how that trace is routed on the PCB.  Since you don't know C, you cannot figure out what R should be.  That's where experience and experimentation come in.</p>

<p>Here are some rules of thumb when guessing at a good pullup/down resistor value:</p>

<ul>
<li>For most things, 3.3k to 10k ohms works just fine.</li>
<li>For power sensitive circuits, use a higher value.  50k or even 100k ohms can work for many applications (but not all).</li>
<li>For speed sensitive circuits, use a lower value.  1k ohms is quite common, while values as low as 200 ohms are not unheard of.  </li>
<li>Sometimes, like with I2C, the ""standard"" specifies a specific value to use.  Other times the chips application notes might recommend a value.</li>
</ul>
","23646"
"What are the differences between USB and RS232?","61596","","<p>Can someone tell me why people use either USB or RS232.  They are both serial ports, right?  And I understand that USB is much faster (especially USB3.0) but if people wanted too I'm sure they could make a successor to RS232 that is just as fast.</p>

<p>So, what are the advantages and disadvantages to both?</p>
","<blockquote>
  <p><strong>What are the differences between USB and RS232?</strong></p>
</blockquote>

<p>You will find much more than I can tell you here about the abilities and disadvantages of RS232 by starting with a search for RS232 and then 'wandering around the web' and following the thread where it leads. No one page will tell you everything but 10 or 20 quick skims will show you how useful it was and how utterly terrible, all at the same time.</p>

<ul>
<li><p>USB is intended as a high speed upward extensible fully standardised interface between 1 computing device using a single port and N peripherals using one port each with all control being accomplished by signals within the data stream. USB is formidably difficult to provide low level interfaces for. ""Simple"" interfaces are common but these provide and hide a very large degree of related complexity. </p></li>
<li><p>RS232 was intended as a 1:1 relatively low speed semi-standardised interface between 1 computing device and 1 peripheral per port with hardware control being an integral part of operation.  RS232 is relatively easy to provide low level physical interfaces for. </p></li>
</ul>

<hr>

<p><strong>RS232</strong> </p>

<p>was (and to some extent still is) a very useful powerful flexible way of connecting computing device to peripherals.   </p>

<p><strong>However</strong> [tm] [!!!] 
RS232 was intended as a short distance (a few metres max) moderately low speed (9600 bps usual, up to about 100kbps in some cases, faster in very specialist situations), one device per port (exceptions proving the rule). </p>

<p>Signalling was unbalanced relative to ground using about +/- 12V with logic one on dfata = -V and logic one on control = +V. There were many many many control signals on the original 25 pin connector which led to an utterly vast range of non standard uses and incompatabilities. The later version reduced the connector to 9 pins with still enough control signals to allow people to utterly destandardise configurations. </p>

<p>Getting RS232 working between a randomly chosen terminal device and a computer or similar MAY have been a matter of plug in and go, or need minutes hours or days of playing and in some cases just would not work.  </p>

<p>RS232 does NOT provide powering per se although many people used it to power equipment in many different ways, none of them standard. Observation of the data lines will allow data signals to be identified. (Fast eyes and a brain that works at a suitable number of kbps would help). </p>

<p>Data transfer is unidirectional on a transmit and receive line and uses asynchronous framing. </p>

<p>Design is for 1:1 connection with no way of multidropping in an 1:N arranagement without non-standard arrangements. </p>

<p><strong>USB</strong> </p>

<p>up to USB2 is a 4 physical wire system with two power lines and two data lines. There are no physical control lines. USB3 uses more lines and details are best left for another question and answer. </p>

<p>Initial speed was 12 Mbps, increased to 480 Mbps with USB2 and up to 5 Gbps ""Superspeed"" mode with USB3.</p>

<p>Control and configuration is all done with software using data signals which are an utterly inseparable part of the interface. Observing the data stream with an oscilloscope will not reveal the actual data component of the system.  </p>

<p>Data transfer uses 0/+5 balanced differential voltage signalling. </p>

<p>Data transfer is bidirectional with ownership of the ""bus"" being an integral part of the protocol. </p>

<p>Connection is almost always on a 1:1 basis physically but a number of logical devices can be accommodated on the one port. Connection of N physical devices to one upstream port is usually accomplished by use of a ""hub"" but this is essentially a visible manifestation of an internal 1:N arrangement which is an integral part of the design.</p>

<hr>

<p><strong>There are going to be some interesting connector issues :-):</strong></p>

<p>USB2 / USB3 <a href=""http://it.flexinet.com.au/Bits%20and%20Pieces/Computer%20Connectors.htm"" rel=""nofollow noreferrer"">From here</a></p>

<p><img src=""https://i.stack.imgur.com/sDcSE.gif"" alt=""enter image description here""></p>

<p>USB3 superspeed microconnector with USB 2 backward compatability <a href=""http://www.intomobile.com/2010/01/11/first-usb-3-0-products-launched-mobile-next/"" rel=""nofollow noreferrer"">from here</a> </p>

<p><img src=""https://i.stack.imgur.com/ZChNz.jpg"" alt=""enter image description here""></p>

<p>USB3.COM - USB3 superspeed cable connectors <a href=""http://www.usb3.com/"" rel=""nofollow noreferrer"">from here</a></p>

<p><img src=""https://i.stack.imgur.com/RFhqT.jpg"" alt=""enter image description here""></p>

<hr>

<p><a href=""http://en.wikipedia.org/wiki/RS-232"" rel=""nofollow noreferrer"">Wikipedia RS232</a></p>

<p><a href=""http://www.brouhaha.com/~eric/editorials/usb_vs_serial.html"" rel=""nofollow noreferrer"">USB versus serial</a></p>

<p><a href=""http://en.wikipedia.org/wiki/Universal_Serial_Bus"" rel=""nofollow noreferrer"">Wikipedia USB</a></p>

<p><a href=""http://www.everythingusb.com/superspeed-usb.html"" rel=""nofollow noreferrer"">USB3 Superspeed FAQ</a></p>

<p><a href=""http://en.wikipedia.org/wiki/USB_3.0"" rel=""nofollow noreferrer"">Wikipedia USB3</a></p>

<p><a href=""http://www.usb.org/developers/ssusb"" rel=""nofollow noreferrer"">USB.ORG - superspeed</a> </p>
","34552"
"Difference between Line and Neutral in AC","61312","","<p>I want to find out what is the difference between the AC (220 VAC) lines, (phase and Neutral).</p>

<ul>
<li><p>As I know that the Alternating Current (AC) has no polarity, so why do we have a ""phase"" line and a ""Neutral"" line ?!</p></li>
<li><p>Why one of them (the phase line) would make danger on human if touched, while the other doesn't ?!</p></li>
<li><p>I also want to know, what's meant by ""Analog Ground""? .. is it the Neutral line ? or what ?!</p></li>
</ul>
","<p>The voltage is a difference between the electric potentials of two conductors. Hence, to change voltage, only one of the potentials has to change (although both can). 
In AC power only one of the wires (live/phase) changes it's potential, while the potential of the other one (neutral) remains constant.</p>

<p><img src=""https://i.stack.imgur.com/SWPL0.gif"" alt=""AC voltage graph""></p>

<p>In the picture above, the orange horizontal line represents the potential of the neutral line (marked as zero for convenience), while the blue curve shows the constantly changing (in relation to zero) potential of the phase line.</p>

<p>Since in properly constructed power network the neutral wire is maintained at a potential level close to ground potential, there is nearly no voltage between the neutral and the ground. Hence, touching neutral will not cause current to flow through human body into ground.</p>

<p><a href=""http://en.wikipedia.org/wiki/Live_wire_(electricity)"" rel=""noreferrer"">Live</a> line, however has a potential that rapidly changes from highly positive relative to ground potential, to highly negative. This difference in potentials (voltage) of the conductor you're touching with your hand and the one you're standing on causes a current flowing through you and at typical outlet voltages can be very deadly.</p>

<p>Analog Ground is a reference to a constant potential wire, that all other signals (voltages) relate to. Is is what you name your ""0"" when measuring other signals. For example, in most battery-powered devices it is the wire connected directly to the negative terminal of the battery. Naming ""ground"" or ""0"" is a matter of convenience, however in outlet-powered applications the designations are often separate, since ""ground"" is electically connected to actual ground.</p>

<p>See also <a href=""http://en.wikipedia.org/wiki/Ground_and_neutral"" rel=""noreferrer"">http://en.wikipedia.org/wiki/Ground_and_neutral</a></p>
","38694"
"What sensor to choose to track human presence indoors?","61221","","<p>This is a hobby project about home automation. The idea is that of distributed system of cheap microcontrollers that take measurements, communicate, output data and control appliances.</p>

<p>One important task that this system should perform is <strong>detect at every room if there are humans inside</strong> (awake or asleep distinction would be a over-the-top bonus :) ). I am still at a loss if this is feasible. PIR-s? Webcameras? Microphones? Optical counters at the doors? Ultrasound?</p>

<p>Available processing power per sensor output: 5MIPS of avr instructions (8-bit RISC) for 3 seconds = 15 million instructions.</p>

<p>Typical usage scenario would be:  </p>

<ul>
<li>The apartment is empty (the system should know that).  </li>
<li>The door opens and a group of 4 people enters the hallway. (the system should know that someone is in the hallway).  </li>
<li>Two go to a room (the system should track their path by room, with a lag of no more than several seconds, plus know that there is still someone in the hallway).</li>
<li>, one of them returns, the other sits on a chair, (the first one is to be tracked. the system should also know in which room is the sitting person). </li>
<li>In the meantime the rest two wander randomly in a 2 x 2 meter area in the hallway (taking shoes off, hanging coats) (the system should know they are still in that area).</li>
<li>One goes to another room, turns the radio on and goes to sleep (the system should know that there is a <strong>sleeping</strong> person there).</li>
<li>Someone leaves the apartment and returns 10 minutes later (here the only requirement is that the system know that there are still persons inside).</li>
<li>The three leave (the system should know that there is still someone inside).</li>
<li>Much later, the sleeper gets up, wanders around for half an hour and then leaves the apartment (the system should track his position by room with a lag no more than several seconds, and know when he leaves that there is now no one inside).  </li>
</ul>

<p>I have no pets.</p>
","<p>Especially for a home hobby project I'd probably start with PIR (Passive InfraRed) sensors.  They are cheap and very effective at detecting something warm like a human body moving around.</p>

<p>However, PIR sensors will not detect static warm objects like someone sleeping or sitting still on the couch.  With enough PIR sensors around the place, you can probably infer where people are motionless by where you know there was movement and in what direction.  PIR sensors don't inherently give you direction, but enough of them activated in sequence does.  For example three sensors triggered in sequence in a hallway is a strong clue someone is walking down the hall in that direction.  If you saw motion of someone entering a room and then motion in the room, but nothing at the doorway, then you can make a good guess the person that entered is still inside but motionless.</p>

<p>This system isn't foolproof, but PIR sensors are cheap and remarkably sensitive, so with enough of them I think you can get to quite a useable level.</p>

<p>One thing to keep in mind is that other warm moving things will trigger PIR sensors too, like pets moving about.  If you have a dog, then aiming the sensors so they only see motion a few feet off the floor helps.  Cats jump around a lot, but are smaller, so maybe there is a way to not trigger on cats.  This system will be a lot easier if you know the only warm moving things are humans though.</p>
","34775"
"Physically determine unknown wire's gauge","61134","","<p>Is there any way to easily and accurately determine the gauge of <strong>stranded</strong> wire by measuring it?  </p>

<p>I know you can pretty easily determine the gauge of solid-core wire with just a pair of calipers by measuring the conductor diameter, but with stranded wire, wouldn't there be variance in packing-efficiency of the strands? I also had little luck finding a wire-gauge to stranded-wire-diameter table.</p>

<hr>

<p>I have a bunch of spools of wire that are incorrectly labeled. It appears that someone has respooled a number of the reels, as there are (at least) multiple reels all labeled ""22 gauge"" with different diameter wire on them.</p>
","<p><a href=""http://www.zierick.com/pdf/wire.pdf"" rel=""noreferrer"">http://www.zierick.com/pdf/wire.pdf</a></p>

<p><img src=""https://i.stack.imgur.com/EkZky.png"" alt=""enter image description here""><br>
<sub><sup>Image is high-resolution to maintain legibility of the small text.</sup></sub></p>

<p>This shows the stranded diameter and sub wire gauge+qty.</p>
","70228"
"How to choose a flyback diode for a relay?","61029","","<p>A diode is put in parallel with a relay coil (with opposite polarity) to prevent damage to other components when the relay is turned off. </p>

<p>Here's an example schematic I found online:</p>

<p><img src=""https://i.stack.imgur.com/c2dZg.jpg"" alt=""enter image description here""></p>

<p>I'm planning on using <a href=""http://www.components.omron.com/components/web/PDFLIB.nsf/0/0293ACA6B03161CD86257538007424DB/$file/G5LE_0813.pdf"">a relay</a> with a coil voltage of 5V and contact rating of 10A. </p>

<p>How do I determine the required specifications for the diode, such as voltage, current, and switching time?</p>
","<p>First determine the coil current when the coil is on. This is the current that will flow through the diode when the coil is switched off. In your relay, the coil current is shown as 79.4 mA. Specify a diode for at least 79.4 mA current.  In your case, a 1N4001 current rating far exceeds the requirement.</p>

<p>The diode reverse voltage rating should be at least the voltage applied to the relay coil. Normally a designer puts in plenty of reserve in the reverse rating. A diode in your application having 50 volts would be more than adequate. Again 1N4001 will do the job.</p>

<p>Additionally, the 1N4007 (in single purchase quantities) costs the same but has 1000 volt rating.</p>
","110576"
"How to choose value of resistor in voltage divider?","60983","","<p>I understand that the output voltage is determined by the ratio between the two resistor values, and that if the both resistors are same then output voltage will be exactly same for all; but what's the basis of picking the resistor values?there is any need of consider output current to choose resistor value.</p>
","<p>The main point is current.</p>

<p>Take a look at <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=$+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+100.0%0Ar+272+240+272+320+0+100.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ao+4+64+0+35+7.62939453125E-5+0.1+0+-1%0A"" rel=""noreferrer"">this</a> circuit. Hover your mouse pointer over the ground symbol and you'll see that the current is 25 mA. Now take a look at <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+1000000.0%0Ar+272+240+272+320+0+1000000.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ao+4+64+0+35+7.62939453125E-5+0.1+0+-1%0A"" rel=""noreferrer"">this</a> circuit and you'll see that the output current is \$ 2.5 \mbox{ } \mu A \$. </p>

<p>Now let's see how the circuits behave under load. <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+100.0%0Ar+272+240+272+320+0+100.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ar+400+240+400+320+0+1000.0%0Ag+400+320+400+400+0%0Ao+4+64+0+35+7.62939453125E-5+0.025+0+-1%0A"" rel=""noreferrer"">Here</a>'s the first circuit with load. As you can see, is a 2.38 mA current going through the load resistor on the right and the voltage on it is no longer the expected 2.5 V but instead 2.38 V (because the two bottom resistors are in parallel). If we take a look at the second circuit <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+1000000.0%0Ar+272+240+272+320+0+1000000.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ar+400+240+400+320+0+1000.0%0Ag+400+320+400+400+0%0Ao+4+64+0+35+7.62939453125E-5+9.765625E-5+0+-1%0A"" rel=""noreferrer"">here</a>, we'll see that now the top resistor drops around whole 5 V while the two bottom resistors have voltage of 4.99 mV. That is because the resistor ratio have been changed here. Since the two bottom resistors are in parallel now, and we have one resistor with significantly larger resistance than the other, their combined resistance is negligible compared to the resistance of just the bottom right resistor (you can check that using parallel resistor formulas). So now the voltage output is significantly different from the 2.5 V we get in case of no-load condition.</p>

<p>Now let's take a look at opposite situation: Two small resistors in voltage divider and one large as load <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+100.0%0Ar+272+240+272+320+0+100.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ar+400+240+400+320+0+100000.0%0Ag+400+320+400+400+0%0Ao+4+64+0+35+7.62939453125E-5+0.025+0+-1%0A"" rel=""noreferrer"">here</a>. Again the combined resistance of the two lower resistors is smaller than the resistance of the smaller resistor of the two. In this case however this doesn't make a big impact on the voltage seen by the load. It still has the voltage of 2.5 V and everything is fine so far.</p>

<p>So the point is when determining the resistance of the resistors, we should take into account the input resistance of the load and the two voltage divider resistors should be as small as possible.</p>

<p>On the other hand, let's compare the current going through the divider in the <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+1000000.0%0Ar+272+240+272+320+0+1000000.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ao+4+64+0+35+7.62939453125E-5+9.765625E-5+0+-1%0A"" rel=""noreferrer"">circuit with large resistors on the divider</a> and the <a href=""http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+272+160+272+64+0+0+40.0+5.0+0.0+0.0+0.5%0Ar+272+160+272+240+0+100.0%0Ar+272+240+272+320+0+100.0%0Aw+272+240+400+240+0%0Ag+272+320+272+400+0%0Ao+4+64+0+35+7.62939453125E-5+0.025+0+-1%0A"" rel=""noreferrer"">circuit with small resistors on the divider</a>. As you can see, the large resistors have current of just \$2.5 \mbox{ }\mu A\$ going through them and the small resistors have current of 25 mA. The point here is that the current is wasted by the voltage divider and if this was for example part of a battery operated device, it would have a negative impact on the battery life. So the resistors should be as large as possible in order to lower the wasted current.</p>

<p>This gives us two opposite requirements of having as small as possible resistors to get better voltage regulation at the output and as large as possible resistors to get as small as possible wasted current.  So to get the correct value, we should see which voltage we need on the load, how precise it needs to be and get the load's input resistance and based on that calculate the size of the resistors we need to get to have the load with acceptable voltage. Then we need to experiment with higher voltage divider resistor values and see how the voltage will be affected by them and find the point where we can't have greater voltage variation depending on the input resistance. At that point, we (in general) have good choice of voltage divider resistors.</p>

<p>Another point that needs to be considered is the power rating of the resistors. This goes in favor of resistors with larger resistance because resistors with lower resistance will dissipate more power and heat up more. That means that they will need to be larger (and usually more expensive) than resistors with larger resistance.</p>

<p>In practice, once you do a number of voltage dividers, you'll see few popular values for the voltage divider resistors. Many people just pick one of them  and don't bother too much with calculations, unless there is a problem with the choice. For example for smaller loads, you can pick resistors in the \$100 \mbox{ } k \Omega\$ range while for bigger loads you can use \$10 \mbox{ } k \Omega\$ or even \$1 \mbox{ } k \Omega\$ resistors, if you have enough current to spare.</p>
","28903"
"Is it possible to combine independent digital TV antennas?","60897","","<p>Is it possible to create a TV antenna that is composed of smaller antennas that are pointed to different broadcast centers? So in essence, many antennas for just a single digital TV.</p>

<p>Is it possible without any problem?
or
It is possible but with some problems?</p>

<p>Do antennas for digital TV still need to be tilted to the right directions?</p>
","<p>The electromagnetic wave and antenna don't know if the TV is analog or digital. To them, it's the same! This means that most of analog transmission experience applies to digital TV as well. </p>

<p>So in general, you should point the antennas correctly for best signal quality and use proper polarization as well. </p>

<p>You can use multiple antennas for best signal quality, but there are some bad sides to that as well. Let's say you have an antenna correctly set up for one signal source. It is designed for its frequency, has sufficient gain and is correctly pointed at the signal source. That antenna will still pick up signals from other sources as well, but they will be weaker. If you have another antenna matched to the weak signal source of the first antenna and you combine them both directly, first antenna's weak signals can interfere with second antenna's strong signals. Usual solution to that is to use a <a href=""http://en.wikipedia.org/wiki/Diplexer"" rel=""nofollow"">diplexer</a>. It's a device that has a band pass filter (some implementations may just use low pass and high pass filters) and you set it up so that it passes through the frequencies which a particular antenna is receiving the best and blocks other signals. This way, at the output of diplexer you'll only have the best signals from all antennas you have and weak signal from one antenna won't interfere with a strong signal from another antenna. Of course, diplexers have their own insertion losses, so they'll decrease the signal quality. The idea is to use as few antennas as possible to get the best signal and to use diplexers sparingly in order to prevent their insertion losses from having a negative net effect on signal quality.</p>

<p>Some digital TV standards allow use of ""auxiliary"" broadcast locations so that you have one main transmitter and few smaller transmitters connected to the main transmitter. In such setups, the signals from the smaller transmitters shouldn't interfere with the signal from the more powerful transmitter. Unfortunately, I don't have any practical experience with this, so I won't go into any details.</p>

<p>The other important thing is the digital cliff and analog slope. In digital TV systems, as long as your signal quality isn't horrible, you'll get relatively good picture. Problems will occur once it gets borderline and then quickly after that, you'll completely lose signal. You can take advantage of that to have good picture quality even with not so good signal, but the downside is that you'll be more sensitive to bad weather than if you had good signal quality. On the other hand, in some situations setting up a proper TV antenna system can require expensive antennas, cables and expertize so exploiting the digital cliff effect can be economically justified.</p>
","85647"
"How to calculate power consumption?","60392","","<p>I have a Surface Pro 3 and am on the run a lot so I'm thinking about getting a deep cycle AGM battery to put inside my car so I have a constant power.</p>

<p>I need to know and confirm some measurements regarding it so I can buy the proper battery.</p>

<ol>
<li><p>power adapter says INPUT: 100-240V @ 1A, OUPUT: 12V @ 2.58A
So if I can somehow supply DC power (12V) directly from battery to the surface,
it would draw maximum of 2.58 A/h? if yes, if load is lighter then less Ah, right? and so under its heaviest use it would never pull more than 2.58Ah? and INPUT/OUTPUT rating kinda omits hour in Amp so that it actually means Ah?</p></li>
<li><p>If I'm just gonna use inverter to plug in via AC power then, with battery source being 12v, it would draw <strong>100V / 12V = 8.33 so 8.33 x 1A = 8.33Ah</strong>? And what does 100-240V exactly mean? does it mean it is capable of pulling from 100 to 240V and if in US it can pull 110v? and in Europe it can pull with the help of only prong adapter 240V? if yes, then is it pulling 240V x 1A = 240W of power where in US it would only pull 110W? or does in Europe's case if it's pulling 240V then does A go down to 110/240=0.458Ah?</p></li>
</ol>
","<p>The Amp-hours of a battery gives the number of hours it can deliver 1 amp, or the number of amps it can deliver for one hour. </p>

<p>Amp-hours = amps x hours.</p>

<p>So a 50Ah battery can run for 50 hours at one amp, or 50 amps for one hour. Or 2 amps for 25 hours, or 25 amps for 2 hours.</p>

<p>Slight detour:</p>

<p>I suspect for your use you are correct in wanting a deep-cycle battery. Normal car batteries, for example, can typically only use 25% of their amp-hour capacity. This is because it is not healthy for the battery to be discharged to less than 50%; it will shorten its life (the number of charge-discharge cycles will be reduced). Also, car battery charging systems are not intelligent, and tend not to charge them effectively above 75%. Partly to reduce complexity, partly to increase lifespan of the battery.</p>

<p>As for AC-powered battery chargers, none are going to be 100% efficient. Some may only be 90% efficient, and some far less efficient.</p>

<p>Back to your question, answering part 1:</p>

<p>For your ""Surface"" device: If its power adapter says INPUT: 100-240v @ 1A, OUTPUT: 12v, 2.58A, That means the Surface would draw 2.58A maximum. 2.58A is continuous; this does not mean 2.58A per hour, it means 2.58A maximum every second, every minute, every hour. Same thing. But yes, per hour, it would use 2.58Ah (amp-hours, not amps). (Maximum.) And yes, with less load, fewer amps would be drawn at that moment.</p>

<p>So if you wanted to use the Surface for 1 hour at full load, then use the formula above to convert amps to amp-hours:</p>

<p>Amp-hours = amps x hours = 2.58 x 1 = 2.58.</p>

<p>So you would need a 2.58Ah capacity battery. Or if you wanted to run it for 10 hours with the full load, you would need a 25.8Ah capacity battery.</p>

<p>Answering part 2:</p>

<p>Regarding ""100-240v"". Seeing this on a PSU usually means it can work on any voltage in that range, completely automatically, without needing a switch to be flipped on it, and without needing an external voltage converter.</p>

<p>However, exactly how much current draws on the different voltages, at the INPUT, in other words, the amount it takes from the mains supply, is a big question mark. Some PSUs may be 90% efficient under all circumstances: different supply voltages, and different loads on its output. However, some will not. I have seen some where it is enormously inefficient (50%) at the higher voltages. Similarly, some are only 90% efficient under full load. The best bet is to take the worst-case input current that is stated on the device, (amps) and assume it will draw that for all circumstances.</p>

<p>Your calculations of 8.33Ah and 0.458Ah are wrong, I'm afraid. I'll try to work out what you wanted to know:</p>

<p>Assuming you have a 100% efficient inverter, and wanted to run the Surface's PSU on it, here's how you would work out the power of the inverter that you'll need, and the battery you'd need to supply it. But you should note that the inverter will be at most 90% efficient.</p>

<p>If you use a 110v inverter, and the Surface PSU Draws 1A at its INPUT, then the Power of the inverter will have to be <strong><em>at least</em></strong>:</p>

<p>Power = Amps x Volts = 1 x 110 = 110 Watts.</p>

<p>As for the battery capacity required, this could be done in different ways, but perhaps most logical from your point of view would be to start by working out how much the inverter would draw from the battery. Assume 100% efficiency of the inverter. Therefore, power in = power out. Above, we calculated the power. So now we use the above formula to calculate the current (amps) that the inverter will take from the battery.</p>

<p>Power = Amps x Volts
110 watts = amps x 12
Therefore amps (every second, every hour, same thing; it's continuous) = 110/12 = 9.16 amps.</p>

<p>So at any moment, the inverter will need to draw 9.16 amps from the battery. If you need to power the Surface for one hour, it will use 9.16 Amp-hours of the battery's capacity. If you need to run the Surface for 10 hours, it will use 91.6 Amp-hours of the battery's capacity. (If you're using it for 10 hours, it will still only be drawing 9.16 amps. If you're using it for 10 minutes, it will also still be drawing 9.16 amps).</p>

<p><strong>To answer your comments on my answer:</strong></p>

<p>Think of amps as speed, and amp-hours as distance. If a runner runs at 3mph, then in one hour he will run 3 miles. If he runs for 10 hours, he will run 30 miles. But whether for 1 or 10 hours, he will constantly be running at 3 miles per hour. </p>

<p>Let's say he can run a total of 15 miles, like the capacity of a battery. He could spread it out, and run at 1mph for 15 hours, or he could run flat out (his peak), at 5mph for 3 hours. </p>

<p>Or, say he sprints and slowly jogs alternating every half hour: So he would run at his peak for half an hour at 5mph, then a slow jog at 1mph for half an hour, and repeat.  Each hour he would run a total of 3 miles, so his average speed would be 3 mph. So he could do this alternating for a total of 5 hours.</p>

<p>Now back to the ""inefficiency"" you talk about. Imagine our runner is going up a hill. The voltage is equivalent to the steepness of the hill. So if he is going 4mph up a hill with a 1:20 incline, he will be exerting the same energy per X amount of time as if he was going 2mph up a 1:10 incline. </p>

<p>Similarly, if a jogger runs 4 miles up a 1:20 incline, he will have exerted the same total amount of energy as if he'd run 2 miles up a 1:10 incline.</p>

<p>Regarding your comment, there is actually no difference between AC and DC in all the calculations above - it can basically be ignored for your purposes here when calculating amps, voltages, amp-hours and power. (Just don't try running a DC device off AC power or vice versa).</p>

<p>If you were to power a 12v Surface with a 12v battery, then if the Surface uses 2.58 amps, that is exactly how much is drawn from the battery. (But I would not recommend this, because the battery's voltage could vary from anywhere between 10v to 14.5v depending on its state of charge, among other things. The Surface could permanently damaged).</p>

<p>If, say you were to power the 12v Surface taking 2.58 amps, via a converter, powered by a 6v battery, then with a 100% efficient conversion, 2.58 x 2 = 5.16A would be drawn from the 6v battery.</p>

<p>I hope that clears things up.</p>
","167491"
"Torque relationship to speed in a DC motor","60368","","<p>I have a conceptual doubt about torque-speed relation in a DC motors. It's probably a gap in my thinking but I'm posting this question anyway.</p>

<p>Torque and speed in a DC motor are said to be inversely proportional. But doesn't an increase in torque result in increase in Angular Acceleration and consequently, angular speed?</p>

<p>I know that back EMF/counter-EMF is responsible for the inverse relation but it seems counter intuitive to me. What happens to the angular acceleration, angular speed when the torque is increased and where does all that work go?</p>
","<p>Conceptually, you have to think about this slightly differently.  The way I <em>think</em> you are thinking about this is kind of like torque in a vehicle.  A car with more torque is going to accelerate more quickly and is associated with an increase in speed.  In other words, you press on the gas pedal to increase the speed and you need torque to do that.  </p>

<p>However, when you are talking about the relationship between speed and torque of a DC motor, then you have to think about it differently.  For a given motor with a constant input voltage, the speed of the motor is going to be determined by the load on the motor shaft.  For a given load, the only way to increase the speed is to increase the voltage. And this increase in speed will require some more torque to accelerate but after it reaches its new speed, the torque will back off to its original torque (unless, of course, the load is dependent on speed - like in a fan).  </p>

<p>So maybe a better way for you to think about it is instead of saying ""Torque and speed in a DC motor are said to be inversely proportional"" you say ""<strong><em>For a given voltage</em></strong>, torque and speed in a DC motor are said to be inversely proportional.""  A speed-torque curve that you see on data sheets is <em>only</em> valid for the rated voltage and the motor will operate on that curve.  So if torque goes up, the speed will follow that curve and go down.    </p>
","91169"
"Charging devices - Voltage and Amperage","60231","","<p>When dealing with voltages and amperage, which one can destroy your equipment when not properly matched to the proper device? Am I correct in thinking that attempting to charge a device with an adapter of the correct voltage but too low an amperage won't damage the device but will just take longer to charge?</p>
","<p>Note: Main OK point from below is that a power supply with the correct voltage rating and a higher than specified current rating will be OK to use in the vast majority of cases. The situations where this does not work are so rare as to be worth risking unless major safety or $ value concerns exist. Even then you can probably check with over current supply at correct voltage and see if problems occur. If the equipment is worth over 2 weeks income get the correct supply :-). </p>

<p>Power = Volts x Amps = V x I  </p>

<p>Too high Voltage will do damage.<br>
 Equipment may be damaged
 Equipment MAY shut down 
Slightly too high <strong>may</strong> be OK. YMMV.</p>

<p>Too low voltage may do damage.
 Slightly too low may work AOK or at reduced current.
 Too low may damage equipment but not usually.<br>
 Too low may damage charger but not usually.</p>

<p>Correct voltage rating and too high current rating is <strong>USUALLY</strong> OK - equipment will take what it needs.<br>
 A very few items of equipment will object in some way.</p>

<p>Correct voltage rating and too low current rating may cause damage.<br>
 Slightly too low may be OK with computers an similar.<br>
 Older equipment using power supply as charger will quite often work with current rating far too low and just charge slower.
 Too low current rating - equipment MAY load power supply down - MAY damage supply - MAY work - MAY just refuse to work. eg Most notebooks / laptops / tablets - typically with 15 to 20 Volt supplies - will not even try to charge if power supply voltage is more than a Volt or two too low </p>
","29264"
"What gauge of single strand wire works well with breadboards?","60087","","<p>I bought some single strand wires hoping to prototype on the breadboards. Unfortunately it was too small to properly fit into the breadboard holes. </p>

<p>So my question is which gauge fits well on those small holes of breadboard? </p>
","<p>Plain single stranded copper wire works fine in these breadboards.  That's what I primarily use.  I find 22 guage is about right.</p>

<p>Fancy specially made jumper wires may be more reliable in the long run, but cutting a piece of wire off a roll and stripping the ends is easy and quick.  You can do that many times for the cost of one jumper wire.</p>

<p>A while ago I bought a set of pre-cut and pre-stripped wires for this use from Jameco.  It sounded like a good idea at the time.  Having the wires ready to use is nice, but they stupidly decided to bend the stripped ends at right angles right where the insulation ends.  That makes them difficult to use except for the ones that only go 1, 2, or 3 holes.  As I cut and strip more jumper wires from a 500 foot roll of #22 wire, I put them into the box the Jameco kit came in according to their lengths.  Over the years, the stripped ends of a few wires have broken right at the end of the insulation.  This happens quite rarely, so the trouble to cut and strip a new wire is nothing.</p>
","31689"
"Leading Power Factor effects on electrical System","60042","","<p>If power factor comes in leading &amp; showing -0.95, is there any effect on electrical system? If yes, then please tell me what would be the effects and how long we keep power factor in leading??</p>

<p>Keeping power factor in leading shows more KW &amp; less KVA? Is it correct or not.</p>
","<blockquote>
  <p>Keeping power factor in leading shows more KW &amp; less KVA? Is it
  correct or not.</p>
</blockquote>

<p>This is incorrect. If the real power load is 10kW, at unity power factor the kVA is 10kVA. If PF = +/-0.95, on a real load power of 10kW, kVA is 10.52kVA.</p>

<p>Leading PF is caused by a net capacitive load and the effect of it is the same as a lagging PF (inductive load); the supply current is higher than for a truly resistive load.</p>

<p>You can keep PF leading (or lagging) as long as you want but it isn't an ideal situation because some electricity companies have a policy to charge you for use of reactive power in order to supplement the cost of putting bigger cables into their feeders to factories - higher current means bigger cables.</p>
","73435"
"Standard via sizes?","59746","","<p>Is there a standard for via sizes, or can you make them any size you want?</p>

<p>(I'm going to be using traditional PCB houses to manufacture my PCB's.)</p>
","<p>PCB houses will give you acceptable sizes for their process. They have a tolerance and a cost associated with different sizes, but unless you are making the next batch of Iphones you will probably just be given a cost per via, if even that.</p>

<p>Normally they just give me a cost/square inch and tell me my minimum size.</p>
","5952"
"What is race around condition in flip-flops?","59664","","<p>I've gone through two of my text books and consulted my teacher but nothing seems to clarify my doubts. </p>

<p>The two versions of race-around which I've been taught are - </p>

<ol>
<li><p>When the S and R inputs of an SR flipflop is at logical 1, then the output becomes unstable and it is known as race around condition.</p>

<p>2.When the S and R inputs of an SR flipflop is at logical 1 and then the input is changed to any other condition, then the output becomes unpredictable and this is called the race around condition.</p></li>
</ol>

<p>Which one is right? Or, are both of them wrong, if so, what is actually racearound?</p>
","<p>A race condition is a timing-related pheonomenon. A standard S-R FF (two cross-coupled NAND or NOR gates) is stable for any stable input. </p>

<p><img src=""https://i.stack.imgur.com/sXZ5x.gif"" alt=""enter image description here""></p>

<p>The 'fun' is in the S=1 R=1 input, the memory situation. The state of the FF depends on which state came before the 11, if it was 01 the FF is in Q=1 state, if it was 10 the FF is in the Q=0 state. This is the classical memory effect of a FF.</p>

<p>But if it was 00 and both inputs changed to 1 suffiently close to each other in time, the FF can enter a metastable state, which can last significantly longer than the delay time of the gates. In this state the outputs can either slowly drift towards their final sate, or show a damped oscillation before settling on the final state. The time required to settle is unbounded, but has a distribution that quickly falls off for t >> gate-delay.</p>

<p>In normal operation, from 00 input, one input becomes 1, and the feedback loop in the flipflop propagates this (or rather, the remaining 0 input) through both gates, until the FF is in a stable state. When the other input also turns 1 while the propagation from the first is still taking place, that also starts to propagate, and it is anyone's guess which one will win. In some cases neither wins immediatyely, and the FF enters the metastable state.</p>

<p>The race condition is that, from a 00 input state, one input changes to 0, and the second one also changes to 0 <em>before the effect of the first change has setteled</em>. Now the effects of the two changes are 'racing' for priority.</p>

<p>The explanation stated is for a simple Set-Reset FF (or latch, or how you want to call it). A level-triggered circuit (I would call that a Latch) can be thought of as a RS-FF with both inputs gated by the enable input (CLK in this diagram):</p>

<p><img src=""https://i.stack.imgur.com/IS7fP.jpg"" alt=""enter image description here""></p>

<p>In this circuit, a simulatenous 00 -> 11 transition of the hidden 'inputs' of the cross-coupled NANDS still causes a race condition. Such a transition can occur (due to the delay caused by the inverter) when the D input changes simultaenously with the CLK input changing from 1 to 0.</p>

<p>A real clocked (edge-triggered) memory circuit can be thought of consisting of two latches, enabled by the opposite clock levels (master-slave arrangement). Obviously the first latch is still susceptible to the same race condition.</p>

<p><img src=""https://i.stack.imgur.com/OxrFD.gif"" alt=""enter image description here""></p>

<p>PS googling for the appropriate pictures I got them from <a href=""https://electronics.stackexchange.com/questions/19787/how-1-bit-was-stored-in-flip-flop"">How 1-bit was stored in Flip flop?</a> :)</p>
","155953"
"What should the voltage of a fully charged lead acid battery be?","59658","","<p>I don't have a proper lead acid battery charger...  But I own a small Yuasa 7Ah battery.  I am using a 13volt 1.5A wall wart to charge it.  And I have a volt-meter to check the voltage.</p>

<p>At what voltage should I take the battery off the charger?</p>
","<p>See <a href=""https://electronics.stackexchange.com/questions/34393/lead-acid-battery-charger-design-factors/34403#34403"">my stack exchange answer to ""Lead Acid Battery Charger Design Factors""</a> which relates, and follow the link there to the Battery University site which will tell you far more than you knew there was to know about lead acid (and other) batteries.</p>

<p>From the above answer note the quotes from the above website. Especially in this context</p>

<ul>
<li><p>The correct setting of the charge voltage is critical and<br>
<strong>ranges from 2.30 to 2.45V per cell</strong>.<br>
Setting the voltage threshold is a compromise, and battery experts refer to this as “dancing on the head of a needle.”
On one hand, the battery wants to be fully charged to get maximum capacity and avoid sulfation on the negative plate; on the other hand, an over-saturated condition causes grid corrosion on the positive plate and induces gassing.</p>

<p>To make “dancing on the head of a needle” more difficult, the battery voltage shifts with temperature. Warmer surroundings require slightly lower voltage thresholds and a cold ambient prefers a higher level.</p></li>
</ul>

<p>2.30 x 6 = 13.8V</p>

<p>2.45 x 6 = 14.7V</p>

<p>13.8V is the nominal voltage that many automobile systems operate at.<br>
 14.7V is higher than you'd usually meet but around 14.4V is common for ""topping"" mode charging which is used to equalise charge in series connected cells. See the Battery University site for MUCH more information.</p>

<p>If you charge to only 12.6V as several people have recommended your battery will not ever be at full capacity and will have a shortened life.</p>

<p>See also <a href=""https://electronics.stackexchange.com/questions/21593/safe-operating-area-for-different-types-of-battery-chemistry/21596#21596"">Safe operating area for different types of battery chemistry?</a></p>

<p>And also <a href=""https://electronics.stackexchange.com/questions/36392/can-i-charge-a-12v-sealed-lead-acid-with-an-old-wall-wart-not-made-for-charging/36397#36397"">Can I charge a 12v sealed lead acid with an old wall-wart (not made for charging)?</a></p>

<p>And also <a href=""https://electronics.stackexchange.com/questions/78/charging-lead-acid-batteries?rq=1"">Charging lead-acid batteries?</a></p>
","38327"
"What is the significance of -3dB?","59485","","<p>My oscilloscope has 100 MHz -3dB bandwidth. -3dB is 0.707 units (sqrt(2) / 2). What does this mean, why 70.7% attenuation? Is there any particular reason for this attenuation level?</p>
","<h2>Voltage vs Power when using dB</h2>

<p>The -3dB point is also known as the ""half power"" point. In voltage it may not make not make tons of sense as to why we use (\$\sqrt{2}/2\$), but lets look at an example of what it means in the sense of power.</p>

<p>First off, \$P=V^{2}/R\$, but lets assume R is a constant 1 \$\Omega\$. Because of the constant 1ohm, we can remove it from the equation all together.</p>

<p>Lets say you have a signal at 6 V, its power would then be \$(6 \text{ V})^2 = 36 \text{ W}\$.</p>

<p>Now I take the -3dB point, \$6\text{ V} \cdot \left( \frac{\sqrt{2}}{2} \right) = 4.2426\text{ V}\$.</p>

<p>Now lets get the power at the -3dB point, \$4.2426 \text{ V}^2=18 \text{ W}\$.</p>

<p>So originally we had 36 W, now we have 18 W (which of course is half of 36 W).</p>

<h2>Application of -3dB in Filters</h2>

<p>The -3dB point is very commonly used with filters of all types (low pass, band pass, high pass...). It is just saying the filter cuts off half of the power at that frequency. The rate at which it drops off depends on the order of the system you are using. Higher order can get closer and closer to a ""brick wall"" filter. Brick wall filter being one that just before the cutoff frequency you are at 0dB (no change to you signal) and just after you are at -∞ dB (no signal passes through).</p>

<h2>Why filter the input to an Oscope?</h2>

<p>Well, many reasons. All devices (analog or digital) have to do something with the signal. You can go as simple as a voltage follower up to something more complex like showing the signal on a screen or turning the signal into audio. All of the devices required to convert your signal into something that is usable have attributes about them that are frequency dependent. One simple example of this is an opamp and its GBWP.</p>

<p>So, on an O-scope they will add a low pass filter so that none of the internal devices are having to deal with frequencies above what they can handle. When an oscope says its -3dB point is 100 MHz they are saying they have placed a low pass filter on its input has a cut off frequency (-3dB point) of 100 MHz.</p>
","6961"
"Y or Delta connections advantages / disadvantages","59428","","<p>I have been studying three-phase systems for the whole course of a subject (on the first year of the university degree). I have finished now, and I know both ""Y"" (star) or ""Delta"" (triangle) connections. I have made a lot of computations with them, however I don't know the different applications they have and I would like to know the following in order to increase my knowledge.</p>

<p>I would like to know which one is better (Y or Delta) for different purposes, they must have its advantages and disadvantages, but I have never been told which ones are them. I have tried to do some research on the Internet, but I haven't found in particular a good answer. I have only seen the advantages and disadvantages of Y and Delta motor startup, but I'm thinking more of the ""circuit"" point of view.</p>

<p>I'm really interested on the subject, but I just seen it from the computational point of view. I would appreciate if someone could explain me a little bit some of the main advantages and disadvantages of using both connections. Thank you.</p>
","<p>The two systems have vastly different applications.  Yes, there is a lot of crossover between them in some fields, but the two are more suited to certain applications.</p>

<p>Take motors for instance.  Delta is far superior for driving motors than star.  With delta you can visualize a wave circulating around the triangle, and it's that wave that turns the motor.  As the wave moves around the phases it effectively drags the motor around with it.  It makes motor design really simple and efficient.  Not so with star, where you in essence have to try and combine three single-phase motors in together,</p>

<p>However, when it comes to a situation where you want to spread a load between multiple circuits or devices, and the load on each phase may not be equal (<em>unbalanced system</em>) then a star arrangement has massive advantages.  Each branch of the star (<em>phase</em>) is a separate circuit in its own right. The load on each phase is specific to that phase, and they have little influence on each other.</p>

<p>There is also a third arrangement, which is kind of half way between a star and a delta - in this arrangement each delta phase is connected with its own completely separate transformer and there is no common neutral point.  This is actually seldom seen much, but I thought I should mention it here anyway.  It basically combines both the star arrangement with full isolation, so can have some safety advantages (like having an isolation transformer on a normal single-phase supply) but isn't worth the hassle of a system without a common neutral point.</p>

<p>To clarify what I mean about a wave rotating around a delta, here is a little animation I knocked up:</p>

<p><img src=""https://i.stack.imgur.com/HqUbE.gif"" alt=""enter image description here""></p>

<hr>

<p><sub>Note: It's Christmas Day, I'm drunk, and that might all have been complete gibberish for all I know.</sub></p>
","145400"
"Decoupling caps, PCB layout","59372","","<p>I guess I've been somewhat ignorant when it comes to the finer details of pcb layout. Lately I've read a couple of books that try their best to lead me on the straight and narrow. Here is a couple of examples of a recent board of mine, and I have highlighted three of the decoupling caps. The MCU is a LQFP100 package and the caps are 100nF in 0402 packages. The vias connect to ground and power plane.</p>

<p><img src=""https://i.stack.imgur.com/ua8wQ.png"" alt=""placement of decoupling caps""> </p>

<p>The top cap (C19) is placed according to best practices (as I understand them). The other two are not. I haven't noticed any problems. But then again the board has never been outside the lab.</p>

<p>I guess my question is: How big a deal is this? As long as the tracks are short, does it matter?</p>

<p>The Vref pins (reference voltage for the ADC) also have a 100nF cap across them. Vref+ comes from an onboard TL431 shunt regulator. Vref- goes to ground. Do they require special treatment like shielding or local ground?</p>

<hr>

<p>EDIT</p>

<p><img src=""https://i.stack.imgur.com/ioBfo.png"" alt=""added local GND and power planes""></p>

<p>Thanks for great suggestions! My approach has always been to rely on an unbroken ground plane. A ground plane will have the lowest possible impedance, but this approach may be too simplistic for higher frequency signals. I've made a quick stab at adding local ground and local power under the MCU (The part is an NXP LPC1768 running at 100MHz).
The yellow bits are the decoupling caps. I'll look into paralleling caps. The local ground and power are connected to the GND layer and the 3V3 layer where indicated.</p>

<p>The local ground and power are made with polygons (pour). It's going to be a major rerouting job to minimize the length of the ""tracks"". This technique will limit how many signal tracks can be routed under and across the package.</p>

<p>Is this an acceptable approach?</p>
","<p>Proper bypassing and grounding are unfortunately subjects that seem to be poorly taught and poorly understood.  They are actually two separate issues.  You are asking about the bypassing, but have also implicitly gotten into grounding.</p>

<p>For most signal problems, and this case is no exception, it helps to consider them both in the time domain and the frequency domain.  Theoretically you can analyse in either and convert mathematically to the other, but they each give different insights to the human brain.</p>

<p>Decoupling provides a near reservoir of energy to smooth out the voltage from very short term changes in current draw.  The lines back to the power supply have some inductance, and the power supply takes a little time to respond to a voltage drop before it produces more current.  On a single board it can catch up usually within a few microseconds (us) or tens of us.  However, digital chips can change their current draw a large amount in only a few nanoseconds (ns).  The decoupling cap has to be close to the digital chip power and ground leads to do its job, else the inductance in those leads gets in the way of it delivering the extra current quickly before the main power feed can catch up.</p>

<p>That was the time domain view.  In the frequency domain digital chips are AC current sources between their power and ground pins.  At DC power comes from the main power supply and all is fine, so we're going to ignore DC.  This current source generates a wide range of frequencies.  Some of the frequencies are so high that the little inductance in the relatively long leads to the main power supply start becoming a significant impedance.  That means those high frequencies will cause local voltage fluctuations unless they are dealt with.  The bypass cap is the low impedance shunt for those high frequencies.  Again, the leads to the bypass cap must be short else their inductance will be too high and get in the way of the capacitor shorting out the high frequency current generated by the chip.</p>

<p>In this view, all your layouts look fine.  The cap is close to the power and ground chips in each case.  However I don't like any of them for a different reason, and that reason is grounding.</p>

<p>Good grounding is harder to explain than bypassing.  It would take a whole book to really get into this issue, so I'm only going to mention pieces.  The first job of grounding is to supply a universal voltage reference, which we usually consider 0V since everything else is considered relative to the ground net.  However, think what happens as you run current thru the ground net.  It's resistance isn't zero, so that causes a small voltage difference between different points of the ground.  The DC resistance of a copper plane on a PCB is usually low enough so that this is not too much of a issue for most circuits.  A purely digital circuit has 100s of mV noise margins at least, so a few 10s or 100s of uV ground offset isn't a big deal.  In some analog circuits it is, but that's not the issue I'm trying to get at here.</p>

<p>Think what happens as the frequency of the current running across the ground plane gets higher and higher.  At some point the whole ground plane is only 1/2 wavelength across.  Now you don't have a ground plane anymore but a patch antenna.  Now remember that a microcontroller is a broad band current source with high frequency components.  If you run its immediate ground current across the ground plane for even a little bit, you have a center-fed patch antenna.</p>

<p>The solution I usually use, and for which I have quantitative proof it works well, is to keep the local high frequency currents off the ground plane.  You want to make a local net of the microcontroller power and ground connections, bypass them locally, then have only one connection to each net to the main system power and ground nets.  The high frequency currents generated by the microcontroller go out the power pins, thru the bypass caps, and back into the ground pins.  There can be lots of nasty high frequency current running around that loop, but if that loop has only a single connection to the board power and ground nets, then those currents will largely stay off them.</p>

<p>So to bring this back to your layout, what I don't like is that each bypass cap seems to have a separate via to power and ground.  If these are the main power and ground planes of the board, then that's bad.  If you have enough layers and the vias are really going to local power and ground planes, then that's OK as long as those local planes are connected to the main planes <em>at only one point</em>.</p>

<p>It doesn't take local planes to do this.  I routinely use the local power and ground nets technique even on 2 layer boards.  I manually connect all the ground pins and all the power pins, then the bypass caps, then the crystal circuit before routing anything else.  These local nets can be a star or whatever right under the microcontroller and still allow other signals to be routed around them as required.  However, once again, these local nets must have exactly one connection to the main board power and ground nets.  If you have a board level ground plane, then there will be <em>one</em> via some place to connect the local ground net to the ground plane.</p>

<p>I usually go a little further if I can.  I put 100nF or 1uF ceramic bypass caps as close to the power and ground pins as possible, then route the two local nets (power and ground) to a feed point and put a larger (10uF usually) cap across them and make the single connections to the board ground and power nets right at the other side of the cap.  This secondary cap provides another shunt to the high frequency currents that escaped being shunted by the individual bypass caps.  From the point of view of the rest of the board, the power/ground feed to the microcontroller is nicely behaved without lots of nasty high frequencies.</p>

<p>So now to finally address your question of whether the layout you have matters compared to what you think best practices are.  I think you have bypassed the power/ground pins of the chip well enough.  That means it should operate fine.  However, if each has a separate via to the main ground plane then you might have EMI problems later.  Your circuit will run fine, but you might not be able to legally sell it.  Keep in mind that RF transmission and reception are reciprocal.  A circuit that can emit RF from its signals is likewise susceptible to having those signals pick up external RF and have that be noise on top of the signal, so it's not just all someone else's problem.  Your device may work fine until a nearby compressor is started up, for example.  This is not just a theoretical scenario.  I've seen cases exactly like that, and I expect many others here have too.</p>

<p>Here's a anecdote that shows how this stuff can make a real difference.  A company was making little gizmos that cost them $120 to produce.  I was hired to update the design and get production cost below $100 if possible.  The previous engineer didn't really understand RF emissions and grounding.  He had a microprocessor that was emitting lots of RF crap.  His solution to pass FCC testing was to enclose the whole mess in a can.  He made a 6 layer board with the bottom layer ground, then had a custom piece of sheet metal soldered over the nasty section at production time.  He thought that just by enclosing everything in metal that it wouldn't radiate.  That's wrong, but somewhat of a aside I'm not going to get into now.  The can did reduce emissions so that they just squeaked by FCC testing with 1/2 dB to spare (that's not a lot).</p>

<p>My design used only 4 layers, a single board-wide ground plane, no power planes, but local ground planes for a few of the choice ICs with single point connections for these local ground planes and the local power nets as I described.  To make a long story shorter, this beat the FCC limit by 15 dB (that's a lot).  A side advantage was that this device was also in part a radio receiver, and the much quieter circuitry fed less noise into the radio and effectively doubled its range (that's a lot too).  The final production cost was $87.  The other engineer never worked for that company again.</p>

<p>So, proper bypassing, grounding, visualizing and dealing with the high frequency loop currents really matters.  In this case it contributed to make the product better and cheaper at the same time, and the engineer that didn't get it lost his job.  No, this really is a true story.</p>
","15143"
"How do you cut PCB?","59093","","<p>I just spent about 20 minutes trying to cut through a PCB with a hacksaw. These things are really tough.</p>

<p>What is the correct tool to cut PCB material, and get a nice straight line?</p>

<p>I saw something about a guillotine, but can't find a vendor.</p>
","<p>The first thing I should mention is safety. You need to wear breathing
protection since the dust created by cutting is very hazardous to breath.
Safety glasses should always be worn. As Norm would say -- read and understand
all the manufacturers instructions for your tools.</p>

<p>I use either a hacksaw, bandsaw or tin-snips. Since I primarily use the
bandsaw for wood I only use it if the blade needs to changed anyways. 
After cutting 10 linear inches of FR4 the blade will be useless for wood.
I hate changing bandsaw blades. </p>

<p>Hacksaw is what I usually use. I leave 50mils between board edges.
I place copper no closer than 25mils to the edge. The hacksaw blade is
apx 35mils wide. I use a magnifying visor. This is fine for prototypes.</p>

<p>Sometimes I snip the edges with tin-snips. A scroll-saw would be ideal.
Quick change carbide blades. Also I have heard of people using shears.</p>
","1173"
"How to drive brushless motor with Arduino?","58788","","<p>Is it possible to drive a brushless motor directly with Arduino? Or should I revert on controlling a brushless motor ESC with PWM pulses? </p>
","<p>You should definitely use the ESC. Brushless motors works best when driven with a sine wave (or as close as possible to a sine wave). They also require a fairly accurate and complicated set of signals. Generating the proper wave forms and timing from an arduino would be difficult, and unless you really need to it, is probably not worth it. You can always arrange to control the ESC from your arduino, which would give you programmatic control plus the efficiency and power of the ESC.</p>
","125"
"How different are 8-bit microcontrollers from 32-bit microcontrollers when it comes to programming them","58787","","<p>Right, so we have 8-bit, 16-bit and 32-bit microcontrollers in this world at the moment. All of them are often used. How different is it to program 8-bit and 16-bit micrcontrollers? I mean, does it require different technique or skill? Lets take microchip for example. What new things does a person need to learn if they want to transition from 8-bit microcontrollers to 32-bit microcontrollers?</p>
","<p>In general, going from 8 to 16 to 32 bit microcontrollers means you will have fewer restraints on resources, particularly memory, and the width of registers used for doing arithmetic and logical operations. The 8, 16, and 32-bit monikers generally refers to both the size of the internal and external data busses and also the size of the internal register(s) used for arithmetic and logical operations (used to be just one or two called accumulators, now there are usually register banks of 16 or 32).</p>

<p>I/O port port sizes will also generally follow the data bus size, so an 8-bit micro will have 8-bit ports, a 16-bit will have 16-bit ports etc.</p>

<p>Despite having an 8-bit data bus, many 8-bit microcontrollers have a 16-bit address bus and can address 2^16 or 64K bytes of memory (that doesn't mean they have anywhere near that implemented).  But some 8-bit micros, like the low-end PICs, may have only a very limited RAM space (e.g. 96 bytes on a PIC16).</p>

<p>To get around their limited addressing scheme, some 8-bit micros use paging, where the contents of a page register determines one of several banks of memory to use.  There will usually be some common RAM available no matter what the page register is set to. </p>

<p>16-bit microcontroller are generally restricted to 64K of memory, but may also use paging techniques to get around this.  32-bit microcontrollers of course have no such restrictions and can address up to 4GB of memory.</p>

<p>Along with the different memory sizes is the stack size.  In the lower end micros, this may be implemented in a special area of memory and be very small (many PIC16's have an 8-level deep call stack).  In the 16-bit and 32-bit micros, the stack will usually be in general RAM and be limited only by the size of the RAM.</p>

<p>There are also vast differences in the amount of memory -- both program and RAM -- implemented on the various devices.  8-bit micros may only have a few hundred bytes of RAM, and a few thousand bytes of program memory (or much less -- for example the PIC10F320 has only 256 14-bit words of flash and 64 bytes of RAM).  16-bit micros may have a few thousand bytes of RAM, and tens of thousand of bytes of program memory.  32-bit micros often have over 64K bytes of RAM, and maybe 1/2 MB or more of program memory (the PIC32MZ2048 has 2 MB of flash and 512KB of RAM; the newly released PIC32MZ2064DAH176, optimized for graphics has 2 MB of flash and a whopping 32MB of on-chip RAM).</p>

<p>If you are programming in assembly language, the register-size limitations will be very evident, for example adding two 32-bit numbers is a chore on an 8-bit microcontroller but trivial on a 32-bit one.  If you are programming in C, this will be largely transparent, but of course the underlying compiled code will be much larger for the 8-bitter.</p>

<p>I said largely transparent, because the size of various C data types may be different from one size micro to another; for example, a compiler which targets a 8 or 16-bit micro may use ""int"" to mean a 16-bit signed variable, and on a 32-bit micro this would be a 32-bit variable.  So a lot of programs use #defines to explicitly say what the desired size is, such as ""UINT16"" for an unsigned 16-bit variable.</p>

<p>If you are programming in C, the biggest impact will be the size of you variables.  For example, if you know a variable will always be less than 256 (or in the range -128 to 127 if signed), then you should use an 8-bit (unsigned char or char) on an 8-bit micro (e.g. PIC16) since using a larger size will be very inefficient. Likewise re 16-bit variables on a 16-bit micro (e.g. PIC24).  If you are using a 32-bit micro (PIC32), then it doesn't really make any difference since the MIPS instruction set has byte, word, and double-word instructions. However on some 32-bit micros, if they lack such instructions, manipulating an 8-bit variable may be less efficient than a 32-bit one due to masking.</p>

<p>As forum member vsz pointed out, on systems where you have a variable that is larger than the default register size (e.g. a 16-bit variable on an 8-bit micro), and that variable is shared between two threads or between the base thread and an interrupt handler, one must make <em>any</em> operation (including just reading) on the variable <em>atomic</em>, that is make it appear to be done as one instruction.  This is called a critical section.  The standard way to mitigate this is to surround the critical section with a disable/enable interrupt pair.</p>

<p>So going from 32-bit systems to 16-bit, or 16-bit to 8-bit, any operations on variables of this type that are now larger than the default register size (but weren't before) need to be considered a critical section.</p>

<p>Another main difference, going from one PIC processor to another, is the handling of peripherals.  This has less to do with word size and more to do with the type and number of resources allocated on each chip.  In general, Microchip has tried to make the programming of the same peripheral used across different chips as similar as possible (e.g. timer0) , but there will always be differences.  Using their peripheral libraries will hide these differences to a large extent.  A final difference is the handling of interrupts.  Again there is help here from the Microchip libraries.</p>
","106946"
"How to calculate the power dissipation in a transistor?","58464","","<p>Consider this simple CircuitLab sketch of a circuit (a current source):</p>

<p><img src=""https://i.stack.imgur.com/T5dfq.png"" alt=""circuit""></p>

<p>I'm not sure how to calculate the power dissipation across the transistor.</p>

<p>I'm taking a class in electronics and have the following equation in my notes (not sure if it helps):</p>

<p>$$P = P_{CE} + P_{BE} + P_{base-resistor}$$</p>

<p>So the power dissipation is the power dissipation across the collector and emitter, the power dissipation across the base and emitter and a mystery factor \$P_{base-resistor}\$. Note that the β of the transistor in this example was set to 50.</p>

<p>I'm quite confused overall and the <a href=""https://electronics.stackexchange.com/questions/13063/how-do-i-saturate-an-npn-transistor"">many</a> <a href=""https://electronics.stackexchange.com/questions/5336/i-dont-care-how-a-transistor-works-how-do-i-get-one-to-work"">questions</a> <a href=""https://electronics.stackexchange.com/questions/12477/how-do-bjt-transistors-work-in-a-saturated-state"">here</a> on transistors have been very helpful.</p>
","<p>Power isn't ""across"" something. Power is the voltage across something times the current going through it. Since the small amount of current going into the base is irrelevant in power dissipation, calculate the C-E voltage and the collector current. The power dissipated by the transistor will be the product of those two.</p>

<p>Let's take a quick stab at this making some simplifying assumptions. We'll say the gain is infinite and the B-E drop is 700 mV. The R1-R2 divider sets the base at 1.6 V, which means the emitter is at 900 mV. R4 therefore sets the E and C current to 900 &micro;A.  The worst case power dissipation in Q1 is when R3 is 0 so that the collector is at 20 V.  With 19.1 V accross the transistor and 900 &micro;A through it, it is dissipating 17 mW.  That's not enough to notice the extra warmth when putting your finger on it, even with a small case like SOT-23.</p>
","75144"
"Where is the Ground in a Simple Electronic Circuit","58287","","<p>I am rather new to electronics, and I am reading up on the topic. I came across the term <strong>ground</strong>. I get the large scale applications like the wires leading into the ground from power lines, but how is ground applied to smaller, simpler circuits? Imagine a circuit with a battery and an LED. Wires lead out of the positive and negative side of the battery and connect to the points on the LED. Where would the ground be on that circuit?</p>
","<p>Traditionally, ""ground"" is the lowest potential in a circuit, e.g. the minus side of a battery or DC supply.  In an AC circuit, such as the 110 volts AC coming into your house (at least in the US), ground will be the wire closest to the earth potential (i.e. you can <em>usually</em> touch the white wire, which is the ground or neutral wire, but get a bad shock if you touch the black ""hot"" wire -- but don't count on these conventions, as the wiring may be incorrect and/or there may be a ground fault in your wiring).</p>

<p>Below, in the simple DC circuit on the left, there is an explicit wire connecting the ground lead from the battery to the minus side of the LED.  In the circuit on the right, ground symbols (the open triangles) are used instead; in a large circuit there will be ground symbols scattered all over a schematic, all assumed to be connected together.  (Sometimes other but similar symbols are used for ground.) <em>These two circuits are identical</em>.</p>



<p><img src=""https://i.stack.imgur.com/9VGzi.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f9VGzi.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>The one exception to the ground being the lowest potential in a circuit is when you have both positive and negative supplies, such as in the following circuit:</p>

<p><img src=""https://i.stack.imgur.com/v5avh.jpg"" alt=""enter image description here""></p>

<p>Here there are two batteries, so you have both a +6v supply and a -6v supply, relative to the ground lead between them.  The reason for the two supplies is the comparator, which needs both positive and negative supply voltages.  This means the output of the comparator will also swing both positive and negative.  Op-amps are another type of IC that sometimes require both positive and negative supplies.  However it is more common for both op-amps and comparators these days to require only a positive supply.</p>

<p>Sometimes there may be more than one ground is a circuit; this is typical in circuits that have both digital and analog circuitry, and is done to minimize noise.  There will be only one point on the circuit where the two grounds are connected.  Another way that noise is mitigated on printed circuit boards (PCBs) is to have an entire layer of the board dedicated to being a ground plane.  This makes it easier to connect all the pins and other components of the circuit that need a ground by just dropping a via down to the ground plane.  If a ground plane is not used, traces have to be routed all over the board to connect all the grounds together.</p>
","104241"
"Calculate distance from RSSI","58244","","<p>I am working on an indoor positioning system where I need to:</p>

<ol>
<li>Compute distance based on RSSI (I understand this won't be 100% accurate) </li>
<li>Then do trilateration to pinpoint the location of the wifi signal. This part might be solved via this solution: <a href=""https://stackoverflow.com/questions/2813615/trilateration-using-3-latitude-and-longitude-points-and-3-distances"">Trilateration using 3 latitude and longitude points, and 3 distances</a></li>
</ol>

<p>I am stuck with (1).</p>

<p>The relationship b/w RSSI and Distance is (<a href=""http://www.ece.lsu.edu/scalzo/Mega%20Hurtz%20FDR.pptx"" rel=""nofollow noreferrer"">source PPT</a>):
<img src=""https://i.stack.imgur.com/0QFTp.png"" alt=""rssi distance relationship"">
Where:</p>

<pre><code>Fm = Fade Margin - ??
N = Path-Loss Exponent, ranges from 2.7 to 4.3
Po = Signal power (dBm) at zero distance - Get this value by testing
Pr = Signal power (dBm) at distance - Get this value by testing
F = signal frequency in MHz - 2412~2483.5 MHz for Ralink 5370
</code></pre>

<p>But I am not able to figure out how to calculate the fade margin.
Based on some findings, <code>fade margin = sensitivity of receiver - received signal</code>
But then again, how do I get sensitivity of the receiver?</p>

<p>I have an Ralink RT5370 chipset wifi dongle with this specification: <a href=""https://docs.google.com/document/d/1tkE_X8Nd83Zur8Qay7rut52Dqw6gdnvTwaJG87FhEjM/edit?usp=sharing"" rel=""nofollow noreferrer"">Ralink 5370 spec</a></p>

<p>Any suggestions will help!</p>

<p>Notes from: <a href=""http://www.tp-link.sg/support/calculator/"" rel=""nofollow noreferrer"">http://www.tp-link.sg/support/calculator/</a> suggest that fade margin varies from 14dB to 22dB</p>

<pre><code>Excellent: Link should work with high reliability, ideal for applications demanding high link quality. Fade Margin level is more than 22dB.
Good: Link should give you a good surfing experience. Fade Margin level is 14~22dB.
Normal: Link would not be stable all the time, but should work properly. Fade Margin level is 14dB or lower
</code></pre>
","<p>Fade margin is the difference in power levels between the actual signal hitting the receiver and the bottom-line minimum signal needed by the receiver to work. It gives an indication of likely bit error rates for instance.</p>

<p>There is a standard formula for calculating minimum theoretical signal level needed by a receiver for a given data rate. This is -154dBm + 10\$log_{10}\$(bit rate). If data rate is 1Mbps then a receiver will need -94dBm to stand a chance of reasonably getting decent data.</p>

<p>If the received signal is in fact -84dBm then the fade margin is 10dB i.e. it can allow fading of the received signal up to 10dB.</p>

<p>To apply this to your situation means you need to understand the data rate so you can calculate minimum acceptable receiver power. Because Fm = Pr - Pm (where Pm is minimum receiver power level calculated from bit rate or maybe marked on the box) I believe you should be able to work this out based on RSSI being equivalent to Pr.</p>

<p>If you look in the link you provided you'll see this: -</p>

<blockquote>
  <p>Receive Sensitivity: 802.11b: -84dBm@11Mbps</p>
</blockquote>

<p>In other words, at 11Mbps, using the formula in my answer you get a minimum receiver power required of -154 dBm + 10\$ log_{10}\$(11,000,000) dBm = -154dBm + 70.4dBm = -83.59dBm.</p>

<p><strong>EDIT</strong></p>

<p>I've been having a little look on this and there is a simpler formula you can use based on <a href=""http://www.google.co.uk/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;ved=0CDcQFjAB&amp;url=http%3A%2F%2Fwww.ijitee.org%2Fattachments%2FFile%2Fv2i2%2FA0359112112.pdf&amp;ei=8rdCUoPANo6R0QXn_4GYDA&amp;usg=AFQjCNFjrPoiVn7e9xPV1mi55AS4E6jwpg&amp;bvm=bv.53077864,d.d2k"">this</a> document. The formula is #19 on page 3 and basically it is this: -</p>

<p>RSSI (dBm) = -10n \$log_{10}\$(d) + A </p>

<p>Where A is the received signal strength in dBm at 1 metre - you need to calibrate this on your system. Because you are calibrating at a known distance you don't need to take into account the frequency of your transmission and this simplifies the equation.</p>

<p>d is distance in metres and n is the propagation constant or path-loss exponent as you mentioned in your question i.e. 2.7 to 4.3 (Free space has n =2 for reference).</p>

<p>Your original formula - if you could supply a source for that I can check it against data I have.</p>
","83356"
"Can a speaker be damaged but not blown?","58243","","<p>If one plays too loud of a sound through a speaker, it can <i>blow</i> - i.e. become visibly torn or stop working entirely. However is it possible that the loud sound will damage it <i>partly</i> and result in the speaker operating at a less loud level; can a speaker <i>blow just a bit</i>?</p>
","<p>Sure. Speakers are essentially large coils of wire, and when they ""blow"", it's generally that the coil is taking too much current and isn't being cooled enough, and is damaged. If the speaker is completely destroyed, this may be that the wire in the coil is broken or shorted, so that it doesn't operate. </p>

<p>However, one can imagine a scenario where something else in the speaker is damaged, such as the surround (the rubber coil that allows the cone to vibrate freely) or the spider (cloth ""guide"" inside the speaker, behind the cone) or leads leading into the cone are damaged, but the coil still operates. Any of these issues have the ability to reduce the volume level of the speaker.</p>

<p>It's worth noting that it's usually not the ""loud sound"" that damages the speaker, it's the large inrush of current that the voice coil cannot handle, the excursion of the cone (moving farther than designed for), or natural wear and tear on components. </p>
","72013"
"mosfet usage and p vs n channel","58235","","<p>i'm trying to use an arduino to enable/disable a 12V solenoid. I used an h-bridge and got that working fine. Then, I decided to simplify things and get a single mosfet instead of a multi-channel h-bridge and have gotten myself very confused. i'm trying to undersdtand the proper way to use a p-channel (or n-channel) mosfet in this setting, and came across this sample circuit on google:</p>

<p><img src=""https://i.stack.imgur.com/akg4N.png"" alt=""sample circuit""></p>

<p>why is there another transistor involved (the 2n3904), and why is there a diode across the load?</p>

<p>i understand that a p-channel is activated when Vgate is brought high (above Vsource + Vdrain), hence the pull-up, but why the extra transistor? Shouldn't the MCU (in this case the PIC) be doing the same thing?</p>

<p>Also - in the scenario when all I'm doing is turning a load on or off (like my solenoid), is there a reason to use an N-channel vs a P-channel?</p>
","<p>Compare the actions of a P and N channel MOSFET in your circuit. </p>

<p>(I've left the junction transistor in to aid comparison.)</p>

<p><img src=""https://i.stack.imgur.com/ezKgb.png"" alt=""enter image description here""></p>

<p>The PIC output does not like being connected to 12V so the transistor acts as a buffer or level switch. Any output from the PIC greater than 0.6V (ish) will turn the transistor ON.</p>

<p><strong>P CHANNEL MOSFET</strong>. (Load connected between Drain and Ground)</p>

<p>When the PIC output is LOW, the transistor is OFF and the gate of the P MOSFET is HIGH (12V). This means the P MOSFET is OFF.</p>

<p>When the output of the PIC is HIGH, the transistor is turned ON and pulls the gate of the MOSFET LOW. This turns the MOSFET ON and current will flow through the load. </p>

<p><strong>N CHANNEL MOSFET</strong>.(Load connected between Drain and +12V)</p>

<p>When the PIC output is LOW, the transistor is OFF and the gate of the P MOSFET is HIGH (12V). This means the N MOSFET is ON and current will flow through the load.</p>

<p>When the output of the PIC is HIGH, the transistor is turned ON and pulls the gate of the MOSFET LOW. This turns the MOSFET OFF.</p>

<p><strong>The 'improved' MOSFET circuit</strong>.</p>

<p>We could eliminate the transistor by using a digital N MOSFET type - it only needs the 0-5V signal from the PIC output to operate and isolates the PIC output pin from the 12V supply.</p>

<p><img src=""https://i.stack.imgur.com/FZJf6.png"" alt=""enter image description here""></p>

<p>When the PIC output is HIGH the MOSFET is turned ON, when it is LOW the MOSFET is turned OFF. This is exactly the same as the original P MOSFET circuit.
The series resistor has been made smaller to aid the turn ON, turn OFF times by charging or discharging the gate capacitance more quickly. </p>

<p>The choice of device is basically down to your design needs although in this case the digital type N MOSFET wins hands down in terms of simplicity.</p>
","81954"
"What exactly is a current source?","58195","","<p>What I understood from the definition of current sources is that it is a source which supplies a constant current across a load no matter how the other parameters (like resistances for example) in the circuit are changed. Am I right?</p>

<p>If I'm right, what is an example of a current source used in a practical circuit? </p>

<p>Wikipedia gave the example of a <a href=""http://en.wikipedia.org/wiki/Van_de_Graaff_generator"">Van de Graaff generator</a> as a constant current source. (I didn't read the article, because there was a note that the section appeared to contradict itself. I didn't want to get confused.)</p>

<p>I can think of voltage sources - for example a battery which has a constant potential difference across its ends irrespective of the changes in the circuit it is connected to, but I cannot think of a current source. Any example I can think of involves change in the current when the resistances are changed.</p>
","<p>A current source is the dual of a voltage source. An ideal voltage source has zero output impedance, so that the voltage doesn't drop under load. It shouldn't be shorted, because in theory there would flow an infinite current.<br>
An ideal current source has infinite output impedance. This means that the load's impedance is negligible and won't influence the current flowing. Like voltage sources shouldn't be shorted, current sources shouldn't be left open. An open current source will still try to source the set current, and the theoretical current source will go to infinite voltage.  </p>

<p><strong>edit</strong> (following your comment)<br>
Here you can read impedance as resistance. If the current source would have a limited resistance changes in load would change the current, because the total resistance would change. You don't want that. So if the current source's resistance is infinite the load can be ignored and the resistance always remains the same (infinite). Therefore the current will as well.</p>

<p>A practical current source may be constructed as follows:  </p>

<p><img src=""https://i.stack.imgur.com/MT42i.png"" alt=""enter image description here""><br>
One diode has the same voltage drop as the base-emitter junction, so the other diode sets the transistor's emitter to about 0.7V. A fixed voltage across a fixed resistor gives a fixed emitter current, which is about the same as the collector current if the transistor's \$H_{FE}\$ is high enough. (Strictly speaking this is a current sink rather than a current source, but the principle remains the same.)  </p>

<p>Another current sink uses an opamp as control element:<br>
<img src=""https://i.stack.imgur.com/thtot.png"" alt=""enter image description here""><br>
The main thing you need to know about opamps in this configuration is that they will try to keep the voltage on both inputs equal. So suppose you set \$V_{SET}\$ to 1V, then the opamp will try to make the <code>-</code> input also 1V. It does so by inserting current into the transistor's base. This will cause a current through the load \$I_{LOAD}\$ which is (almost) equal to \$I_{SET}\$. And \$I_{SET}\$ is constant to get the 1V across \$R_{SET}\$, according to Ohm's Law:  </p>

<blockquote>
  <p>\$ I_{SET} = \dfrac{V_{SET}}{R_{SET}} \$  </p>
</blockquote>

<p>Since \$V_{SET}\$ and \$R_{SET}\$ are constant, so will \$I_{SET}\$ be. QED.</p>
","28548"
"What is the difference between 1N4001 and 1N4007 other than their maximum reverse voltage?","58159","","<p>I compared 1N400x diodes <a href=""http://www.digikey.com/product-search/en?FV=fff40015,fff8007f&amp;k=1N400&amp;mnonly=0&amp;newproducts=0&amp;ColumnSort=1000011&amp;page=1&amp;stock=0&amp;pbfree=0&amp;rohs=0&amp;quantity=&amp;ptm=0&amp;fid=0&amp;pageSize=500"" rel=""noreferrer"">here</a>. As far as I see, all of their properties are same other than their maximum reverse voltages.</p>

<p>Their</p>

<ul>
<li>maximum current</li>
<li>recovery time</li>
<li>reverse leakage current</li>
<li>capacitance</li>
</ul>

<p>are the same.</p>

<p>It looks like 1N4007 is the super version of all other 1N400x diodes. So, why would one produce 1N4001...1N4006 diodes, and why would one buy them? If 1N4007 does the job alone, then why are the other versions still in the market?</p>
","<p>The answers by @Vasiliy and @johnfound are incorrect. 1N400x diodes are not all identical except for ""accidental"" manufacturing variations.</p>

<p>Diodes with higher reverse voltage ratings are <em>intentionally</em> manufactured with lighter doping so that the depletion region for a given reverse voltage is wider than it otherwise would be. The disadvantage with lighter doping is that the forward resistance and voltage drop for a high-voltage diode is higher than it would be for a lower-voltage diode.</p>

<p>So, you <em>can</em> use a 1N4007 for all of your applications, but your circuit efficiency will be slightly higher if you use a more appropriately-rated diode in low-voltage applications.</p>
","84526"
"Is there a way to stop servos from ""shaking""?","58154","","<p>Very simply, I am controlling servos(9g Micro Servos) based on some data read in from elsewhere. Everything works fine except that the servos will constantly ""shake."" That is, they vibrate back with very subtle movements (with intermittent movements of 1/2 -> 1cm or so). </p>

<p>I tried correcting this issue in software by doing something like:</p>

<pre><code>  do{
    delay(DTIME);
    positionServo();
    lcd.clear();
    lcd.setCursor(0,0);
    lcd.print(""X position: "");
    lcd.print(xRead);
    lcd.setCursor(0,1);
    lcd.print(""Y position: "");
    lcd.print(yRead);
  }while( readChange() ); //while there has been change
</code></pre>

<p>Where the do-while is necessary initialize the variables that store the mapped servo value(using the arduino servo library). </p>

<p>The readChange() function is defined as:</p>

<pre><code>int readChange(){
  int x_Temp, y_Temp;

  x_Temp = map(analogRead(x_axisReadPin), 0, 1023, 0, 179);
  y_Temp = map(analogRead(y_axisReadPin), 0, 1023, 0, 179);

  if( abs(x_Temp - xRead) &lt; DEG &amp;&amp; abs(y_Temp - yRead) &lt; DEG ) return 0; // no change 
  else return 1; //change
}
</code></pre>

<p>Where xRead is the value that was initialized (the first, mapped servo output).</p>

<p>Although, this really is not a good approach. It requires that BOTH values must not have changed by a factor of DEG (~10 degrees, or ~0.28V in my case). If I write the function such that either OR be less than DEG, then what if I was only changing one servo at a time? So there is a delimma ..</p>

<p>Is this simply a property of servos (perhaps cheap ones?) or is there a workaround?</p>

<hr>

<p>It would be much simpler to include a pastie link. Here is the full code:
<a href=""http://pastie.org/8191459"" rel=""noreferrer"">http://pastie.org/8191459</a></p>

<p>I have attached two servos together with a laser pointer to allow for two degrees of freedom (X, Y). There are options, based on the state of several buttons, to control the servos in various ways. The first is ""Motion"" where I have two photoresistors that, based on the amount of light exposure, affect the position of the servos. I have not yet implemented the code to control the servos by an Xbox controller. And the third option is just randomized movement. </p>

<p><img src=""https://i.stack.imgur.com/n8EAZ.jpg"" alt=""enter image description here""></p>
","<p>When using the Servo library on an Arduino, a common source of servo buzz is that the interrupt-driven servo routines don't actually give a very stable output pulse. Because the AVR takes interrupts for servicing the millis() clock and other things in the Arduino runtime, the jitter in the Servo library is on the order of several microseconds, which translates to a lot of movement in the servo.</p>

<p>The fix for this is to write your own pulse. Something like this:</p>

<pre><code>cli();
long start = micros();
digitalWrite(PIN, HIGH);
while (micros() - start &lt; duration)
  ;
digitalWrite(PIN, LOW);
sei();
</code></pre>

<p>This will turn off other interrupts, and generate a much cleaner PWM pulse. However, it will make the ""millis() timer miss some clock ticks. (The ""micros()"" function may be called something else -- I forget exactly what.)</p>

<p>In general, for timing critical code, you want to get rid of the Arduino runtime entirely, and write your own using the avr-gcc compiler and avr-libc library that powers the Arduino environment. Then you can set up a timer to tick 4 times per microsecond, or even 16 times per microsecond, and get a much better resolution in your PWM.</p>

<p>Another cause of buzz in servos is cheap servos with cheap sensors, where the sensors are noisy, or when the exact position requested with the pulse can't actually be encoded by the sensor. The servo will see ""move to position 1822"" and try to do it, but ends up with the sensor reading 1823. The servo will then say ""move back a little bit"" and it ends up with the sensor reading 1821. Repeat! The fix for this is to use high-quality servos. Ideally, not hobby servos at all, but real servos with optical or magnetic absolute encoders.</p>

<p>Finally, if the servos don't get enough power, or if you try to drive their power from the 5V rail on the Arduino, this will generate voltage-sag-induced buzz in the servos, as suggested above. You may be able to fix it with large electrolytic capacitors (which are a good idea for general filtering anyway) but you more likely want to make sure your servo power source can actually deliver several amps of current at the servo voltage.</p>
","77536"
"What is a ""dry contact input""?","58112","","<p>I'm a PC software guy, a newbie to electronics.  Recently, I've got a project in which I need to source for a DAQ that can provide dry contact inputs to an interfacing digital output controller.  The controller generates alarm signals.  I've uploaded the system diagram here - </p>

<p><img src=""https://i.stack.imgur.com/KL88h.png"" alt=""""></p>

<p><em>Link to larger image:</em> <a href=""https://i.stack.imgur.com/KL88h.png"" rel=""nofollow noreferrer"">http://i.stack.imgur.com/KL88h.png</a></p>

<p>As shown in the diagram, the digital outputs are Form A relays that ""are closing contacts with one common terminal (C) and one normally open terminal (NO). The terminals are isolated from signal ground."".  So the digital outputs are normally open and I suppose will close only when there's an alarm.  It is not indicated in the data sheet whether the digital outputs are wet or dry.</p>

<p>Here's how I figure it will work:</p>

<p>If the digital output relays are open, my dry contacts will not form a circuit.  If the digital output relays are close, my dry contacts will become a closed circuit and current will flow because the digital outputs are rated 250VAC/30 VDC, 2A??</p>

<p>But dry contacts are not suppose to have voltage or current? I can't figure how this part works out and will appreciate any pointers.  Thank you.</p>
","<p>Dry contact means no energy is supplied to the contacts (completely passive and isolated). In order for the DAQ to read it, it needs to have a defined voltage, Either a pull up to the positive supply (logic 1) or pull down resistors to the negative supply (logic 0) or an additional IO. Usually, DAQs have a reference voltage output, you can use that one, or alternately, an output line, set to a known logic level. Supply voltage is relative to the DAQ supply, either its ground or Vcc.
 As long as the cable between the alarm and IO board is relatively short, you should not have any problems.</p>
","80846"
"Do electromagnetic shielding stickers do anything?","58053","","<p>I recently bought some cellphone accessories, and as a free gift, the merchant gave me a ""24K gold plating electromagnetic shielding sticker"", whose instructions are all in Chinese, but I guess you're supposed to stick it onto your cellphone, and that's supposed to protect you from nasty E-M radiation.</p>

<p>My initial reaction is that this is total quackery, but let me ask those more knowledgeable in the field: is there any substance to these things?</p>
","<blockquote>
  <p>I guess you're supposed to stick it onto your cellphone, and that's supposed to protect you from nasty E-M radiation.</p>
</blockquote>

<p>Electromagnetic radiation can be nasty at some energies, but the EM radiation from your cell phone isn't dangerous.  Radiation is dangerous as such when it is <em>ionizing radiation</em> - capable of removing electrons from an atom, creating an ion.  Ions are chemically reactive, and it's the reaction that causes harm.</p>

<p>Take a look at this image of the electromagnetic spectrum from Wikipedia: </p>

<p><img src=""https://i.stack.imgur.com/ErDJ2.png"" alt=""http://en.wikipedia.org/wiki/File:EM_Spectrum_Properties_edit.svg""></p>

<p>Your cell phone operates between the radio and microwave frequencies. Ultraviolet light (such as that created by the sun) is the lowest-frequency ionizing radiation.</p>

<blockquote>
  <p>My initial reaction is that this is total quackery, but let me ask those more knowledgeable in the field: is there any substance to these things?</p>
</blockquote>

<p>If you're not convinced by or don't understand the ionizing vs. non-ionizing radiation argument, note that visible light is closer to being a ""nasty"" ionizing form of radiation than radio waves.  Don't worry about it.</p>

<hr>

<p>leftaroundabout points out that radiation can also be dangerous at high frequencies due to thermal effects.  However, </p>

<ul>
<li>Low power levels, </li>
<li>Large thermal mass in your head, and</li>
<li>High conductivity of any thermal effects by your blood</li>
</ul>

<p>combine to make this a non-issue.</p>
","20083"
"Reducing 12V to 5V","58048","","<p><em>DISCLAIMER: I know nothing of electrical engineering I just seen this as the best fit category for my question.</em></p>

<p>I have a solar panel that is being run to a controller switch (for lack of a better name) the controller switch then has a hookup for a battery and a hookup for output. I have the battery connected and its supplying 12V - 12.8V to the output.</p>

<p>I want to hook up a female USB end to the the output. But I know that a USB port should only provide around 5V.</p>

<p>Before I had the controller and battery I had the solar panel hooked directly up to the guts of an old cigarette lighter phone charger. It worked great. But when I tried to hook up that same little circuit board to the output of the controller it just arced and so I removed it.</p>

<p>Have no idea what I'm doing wrong here. I hooked a voltage meter to the output and sure enough, 12V. Hooked a LED light up to it and it lit up real bright. But whenever I hook up that little circuit it arcs and if I hook up the circuit board from the inside of a USB wall charger... Nothing, no power coming from the USB port (measured with voltage meter).</p>
","<p>The simplest circuit will be using a voltage regulator like <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""noreferrer"">LM7805</a>. These regulators are very common.</p>

<p>However, it can only supply a maximum current of 1A and you will also need a heatsink.</p>

<p>It is simple to build: connect the 12V wire at the left most terminal of the IC, while looking at the inscription and with the pins down. Connect the 5V output for USB port at the right most pin. Connect the ground of your 12V supply and of your USB to the middle pin or to the heatsink. You may also add two capacitors like:</p>

<p><img src=""https://i.stack.imgur.com/umUx0.png"" alt=""enter image description here""></p>

<p>From <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""noreferrer"">Fairchild datasheet</a>.</p>

<p><img src=""https://i.stack.imgur.com/flJcW.png"" alt=""enter image description here""></p>
","109041"
"What is the definition and purpose of a pre-amplifier?","57967","","<p>I find in many places mentions of pre-amplifiers being used to boost audio signals prior to feeding to a power amplifier.</p>

<p>Wikipedia's article on <a href=""https://en.wikipedia.org/wiki/Preamplifier"">pre-amps</a> gives some hints at their usage, but it doesn't really explain why it would be necessary to have two amplifiers in series rather than a single one with greater gain.</p>

<p>If a pre-amp is just a power amp with a smaller gain, what's the point, and why the distinction between the two kinds? Is the distinction in function, or simply purpose?</p>
","<p>There are many reasons why you would want a pre-amp and a power amp. The easiest to understand is when your source and destination are far away from each other. In this situation a pre-amp can be helpful so that the noise that is picked up on the line to the power amp is minimal compared to the signal itself.</p>

<p>Another situation is if you were going to be performing some filtering on a signal. All of the filtering elements can add noise to your system and by adding a preamp the noise in the filtering is minimized compared to the signal. Also the preamp can act as a simple buffer between your source and the filtering equipment.</p>

<p>And yet another reason you would want it is because your preamp isn't able to provide the current gain required for the power amp. You may still wonder why not just use a power amp? Power amps are more difficult to directly change the volume on while a preamp is much easier. So you can change your volume on the preamp and have a fixed gain on the power amp.</p>
","31310"
"How do I fix an Omron d2fc-f-7n microswitch from unwanted clicks?","57588","","<p>Omron d2fc-f-7n microswitches are used in computer mice all around, and they eventually start clicking several times per hit. AFAIK there is a flexible metal plate that wears out due to metal fatigue, so there must be a way to prolong its life.</p>

<p>The obvious solution is to remove the malfunctioning microswitch and replace with a spare, but where I live they aren't available at all.</p>
","<blockquote>
  <p>Delivery costs many times more than the items themselves</p>
</blockquote>

<p>Even from eBay? Whereabouts do you live?</p>

<p>One way you can get spares is to smash open another mouse that's broken for some other reason. Perhaps a friend has a broken one?</p>

<p>It may be possible to repair them. Those little switches have a snap fit cover, and can be opened up.</p>

<p><img src=""https://i.stack.imgur.com/xTenF.jpg"" alt=""Omron switch catch""></p>

<p>carefully pull on the catch with a fine blade, and remove the cover.</p>

<p><img src=""https://i.stack.imgur.com/FCJML.jpg"" alt=""Inside the switch""></p>

<p>At this point, plug in the mouse and test the switch. gently push on the metal spring on the switch, and see if the problem still happens. If not, try to push on it in such a way that the problem happens. After you have attempted to fix the switch, you will be able to test it again without re-assembling the whole mouse.</p>

<p>Unplug the mouse now.</p>

<p>The switches come in a variety of different designs, but they are fairly similar. There's a bistable metal spring which normally serves to ensure the contacts move rapidly and decisively. Either it's this spring which isn't pulling as hard, or the contacts are dirty.</p>

<p>Let's start with the spring itself:</p>

<p><img src=""https://i.stack.imgur.com/1C5Wu.jpg"" alt=""Mouse button spring""></p>

<p>You need to flatten it slightly. You might find it easier to remove the spring from the switch first. Place it on a table, and squash it slightly with your finger. Not too much. Better to err on the side of caution.</p>

<p>Then put the spring back in the switch. Test it again now. If it still bounces, then you might need to flatten the spring a little more. If this doesn't work, then try cleaning the contacts.</p>

<p>Tear off a thin (5mm wide) strip of J-Cloth or similar.</p>

<p><img src=""https://i.stack.imgur.com/ZCQKK.jpg"" alt=""J Cloth""></p>

<p>Apply a little abrasive cleaner (like CIF) to it. Thread it through the switch and pull it back and forth to rub away any dirt from the contacts.</p>

<p>Tear off another strip, and soak it in methylated spirits (or pure alcohol). Use this to clean off the abrasive cleaner.</p>

<p>Test the switch again. If it still doesn't work, then get a new switch.</p>
","29967"
"How to drive a MOSFET with an optocoupler?","57516","","<p>What's the proper schematic for driving <a href=""http://www.irf.com/product-info/datasheets/data/irl520npbf.pdf""> this</a> MOSFET from a microcontroller pin through <a href=""http://www.farnell.com/datasheets/90931.pdf""> this</a> or <a href=""http://www.farnell.com/datasheets/1346961.pdf""> this</a> optocoupler?
The MOSFET will drive a motor @ 24V, 6A.</p>
","<p>The suggested MOSFET is not well suited to this application. 
There is a severe risk that the result will be a smoking ruin :-(.
Principally, that FET is only very very marginally suited to the task. It could be made to work if it was all you had but there are much much much more suitable FETs available, probably at little or no extra cost. </p>

<p>The main issues are that the FET has a very bad (= high) on resistance, which leads to high power dissipation and a reduced level of drive to the motor. The latter is not too significant but is unnecessary.</p>

<p>Consider - the data sheet says that the on resistance (Rdson - specified at top right on page 1) = \$0.18 \Omega\$. Power dissipation = \$ I^2 \times R\$ so at 6A the power loss will be \$(6A)^2 \times 0.18 \Omega =~ 6.5W\$. That is easily handled in a TO220 package with an adequate heatsink (somewhat better than a flag type preferably) but this much dissipation is totally unnecessary as much lower Rdson FETs are available. Voltage drop will be \$V = I \times R = 6V \times 0.18 \Omega =~ 1.1V\$. That's \$ \frac{1}{24} =~ 4%\$ of the supply voltage. That's not vast but unnecessarily takes voltage that could be being applied to the motor.</p>

<p>That MOSFET is <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=IRL520NLPBF-ND"" rel=""nofollow noreferrer"">in stock at digikey</a> for $1.41 in 1.s. </p>

<p>BUT</p>

<p>For 94 cents in 1's also <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=IPP096N03LGIN-ND"" rel=""nofollow noreferrer"">in stock at Digikey</a> you can have the ultra magnificent IPP096N03L MOSFET. This is only 30V rated, but has \$I_{max} = 35A\$, \$R_{DS(on)}\$ of \$10 m \Omega\$ (!!!) and a maximum threshold voltage (turn on voltage of 2.2 volts. This is an utterly superb FET both for the money and in absolute terms. </p>

<p>At 6A you get \$P_{diss} = I^2 \times R = (6A)^2 \times 0.010 \Omega = 360 mW\$ dissipation. It will feel warm to the touch when run without a heatsink.</p>

<p><a href=""http://www.infineon.com/dgdl/IPP096N03L_rev1.02.pdf?folderId=db3a304412b407950112b408e8c90004&amp;fileId=db3a304412b407950112b4273c3b3bdf"" rel=""nofollow noreferrer"">IPP096N03L data sheet </a></p>

<p>If you want a bit more voltage headroom you can get the <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=IPP25N06S3-25IN-ND"" rel=""nofollow noreferrer"">97 cents in stock</a> 55V, 25A, \$25 m \Omega\$  <a href=""http://www.infineon.com/dgdl/IPP_B_I25N06S3-25_DS_1_1.pdf?folderId=db3a304314dca389011528372fbb12ac&amp;fileId=db3a304316f112290116f2d6cac372b2"" rel=""nofollow noreferrer"">IPB25N06S3-2</a> - although gate threshhold is getting marginal for 5V operation.</p>

<p>Using Digikey's parameter selection system let's spec the ""ideal FET for this and similar applications. 100V, 50A, logic gate (low turn on voltage, \$ R_{ds(on)} \$ &lt; \$ 50 m \Omega\$.</p>

<p>Slightly dearer at <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=568-5731-ND"" rel=""nofollow noreferrer"">$1.55 in 1's in stock at Digikey</a> BUT 100V, 46A, \$ 24 m \Omega\$ \$R_{ds(on)} \$ typical, 2V \$V_{th}\$ ... <a href=""http://www.nxp.com/documents/data_sheet/BUK95_9629_100B.pdf"" rel=""nofollow noreferrer"">the utterly superb BUK95/9629-100B</a> where <strong><em>do</em></strong> they get these part numbers from? :-)</p>

<p>Even with only 3V gate drive, at 6A \$R_{ds(on)}\$ will be about \$35 m \Omega\$ or about 1.25 Watt dissipation. At 5V gate drive \$R_{ds(on)} ~=25 m \Omega\$ giving about 900 mW dssipation. A TO220 package would be too hot too touch in free air with 1 to 1.25 Watt dissipation - say about 60 to 80 C rise. Acceptable but hotter than needed. Any sort of flad heat sink would bring it down to just ""nice and warm"". </p>

<p>This circuit <a href=""https://www.mikrocontroller.net/topic/155604"" rel=""nofollow noreferrer"">from here</a> is almost exactly what you want and saves me drawing one :-).</p>

<p><img src=""https://www.mikrocontroller.net/attachment/61816/opto.gif"" alt=""Optocoupler driving FET""></p>

<p>Replace BUZ71A with MOSFET of your choice as above. </p>

<p><strong>Input:</strong></p>

<ul>
<li><p>Either: X3 is the input from the microcontroller.
This is driven high for on and low for off.
""PWM5V"" is grounded.</p></li>
<li><p>Or: X3 is connected to Vcc.
PWM5V is driven by the microcontroller pin - low = on, high = off.</p></li>
</ul>

<p>As shown \$R1 = 270 \Omega\$.</p>

<ul>
<li><p>Current is \$ I= \frac{(Vcc-1.4)}{R1}\$ </p></li>
<li><p>or Resistor is \$ R = \frac{(Vcc-1.4)}{I} \$</p></li>
</ul>

<p>For Vcc = 5V and \$270 \Omega\$ I here =~ 13 mA.
If you wanted say 10 mA then \$R = \frac{(5V-1.4V)}{10mA} = 360 \Omega\$ - say 330R</p>

<p><strong>Output:</strong></p>

<p>R3 pulls FET gate to ground when off.
By itself 1K to 10k would be OK - Value affects turn off time but not too important for static drive. BUT we wil use it here to make a voltage divider to reduce FET gate voltage when on. So, make R3 the same value as R2 - see next paragraph. </p>

<p>R2 is shown gointo +24 Vdc but this is too high for the FET maximum gate rating. Taking it to +12 Vdc would be good and +5Vdc would be OK if the logic gate FETs mentioned are used. BUT here I will use 24 Vdc and use R2 + R3 to divided the supply voltage by 2 to limit Vgate to a safe value for the FET.</p>

<p>R2 sets the FET gate capacitor charge current. Set R2 = 2k2 gives ~10 mA drive.
Set R3 = R2 as above.</p>

<p>Also, add a 15V zener across R3, cathode to FET gate, Anode o ground, This provides. gate protection against over voltage transients.  </p>

<p>The motor connects as shown. </p>

<p>D1 MUST be included - this provides protection against the back emf spike which occurs when the motor is turned off. Without this the system will die almost instantly. The BY229 diode shown is OK but is overkill. Any 2A or greater current rated diode will do. An <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=RL204-TPCT-ND"" rel=""nofollow noreferrer"">RL204</a> is just one of a vast range of diodes that would suit. A high speed diode here may help slightly but is not essential. </p>

<p><strong>Switching speed</strong> :  As shown the circuit is suitable for on/off control or slow PWM. Anything up to about 10 kHz should work OK./ For faster PWM a properly designed driver is required. </p>
","17129"
"Inductor vs a capacitor","57514","","<p>I'm a Trainee electrician and pc hardware enthusiast. I was just wondering why a mixture of inductors and capacitors are used on motherboards? Why not just use capacitor? I thought the inductor stores electrical charge but it uses magnetism. What's so special about storing it as magnetism?</p>
","<p>To answer this properly, you should know the properties of a capacitor and an inductor.</p>

<p>Inductors are one of the primary components required by a switching regulator. An capacitor and inductor are similar in the way that a capacitor resists a change of a voltage and an inductor resists a change in current. The way how 'strong' they can resist depends on their value. </p>

<p>Capacitors are widely used to clean up a power supply line, i.e. remove noise or ripple at (higher) frequencies. Inductors are used in switching power supplies where a relatively constant current is passed through an inductor. 
A switching power supply works in that a switch is opened and closed very quickly. When the switch is closed, the inductor is 'charged'. When the switch is open, the energy is drawn from the inductor into the load. Usually such a power supply is being decoupled with a capacitor to create a stable power supply line.</p>

<p>An inductor is required to make this principle work. If you know a resistor that has an equal resistance for all frequencies of signal, you should view a capacitor as a resistor that will be infinite for DC (0Hz) and 0 for high frequencies. An inductor will be the opposite: it's resistance will be 0 at 0Hz, and infinite at high frequencies. However we don't call this resistance (that's only used for a pure resistor!) but impedance.</p>

<p>A PC motherboard or graphics card is basically not much else than this. They have their main chips and the routing between them, and most other components are power supply or a little bit of interfacing between chips or connectors. </p>
","9554"
"Powering laptop from 12V sources without inverter","57496","","<p>This question has two parts:</p>

<p>1) How inefficient is it to boost 12V to 120V and then back to 12V as in using a traditional car power inverter to power a laptop (i.e. the 12V car battery power is boosted to 120V by a power inverter and then back to 12V by the laptop's power supply)?</p>

<p>2) Is there any way to power a laptop directly from a 12V car battery? This would be useful not only for use in a car, but also for a solar-powered home that runs on 12V batteries. If there is a significant gain in not going through the boost/buck cycle of power inverters, then it would seem wise to power laptops and other 12V devices directly from battery power. I realize that laptops have different power supply ratings and some require more than 12V, but it seems rather wasteful to boost everything to 120V before bringing it back down.</p>
","<p>Yes, tons of power is wasted going from 12V to 110V, especially when all you do is to stick it into a psu which also loses some power turning it back into low voltage DC.</p>

<p>You can buy a DC/DC converter which will deliver a 9-20 V DC adjustable voltage when given 10-24 V DC input.</p>

<p>I've built a SEPIC style converter before, for just this sort of thing:
<a href=""http://dren.dk/carpower.html"">http://dren.dk/carpower.html</a></p>
","10112"
"Choosing the right transistor for a switching circuit","56950","","<p>I want to control a siren speaker (has a built-in driver) with an Arduino.</p>

<p>The siren needs 12V and consumes about 480mA.
The Arduino output pin is 5V and can source 40mA maximum.</p>

<p>I would like to use a transistor to switch the siren on and off. Is this an OK application for a transistor? I'd rather not have to use a relay or a SSR because I don't have any on hand.</p>

<p>Based off of those numbers I calculated my load (siren) resistance to be 25 ohms using Ohms law, R=E/I. (I'm using Amps, Volts, and Ohms as units)</p>

<p>$$\frac{12V}{0.48A} = 25 \Omega$$</p>

<p>I have found various calculations to determine what kind of transistor I need and I'm not quite sure which is the best one. One of them is like this:</p>

<p>$$h_{FE(minimum)} = 5 \times \frac{Load\;Current}{Arduino\;Pin\;Max\;Current}$$</p>

<p>Which gives me a minimum \$h_{FE}\$ of 60.</p>

<p>$$5 \times \frac{0.48}{0.04} = 60$$</p>

<p>This is where I get a little confused. I have a few transistors and their datasheets but I'm not quite sure how to read them. I have read many resources and I am just as confused now as before.</p>

<p>I know I should probably use a NPN transistor but would it matter if I use a PNP instead? Do the same calculations apply? I understand that the circuit changes, active high instead of active low, but are there any drawbacks to PNP over NPN?</p>

<p>The NPN's I have are <a href=""http://www.fairchildsemi.com/ds/PN/PN2222A.pdf"">PN2222A</a>, <a href=""http://www.fairchildsemi.com/ds/BC/BC337.pdf"">BC337</a>, <a href=""http://www.nxp.com/documents/data_sheet/BC847_BC547_SER.pdf"">BC547B</a> and a <a href=""http://www.fairchildsemi.com/ds/BC/BC517.pdf"">BC517 darlington</a>. </p>

<p>The PNP's I have are <a href=""http://www.solarbotics.net/library/datasheets/2N2907.pdf"">PN2907</a>, <a href=""http://www.biltek.tubitak.gov.tr/gelisim/elektronik/dosyalar/4/BC327.pdf"">BC327</a> and a <a href=""http://www.fairchildsemi.com/ds/BC/BC516.pdf"">BC516 darlington</a>.</p>

<p>How would I go about choosing the right transistor for the job? I don't want to overload the transistor.</p>
","<p>When choosing the right <a href=""http://www.kpsec.freeuk.com/components/tran.htm"">transistor</a> for this job, first I'll eliminate the PNP transistors. They're a bit more complicated to use in your case. As you said, for a PNP transistor, active high becomes active low, meaning the transistor will switch on when you apply 0V from your Arduino, but it won't switch off when you apply 5V from the Arduino. You'll need to apply 12V to the base of the PNP transistor to switch off (VEB = 0).</p>

<p>Leaving PNP's behind, looking at the NPN's that you have availabe, only the <a href=""http://www.nxp.com/documents/data_sheet/BC847_BC547_SER.pdf"">BC547B</a> (Ic = 100mA) couldn't handle the 480mA current that your siren needs. From the remaining 3 transistors, I'd choose the one that can handle the most current, just to be on the safe side. That would be the <a href=""http://www.fairchildsemi.com/ds/BC/BC517.pdf"">BC517 darlington</a>, which can handle a maximum of 1.2A, more than enough for your siren.</p>

<p>Only now you'll have to worry about the gain of the BC517. But, because BC517 is a darlington transistor, it has a huge gain (hFE = 30,000), so you can easily switch on the transistor with a very small base current. If you chose to drive the base of the transistor with a 1KOhm resistor, you'll have a 3.6mA base current, which is sufficient for your purposes.</p>

<p>So the winner would be the <strong>BC517</strong>.</p>

<p><img src=""https://i.stack.imgur.com/5ExBx.jpg"" alt=""NPN circuit""></p>
","29033"
"Why do higher frequency waves have better penetration?","56908","","<p>In free space, lower frequency signals seems to go farther because the signal is either diffracted by the ground or reflected by the upper atmospheric layers, making it actually go farther. </p>

<p>In urban condition, where we need to penetrate walls, does 2.4GHz travel further than 433MHz radio? </p>

<p>In the electromagnetic spectrum, do Gamma rays and X-rays have good penetration because they have high frequency?</p>
","<p>It is not true that higher frequencies always penetrate further than lower ones.  The graph of transparency of various materials as a function of wavelength can be quite lumpy.  Think of colored filters, and those only apply to a narrow octave of wavelengths we call visible light.</p>

<p>What you are apparently thinking of is wavelengths so short that the energy is very high, like xrays and gamma rays.  These go thru things solely because of their high energy.  At lower energies (longer wavelengths), the waves interact with the material in various ways so that they can get absorbed, refracted, reflected, and re-emitted.  These effect vary in non-monotonic ways as a function of wavelength, the depth of the material, it's resistivity, density, and other properties.  </p>
","33541"
"How can I safely charge multiple deep cycle batteries simultaneously?","56894","","<p>I work at a car auction and we use deep cycle marine batteries with booster cables attached to hand trucks to wheel around the lot for boosting cars.  I've been told by our battery distributor the best way to charge the batteries individually is at a low (2-5 amp) charge setting for 12-24+ hours.</p>

<p>We use a wheeled automotive battery charger that has several amp settings (2 amps up to 200 amps) in 6- and 12-volts.  We have had problems in the past with batteries gassing and even exploding from being hooked up to the charger improperly (luckily no one has been injured).</p>

<p>The latest failed attempt at charging them all simultaneously involves two copper pipes hooked to the positive and negative leads of the charger (running on a 2amp setting) and the positive and negative booster cables of 4 batteries attached to the corresponding copper pipe.  They don't seem to charge this way, even after several days.  My guess is that the amperage is being divided among the 4 batteries, so they're only getting a very small trickle, if anything.  I've been afraid to crank the charger up to 20amps or so to test this theory without finding out for sure if it is safe.</p>

<p><strong>How can we safely charge multiple deep cycle batteries (we currently use 4) simultaneously using a wheeled automotive battery charger?</strong>  </p>
","<p>The ""right"" way to charge 4 batteries simultaneously would be to buy 4 small ""trickle charger"" style battery chargers and charge each battery independently.  This would allow you to safely leave all of the batteries that aren't in active use to charge at their own ideal rate.  This is the approach that your distributor is recommending to you.</p>

<p>It is possible, though far from ideal, to charge several 12V batteries (monoblocks with 6 cells) in parallel.  It works much better if they are all the same age and they <strong>must</strong> be the same brand and same capacity.  What you really want is for them to have the same specific gravity in each cell in each monoblock.  It sounds like you are using flooded batteries, so checking for proper electrolyte levels often will be very important.</p>

<p>I'd recommend the following guidelines for charging multiple lead acid batteries in parallel:</p>

<p>1) Ensure that the lead lengths between the charger and each cell are close to identical.  You would not, for example, want to connect the charger directly to the posts of battery A, then connect battery B to the posts of battery A, etc.)  Each length of wire will have a voltage drop associated with it while passing current.  You want to ensure that, under charge, the terminal voltages of all batteries (measured at the post) are very close to the same.</p>

<p>2)  Add current limiting (like a fuse or fusable link) in each connection (both sides) to each battery.  This will provide a basic (not comprehensive!) level of protection against accidental reverse polarity connection). </p>

<p>3)  Use a good quality low rate (10-20A) charger</p>

<p>Your copper pipe approach satisfies requirement #1.  If you use leads with inline fuses (buy fuse holders from an auto parts store and splice them inline) and ensure that the pipes are mounted in such a way that nothing metallic could reasonably short the two pipes, you've got #2.</p>

<p>As for why your most recent experiment didn't work, it's tough to say without more information.  Wheeled automototive battery chargers typically have zero regulation - they are simply a multi-tap transformer (different charge rates) and a rectifier.  They are made primarily for jump-starting/battery assist type of applications and aren't a great fit for your application.  Research good quality trickle/maintenance chargers, and select one with a 10-20A output (selectable).  (#3) You can then more comfortably experiment with the charge rate that best matches your application.</p>

<p>Always wear eye protection when working around batteries.</p>
","38096"
"Why is it desirable in an amplifier to have high input impedance and low output impedance?","56791","","<p>I've learned that it's desirable in an ideal amplifier to have high input impedance and low output impedance. Why exactly? What are the implications an amplifier has the opposite- low input impedance and high output impedance.</p>

<p>I don't exactly understand how impedance input and output.</p>
","<p>Actually, the premise of your question is only true if the signals you are interested in are voltages. In that case, if the amplifier draws no current through its input (has infinite, or at least very high input impedance), then connecting it to a source won't affect the signal voltage, regardless of what the source impedance is.</p>

<p>Similarly, when you connect a load to the output of your amplifier, if the amplifier has zero output impedance, the signal voltage won't change, regardless of the current drawn by the load.</p>

<p>These properties make it much easier to analyze the behavior of the system overall.</p>

<p><strong>However,</strong> if the signals you're interested in are <em>currents</em> rather than voltages, you want your amplifier to have zero input impedance and infinite output impedance for the same reasons.</p>
","68642"
"What are the differences between a gyroscope, accelerometer and magnetometer?","56477","","<p>What is the difference between a 3-axis gyroscope, 3-axis accelerometer and 3-axis magnetometer? How do these sensors work? Why are all 3 used in some devices like smartphones, tablets, quadcopters etc.?</p>
","<p>They are three sensors that are useful for determining position and orientation, but they measure different things.</p>

<ul>
<li>A magnetometer measures magnetic fields. Because the earth has a significant magnetic field, the magnetometer can be used as a compass. As such it is useful to determine <strong>absolute orientation in the NESW plane</strong>.</li>
<li>An accelerometer measures accelerations. This is useful to measure <strong>changes in velocity</strong> (directly, as the acceleration is the first time derivative of the velocity) and <strong>changes in position</strong> (by integrating the signal). They are usually used for measuring small movements. Also note that gravity acts like a continuous acceleration upward (via Einstein's equivalency principle), so a multiple-axis accelerometer can also be used as an <strong>absolute orientation sensor in the UP-DOWN plane</strong>.</li>
<li>A gyroscope measures either <strong>changes in orientation</strong> (regular gyro or integrating rate gyro) or <strong>changes in rotational velocity</strong>  (rate gyro).</li>
</ul>

<p>The reason these sensors are combined is because they excel at different things.
For example, for orientation, a magnetometer has poor accuracy for fast movement, but pretty much zero drift over time. An integrating scheme using gyros on the other hand reacts quickly and accurately to changes, but accumulates vast error over time. It also requires to start from a known orientation, as it only reacts to changes.</p>

<p>Combining the inputs to these sensors allows for quick and accurate position and orientation determination with a low amount of drift over time.</p>

<p>Together, these sensors are also referred to as an Inertial Measurement Unit, or IMU. You can find more information on the <a href=""http://en.wikipedia.org/wiki/Inertial_Measurement_Unit"">wikipedia page for this term</a>. Note that the unit is not strictly speaking purely inertial when you add magnetometers, but this nomenclature is widely used.</p>
","36591"
"Why does the distance between the plates of a capacitor affect its capacitance?","56260","","<p>Why does the capacitance of a capacitor increase when its plates are closer in distance to each other?</p>
","<p>Intuitive approach: if the distance wouldn't be a factor then you would be able to place the plates at an infinite distance apart and still have the same capacitance. That doesn't make sense. You would expect a zero capacitance then.<br>
If the capacitor is charged to a certain voltage the two plates hold charge carriers of opposite charge. Opposite charges attract each other, creating an electric field,  </p>

<p><img src=""https://i.stack.imgur.com/wYRBC.gif"" alt=""enter image description here""></p>

<p>and the attraction is stronger the closer they are. If the distance becomes too large the charges don't feel each other's presence anymore; the electric field is too weak.</p>
","16461"
"Why do GPS receivers have a 1 PPS output?","56184","","<p>I was surprised to see that the GPS receiver I'm working with has a pin reserved for outputting a 1&nbsp;PPS (Pulse Per Second) signal. What is the point of this? Can't the microcontroller easily generate its own 1&nbsp;PPS signal?</p>
","<p>The 1 PPS output has a much lower jitter than anything a MCU can do.  In some more demanding applications you can use that pulse can be used to time things very accurately.  With some scientific grade GPS's this 1 PPS output might be accurate to better than 1 nS.</p>
","30754"
"How do I receive an entire string as opposed to 1 character at a time on the arduino?","56102","","<p>I followed the instructions on this website successfully:</p>

<p><a href=""http://www.doctormonk.com/2012/04/raspberry-pi-and-arduino.html"">http://www.doctormonk.com/2012/04/raspberry-pi-and-arduino.html</a></p>

<p>and I was able to get communication between the pi and my arudino mega exactly as the website specifies.  </p>

<p>However, instead of sending an integer representing the number of times the LED blinks, I want to sent ASCII text like: </p>

<p>""MOVE 5 METERS FORWARD"",  ""TURN LEFT"",  ""MOVE 10 METERS BACKWARD"" to the arduino from the pi.  </p>

<p>I wrote the following code:</p>

<pre><code>char inData[64];
char inChar=-1;

void setup(){
   Serial.begin(9600);
   Serial.begin(""Waiting for Raspberry Pi to send a signal...\n"");
}


void loop(){
    byte numBytesAvailable= Serial.available();

    // if there is something to read
    if (numBytesAvailable &gt; 0){
        // store everything into ""inData""
        int i;
        for (i=0;i&lt;numBytesAvailable;i++){
            inChar= Serial.read();
            inData[i] = inChar;
        }

        inData[i] = '\0';


        Serial.print(""Arduino Received: "");
        Serial.println(inData);
    }
}
</code></pre>

<p>I flashed  above code succesfully to my Arduino Mega 2560.  </p>

<p>I switched to my python terminal on the Raspberry Pi and in the console I typed:</p>

<pre><code>import serial
ser = serial.Serial('/dev/ttyACM1',9600)
ser.write(""MOVE"")
</code></pre>

<p>What gets displayed on my Arduino's Serial Monitor is as follows:</p>

<pre><code>Arduino Received: M
Arduino Received: O
Arduino Received: V
Arduino Received: E
</code></pre>

<p>But what I want is:</p>

<pre><code>Arduino Received: MOVE
</code></pre>

<p>How do I change the code above to get all characters into the inData buffer?</p>
","<p>The problem is that the Arduino is looping around so fast it will execute the ""if (numBytesAvailable > 0)"" line several times between each character arriving through the serial port. So as soon as a character does arrive, it grabs it, loops from zero to one and prints a single character out.</p>

<p>What you should do is send an end of line character ('\n') after each command from your Python program. Then have you Arduino code buffer each character it recieves and only act on the message once it recieves the end of line character.</p>

<p>So if you change your Python code do send an end of line character, like so:</p>

<pre><code>import serial
ser = serial.Serial('/dev/ttyACM1',9600)
ser.write(""MOVE\n"")
</code></pre>

<p>Then you're Arduino code can be something like this:</p>

<pre><code>// Buffer to store incoming commands from serial port
String inData;

void setup() {
    Serial.begin(9600);
    Serial.println(""Waiting for Raspberry Pi to send a signal...\n"");
}

void loop() {
    while (Serial.available() &gt; 0)
    {
        char recieved = Serial.read();
        inData += recieved; 

        // Process message when new line character is recieved
        if (recieved == '\n')
        {
            Serial.print(""Arduino Received: "");
            Serial.print(inData);

            inData = """"; // Clear recieved buffer
        }
    }
}
</code></pre>
","45551"
"3-phase explanation","56083","","<p>I have been reading about single phase and three phase power. I'm completely confused now.</p>

<p>Can someone please give me a working example of when I would use three phase power instead of single phase (some sort of common situation I could relate to) and why, instead of single phase?</p>
","<p>Single phase power will have periods with zero power (the power is zero when either the voltage or current crosses zero)</p>

<p>For most practical user situations, this does not matter because the load has enough energy storage to 'ride through' the nulls in power.  The energy storage may be the spinning inertia of a mechanical system or the capacitors in an electronic system.</p>

<p>When the power (current) level starts increasing, three-phase power is preferred because you can reduce the number of conductors and this provides a cost benefit. This reduction becomes significant for distribution systems:</p>

<p>Consider a 3kW load with a line to neutral voltage of 100Vac.  The single phase current is 30A and the three phase current is 10A.  This means that for a single phase system, one needs two wires that carry 30A each.  For a balanced three-phase system you only need three wires each carrying 10A.  The neutral wire isn't needed since it carry's zero current. If you select the wire size to have the same current density (A/sq area), the single phase system uses twice the amount of copper that the three-phase system uses. </p>
","32031"
"How does a fuse blow at its current rating, regardless of voltage?","55379","","<p>I know from reading elsewhere that it's safe to use a fuse with a higher voltage rating when replacing one, so long as the current rating and reaction speed is the same.</p>

<p>For example, if a fuse is rated <code>125V 1A</code>, then a <code>250V 1A</code> can be used.</p>

<p>Let's say these two example fuses have a resistance of 0.153 and 0.237 ohms, respectively. (Littelfuse 5x20mm fast-action cartridge type.)</p>

<p>Is it therefore correct to say that the <code>125V 1A</code> fuse in theory should blow at 153 mW and the <code>250V 1A</code> fuse blows at 237 mW? (Using \$P = I^2R\$)</p>
","<p>The current rating of a fuse represents the minimum sustained current the fuse will blow at ... eventually. A 1A fuse will take 1A for a very long time without blowing, and if the fuse can dump some heat into the PCB or has airflow across it, may never blow at 1A.</p>

<p>The critical parameter is the \$I^2 \cdot t\$ rating, which gives you an idea of the <em>energy</em> (power and time) needed to blow it. (Remember that fuses are really meant to protect circuits when there are catastrophic failures.)</p>

<p>It's cruically important to match \$I^2 \cdot t\$ ratings, since if you replace a fast acting fuse with a slow-blow type, even thought they both say 1A, it's going to take radically different energy levels to actually blow them.</p>

<p>When the fuse is intact, you only have an \$I \cdot R\$ voltage drop across it. This drop is going to be nowhere close to the voltage rating of the fuse (else it acts like a big resistor and limits the energy available to your circuit.) Once the fuse blows, the voltage rating comes into play, which represents how much voltage potential the open fuse can withstand without flashing over and re-energizing the compromised load circuit.</p>
","51389"
"How to drive a Peltier element?","55057","","<p>Maybe the underlying question is what the Voltage-Current curve looks like. Can I drive it from a voltage source (like you drive a heater) or from a current source (like you drive an LED)? Or even different than those two options?</p>

<p><strong>ADDITIONAL1:</strong> Say (hypothetically) I have two <em>commercially available identical</em> Peltier's, they are spec'd 6V/3A. Can I connect these in series to a 12Vdc power supply without any worries?</p>

<p><strong>CONCLUSION1:</strong> Current/Voltage load curve is reasonably linear, both driving from current or voltage source will do fine as long as the device is operated within its spec. (Olin Lathrop, Russell McMahon)</p>

<p><strong>CONCLUSION2:</strong> Don't drive a Peltier from PWM, power loss due to current increase, grows more rapidly than cooling power. (Olin Lathrop)</p>

<p><strong>CONCLUSION3:</strong> Beware the mechanical wear of the device with continues cycling. Eg. don't use a thermostat on/off controller. (Russell McMahon)</p>
","<p>Peltier devices work on current, but usually have significant enough resistance so that voltage control is possible.</p>

<p>Peltier devices are one of the few things you do <strong>not</strong> want to run with pulses, particularly in cooling applications.  The cooling effect is proportional to current, but the internal heating due to \$I^2R\$ losses is proportional to the square of the current.  Starting at 0, increasing current causes increasing cooling.  However, at some point the resistive heating due to more current outweighs the additional cooling power of the higher current.  More current beyond this actually therefore causes less overall cooling.  The maximum cooling current is one of the parameters that should be supplied by the manufacturer.</p>

<p>While maximum cooling occurs at some specified current, efficiency steadily decreases with increasing current.  Therefore you don't want to PWM a peltier cooler between 0 and the maximum cooling current.  Driving it at the steady current to produce the same overall cooling is more efficient.</p>

<p>Of course the microcontroller regulating the temperature will still produce PWM pulses.  These pulses need to be filtered so that the Peltier device sees relatively smooth current.  The general rule of thumb is to try to keep the ripple below 10% of nominal, but of course that is just a tradeoff someone picked.  Fortunately, this is usually not a difficult requirement to design to.</p>
","28637"
"Push-pull/open drain; pull-up/pull-down","54970","","<p>I am reading the datasheet of an ARM Cortex chip, specifically the GPIO chapter. Ultimately, I want to configure various GPIO pins to use them in ""Alternate Function"" mode for read/write access to SRAM.</p>

<p>Of all the GPIO registers available, I do not understand two: <code>GPIO_PUPDR</code> and <code>GPIO_OTYPE</code> which are respectively the ""pull-up/pull-down register"" and the ""output type register"".</p>

<p>For <code>GPIO_PUPDR</code> I have three choices:</p>

<ul>
<li>No pull-up or pull-down</li>
<li>Pull-up</li>
<li>Pull down</li>
</ul>

<p>For <code>GPIO_0TYPE</code> I have two choices:</p>

<ul>
<li>Output push-pull</li>
<li>Output open-drain</li>
</ul>

<p>What is the difference between all the different configurations, and which would be the most appropriate for SRAM communication?</p>

<p>The documentation for the board I am working on is available <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/USER_MANUAL/DM00022972.pdf"">here</a> (see page 24 for the SRAM schematics). The reference manual for the ARM Chip is available <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/REFERENCE_MANUAL/CD00225773.pdf"">here</a> (see pages 145 and 146 for the GPIO registers).</p>
","<p>This answer is general to processors and peripherals, and has an SRAM specific comment at the end, which is probably pertinent to your specific RAM and CPU.</p>

<p>Output pins can be driven in three different modes:</p>

<ul>
<li><strong>open drain</strong> - a transistor connects to low and nothing else</li>
<li><strong>open drain, with pull-up</strong> - a transistor connects to low, and a resistor connects to high  </li>
<li><strong>push-pull</strong> - a transistor connects to high, and a transistor connects to low   (only one is operated at a time)</li>
</ul>

<p>Input pins can be a gate input with a:</p>

<ul>
<li><strong>pull-up</strong> - a resistor connected to high  </li>
<li><strong>pull-down</strong> -  a resistor connected to low </li>
<li><strong>pull-up and pull-down</strong>  - both a resistor connected to high and a resistor connected to low (only useful in rare cases).</li>
</ul>

<p>There is also a <strong>Schmitt triggered input mode</strong> where the input pin is pulled with a weak pull-up to an initial state. When left alone it persists in its state, but may be pulled to a new state with minimal effort.</p>

<p>Open drain is useful when multiple gates or pins are connected together with an (external or internal) pull-up. If all the pin are high, they are all open circuits and the pull-up drives the pins high. If any pin is low they all go low as they tied together. This configuration effectively forms an <code>AND</code> gate.</p>

<p>When driving an SRAM you probably want to drive either the data lines or the address lines high or low as solidly and rapidly as possible so that active up and down drive is needed, so push-pull is indicated. In some cases with multiple RAMs you <em>may</em> want to do something clever and combine lines, where another mode may be more suitable.</p>

<p>With SRAM with data inputs from the SRAM if the RAM IC is always asserting data then a pin with no pull-up is <em>probably</em> OK as the RAM always sets the level and this minimises load. If the RAM data lines are sometimes open circuit or tristate you will need the input pins to be able to set their own valid state. In very high speed communications you <em>may</em> want to use a pull-up and and a a pull-down so the parallel effective resistance is the terminating resistance, and the bus idle voltage is set by the two resistors, but this is somewhat specialist.</p>
","28096"
"What is the difference between a 12V and 24V DC motor?","54929","","<p>I was buying DC motors for making robots. I wanted to ask whether the voltage written on the motor, e.g. 12V or 24V, matters. Whether a 100 RPM 5kg/cm torque 12V DC motor is any different from a 100 RPM 5kg/cm torque 24V DC motor. If I give 24V to a 12V motor, then would it be a problem, or would it not accommodate 24V and finally perform as it would have performed on a 12V power supply? Or would a 12V motor perform better on 24V than it does on 12V?</p>
","<p>On their respective power supplies both motors should perform identically but the 12V motor would draw twice as much current from its 12V supply compared to the 24V motor on a 24V supply.</p>

<p>In other words power supplied to both motors should be quite similar for a given mechanical load. Mechanical load power is defined as \$2\pi n T\$ where n is speed in revs per second and T is torque is newton-metres. And if the 12V motor took 4 Amps to supply a certain mechanical power output then the 24V motor would take 2A to perform identically.</p>

<p>DC motors of the simple type (trying not to generalize here) will rotate at full speed on no-load and this speed is mainly determined by the applied voltage. Putting 24V on a 12V motor may wreck it. Conversely, on heavy loads, the speed normally reduces fairly linearly with torque but on a 24V supply there may be enough potential for the motor to fry due to it being able to supply more torque and speed. Don't do it is my advice.</p>
","98906"
"What's a schematic (compared to other diagrams)?","54003","","<p>What's the difference between a <strong>schematic</strong>, a <strong>block diagram</strong>, a <strong>wiring diagram</strong> and a <strong>PCB layout</strong>?</p>

<p>Why do engineers want a schematic instead of a wiring diagram?</p>

<p>Where does <strong>Fritzing</strong> fit into this?</p>
","<h1>Schematic</h1>

<p>A <strong>schematic</strong> shows connections in a circuit in a way that is clear and standardized. It is a way of communicating to other engineers exactly what components are involved in a circuit as well as how they are connected. A good schematic will show component names and values, and provide labels for sections or components to help communicate the intended purpose. Note how connections on wires (or ""nets"") are shown using dots and <em>non-connections</em> are shown without a dot.</p>

<p><img src=""https://i.stack.imgur.com/2OT3B.png"" alt=""Schematic""></p>

<h1>Block Diagram</h1>

<p>A <strong>block diagram</strong> shows a higher level (or organizational layout) of functional units in a circuit (or a device, machine, or collection of these). It is meant to show data flow or organization between separate units of function. A block diagram gives you an <em>overview</em> of the interconnected nature of circuit assemblies or components.</p>

<p><img src=""https://i.stack.imgur.com/f6NZF.png"" alt=""Block Diagram""></p>

<h1>Wiring Diagram</h1>

<p>A <strong>wiring diagram</strong> is sometimes helpful to illustrate how a schematic can be realized in a prototype or production environment. A <em>proper</em> wiring diagram will be labeled and show connections in a way that prevents confusion about how connections are made. Typically they are designed for end-users or installers. They focus on <em>connections</em> rather than <em>components</em>.</p>

<p><img src=""https://i.stack.imgur.com/vXe8m.png"" alt=""Wiring Diagram""></p>

<h1>PCB Layout</h1>

<p>A <strong>PCB Layout</strong> is the resulting design from taking a schematic with <em>specific</em> components and determining how they will physically be laid out on a printed circuit board. To produce a PCB Layout, you must know the connections of components, component sizes (footprints), and a myriad of other properties (such as current, frequencies, emissions, reflections, high voltage gaps, safety considerations, manufacturing tolerances, etc.).</p>

<p><img src=""https://i.stack.imgur.com/Yqfpj.png"" alt=""PCB Layout""></p>

<h1>Fritzing</h1>

<p><a href=""http://fritzing.org/"">Fritzing</a> is a popular open-source software program designed to help you create electronics prototypes. It uses a visual approach to allow you to connect components to Arduino using a virtual breadboard, and even provides ways to design a PCB. Its strength is in the ease with which new users can approach it. One of the principal working views is the virtual breadboard:</p>

<p><img src=""https://i.stack.imgur.com/UN9co.png"" alt=""Fritzing diagram""></p>

<p>However, as you can see, it can be time-consuming to tell exactly how components are connected, even if you are very familiar with how breadboard connections work (as most electronics engineers are). As a circuit gets more complex, the visualization becomes more cluttered.</p>

<p>Fritzing provides a way to produce a schematic:</p>

<p><img src=""https://i.stack.imgur.com/x0h4I.png"" alt=""Fritzing screenshot""></p>

<p>Be sure to use this to produce a schematic if you need to ask questions about your circuit. It will help others to quickly understand the components and connections involved in your design.</p>

<h1>Prototype Photo</h1>

<p>Sometimes a photo can help engineers troubleshoot your design. Especially if quality issues are suspected, such as soldering reliability, improper connections, incorrect polarities, and other problems which might be revealed in a photo. However, realize that <em>most</em> photos are not immediately useful, and if your project is complicated, a picture will do little more than show that you've spent a lot of time and effort on your project! <strong><em>Hint: Not helpful!</em></strong></p>

<p><img src=""https://i.stack.imgur.com/nQwDO.png"" alt=""Breadboard complicated build""></p>

<p><sub><em>Images were obtained using internet image searches with license set to public domain or free to use for non-commercial use.</em></sub></p>
","105137"
"What do I need for a basic RF circuit?","53946","","<p>I'm looking for any resource that can help me build a very very basic RC circuit. I'm talking as simple as using RF to turn on/off an LED. The purpose of this circuit is for research and education. If anyone knows where I can get parts for simple RF circuits or even a tutorial or schematic that would be really appreciated. </p>

<p>From what I've gathered, (and I'm an absolute noob to this) I will need a transmitter and a receiver... is that correct? </p>

<p>Honestly guys, I know you are all probably annoyed with this question and trust me, I wouldn't bother you all if I could find my own way into RF for beginners but really I'm having the toughest time finding good resources for RF circuit building. All I'm looking for is something to get me started in the right direction and then I can go from there.</p>

<p>I've googled about a thousand things to try and find info on this but all I end up getting are a bunch of RC planes/boats sites. Nothing for just regular basic do-it-yourself circuit building. </p>

<p>Please no infrared. I'm only interested in radio control. Thanks!</p>
","<p>If you want complete DIY, which is probably not you best starting point, then something like this is about as simple as you can get. Receiver at left. Transmitter at right.</p>

<p><img src=""https://i.stack.imgur.com/fwySK.gif"" alt=""enter image description here""></p>

<p>That is from this wonderful page of RF ideas <a href=""http://www.qsl.net/va3iul/Homebrew_RF_Circuit_Design_Ideas/Homebrew_RF_Circuit_Design_Ideas.htm"" rel=""noreferrer"">Homebrew RF Circuit Design Ideas</a> These tend to be circuits only with no notes so a bit of a leap for a beginner.</p>

<p>with the actual circuit diagram <a href=""http://www.qsl.net/va3iul/Homebrew_RF_Circuit_Design_Ideas/Short_Range_Wireless_Data_Communication.gif"" rel=""noreferrer"">here</a></p>

<hr>

<p><strong>A wireless doorbell may do what you want.</strong></p>

<hr>

<p>""ASK"" RF data modules abound - finding them amongst the 1000 at a  time Alibaba adverisers is the trick.</p>

<p><a href=""http://www.miniinthebox.com/electronics-diy-nrf24l01-2-4ghz-wireless-communication-module_p340882.html#description"" rel=""noreferrer"">Here is one at $US6 with free shipping</a> Uses nRF24L01 transceiver IC from Nordic.</p>

<p><img src=""https://i.stack.imgur.com/O8WDg.jpg"" alt=""enter image description here""></p>

<p><a href=""https://www.sparkfun.com/products/705?"" rel=""noreferrer"">From Sparkfun</a>  - uses same IC - $20. </p>

<ul>
<li>Description: The nRF24L01 module is the latest in RF modules from SparkFun. This module uses the 2.4GHz transceiver from Nordic Semiconductor, the nRF24L01+. This transceiver IC operates in the 2.4GHz band and has many new features! Take all the coolness of the nRF2401A and add some extra pipelines, buffers, and an auto-retransmit feature - very nice!</li>
</ul>

<p>You can DIY it with the IC, burt here's what's on board (+ a power supply)
<img src=""https://i.stack.imgur.com/IZc77.jpg"" alt=""enter image description here""></p>

<hr>

<p>There are many low power short range low cost wireless data modules available.</p>

<p><a href=""https://www.google.co.nz/search?q=wireless+module&amp;hl=en&amp;safe=off&amp;prmd=imvns&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=aaZvUOyiEo6eiAf7y4DACw&amp;sqi=2&amp;ved=0CAcQ_AUoAQ&amp;biw=2133&amp;bih=1201#q=wireless+module&amp;hl=en&amp;safe=off&amp;sa=X&amp;tbm=isch&amp;prmd=imvns&amp;bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&amp;fp=8cc276d77a5bbbe1&amp;biw=2560&amp;bih=1441"" rel=""noreferrer"">A large number of idea starters here</a> look for small unhoused modules. </p>

<p>A bit fancy but would do what you want - but also somewhat complex to use and at GBP13.50 a bit expensive <a href=""http://www.google.co.nz/imgres?hl=en&amp;safe=off&amp;sa=X&amp;biw=2560&amp;bih=1441&amp;tbm=isch&amp;prmd=imvns&amp;tbnid=B6fR0xsSfwSzYM:&amp;imgrefurl=http://www.skpang.co.uk/catalog/wixel-programmable-usb-wireless-module-p-876.html&amp;docid=27VqSPtbkITbIM&amp;imgurl=http://www.skpang.co.uk/catalog/images/wireless/2-4ghz/0J3333.600.jpg&amp;w=600&amp;h=501&amp;ei=f6ZvUIemOa2viQfrroHgCw&amp;zoom=1&amp;iact=hc&amp;vpx=1684&amp;vpy=300&amp;dur=189&amp;hovh=204&amp;hovw=245&amp;tx=121&amp;ty=128&amp;sig=105250506097979753968&amp;page=1&amp;tbnh=144&amp;tbnw=172&amp;start=0&amp;ndsp=104&amp;ved=1t:429,r:22,s:0,i:134"" rel=""noreferrer"">Pololu Wixel</a></p>

<p><a href=""http://www.google.co.nz/imgres?start=0&amp;hl=en&amp;safe=off&amp;sa=X&amp;biw=2560&amp;bih=1441&amp;tbm=isch&amp;prmd=imvns&amp;tbnid=T59N8li9o7L4YM:&amp;imgrefurl=http://www.aliexpress.com/item/Freeshipping-F365-nRF905-nRF24L01-Wireless-to-USB-module-USB-wireless-communication-control-module/504454697.html&amp;docid=gk_O8SYWW8owYM&amp;imgurl=http://img.alibaba.com/wsphoto/v0/443236184/FreeShipping-F21-NRF24LU1-Wireless-USB-Module-2-4G-Wireless-Module.jpg&amp;w=624&amp;h=348&amp;ei=gaZvUNDHJo-XiQf9uYHoCQ&amp;zoom=1&amp;iact=hc&amp;vpx=476&amp;vpy=780&amp;dur=22&amp;hovh=168&amp;hovw=300&amp;tx=163&amp;ty=103&amp;sig=105250506097979753968&amp;page=1&amp;tbnh=106&amp;tbnw=190&amp;ndsp=104&amp;ved=1t:429,r:68,s:0,i:12"" rel=""noreferrer"">Similar</a></p>

<hr>

<p>433 MHz ISM band transceivers.  $15US/1.<a href=""http://www.siliconray.com/boards-modules/wireless/nrf905-433mhz-wireless-module.html"" rel=""noreferrer"">here</a></p>

<p><img src=""https://i.stack.imgur.com/4bnsm.jpg"" alt=""enter image description here""></p>

<hr>

<p>Transmitter $3 free shipping.
Receivers will be ~ similar <a href=""http://www.buyincoins.com/new_en/details/315m-wireless-transmitter-module-with-pcb-antenna-c15-4kb-s-high-quality-product-11876.html"" rel=""noreferrer"">here</a></p>

<p><img src=""https://i.stack.imgur.com/3UJNJ.jpg"" alt=""enter image description here""></p>

<hr>

<p>panStamp <a href=""http://www.panstamp.com/products/wirelessarduino"" rel=""noreferrer"">here</a></p>

<p>Open source</p>

<ul>
<li>panStamps are small wireless modules programmable from the Arduino IDE. Each module contains an Atmega328p MCU and a Texas Instruments CC1101 RF interface, providing the necessary connectivity and processing power to create autonomous low-power wireless motes. Everything contained into a compact DIP-24 module.</li>
</ul>

<p><a href=""http://www.panstamp.com/store"" rel=""noreferrer"">Store</a> $18.55 basic unit.</p>

<p><img src=""https://i.stack.imgur.com/7ApFx.jpg"" alt=""enter image description here""></p>

<hr>

<p>Units <a href=""http://www.gsm-gprs-modem.com/china-rf_transceiver_wireless_module_hm_r-134822.html"" rel=""noreferrer"">like this</a> rare widely available at modest cost. This site only sells them in volume (probably).</p>

<p><img src=""https://i.stack.imgur.com/IEXpd.jpg"" alt=""enter image description here""></p>
","42937"
"What are the ways to make a dual power supply from a single voltage source?","53638","","<p>I have a function generator IC <a href=""http://www.jaycar.com.au/images_uploaded/XR2206V1.PDF"" rel=""nofollow noreferrer"">XR2206</a> from EXAR. It's application circuits uses dual power supply +/-9 volts. How can I make such a 9-0-9 dual supply from a single voltage source like a battery or an adapter?</p>
","<p>A relatively painless approach, assuming you have just the requisite positive supply, say +9 Volts, would be the use of a switched-capacitor voltage converter such as the <a href=""http://datasheets.maximintegrated.com/en/ds/ICL7660-MAX1044.pdf"">MAX1044 or ICL7660</a> in voltage inverting mode. The first typical operating circuit schematic in the linked datasheet shows how.</p>

<p>This will provide an inverted voltage supply of up to 10mA, matching the positive voltage supply, up to 10 Volts: Sufficient for XR2206 operation with a high impedance load.</p>

<p>For higher current requirements, other negative voltage generation modules exist from various manufacturers, typically switch mode converters.</p>

<hr>

<p>If a supply of twice the required minimum voltage is available, another option is to simply split the supply and create a virtual ground, either using an op-amp fed from a pair of matched resistors as voltage divider, or using a dedicated rail splitter part such as the Texas Instruments <a href=""http://www.ti.com/product/tle2426"">TLE2426</a>.</p>

<p>This <a href=""http://tangentsoft.net/elec/vgrounds.html"">article</a> provides some ideas on virtual ground / rail splitter circuits.</p>
","79310"
"Crystals, Oscillators, and Resonators. What the difference?","52983","","<p>I am trying to figure out the difference between crystals, oscillators, and resonators.  I'm starting to grasp it but I still have some questions.</p>

<p>From my understanding, an oscillator is built from a crystal and two capacitors.  What is a resonator then?  Is it a difference in terminology?</p>

<p>If an oscillator and a resonator are similar, why do these two items:</p>

<p><a href=""http://www.digikey.com/product-detail/en/HWZT-16.00MD/535-9379-ND/675574"">http://www.digikey.com/product-detail/en/HWZT-16.00MD/535-9379-ND/675574</a></p>

<p><a href=""http://www.digikey.com/product-detail/en/FCR16.0M2G/445-1646-ND/653108"">http://www.digikey.com/product-detail/en/FCR16.0M2G/445-1646-ND/653108</a></p>

<p>have two pins out and no ground.  Whereas this one </p>

<p><a href=""http://www.digikey.com/product-detail/en/ZTT-16.00MX/X908-ND/170095"">http://www.digikey.com/product-detail/en/ZTT-16.00MX/X908-ND/170095</a></p>

<p>has three pins one of which is a ground?</p>

<p>Will any of these three devices work as an external clock for a microcontroller?</p>

<p>PS:  Bonus points for an explanation of how the capacitors help the crystal work properly. :)</p>
","<p>Both ceramic resonators and quartz crystals work on the same principle: the vibrate mechanically when an AC signal is applied to them. Quartz crystals are more accurate and temperature stable than ceramic resonators. The resonator or crystal itself has <em>two</em> connections. On the left the crystal, right the ceramic resonator.</p>

<p><img src=""https://i.stack.imgur.com/fEJ0I.jpg"" alt=""enter image description here""> 
<img src=""https://i.stack.imgur.com/SVmE7.jpg"" alt=""enter image description here""></p>

<p>Like you say the oscillator needs extra components, the two capacitors. The active part which makes the oscillator work is an amplifier which supplies the energy to keep the oscillation going.  </p>

<p><img src=""https://i.stack.imgur.com/R1Bft.png"" alt=""enter image description here"">  </p>

<p>Some microcontrollers have a low-frequency oscillator for a 32.768 kHz crystal, which often has the capacitors built-in, so that you only need two connections for the crystal (left). Most oscillators, however, need the capacitors externally, and then you have thee connections: input from the amplifier, output to the amplifier, and ground for the capacitors. A resonator with three pins has the capacitors integrated.</p>

<p>The function of the capacitors: in order to oscillate the closed loop amplifier-crystal must have a total phase shift of 360°. The amplifier is inverting, so that's 180°. Together with the capacitors the crystal takes care of the other 180°.</p>

<p><strong>edit</strong><br>
When you switch a crystal oscillator on it's just an amplifier, you don't get the desired frequency yet. The only thing that's there is a low-level noise over a wide bandwidth. The oscillator will amplify that noise and pass it through the crystal, upon which it enters the oscillator again which amplifies it again and so on. Shouldn't that get you just very much noise? No, the crystal's properties are such that it will pass only a very small amount of the noise, around its resonance frequency. All the rest will be attenuated. So in the end it's only that resonance frequency which is left, and then we're oscillating.</p>

<p>You can compare it with a trampoline. Imagine a bunch of kids jumping on it randomly. The trampoline doesn't move much and the kids have to make a lot of effort to jump just 20cm up. But after some time they will start to synchronize and the trampoline will follow the jumping. The kids will jump higher and higher with less effort. The trampoline will oscillate at its resonance frequency (about 1Hz) and it will be hard to jump faster or slower. That's the frequencies that will be filtered out.<br>
The kid jumping on the trampoline is the amplifier, she supplies the energy to keep the oscillation going.</p>

<p><strong>Further reading</strong><br>
<a href=""http://www.ti.com/lit/an/slaa322b/slaa322b.pdf"">MSP430 32 kHz crystal oscillators</a></p>
","36321"
"Ceramic capacitors: how to read 2-digit markings?","52669","","<p>Related question: <a href=""https://electronics.stackexchange.com/questions/16636/ceramic-capacitors-how-to-read-values"">Ceramic capacitors: how to read 3-digit markings?</a></p>

<p>I have some ceramic capacitors with a 2-digit marking. How to read them? Do the colored markings at the top mean anything?</p>

<p><img src=""https://i.stack.imgur.com/tP31m.jpg"" alt=""7 capacitors""></p>

<p>Image description:</p>

<ul>
<li>Brown ceramic capacitors with <code>10</code> written and a black mark at the top</li>
<li>Brown ceramic capacitors with <code>47</code> written</li>
<li>Yellow ceramic capactiors with <code>1n0</code> written and a green mark at the top</li>
</ul>
","<p>The brown capacitors have values in picoFarads</p>

<p>eg<br>
 47 = 47 picoFarad = 47 pF = 0.000 000 000 047 Farad !<br>
 10 = 10 pF </p>

<p><img src=""https://i.stack.imgur.com/Ji8LS.jpg"" alt=""enter image description here""></p>

<p>For the yellow and green capacitors with markings of the form</p>

<p>anb</p>

<p><img src=""https://i.stack.imgur.com/qdE4k.jpg"" alt=""enter image description here""></p>

<p>Here n = nanoFarad = nF.</p>

<blockquote>
  <p>1n0 = 1.0 nF<br>
  2n2 = 2.2 nF<br>
  6n8 = 6.8 nF</p>
</blockquote>

<p>Note that the use of xNx here is (probably) unqiue to capacitors in the nF range - I do not recall seeing eg xPx or xUx markings ever.</p>

<p><strong>However</strong> page 70 of this superb<a href=""http://www.vishay.com/docs/22019/cergenin.pdf"">Vishay ceramic single layer capacitors</a> document suggests you might expect to meet any of eg<br>
p68 = 0.68 pF<br>
n15 = 0.15nF = 150 pF<br>
5p0 = 5 pF etc</p>

<p>The green dot is quite likely to be a voltage rating, <strong>but</strong> alas I don't know what system it uses. There are several different colour/voltage systems. Typically this sort of capacitor is 50 Volt rated but this is not certain.</p>

<hr>

<p><strong>More usual nnX 3 digit markings</strong></p>

<p>Most capacitor numerical markings are 3 digit and express the value in pF (pico Farad = 10^-12 Farad) with the last digit being a power of 10 multiplier.</p>

<p>So</p>

<blockquote>
  <p>223 = 22,000 pF = 22 nF = 0.022 uF = 0.000 000 022 F<br>
  106 = 10 000 000 pF = 10 uF<br>
  100 = 10 pF <strong>and NOT</strong> 100 pF etc</p>
</blockquote>

<hr>

<p>Part of a larger tutorial series on capacitors. Deals in colour codes. Does not answer exact question but is <a href=""http://www.electronics-tutorials.ws/capacitor/cap_5.html"">useful</a></p>

<p>This does NOT answer the original question but is <a href=""http://www.kpsec.freeuk.com/components/capac.htm"">useful</a></p>
","18105"
"Differences between thermistors and thermocouples","52474","","<p>As I understand it, both <strong>thermistors</strong> and <strong>thermocouples</strong> are temperature sensors. So what are the advantages/disadvantages of using one over the other to measure the temperature?
What are the specific applications for either of the sensors?</p>
","<p>Thermocouples:</p>

<ul>
<li><a href=""http://www.watlow.com/reference/refdata/0310.cfm"">wide range of temperature sensing</a> (Type T = -200-350°C; Type J = 95-760°C; Type K = 95-1260°C; other types go to even higher temperatures)</li>
<li>can be very accurate</li>
<li>sensing parameter = voltage generated by junctions at different temperatures</li>
<li>thermocouple voltage is relatively low (4.3mV for Type T thermocouple with one end at 0 C, other at 100 C, so that's 43uV/C tempco)</li>
<li>mostly linear</li>
</ul>

<p>Thermistors:</p>

<ul>
<li>more narrow range of sensing (<a href=""http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CEcQFjAA&amp;url=http://www.thermistor.com/references/curves_z-y-t-w.pdf&amp;ei=mEwPT9WXBbK60QHincTIAw&amp;usg=AFQjCNH5Xa0P63iRLm17_ZRZEfVCl8TcYw"">Quality Z thermistors</a> spec'd at -55 to +150 C)</li>
<li>sensing parameter = resistance</li>
<li>usually very nonlinear</li>
<li>NTC thermistors have a roughly exponential decrease in resistance with increasing temperature</li>
<li>good for sensing small changes in temperature (unless you are careful in your signal conditioning, it's hard to use a thermistor accurately and with high resolution over more than a 50 C range).</li>
<li>sensing circuit doesn't need amplification &amp; is very simple (voltage divider with reference resistor tied to reference voltage usually is sufficient) – see my blog for <a href=""http://www.embeddedrelated.com/showarticle/91.php"">more information about signal conditioning</a>.</li>
<li>accuracy is usually hard to get better than 1°C without calibration</li>
</ul>
","24990"
"Can I replace all electrolytic capacitors with ceramic ones?","52239","","<p>I am designing the power supply circuit for a system that needs several supplies, my questions are:</p>

<ul>
<li><p>Is it possible to replace all electrolytic caps (Mostly 100uF) by ceramic ones? What are the limitations of ceramic?</p></li>
<li><p>Should I use a 2x voltage rating for ceramics as it's done for electrolytic?</p></li>
<li><p>What about ripple current rating? Is it an important factor when choosing ceramics as in electrolytic?</p></li>
</ul>

<p><strong>Added 1/9/2014:</strong> More about ceramic limitations</p>

<p>I found this <a href=""https://www.youtube.com/watch?v=2MQyQUkwmMk"">excellent video</a> submitted by Dave at EEVBlog showing the limitations of different types of ceramic caps and how they are affected by the applied voltage and the bias voltage too. Worth watching!</p>
","<p>100 &micro;F is really pushing the limit for ceramic caps.  If your voltages are low, like a few volts to 10 or maybe 20 volts, then paralleling multiple ceramics may be reasonable.</p>

<p>High capacitance ceramic caps have their own set of advantages and disadvantages.  The advantages are much lower equivalent series resistance and therefore much higher ripple current capability, usefulness to higher frequencies, less heat sensitivity, much better lifetime, and in most cases better mechanical ruggedness.  They have their own problems too.  The capacitance can degrade significantly with voltage, and the denser (more energy storage per volume) ceramics exhibit piezo effects often called ""microphonics"".  In just the wrong circumstance, this can lead to oscillation, but that is rare.</p>

<p>For switching power supply applications, ceramics are usually a better tradeoff than electrolytics unless you need too much capacitance.  This is because they can take much more ripple current and heat better.  The lifetime of electrolytics is severly degraded by heat, which is often a problem with power supplies.</p>

<p>You don't need to derate ceramics as much as electrolytics because the lifetime of ceramics is much larger to begin with and is much less a function of the applied voltage.  The thing to watch out for with ceramics is that the dense ones are made from material that is non-linear, which shows up as reduced capacitance at the higher ends of the voltage range.</p>

<h2>Added about microphonics:</h2>

<p>Some dielectrics physically change size as a function of applied electrical field.  For many the effect is so small that you don't notice and it can be ignored.  However, some ceramics exhibit a strong enough effect that you can eventually hear the resulting vibrations.  Usually you can't hear a capacitor by itself, but since these are soldered fairly rigidly to a board, the small vibrations of the capacitor can cause the much larger board to also vibrate, especially at a resonant frequency of the board.  The result can be quite audible.</p>

<p>Of course the reverse works too since physical properties generally work both ways, and this one is no exception.  Since applied voltage can change the dimensions of the capacitor, changing its dimensions by applying stress can change its open-circuit voltage.  In effect, the capacitor acts as a microphone.  It can pick up the mechanical vibrations the board is subjected to, and those can make their way into the electrical signals on the board.  These types of capacitors are avoided in high sensitivity audio circuits for this reason.</p>

<p>For more information on the physics behind this, look up properties of barium titanate as a example.  This is a common dielectric for some ceramic caps because it has desirable electrical properties, particularly fairly good energy density compared to the range of ceramics.  It achieves this by the titanium atom switching between two energy state.  However, the effective size of the atom differs between the two energy states, hence the size of the lattice changes, and we get physical deformation as a function of applied voltage.</p>

<p><b>Anecdote:</b> I recently ran into this issue head on.  I designed a gizmo that connects to the DCC (Digital Command and Control) power used by model trains.  DCC is a way to transmit power but also information to specific ""rolling stock"" on the tracks.  It is a differential power signal of up to 22 V.  Information is carried by flipping the polarity with specific timing.  The flipping rate is roughly 5-10 kHz.  To get power, devices full wave rectify this.  My device wasn't trying to decode the DCC information, just get a little bit of power.  I used a single diode to half wave rectify the DCC onto a 10 &micro;F ceramic cap.  The droop on this cap during the off half-cycle was only about 3 V, but that 3 Vpp was enough to make it sing.  The circuit worked perfectly, but the whole board emitted a quite annoying whine.  That was unacceptable in a product, so for the production version this was changed to a 20 &micro;F electrolytic cap.  I originally went with ceramic because it was cheaper, smaller, and should have longer life.  Fortunately this device is unlikely to be used at high temperatures, so the lifetime of the electrolytic cap should be lot better than its worst case rating.</p>

<p>I see from the comments there is some discussion about why switching power supplies sometimes whine.  Some of that could be due to the ceramic caps, but magnetic components like inductors can also vibrate for two reasons.  First, there is force on each bit of wire in the inductor proportional to the square of the current thru it.  This force is sideways to the wire, making the coil vibrate if not held in place well.  Second, there is a magnetic property similar to the electrostatic piezo effect, called magnetorestriction.  The inductor core material can change size slightly as a function of applied magnetic field.  Ferrites don't exhibit this effect very strongly, but there is always a little bit, and there can be other material in the magnetic field.  I once worked on a product that used the magnetorestrive effect as a magnetic pickup.  And yes, it worked very well.</p>
","43163"
"Understanding motor constants Kt and Kemf for comparing brushless DC motors","52202","","<p>So for a practical definition, the torque constant Kt specifies how many Nm of torque you'll get from the motor at a certain current?  Is a bigger Kt always better?</p>

<p>I am more confused about the backemf constant Kemf.  This is the amount of back EMF produced by the motor running at a certain speed.  Does the back EMF limit the voltage the motor can accept and hence it's speed?</p>

<p>Would an ideal motor have a very high Kt and very low Kemf?</p>

<p>What happens if the back emf voltage reaches the input voltage, does the motor stop running?</p>

<p>Thank you for any answers,
Fred</p>
","<blockquote>
  <p>Does the back EMF limit the voltage the motor can accept and hence it's speed?</p>
</blockquote>

<p>Hmm. I think you're a little confused. Back-emf limits the motor speed because it dictates how much voltage you need to achieve a given speed.</p>

<blockquote>
  <p>Would an ideal motor have a very high Kt and very low Kemf?</p>
</blockquote>

<p>No. (The symbol \$K_e\$ is usually used for the back-emf constant, by the way.)</p>

<p>If you use SI units (Nm/A for \$K_T\$, V/(rad/s) for \$K_e\$), then \$K_T = K_e\$ for DC motors and permanent-magnet synchronous motors (aka ""brushless DC""), and depending on the type of motor and how you define \$K_T\$ and \$K_e\$, the ratio of the two should be a fixed proportionality constant.</p>

<p>Proof of why this is true for DC motors:</p>

<p>At constant operating point (constant speed, voltage, current, torque):</p>

<ul>
<li>\$V_T = K_e \omega_m + IR\$</li>
<li>\$T_m = K_T I\$</li>
</ul>

<p>(\$V_T\$ = terminal voltage, \$\omega_m\$ = motor angular velocity, \$I\$ = motor current, \$R\$ = motor resistance, \$T_m\$ = torque, including frictional losses)</p>

<p>Electrical power in = \$V_T I = K_e \omega_m I + I^2 R\$</p>

<p>mechanical power out = \$T_m \omega_m = K_T I \omega_m \$</p>

<p>Losses = \$I^2 R\$</p>

<p>Conservation of energy means electrical power in = mechanical power out + losses</p>

<p>This is true if and only if \$K_e = K_T\$.</p>

<blockquote>
  <p>What happens if the back emf voltage reaches the input voltage, does the motor stop running?</p>
</blockquote>

<p>No -- what happens is that the ability of the motor to produce torque decreases with speed. Back-emf voltage ""uses up"" voltage from the electrical power source; the remaining voltage available to the motor is what's left for IR drop in the motor and the inductance drop \$L \frac{dI}{dt}\$, and since torque is proportional to current I, the available torque decreases. The system reaches equilibrium at some point where the electromagnetic torque matches the motor's mechanical load. If you increase the mechanical load, current will increase to match that torque as speed slows down, making more IR drop voltage available.</p>

<blockquote>
  <p>Is a bigger Kt always better?</p>
</blockquote>

<p>No. Rule of thumb with DC motor selection (also true for brushless DC motors to a large extent) -- pick a motor with a \$K_T\$ and back-emf constant such that the supply voltage you have available is well-matched with the back-emf at your maximum speed. You usually want back-emf voltage to be 80-95% of the supply voltage, but the exact number depends on the load torque and the IR drop in the motor at that operating point.</p>

<p>If you pick a \$K_T = K_e\$ too high, you'll run out of voltage and won't be able to achieve the speed you need. If you pick a \$K_T = K_e\$ too low, the current needed to achieve the torque you need will be higher than necessary.</p>
","33332"
"directly charge a laptop battery / using laptop battery for projects","51854","","<p>I've seen a couple similar questions, but nothing exact. I'd like to know how I can charge a laptop battery directly, meaning without the laptop. This would be a battery still intact, in good condition (not just a collection of cells).</p>

<p>I understand many laptop battery packs have circuitry built into them to protect from overcharging and over depleting. I don't know how advanced/accurate this would be, but it <strong>sounds</strong> promising at least.</p>

<p>Could it be as simple as buying a laptop battery <a href=""http://rads.stackoverflow.com/amzn/click/B004T88WFE"" rel=""nofollow"">like this</a> and a physical wall charger <a href=""http://rads.stackoverflow.com/amzn/click/B00281T8HK"" rel=""nofollow"">like this</a> and physically connecting the positive and negative connections, or would it involve building a controller circuit to sit in between them?</p>

<p>The goal in this case is to be able to utilize a small form-factor laptop battery pack as part of a portable ham radio setup. I could have one or more charged batteries available to me, swap them out as needed, and then charge them directly. I just don't want to buy a laptop to charge them. </p>
","<p>Look for a FAQ or pinout information online that pertains to the specific series of battery / laptop that is to be involved. The pinout and charging requirements vary significantly depending on the particular series of battery and laptop involved.</p>

<p>In general most laptops will use lithium ion cells similar to the 18650 type in the battery pack.  The pack should be labelled or documented with its nominal DC output and/or charging voltage, nominal current ratings for discharge and/or charge, and similar usage information such as temperature limits et. al.</p>

<p>Typically you'd charge such a lithium ion cell to a maximum of 4.20VDC with a more conservative end of charge voltage being in the ballpark of 3.75V DC.<br>
The pack will contain some number of series connected cell groups and each of those cell groups will have one or more cells in parallel at each stage.  So a 4S1P pack will have 4 series connected elements with each element having 1P or 1 cells in parallel.  A 5S1P or 4S2P or 3S1P pack configuration isn't impossible.<br>
Generally if you take the nominal listed battery voltage (e.g. 15V) and divide by 3, or 4, or 5 and you get a voltage that's close to 3.75V or 4.20V after the division, that'll tell you the number of series cells in the pack due to each series cell being listed with that nominal voltage value and the pack voltage being the multiple of so many series connected cells.</p>

<p>You'll have a pack positive power connection, a pack negative power connection, and usually one or two connections for a NTC thermistor which is mounted adjacent to the cells for the purpose of monitoring the pack core temperature.  Charging or discharging should not be done outside of the listed operating range, e.g. -10C to +45C or whatever, and the powered circuit should use that thermistor sense connection to verify that the cells aren't outside of those temperature ranges at all times when the pack is to be used.  </p>

<p>There may also be a ""smart battery"" set of connections following the SMBUS smart battery specification protocol -- DATA, CLOCK, GROUND.  These connect to a gas gauge / protection IC in the pack and that protection circuit provides two or more levels of protection for over temperature charge/discharge, under temperature charge/discharge, over current charge / discharge, over voltage charge, under voltage discharge, and related functions.
If you operate the discharge and charge circuits within the limits set by the pack integrated protection IC you may be able to use the battery with a ""dumb"" load and charger so long as no protection limit is violated.  If you violate some protection or safety limits the protection circuit may temporarily or permanently suspend or lock out either or both charging or discharging.  For host/operator soluble conditions like an empty battery that is not unsafely undervoltage it'll usually just lock out discharge until charging is performed beyond some recovery threshold.  To prevent overcharge it'll cut off charging current until the pack is discharged below a threshold etc.  There are charge/discharge control FETS and fuses and a PTC protector and a current measurement sense resistor in series with the pack cells and your external pack power connection.</p>

<p>To maintain ideal safety and longevity you'll have to follow the pack's recommended and/or integrated protection / smart battery circuit's charge and discharge profiles as relate to temperature and charge / discharge current limits and state of charge.  Look at the JEITA standard as well as the data sheets for common 18650 LiIon cells to get an idea about cases like high / low temperature charge / discharge, precharging, C/nnn rate charge and discharge recommendations, extended storage recommendations etc.</p>

<p>You may be able to access some of the details of the pack's information if you look up the safety certification test results for that pack model if those happen to be accessible.</p>

<p>Typically around 1A discharge currents and C/5hour charge currents (C = the mAh capacity of the pack) are reasonable.  You'll generally charge at a constant current limit of say C/5 but also with a voltage limit of say N*3.75V where N is the series cell count in the pack.  You can generally charge to 4.20V/series cell but that costs cell longevity and worsens storage life and recharge cycle life and makes it more likely you'll accidentally overcharge the pack if your constant charge voltage isn't precisely at or under 4.20V/cell.</p>

<p>See TI's web site for some gas gauge / protector product ICs like the bq20z75 et. al. to get an idea of what they do.  If the pack supports it and your host can do so, using the SMBUS smart charging protocol will help you use the pack properly, though you may want to override its charging current and charging voltage limits with more conservative (smaller) values of your own.</p>

<p>More information --</p>

<ul>
<li><a href=""http://batteryuniversity.com/learn/article/how_to_repair_a_laptop_battery"" rel=""nofollow"">How to Repair a Laptop Battery</a></li>
<li><a href=""http://www.laptop-junction.com/toast/content/inside-dell-d610-battery-connector-pinout-and-signal-timing"" rel=""nofollow"">Inside a dell d610 battery :: connector, pinout and signal timing</a></li>
</ul>

<p>Oh yes I'd forgot to mention that some packs have a system present line you'll need to ground to enable the pack to close its FETs.  Some other packs go to sleep and perhaps open the charge / discharge FETs if the SMBUS data is inactive for too long and/or have no pull-up resistors.</p>
","58907"
"Effects of changing the frequency of a transformer","51574","","<p>If the frequency of a transformer is decreased by keeping voltage same, then what will be the new KVA rating, magnetizing current and inductance, the induced voltage and loss of the transformer?</p>
","<p>I'll assume that your question is meant to  apply to power transformers intended for single phase AC mains use. My answer also applies more generally to some extent.</p>

<p>Summary:</p>

<ul>
<li>For small changes in frequency - say a 60 Hz transformer run on 50 Hz,<br>
kVA up slightly,<br>
magnetising current up by MORE than 60/50,<br>
inductance down somewhat,<br>
induced voltage about the same,<br>
losses much higher.<br>
Death threatens.<br>
E&amp;OE</li>
</ul>

<p>AC mains power transformers are usually designed to make best use of the active material used to construct them - mainly the windings and the magnetic core. </p>

<p>Power transfer relies on magnetic flux and the more the better (usually) so the core material (usually a laminated steel specially suited to the purpose) is arranged to have as much flux produced in it by the AC current in the primary winding.</p>

<p>The measure of the magnetising force is ampere-turns (H) and this is translated into magnetic flux (B) by the formula B = u.H where u (mu if i had Greek easily to hand and brain) is effectively a conversion factor.  If u was constant we could keep on adding H (more amp-turns) and getting more am more and more  output from a given core. Alas, there is a limit and above a given H level for a given material and various other conditions  we startto get proportionately less B. This is known as saturation. In practical terms we get more magnetic flux with more current up to a certain limit and above this we get less and less and less and ... return as we add more amps.</p>

<p>As the extra amps create losses in the copper and in the core and extra heat which tend todo bad things.</p>

<p>SO transformer manufacturers usually run their cores on the knee of saturation - at the point where the diminishing returns set in- so that they can get as much output as possible from the transformer. <strong>This affects the answers to your questions severely.</strong></p>

<blockquote>
  <p>If frequency of a transformer is decreased </p>
</blockquote>

<p>The lower frequency will see a lower impedance, there will be more current you will push further onto the non linear   knee of the BH curve, the transformer will be less  efficient but will handled somewhat more maximum power.</p>

<p>If you eg operate a transformer properly designed to run on 60 Hz it will get hot and unhappy on 50Hz even on no load. Ask me how I know ;-).</p>

<blockquote>
  <p>keeping voltage same then what will be the new KVA rating</p>
</blockquote>

<p>Somewhat higher as somewhat more B for you exrta H BUT for say 20% more current you may get 5% more flux and 5% more kVA out but 20% more kVa in AND 45% more copper losses.</p>

<blockquote>
  <p>magnetising current </p>
</blockquote>

<p>mc will go up as there is less B per u - effectively the impedance has dropped.</p>

<blockquote>
  <p>and inductance</p>
</blockquote>

<p>Less inductance. Death is beckoning.</p>

<blockquote>
  <p>induced voltage</p>
</blockquote>

<p>Voltage is proportional to turns ratios and primary and secondary are linked by same flux so more or less the same voltage out. Secondary effects may change this slightly.</p>

<blockquote>
  <p>and loss of transformer ?</p>
</blockquote>

<p>Potentially total loss of transformer :-).<br>
 A 60Hz transformer on 50 Hz runs hot.<br>
 Make that wider and it would die. 
 An eg 400 Hz aircraft supply power transformer of any appreciable power would die faster than you could run when connected. </p>

<hr>

<p>E&amp;OE<br>
 This can be a bit complex.<br>
 Some of the above may be somewhat wrong in any given case - but probably right enough in most.</p>
","24004"
"How do I write to SPI flash memory?","51352","","<p>I'm working on an audio application where instead of storing audio data on an SD card (<a href=""http://www.ladyada.net/make/waveshield/index.html"" rel=""nofollow noreferrer"">Waveshield</a> on Arduino) I'm storing it on an SPI flash memory IC and rolling my own board with MCU, DAC, and amp.</p>

<p>I am using a <a href=""http://www.winbond.com/NR/rdonlyres/4D2BF674-7427-4FC8-AEF0-1A534DF74F16/0/W25Q80BV.pdf"" rel=""nofollow noreferrer"">Winbond W25Q80BVSSIG</a>.</p>

<p>I'm pretty familiar with programming AVR using the <a href=""http://store.atmel.com/PartDetail.aspx?q=p:10500054"" rel=""nofollow noreferrer"">AVRISP mkII</a> or the <a href=""http://www.ladyada.net/make/usbtinyisp/"" rel=""nofollow noreferrer"">USBTiny</a>, is writing data to flash done with the same programmer? I haven't been able to find anything when looking for SPI flash memory programmers specifically.</p>

<p><em>This question is a follow up to <a href=""https://electronics.stackexchange.com/q/41575/2028"">this one</a>.</em></p>
","<p>If you are simply looking for a way to program the Winbond SPI flash with ""pre-loaded"" data that your microcontroller would read for use when it is running then what you will want to look into is a programmer that can do in-circuit programming of the SPI Flash chip. This also known as in-system-programming (ISP).</p>

<p>One choice is the <a href=""http://www.dediprog.com/SPI-flash-in-circuit-programming/SF100"" rel=""noreferrer"">programmer from DediProg</a>. This USB connected device can program in circuit if you design your board correctly. They even sell an adapter clip that can attach into the SOW-16 package without having to design in a separate programming header on your board. DediProg has application information bulletins available to help with correct design for in circuit use. The main strategy for the design is to find a simple way to isolate the SPI interface drivers in your MCU system so that they do not interfere with the drivers in the SPI programming pod. The simplest way to do this is to put series resistors in the MCU driven lines between the MCU and the SPI Flash. The programmer would connect on the SPI flash side of the series resistors. Alternate methods could include adding a MUX or analog switches in the driven interface lines. An even more clever scheme is to add a ""programming enable"" input to the MCU that makes the software disconnect all the SPI I/Os from the SPI Flash chip (i.e. make all those GPIOs as inputs).</p>

<p><img src=""https://i.stack.imgur.com/v084U.png"" alt=""enter image description here""></p>

<p>A second choice to also consider is <a href=""http://tools.asix.net/prg_presto.htm"" rel=""noreferrer"">the USB programer from ASIX</a>. The Presto is able to do various types of SPI and I<sup>2</sup>C devices including SPI Flash devices. I have one of these devices specifically for programming Atmel MCUs and various types of SPI Flash devices. It is a more cost effective solution than the above unit but not quite as flexible. Their more expensive device called the Forte is able to do more things because it has more target interface pins.</p>

<p><img src=""https://i.stack.imgur.com/LfMUe.png"" alt=""enter image description here""></p>

<p>Sometimes it can be beneficial to be able to connect a programmmer to a target board without having to add a programming header. One nice solution for this is to place a small set of pads in a special footprint defined by <a href=""http://www.tag-connect.com/Tag-Connect-TC2050IDC_NL_430"" rel=""noreferrer"">a company called TagConnect</a>. They manufacture and sell a series of quick connect programming cables that have pogo pins that engage the special footprint on the board. There are 6-pin, 10-pin and 14-pin versions of the cable available to suit a range of applications. Cost of the cables are very reasonable. </p>

<p><img src=""https://i.stack.imgur.com/6AciO.png"" alt=""enter image description here""></p>
","54970"
"My linear voltage regulator is overheating very fast","51259","","<p>I'm using a 5 V / 2 A voltage regulator (<a href=""http://www.farnell.com/datasheets/76145.pdf"" rel=""noreferrer"">L78S05</a>) without a heatsink. I'm testing the circuit with a microcontroller (PIC18FXXXX), a few LEDs and a 1 mA piezzo buzzer. The input voltage is aprox. 24 VDC. After running for a minute, the voltage regulator starts to overheat, meaning it burns my finger if I keep it there for more than a second. Within a few minutes it starts to smell like it's burnt. Is this a normal behavior for this regulator? What could cause it to heat that much?</p>

<p><img src=""https://i.stack.imgur.com/ssenb.png"" alt=""enter image description here""></p>

<p>Other components used in this circuit:</p>

<p>L1: <a href=""http://search.murata.co.jp/Ceramy/image/img/PDF/ENG/L0117BNX00.pdf"" rel=""noreferrer"">BNX002-01 EMI filter</a></p>

<p>R2: <a href=""http://katalog.we-online.de/kataloge/eisos/media/pdf/820576001.pdf"" rel=""noreferrer"">Varistor</a></p>

<p>F1: <a href=""http://www.farnell.com/datasheets/575727.pdf"" rel=""noreferrer"">Fuse 0154004.DR</a></p>
","<p><strong>Summary:  YOU NEED A HEATSINK NOW !!!!! :-)</strong><br>
   [and having a series resistor as well wouldn't hurt :-) ]</p>

<hr>

<p><strong>Well asked question</strong> Your question is asked well - much better than usual.<br>
The circuit diagram and references are appreciated.<br>
This makes it much easier to give a good answer first time.<br>
Hopefully this is one ... :-)</p>

<p><strong>It makes sense (alas):</strong> The behavior is entirely expected.<br>
You are thermally overloading the regulator.<br>
You need to add a heat sink if you want to use it in this manner.<br>
You would benefit greatly from a proper understanding of what is happening.</p>

<p>Power = Volts x Current.</p>

<p>For a linear regulator Power total = Power in load + Power in regulator.</p>

<p>Regulator V<sub>drop</sub> = V<sub>in</sub> - V<sub>load</sub><br>
Here V<sub>drop</sub> in regulator = 24-5 = 19V.</p>

<p>Here Power in = 24V x I<sub>load</sub><br>
Power in load = 5V x I<sub>load</sub><br>
Power in regulator = (24V-5V) x I<sub>load</sub>.</p>

<p>For 100 mA of load current the regulator will dissipate<br>
V<sub>drop</sub> x I<sub>load</sub> (24-5) x 0.1 A = 19 x 0.1 = 1.9 Watt.</p>

<p><strong>How Hot?:</strong> Page 2 of the data sheet says that the thermal resistance from junction to ambient (= air) is 50 degrees C per Watt. This means that for every Watt you dissipate you get 50 degrees C rise. At 100 mA you would have <strong>about</strong> 2 Watts disspation or about 2 x 50 = 100C rise. Water would boil happily on the IC.</p>

<p>The hottest most people can hold onto long term is 55C. Yours is hotter than that. You didn't mention it boiling water (wet finger sizzle test). Let's assume you have ~~ 80C case temperature. Let's assume 20C air temperature (because its easy - a few degrees either way makes little difference.</p>

<p>T<sub>rise</sub> = T<sub>case</sub>-T<sub>ambient</sub> = 80-20 = 60°C.
Dissipation = T<sub>rise</sub>/R<sub>th</sub> = 60/50 ~= 1.2 Watt.</p>

<p>At 19v drop 1.2 W = 1.2/19 A = 0.0632 A or about 60 mA.</p>

<p>ie <strong>if</strong> you are drawing about 50 mA you will get a case temperature of 70°C - 80°C degrees range.</p>

<p><strong>You need a heatsink</strong>.</p>

<p><strong>Fixing It:</strong> The data sheet page 2 says R<sub>thj-case</sub> = thermal resistance from junction to case is 5C/W = 10% of junction to air.</p>

<p>If you use a say 10 C/W heatsink then total R<sub>th</sub> will be R<sub>_jc</sub> + R<sub>c_amb</sub>  (add junction to case to case to air).<br>
= 5+10 = 15°C/Watt.<br>
For 50 mA you will get 0.050A x 19V = 0.95W or a rise of 15°C/Watt x 0.95 ~= 14°C rise.</p>

<p>Even with say 20°C rise and a 25V ambient you will get 20+25 = 45°C heatsink temperature.<br>
The heatsink will be hot but you will be able to hold it without (too much) pain.</p>

<p><strong>Beating the heat:</strong></p>

<p>As above, heat dissipation in a linear regulator in this situation is 1.9 Watt per 100 mA or 19 Watt at 1A. That's a lot of heat. At 1A, to keep temperature under the temperature of boiling water(100°C) when ambient temperature was 25C you'd need an overall thermal resistance of no more than (100°C-25°C)/19 Watt = 3.9 C/W. As the junction to case Rthjc is already greater than 3.9 at 5 C/W you cannot keep the junction under 100°C in these conditions. Junction to case alone at 19V and 1A will add 19V x 1A x 5 C/W = 95°C rise. While the IC is rated to allow temperatures as high as 150°C, this is not good for reliability and should be avoided if at all possible. Just as an exercise, to JUST get it under 150°C in the above case the external heatsink would need to be (150-95)C/19W  = 2.9 C/W. That's attainable but is a larger heatsink than you'd hope to use. An alternative is to reduce the energy dissipated and thus the temperature rise.</p>

<p>The ways of reducing heat dissipation in the regulator are: </p>

<p>(1) Use a switching regulator such as the NatSemi simple switchers series. A  performance switching regulator with even only 70% efficiency will reduce the heat dissipation dramatically as only 2 Watt is dissipated in the regulator!.<br>
ie Energy in = 7.1 Watts. Energy out = 70% = 5 Watts. Current at 5 Watts at 5V = 1A.</p>

<p>Another option is a premade drop-in replacement for a 3 terminal regulator. 
The following image and link are from the part <strong>referred to in a comment by Jay Kominek</strong>. <a href=""http://www.murata-ps.com/data/power/oki-78sr.pdf"">OKI-78SR 1.5A, 5V drop in switching regulator replacement for an LM7805</a>. 7V - 36V in. </p>

<p><img src=""https://i.stack.imgur.com/YEt4I.jpg"" alt=""OKI-78SR 1.5A, 5V drop in switching regulator replacement for an LM7805""></p>

<p>At 36 Volts in, 5V out, 1.5A efficiency is 80%. As Pout = 5V x 1.5A = 7.5W = 80%, the power dissipated in the regulator is 20%/80% x 7.5W = 1.9 Watts. Very tolerable. No heatsink requied and can provide 1.5A out at 85 degrees C. [[Errata: Just noticed the curve below is at 3.3V. The 5V part manages 85% at 1.5A so is better than the above.]]</p>

<p><img src=""https://i.stack.imgur.com/Ed13D.jpg"" alt=""OKI-78SR Efficiency vs Line Voltage and Current Load""></p>

<p>(2) Reduce the voltage</p>

<p>(3) Reduce the current</p>

<p>(4) Dissipate some energy external to the regulator.</p>

<p>Option 1 is the best technically. If this is not acceptable and if 2 &amp; 3 are fixed then option 4 is needed.</p>

<p>The easiest and (probably best) external dissipation system is a resistor. A series power resistor which drops from 24V to a voltage that the regulator will accept at max current will do the job well. Note that you will want a filter capacitor <strong>at</strong> the input to the regulator due to the resistance making the supply high impedance. Say about 0.33uF, more won't hurt. A 1 uF ceramic should do. Even a larger cap such as a 10 uF to 100 uF aluminum electrolytic should be good. </p>

<p>Assume Vin = 24 V. Vregulator in min = 8V (headroom / dropout. Check data sheet. Selected reg says 8V at &lt;1A.) Iin = 1 A.</p>

<p>Required drop at 1A = 24 - 8 = 16V. Say 15V to be ""safe"".<br>
R = V/I = 15/1 = 15 ohms.
Power = I<sup>2</sup>*R = 1 x 15 = 15 Watts.<br>
A 20 Watt resistor would be marginal.<br>
A 25W + resistor would be better.</p>

<p>Here's a 25W 15R resistor <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=KAL25FB15R0-ND"">priced at $3.30/1 in stock lead free</a> with <a href=""http://www.seielect.com/Catalog/SEI-kal.pdf"">datasheet here</a>. Note that this also needs a heat sink!!! You CAN buy free air rated resistors up to 100's of Watts. What you use is your choice but this would work well. Note that it is rated at 25 Watt commercial or 20 Watt military so at 15W it is ""doing well"". Another option is a suitable length of <strong><em>properly rated</em></strong> resistance wire mounted appropriately. Odds are a resistor manufacturer already does this better than you do. </p>

<p>With this arrangement:<br>
Total power = 24W<br>
Resistor power = 15 Watt<br>
Load power = 5 Watt<br>
Regulator power = 3 Watt  </p>

<p>Regulator junction rise will be 5 C/W x 3 = 15°C above case. You will need to provide a heatsink to keep regulator and heatsink happy but that is now ""just a matter of engineering"".</p>

<hr>

<p><strong>Heastsink examples:</strong></p>

<p>21 degrees C (or K) per Watt</p>

<p><img src=""https://i.stack.imgur.com/yEKrR.jpg"" alt=""enter image description here""></p>

<p>7.8 C/W</p>

<p><img src=""https://i.stack.imgur.com/swNUA.jpg"" alt=""enter image description here""></p>

<p>Digikey - <a href=""http://parts.digikey.com/1/parts-kws/thermal-resistance-of-heatsink"">many heatsink examples</a> including this 5.3 C/W heatsink</p>

<p><img src=""https://i.stack.imgur.com/XtprE.jpg"" alt=""enter image description here""></p>

<p>2.5 C/W</p>

<p><img src=""https://i.stack.imgur.com/bbxpG.jpg"" alt=""enter image description here""></p>

<p>0.48 C/W!!!<br>
119mm wide x 300mm long x 65 mm tall.<br>
1 foot long x 4.7"" wide x 2.6"" tall</p>

<p><img src=""https://i.stack.imgur.com/fyxRI.jpg"" alt=""enter image description here""></p>

<p>Good article on <a href=""http://www.designworldonline.com/articles/4971/How-to-Select-a-Suitable-Heat-Sink.aspx"">heatsink selection</a></p>

<p><a href=""http://www.novelconceptsinc.com/calculators-forced-convection-heat-sink-thermal-resistance.cgi"">Forced convection heatsing thermal resistance</a></p>

<hr>

<p><strong>Reducing linear regulator dissipation with a series input resistor:</strong></p>

<p>As noted above, using a series resistor to drop voltage prior to  a linear regulator can greatly reduce dissipation in the regulator.While cooling a regulator usually requires heats inks, air-cooled resistors can be obtained cheaply that are able to dissipate 10 or more Watts without needing a heatsink. It is not usually a good idea to solve high input voltage  problems in this manner but it can have its place.</p>

<p>In the example below an  LM317 5V output 1A  supply  operated from 12V. Adding a resistor can more than halve the power dissipation in the LM317 under worst case conditions by adding a cheap air cooled wire mounted series input resistor. </p>

<p>The LM317 needs 2 to 2.5V headroom at lower currents or say 2.75V under extreme load and temperature conditions. (See Fig 3 in the <a href=""http://www.fairchildsemi.com/ds/LM/LM317.pdf"">datasheet</a>,  - copied below).</p>

<p><strong>LM317 headroom or dropout voltage</strong> </p>

<p><img src=""https://i.stack.imgur.com/1qYrL.jpg"" alt=""enter image description here""></p>

<p>Rin has to be sized such that it does not drop excessive voltage when V_12V is at its. minimum, Vdropout is worst case for the conditions and the series diode drop and output voltage are allowed for.</p>

<p>Voltage across resistor must always be less than = </p>

<ul>
<li><p>Minimum Vin</p></li>
<li><p>less Maximum Vdiode drop</p></li>
<li><p>less Worst case dropout relevant to situation</p></li>
<li><p>less output voltage</p></li>
</ul>

<p>So  Rin &lt;= (v_12 - Vd - 2.75 - 5)/Imax. </p>

<p>For 12V minimum Vin, and say 0.8V diode drop and say 1 amp out that's<br>
 (12-0.8-2.75-5)/1<br>
 = 3.45/1<br>
 = 3R45<br>
 = say 3R3. </p>

<p>Power in R = I^2R = 3.3W so a 5W part would be marginally acceptable and 10W would be better.   </p>

<p>Dissipation in the LM317 falls from > 6 Watt to &lt; 3 Watt. </p>

<p>An excellent example of a suitable wire lead mounted aircooled resistor would be a member of this nicely specified <a href=""http://www.yageo.com/documents/recent/Leaded-R_SQP-NSP_2011.pdf"">Yageo family of wirewound resistors</a> with members rated from 2W to 40W air cooled. A 10 Watt units is in stock at Digikey at $US0.63/1.</p>

<hr>

<p><strong>Resistor ambient temperature ratings and temperature rise:</strong></p>

<p>Nice to have are these two graphs from the datasheet above which allow real world results to be estimated.</p>

<p>The left hand graph shows that a 10 Watt resistor operated at 3W3 = 33% of its rate Wattage has an allowable ambient temperature of upto 150 C (actually about 180C if you plot the operating point in the graph but the manufacturer says 150 C max is allowed.</p>

<p>The second graph shows that temperature rise for a 10W resistor operated at 3W3 will be about 100C above ambient. A 5W resistor from the same family would be operating at 66% of rating and have a temperature rise of 140C above ambient. (A 40W would have about 75C rise but 2 x 10W = under 50C and 10 x 2W only about 25C !!!.  </p>

<p>The <strong>decreasing</strong> temperature rise with an increasing number of resistors with the same combined Wattage rating in each case is presumably related to ""Square cubed law"" action as there is less cooling surface area per volume as size increases. </p>

<p><img src=""https://i.stack.imgur.com/QDh9O.jpg"" alt=""enter image description here""></p>

<p><a href=""http://www.yageo.com/documents/recent/Leaded-R_SQP-NSP_2011.pdf"">http://www.yageo.com/documents/recent/Leaded-R_SQP-NSP_2011.pdf</a></p>

<p><strong>________________________________________</strong></p>

<p>Added August 2015 - Case study:</p>

<p>Somebody asked the reasonable question:</p>

<blockquote>
  <p>Isn't a more likely explanation the relatively high capacitive load (220 µF)? E.g. causing the regulator to become unstable, oscillations causing a lot of heat dissipated in the regulator. In the datasheet, all of the circuits for normal operation only have a 100 nF capacitor on the output. </p>
</blockquote>

<p>I answered in comments, but they MAY be deleted in due course and this is a worthwhile addition to the subject, so here are the comments edited into the answer.</p>

<p>In some cases oscillation and instability of the regulator certainly is an issue but, in this case and many like it, the most likely reason is excess dissipation.  </p>

<p>The 78xxx family are very old and predate both the modern low dropout regulators and the series powered (LM317 style) ones. The 78xxx family are essentially unconditionally stable with respect to Cout. They in fact need none for proper operation and the 0.1uF often shown is to provide a reservoir to provide extra surge or spike handling.<br>
In some of the related data sheets they actually say that Cout can be ""increased without limit"" but I do not see such a note here - but also (as I'd expect) there is no note suggesting instability at high Cout. In fig 33 on page 31 of the datasheet they show the use of a reverse diode to ""protect against ""high capacitance loads"" - ie capacitors with high enough energy to cause damage if discharged into the output - ie far more than 0.1 uF. </p>

<p><strong>Dissipation:</strong> At 24 Vin and 5 Vout the regulator dissipates 19 mW per mA. Rthja is 50C/W for the TO220 package so you'd get ABOUT 1C rise per mA of current.<br>
So with say 1 Watt dissipation in 20C ambient air the case would be at about 65C (and could be more depending how the case is oriented and located). 65C is somewhat above the lower limit of ""burn my finger"" temperature.<br>
At 19 mW/mA it would take 50 mA to dissipate 1 Watt. The actual load in the example given is unknown - he shows an indicator LED at about 8 or 9 mA (if red) plus a load of the regulator internal current used (under 10 mA)  +  ""PIC18FXXXX), a few LEDs ..."" That total could reach or exceed 50 mA depending on the PIC circuit, or MAY be much less. | </p>

<p>Overall given regulator family, differential voltage, actual cooling uncertainty, Tambient uncertainty, C/W typical figure and more it seems like sheer dissipation is a reasonable reason for what he sees in this case - and for what many people using linear regulators will experience in similar cases. There is a chance that it's instability for reasons less obvious, and such should never be rejected without good reason, but I'd start on dissipation. </p>

<p>In this case a series input resistor (say 5W rated with air cooling) would move much of the dissipation into a component better suited to deal with it.<br>
And/or a modest heatsink should work marvels. </p>
","18479"
"Creepage distance for PCBs handling line voltage AC?","50774","","<p>What is the required creepage (e.g. trace-to-trace) distance for PCBs handling 240VAC rms? What about 120VAC?</p>

<p>This is for UL and CE certification.</p>

<hr>

<p>The standards for PCB Creepage (e.g. the distance across the surface of a PCB between high-voltage connections) are locked up in proprietary, pay-only IEC standards (specifically, IEC Report 664/664A ).</p>

<p>This is troubling, as following these standards is a good way to ensure safety, even if you never intend to actually get your project UL or CE certified.</p>

<p>Can we get a nice summary of what trace-trace spacing should be maintained for common voltages (e.g. 120V, 240V), with common materials (e.g. FR4, etc...)?</p>
","<p>Brings back memories. not all good ones.<br>
 Herewith potpourri / hodgepodge - some value. </p>

<hr>

<p><a href=""http://www.creepage.com/"" rel=""noreferrer"">Useful online calculator</a> covering subset of question.</p>

<p>They say</p>

<ul>
<li><p>Insulation Calculator</p>

<p>This program  is based on Table 2G and Figure 2F of IEC 60950.  Select the circuits that bridge the insulation to be determined by using the drop down lists.  For example, a Primary Circuit to a Primary Circuit requires Functional Insulation.  The Insulation Calculator will automatically determine the insulation.  Notes are also provided as called out in Table 2G.
Acknowledgement</p></li>
<li><p>The author thanks the International Electrotechnical Commission (IEC) for permission to reproduce Section 2.9 ""Insulation"", Section 2.10 ""Clearances,  creepage distance and distances through insulation"", and Section 5.2 ""Electric Strength"" from its International Standard IEC 60950. All such extracts are copyright of IEC, Geneva, Switzerland. All rights reserved. 
Consult with IEC 60950 for all final design decisions.</p></li>
</ul>

<hr>

<p><a href=""http://www.wecogroup.com/_en/themen/techdat/techdat_kriech.htm"" rel=""noreferrer"">Useful summary page</a></p>

<p>Includes</p>

<p>From DIN EN 60664-1 (VDE 0110-1), creepage.</p>

<p><img src=""https://i.stack.imgur.com/9RKgF.jpg"" alt=""enter image description here""></p>

<p>From DIN EN 60664-1 (VDE 0110-1), clearance</p>

<p><img src=""https://i.stack.imgur.com/WwZtY.jpg"" alt=""enter image description here""></p>

<hr>

<p>And again <a href=""http://www.ptr.eu/en/technique-solutions/terminal-blocks/luft-und-kriechstrecken/"" rel=""noreferrer"">from here</a> not much else useful on this exact topic but MANY OTHER SIMILAR pages with links to portions of relevant standards.</p>

<p><img src=""https://i.stack.imgur.com/2kdPC.jpg"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/3GGWy.jpg"" alt=""enter image description here""></p>

<hr>

<p>Small but useful extract from (Extract DIN VDE 0110-04.97*)<br>
 They say:</p>

<ul>
<li>This standard is a technical adaptation of IEC Report 664/664A and specifies, in general, the minimum insulation distances for equipment. It can be used by committees to protect persons and property in the best possible way from the effects of electrical voltages or currents (e.g. fire hazard) or from functional failure of the equipment by providing adequate dimensioning of clearances and creepage distances in equipment.)</li>
</ul>

<p><a href=""https://b2b.harting.com/Webhelp/EGds/WebHelp/GBgdsCreepage_and_clearance_distances.htm"" rel=""noreferrer"">Useful subset </a></p>

<hr>

<p>Interesting comment <a href=""http://www.intertek.com/blog/2011/07-04-iec-60601-1/"" rel=""noreferrer"">from here</a>:</p>

<ul>
<li><p>IEC 60601-1 Third Edition: Creepage Distance and Clearance Requirements
July 04, 2011</p>

<p>It's simple: Engineers must be aware of the design for each medical device. The awareness of what is most critical is important. But why? The isolation required between parts with different operating voltages, to prevent against unacceptable risk, is the primary reason for the importance of creepage and clearance distances.<br>
Specifically, creepage is the shortest distance between the path of two conductive parts of a medical device and is measures along the surface of insulation. The clearance is similar, but very different. It [clearance] is the shortest distance between two conductive parts, measured through air.
In IEC 60601-1 Third Edition, there are requirements for creepage distance and clearance, which follows the IEC ""Modern Standard"" approach. This approach though requires the use of six different tables for spacings and the introduction of five additional requirements to be included as part of the evaluation. But what if your company has already begun to address these requirements established by Second Edition?
""If your product meets Second Edition's creepage and clearance, then the medical product will be in compliance with the requirements for Third Edition,"" said Todd Konieczny, North American Medical Technical Leader. ""The Third Edition requirements for creepage and clearance require less stringent parameters for operator protection – which, ultimately, allows companies to build a smaller product.""</p></li>
</ul>
","22803"
"Is it possible to revive a dead battery by passing a high voltage through it?","50626","","<p>I have an almost dead laptop battery and read in <a href=""http://forums.appleinsider.com/showthread.php?t=82905"">this</a> forum that</p>

<blockquote>
  <p>""The problem with most of the broken
  batterys is that they are exhaustive
  discharged. the trick to solve this is
  to give them a high voltage
  electricity source like a laptop
  charger (20V). I did that to all the 3
  lion batteries I found inside the
  macbook battery but just for a few
  seconds to reactivate them and now
  they are working fine""</p>
</blockquote>

<p>I am curious whether this is theoretically possible if nothing else.</p>
","<p>This is a <em>known effect</em> of <strong>NiCad/NiMH</strong> batteries.<br>
Doing it to any other battery risks setting something on fire.</p>

<p>Basically, Nickel-metal batteries, when over-discharged, can grow little metal whiskers or ""dendrites"" between the internal plates, shorting the cell out. Applying a high voltage to the cell causes enough current to flow that the dendrite fuses and melts, and therefore, the cell is not longer internally shorted, and can hold a charge. (This is what the guy in avra's response was doing to the batteries)</p>

<p>However, letting a cell go completely flat (0V) is quite bad for it, so the battery will never completely recover. However, it may hold some charge afterwards.</p>

<hr>

<p>Note that what the guy in the quote is doing is <strong>not</strong> applying a <em>high voltage</em> to the cells, but applying a <em>high charge-current</em> to the cells he is referring to. The laptop charger he describes is likely only good for a few amps, and the output voltage is probably dropping massively when it is connected.</p>

<p>The only thing I can think of is that some laptop batteries have a built-in protection system. If the battery is discharged fully, and then let sit and self-discharge for a while, the protection system may not even get enough power to turn itself on, and therefore, the laptop will not realize a battery is even present.<br>
When he manually charges the batteries a small amount with his external adapter, by taking the battery apart, it may be just enough to activate the battery protection circuit, so it can charge normally afterwards.</p>

<hr>

<p><strong>Applying a significant over-voltage to ANY cell chemistries for any period of time can be dangerous.</strong></p>

<ul>
<li>On lithium cells, you will get metallic lithium plating out of the electrolyte when the cell voltage is above 4.3V. Metallic lithium can catch on fire when exposed to (the moisture in) the air.</li>
<li>In Lead-Acid batteries, you will begin to electrolyze the electrolyte, causing the battery to vent hydrogen and oxygen. This is EXTREMELY EXPLOSIVE.</li>
</ul>
","14665"
"Solder does not stick to tip of soldering iron?","49956","","<p>Basic question here, but it's driving me insane!</p>

<p>The solder does not seem to stick to the tip of my soldering iron. After the iron heats up, the tip appears black (sometimes on all sides and sometimes on one side), then either it doesn't melt the solder at all, or it I fiddle around with it for a while; it melts the solder, but the solder rolls into itself into a ball and doesn't stick to the tip.</p>

<p>I've seen this many times while soldering before and usually it's solved by cleaning the tip on a soldering sponge or cooling it down and scraping the tip off with a blade, but I have scraped this particular one many times and still it's the same problem: it heats up and gets black, then the solder doesn't stick to it.</p>

<p>It doesn't help that this soldering iron has a very fine tip and I have to use it to solder very tiny chips and wires under a microscope (I'm just starting to learn soldering under microscopes).</p>

<p>Any ideas on what I can do?  </p>

<p>PS: Is scraping the tip a bad idea? I have been doing it with my other bigger soldering irons and it seemed to work (at least in most cases) but I am not sure whether it is a good solution or not.</p>
","<p>First question: How long have you had the tip? You could probably easily and cheaply replace it. If the iron doesn't have replaceable tips, get rid of it!</p>

<p>If you've not had the tip long, then a few pointers to keep in mind:</p>

<ul>
<li>When the iron is not being used, keep some solder on the tip. This prevents oxidation and corrosion.</li>
<li>When using the iron, keep a little solder on the tip when the iron is in the stand. Wipe clean before using. Avoid excessive wiping on a wet sponge as this can cause temperature fluctuations which expand and contract the metal, and stress the tip. Consider using <a href=""http://www.hakkousa.com/detail.asp?PID=749&amp;Page=1"">brass shavings</a> instead of a wet sponge.</li>
<li>Never use sandpaper or abrasives to clean the tip. Also avoid dipping it into flux to clean. (Except for re-tinning which should be infrequent.)</li>
<li>Use a good quality solder. Old solder can have contaminants which leave behind residue and basically make soldering more difficult. (By ""old"" I mean solder that's been around collecting dust, not necessarily that it has a short shelf life.)</li>
</ul>

<p>Finally, if you've got a cheap iron, it may be too hot or cold and not melting solder at the correct temperature. Consider getting a temperature controlled unit. I could recommend a <a href=""http://www.hakkousa.com/detail.asp?CID=49&amp;PID=4800&amp;Page=1"">Hakko FX-888</a> for &lt; $100 US, see also <a href=""http://www.eevblog.com/2011/06/19/eevblog-180-soldering-tutorial-part-1-tools/"">this tutorial</a>.</p>

<p>Some additional soldering tip pointers:</p>

<ul>
<li><a href=""http://www.inlandcraft.com/uguides/tipcare.htm"">http://www.inlandcraft.com/uguides/tipcare.htm</a></li>
</ul>
","51897"
"What is a dead battery cell, what causes this to happen, and what are the implications?","49936","","<p>Today I had a bit of car trouble where the culprit turned out to be the battery. I had driven my car just 5 minutes earlier without issue, but upon attempting to crank the vehicle it made a final effort at turning over and abruptly stopped, as if the battery leads were suddenly removed and all power was cut-off. After a bit of troubleshooting I solved the problem, but several questions came to mind.</p>

<p>I measured the open-circuit voltage to be 12V, but when the battery was wired-in (vehicle remained off with key removed) the same test measured only 8-9V. I am not sure exactly what kind of load remains on a car battery when the vehicle is off, but there certainly was a significant voltage difference. So</p>

<ul>
<li>What causes a battery <em>cell</em> to <em>die</em>? </li>
<li>Are there symptoms of a dying battery or do they often quit as this one did (immediately, like a switch was flipped)?</li>
<li>The behavior described above leads me to believe the battery was working fine right up until something caused it to abruptly stop working. What ""<em>something</em>"" might this be?</li>
<li>If a cell was indeed ""dead"" as I was told, why did I measure these voltages? I would expect lower voltages if an entire cell was not working properly.</li>
</ul>
","<p>In my boat, I have had a couple of lead-acid batteries fail with a shorted cell.  In one case, the shorting may have been caused by the impact of a minor collision, but the batteries were 6 years old, so reaching end-of-life anyway. The shorted cell reduced the battery voltage by 2 volts, and apparently had enough internal resistance to prevent the battery from providing enough power to start the engine.</p>

<p>In both cases, the boat had two batteries in parallel, so the battery with the shorted cell prevented the good battery from being fully charged.  These were all ""flooded"" batteries, and after trying to recharge the batteries for some time, the good cells in the bad battery all needed water as they were being over-charged, while the shorted cell did not need any water, nor did the good battery.</p>

<p>A battery can develope a shorted cell because the cell plates shed debris over time, and this debris falls into cavities at the bottom of the cell.  When the cavity is full, the debris will contact the bottom edge of the cell plates, shorting the cell.</p>
","159405"
"Adding mAh when wiring battery cells in series?","49677","","<p>When combining battery cells in series, the voltages of the cells are added to get the voltage of the final circuit.</p>

<p>Do the mAh add up, or stay the same?</p>

<p>For example, suppose you have two 3.7V cells, each with 200 mAh capacity.  When connected in series, will the resulting battery will be a 7.4V, 200mAh battery?</p>
","<p><strong>Summary</strong></p>

<ul>
<li><p>mAh stay the same when you connect cells in series - provided that cells are all of the same mAh capacity.</p></li>
<li><p><strong>Special and unusual case</strong> If two cells are connected in series and they have differing mAh capacities the effective capacity is that of the lower mAh capacity cells. This is not normally done, but it can sometimes make sense to do so. </p></li>
<li><p>mAh add when you connect cells in parallel (but there are technical issues which mean that doing this may not be straightforward.)</p></li>
</ul>

<hr>

<p>The answer can be deduced by considering what mAh capacity <strong>means</strong>:</p>

<blockquote>
  <p>mAh = Product of ma × hours that a battery will provide.  </p>
</blockquote>

<p>While there are (as ever) complications, this means that eg, a 1500 mAh cell will provide 1500 mA for one hour or 500 mA for 3 hours or 850 mA for 2 hours or even 193.9 uA for one year ( 193.9 uA x 8765 hours = 1500 mA.hours).</p>

<p>In practice the capacity of a cell varies with loading. A cell will generally produce its rated capacity if loaded at its C1 = 1 hour rate. eg 1500 mAh = 1500 mA for one hour. BUT a 1500 mAh cell loaded at say 5V (5 x 1500 = 7500 mA = 7.5A) will NOT do this for 1/5 hour = 12 minutes - and may not produce 7.5A at all even on short circuit. A load of say C/10 = 150 mA or C/100 = 15 mA may produce more than 1500 mAh overall BUT a load of say 150 uA = 10,000 x as long = 10,000 hours = about 14 months may produce less than 1500 mAh if the battery self discharges rapidly with time.</p>

<p><strong>BUT</strong></p>

<p>If a cell will produce say 2000 mA for 1 hour at 3.7V (a typical rating for liIon 18650 cells) then two identical cells will do the same thing if tested independently. If instead of using 2 loads you connect the cells in series and draw the same current as before the identical current flows through both cells.  You can still here only draw 2000 mA for one hour BUT the available voltage has doubled.</p>

<hr>

<p>If you use 2 x 3.7V, 2000 mAh cells in parallel to drive a 3.7V nominal load, one cell can provide 2000 mA for one hour or 200 mA for 10 hours etc AND the other cell can do the same. So the mAh ratings add. </p>

<p>If one cell has more mAh than the other, the mAh TEND to add when connected in parallel. Say you have 1000 mAh and 2000 mAh cells in parallel, each rated at 3.7V nominal, as the smaller battery loses capacity it will tend to reduce in voltage faster so the larger battery will provide more current so they will TEND to balance. YMMV and this is usually not good practice without specific design of what happens. </p>

<hr>

<p>In the <strong>special case</strong> I mentioned above, you may have a 12V 7AH sealed lead acid ""brick"" battery beloved of the alarm industry. You may want to use an N Channel high side switch which needs a gate voltage of say 4V above the +12 rail. If you use a 9 Volt PP3 ""transistor radio battery"" and connect its negative terminal to +12 V then the PP3 positive terminal will be at 12+9 = 21 V initially. The N Channel MOSFET needs 12+4 = 16V so the PP3 + SLA combined followed by a regulator will operate it until the combined voltage falls to under 16V. This should be never happen, as the PP3 ""dead voltage "" = 6V and the Sla should not be under say 11V so minimum Voltage available = 11+6 = 17 V. </p>

<p>If you use this occasionally, and disconnect battery when not in use, the PP3 will last a long time. If the PP3 is rated at say 150 mAh, and if the FET high side cct takes a steady 10 mA when oj then the PP3 will last for ~~= 150/10 = 15 hours. This may be acceptable or not depending on the application. </p>

<p>BUT the SLA has a 7Ah = 7000 mAh capacity BUT the combination can only provide 150 mAh at >= 17 Volts. So the mAh effectively is that of the much smaller PP3. This is for the task which needs the combined voltage - the 12V output still has the full 7Ah capacity. </p>
","20708"
"How do I calculate the resistor value for a simple LED circuit?","49311","","<p>I have a simple circuit:</p>

<p><img src=""https://i.stack.imgur.com/gwgWL.png"" alt=""circuit""></p>

<p>The max rating (current) of the LED is 30mA.</p>

<p>How can I work out what the resistance of the resistor needs to be? By using ohm's law I found it to be \$3V/0.03A = 100 \Omega\$. However using software called <a href=""http://www.yenka.com/"" rel=""nofollow noreferrer"">Yenka</a>, and trial and error I got the minimum possible resistance to be 36&Omega;. However, if I use a 35&Omega; resistor, then the LED breaks. Is the software wrong, or (more likely) am I doing something wrong?</p>
","<p>You'll have to check the datasheet or measure it to know how much voltage drops over your LED. Let's say this is 2V. Then the voltage over the resistor is the difference between your power supply (3V) - voltage over the LED (2V) = 1V. To get 30 mA through the resistor (and thus also the LED) your resistor has to be 1V / 30 mA = 33 Ohm.<br>
If your LED voltage is lower the current will be somewhat higher, but the LED shouldn't break!</p>
","14853"
"If voltage is measured between two points on a wire, with no resistance in between is the voltage zero?","48953","","<p>I have a series circuit. Let's say the battery has a potential difference of <code>10 Volts</code>.</p>

<p>On two points of the wire before the current hits any resistors, I attach the readers of a voltmeter. Since there is no resistance, and the formula for voltage is <code>V = IR</code>, does this mean that the voltage would read zero in between those two points?</p>

<p>But how can this be - we know there is 10 volts of current flowing through!</p>

<p>The example my teacher gives is that electricity is like a running river. The voltage is the force of the running water. Pile rocks in middle of the river and this is the resistance. But if you don't pile rocks and measure at two points, that doesn't mean that there is no power (read: voltage) in the river's flow. </p>

<p>Can someone please clarify?</p>

<p><img src=""https://i.stack.imgur.com/EpBiq.jpg"" alt=""Voltmeter with no resistance""></p>
","<p>Your voltmeter and your teacher are both right, but the water analogy of electricity can only go so far.  One big drawback is that, unlike with water, there is no absolute voltage.  Voltage is always relative between two points.</p>

<p>There is no such thing as ""10 volts of current flowing around"".  Voltage is the force that pushes the charges to make current.  Current is the charges actually flowing.  It is quite possible to have voltage with no current, and current with no (or no measurable) voltage.</p>

<p>Your teacher's river analogy actually still works in this case if you apply it correctly.  Voltage is the pressure in the river pushing the water downstream.  In a river, you can see this pressure as the altitude of the water surface.  When you pile rocks in the river, the suface of the river will be higher above the rocks than below.  That would show up as a pressure difference if you measured with a relative pressure guage between above and below the rocks.</p>

<p>The wire is like a river with no rocks in it.  The pressure at one point and a few feet upstream are still basically the same.  That is what your voltmeter is showing you.  One difference between a real river and a copper wire is that the copper wire is a much more ideal river, unlike anything real water can do.  The wire is so not-rocks (not a resistor) that very very little voltage builds up for the flow.  There actually is a small difference in voltage between the two points on the wire, but the wire is such a good conductor that this voltage difference is too small for a ordinary multimeter to measure.  If you replace the short piece of wire with a few 10s of meters of wire and then measure accross that, your multimeter might show a small voltage.</p>
","73094"
"How termination resistors work; what happens if I use lower values?","48524","","<p>I am going to try to interface low-speed 8bit DDR2 chip to FPGA, and I've got some questions crucial to make it work :-)</p>

<p>Is that correct that the idea of termination resistor is to sink most of the signal to GND, so that only small part of it reflected back? Have anyone tried to put let's say 2-3 resistors of smaller value so that multiple remining reflections will be out of phase &amp; cause less interference?</p>
","<p>A transmission line can be modelled as an infinite set of capacitors and inductors (lossless). You start to use this model as your electrical line becomes large enough that you cannot think of the line as an instant connection.</p>

<h3>General Idea</h3>

<p>First, an LC circuit is going to have ring, and if it suddenly hits an ""open"" instead of another LC circuit it will bounce very high. If you were to make a model using 10 inductors and 10 capacitors this would easily happen. When you place termination on the end you are damping the signal. If you have a perfectly matched resistor at the end you will have 0 overshoot as the resistor will dissipate its power.</p>

<h3>Source Termination</h3>

<p>If you instead place a resistor that matches the transmission line in series between the source and the transmission line you get one of the most effective termination techniques. In this case the line can only be driven to 1/2 of the target voltage, but the signal travels down the line and when it hits the open at the other end (most inputs are almost opens with very high impedances) it bounces, doubling, and giving you a full voltage at the receiver. The signal then travels backwards and, when it reaches the source, terminates on the resistor.</p>

<p>This may not be instantly clear, I would very much suggest ""High Speed Digital Design: A Handbook of Black Magic"", but this means your line does not drive nearly as high at one point, and noise is a function of dV/dt. This only terminates noise on the line at the source, which helps a large amount. I would heavily suggest you tear into my favorite handbook of black magic.</p>

<h3>Trace Impedance</h3>

<p>Most people have heard of the simple equation forms of inductance and capacitance. Capacitance goes up with area and down with distance. Inductance goes up with the size of the loop.</p>

<p>If you think of of a trace above a ground plane, as your widen the trace, the area increases but distance does not. This means that your capacitance increases while your inductance stays the same. As your distance increases, your area must increase a lot to keep the same impedance.</p>

<p>There are many many different calculators out there. I found <a href=""http://www.technick.net/public/code/cp_dpage.php?aiocp_dp=util_pcb_imp_calculator"">one</a> instantly with a <a href=""http://www.google.com/search?q=pcb+trace+impedance+calculator"">google search</a>.</p>

<p>Just match your impedance, add some termination, and try to avoid bad practices like bridging across a break in a ground plane (No embedded traces around these signal lines). I hope this also makes the physical effects a little more clear.</p>

<h3>Too Small a Termination?</h3>

<p>You will actually get reflections, but instead of bouncing up, it will bounce down. An open will double your voltage, it will all reflect backwards. A short does the opposite, giving you zero voltage. It also greatly increases your power absorption from your driver.</p>
","10954"
"What's input bias current in opamps?","48282","","<p>Is it the current you have to drive in the input to get a specific, defined voltage at the output? And don't the currents cancel each other when applied to both inputs?</p>
","<p>The ideal opamp has infinite input impedance.  That means its inputs don't draw any current at all.  There is no such thing as a ideal opamp, so all opamps draw some amount of current.  This is what the input bias current spec tells you.</p>

<p>Any current times the impedance of whatever is driving the opamp input will cause a voltage, which is a error voltage between the real signal and what the opamp sees.  This error is added directly to the input offset error of the opamp to get the effective offset error for your circuit.</p>

<p>For example, if the opamp input bias current spec is 1nA, then must assume a voltage error of 1mV with a 1MOhm resistor in series with that input.  This is in addition to other sources of error, like the input offset voltage spec.</p>

<p>Different opamp technologies can vary widely.  Old bipolar input opamps like the LM324 have orders of magnitude higher bias current than FET input opamps.  For something like a LM324 you have to consider the input bias current spec carefully.  For many modern CMOS input opamps the input bias current is so low that you can often ignore it (after a quick calculation to verify this for your case of course).</p>

<p>The input bias current spec is for each input.  These do not necessarily cancel since the polarity can not be guaranteed.  Some opamps have a input offset current spec that tells you the worst case current mismatch between the two inputs.  That is common in bipolar input opamps since the current direction and magnitude is somewhat known.  For example, the LM324 is specified for 100nA input bias current, but only 30nA input offset current.  CMOS input opamps often don't have a offset current spec since the bias current is due to leakage and there is go guarantee what its polarity is.</p>
","15342"
"What to do when a device doesn't specify it's DC polarity?","48259","","<p>This is probably a very simple question but.. I've been trying to find replacement AC->DC adapters for various electronics around the house, but I ran into one which doesn't list its polarity. It simply has ""12V 𝌂"" printed next to the power socket, without either of the polarity symbols! I found the owner's manual online and checked it, and it wasn't any more specific..</p>

<p>.. So, what does it mean when a device doesn't list its polarity? Is there a default assumption of positive or negative? Or does it mean that the polarity of the power doesn't matter??</p>
","<p>If you have a device that is not marked, you can't necessarily assume one polarity or the other. I have, for example, electronic music keyboards and MIDI controllers which sometimes are swapped (Casio is center negative on one, Korg and Yamaha are center positive).</p>

<p>If you have the original adapter, check what its polarity is, either by its label or use a voltmeter to determine its polarity.</p>

<p>If you don't have the original adapter, you could try assuming that the device is center positive, but you risk causing damage to it if it does not have polarity protection. Instead, consult its manual, look online, or as a last resort, take it apart!</p>

<p>If you have an adapter that isn't marked, determining polarity is simple with a voltmeter. If you get a positive voltage then the side connected to the black/common terminal of the meter is negative/ground.</p>
","85543"
"Purpose of the diode and capacitor in this motor circuit","48241","","<p>I'm hooking up a small DC motor to an arduino using an NPN transistor using the following diagrams I found online:  </p>

<p><img src=""https://i.stack.imgur.com/5u5L0.png"" alt=""Schematic"">
<img src=""https://i.stack.imgur.com/FNMb1.png"" alt=""Wiring""></p>

<p>The circuit works, and I'm successfully able to make the motor run.  Now, I'm seeking to understand <strong>why</strong> it works the way it does.  In particular, I'd like to understand:  </p>

<ol>
<li><p>Why are the diode and capacitor hooked up in parallel to the motor?  What role do they serve here?  </p></li>
<li><p>Why is a resistor needed between the transistor and the digital PWM pin on the arduino?  Would it be safe to run the circuit without it?</p></li>
</ol>
","<p>The diode is to provide a safe path for the inductive kickback of the motor.  If you try to switch off the current in a inductor suddenly, it will make whatever voltage is necessary to keep the current flowing in the short term.  Put another way, the current thru a inductor can never change instantaneously.  There will always be some finite slope.</p>

<p>The motor is partially a inductor.  If the transistor shuts off quickly, then the current that must still flow thru the inductor for a little while will flow thru the diode and cause no harm.  Without the diode, the voltage accross the motor would get as large as necessary to keep the current flowing, which would probably require frying the transistor.</p>

<p>A <i>small</i> capacitor accross the motor will reduce the speed of the possibly fast voltage transitions, which causes less radiation and limits the dV/dt the transistor is subjected to.  100 nF is excessive for this, and will prevent efficient operation at all but low PWM frequences.  I'd use 100 pF or so, perhaps to up 1 nF.</p>

<p>The resistor is to limit current the digital output must source and the transistor base must handle.  The transistor B-E looks like a diode to the external circuit.  The voltage will therefore be limited to 750 mV or so.  Holding a digital output at 750 mV when it is trying to drive to 5 V or 3.3 V is out of spec.  It could damage the digital output.  Or, if the digital output can source a lot of current, then it could damage the transistor.</p>

<p>1 k&Omega; is again a questionable value.  Even with a 5 V digital output, that will put only 4.3 mA or so thru the base.  You don't show specs for the transistor, so let's figure it has a minimum guaranteed gain of 50.  That means you can only count on the transistor supporting 4.3 mA x 50 = 215 mA of motor current.  That sounds low, especially for startup, unless this is a very small motor.  I would look at what the digital output can safely source and adjust R1 to draw most of that.</p>

<p>Another issue is that the 1N4004 diode is inappropriate here, especially since you will be turning the motor on and off rapidly, as implied by ""PWM"".  This diode is a power rectifier intended for normal power line frequencies like 50-60 Hz.  It has very slow recovery.  Use a Schottky diode instead.  Any generic 1 A 30 V Schottky diode will do fine and be better than a 1N4004.</p>

<p>I can see how this circuit can appear to work, but it clearly wasn't designed by someone that really knew what they were doing.  In general, if you see a arduino in a circuit you find on the 'net someplace, especially a simple one, assume it was posted because the author considers it a great accomplishment.  Those that know what they are doing and draw out a circuit like this in a minute don't consider it worth writing up a web page on.  That leaves those that took two weeks to get the motor to spin without the transistor blowing up and they're not really sure what everything does to write these web pages.</p>
","95141"
"Does turning a lighbulb on and off repeatedly use more energy than just leaving it on for hours?","48001","","<p>Let's say I have a 60W bulb in a lamp in my bedroom. If I kept the lamp on for 2 hours straight but the next day, I switched it on and off 10 times in intervals of 5 minutes. Which scenario would use more energy?</p>
","<p>Leaving it on would use more energy, absolutely. Sometimes, people try to convince themselves that turning a light on and off uses more energy because there is some high inrush current, or some such thing.</p>

<p>Firstly, incandescent lights hardly have any inrush current, because they don't have any capacitors to charge, and they need not strike an arc in the bulb. The current is initially higher because the filament resistance is lower, but:</p>

<ol>
<li>this is for a fraction of a second</li>
<li>getting it up to temperature doesn't take any more energy than it would have taken to leave it on to maintain that temperature</li>
<li>even though the current may be higher, it's not <em>that much</em> higher. Do all the other lights in your house dim temporarily when you turn one on?</li>
</ol>

<p>Secondly, if you take a fluorescent bulb, which may have capacitors, and thus may require some inrush current, it doesn't begin to make up for the cost of leaving the light on. Consider again how short the turn-on period is relative to the leaving-on period. Even if you consider the wear-and-tear on the bulb and the starter and the fixture, it's almost always more economical to turn the bulb off. I read a report by someone who bothered to do all the math, and they concluded that if you intend to leave the light off for more than about 60 seconds, it's more economical to do so.</p>
","55833"
"I need the most basic circuit diagram for wireless energy transfer please","47898","","<p>I have been all over the net looking for the most basic circuit diagram or instructions to put together a small project on wireless energy transfer. If anyone knows of a good schematic that is super simple and geared towards noobs could you please share, or leave instructions. The simplest one I've found so far is this one off of <a href=""http://www.youtube.com/watch?v=1V0yRJspOyA"" rel=""noreferrer"">some Hungarian guy's youtube channel</a>.<br>
 His <a href=""http://voltage.g6.cz/bezdratovy-prenos-energie/"" rel=""noreferrer"">website is here</a>:</p>

<p><img src=""https://i.stack.imgur.com/k5fA2.gif"" alt=""enter image description here""></p>

<p>It's kinda hard for me to decipher and I when it comes to the capacitors I have no idea where to find these components. Found a few at the ol' radio shaq but some I can't find anywhere so I'd like a simpler circuit if there is one. If you know of an even simpler one to get me started with experimenting with w.e.t. please share or point me in the right direction. Thanks!</p>
","<h2>Simplest Inductive Power Transfer Circuit.</h2>

<p>While it is theoretically possible to make a very slightly simpler circuit than that one, this circuit approaches being utterly brilliant in its simplicity. If it works as well as it appears it should then it's an excellent starting point.</p>

<p>The main point to watch is that the transmit and received circuits should be tuned to (or ""resonate at"") the same frequency. For this to happen the transmit and receive coils need to be the same and the 4.7nF capacitors which are used to ""tune"" them should also be matched, As 4.7 nF caps may vary by say +/-10% or more depending on the type used, it may be necessary to add a few hundred pF in parallel with one or other of the two 4.7 nF capacitors to get best match. See below. But, even without matching it should work O.</p>

<p>Please provide the You tube link.<br>
 The language is Hungarian.<br>
 It translates as ""The capacitors should not be ceramic type"". See below.</p>

<p><strong>Components:</strong></p>

<p>The values shown are standard values and they will be available from most sellers of electronic components.</p>

<p>4.7n = 4.7 nF = 4.7 nano-Farad.  Two used.<br>
 Voltage is non critical. 10 Volt or more rating is needed but as all 4.7n you will find will be rated at more than 10V you do not need to worry about the voltage rating.<br>
 I would have thought ceramic capacitors would be OK, but mylar ""plastic"" capacitors are common and cheap in 4.7 nF capacity.</p>

<p>470p = 470 pF = 470 pico-Farad.<br>
 again, voltage rating is not critical as all will be OK.<br>
 Again, ceramic should be OK, but if you find other than ceramic then it would also work. eg maybe mylar or polystyrene. </p>

<p>15k = 15k resistor = 15,000 Ohm resistor.<br>
 Any wattage and voltage rating will work.<br>
 Any wattage rating OK.  </p>

<p>BD139 = BD139 transistor = commonly available<br>
<a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00001225.pdf"" rel=""noreferrer"">BD139 datasheet</a></p>

<p><img src=""https://i.stack.imgur.com/dgjUE.jpg"" alt=""enter image description here""></p>

<p>1N4148 = 1N4148 diode = commonly available</p>

<p>LED = Light Emitting diode = almost any LED.</p>

<p>Red &amp; blue circles = transmit and receive coils.<br>
 See original for number of turns.<br>
 Diameter = 4.5 centimetre.</p>

<p><strong>Connection:</strong></p>

<p>The original video will provide some indication of construction.<br>
Apart from the BD139 and LED all components have only two leads and can be connected in either polarity (or electrical orientation).<br>
 If a common 5mm LED is used the longer lead will be the Anode = positive connection. (The NON bar side of the arrow symbol).  </p>

<p>BD139 connection is shown above and in the data sheet.</p>

<p>Looks good.</p>

<hr>

<p><strong>Another superb example</strong></p>

<p><strong>A slightly more complex but very effective and very well documented version</strong></p>

<p><a href=""http://www.youtube.com/watch?v=2ODW-ntPHSU"" rel=""noreferrer"">Excellent demo video - watch this first</a>  </p>

<p><a href=""http://4hv.org/e107_plugins/forum/forum_viewtopic.php?74096"" rel=""noreferrer"">Project page</a></p>

<p>Basic circuit:</p>

<p><img src=""https://i.stack.imgur.com/T34sk.jpg"" alt=""enter image description here""></p>

<p>Final actual circuit:</p>

<p><img src=""https://i.stack.imgur.com/qGK7J.jpg"" alt=""enter image description here""></p>

<p>In action. Copper tube is used for the inductor to allow  high circulating currents with low resistance and so low loss when no power is being transferred. </p>

<p><img src=""https://i.stack.imgur.com/iKa35.jpg"" alt=""enter image description here""></p>

<p><a href=""http://www.youtube.com/watch?feature=endscreen&amp;NR=1&amp;v=IJocHg36dHs"" rel=""noreferrer"">Korean example - Good you tube video - no circuit</a></p>
","38868"
"What exactly are the difference between a USB host and device","47894","","<p>Came across some doubts:</p>

<ol>
<li>What exactly are the differences between a USB host and device? Is it just that who powers the bus?</li>
<li>When two devices connect how the device say ""hey I will be the host and you be the device?""</li>
<li>Can one device acts as a host as well as a device .For example ""A"" should act as a device when a USB host is connected , and ""A"" should act as host when a USB device is connected?</li>
</ol>
","<blockquote>
  <p>What exactly are the differences between a USB host and device? </p>
</blockquote>

<p>The host initiates <em>all</em> communication on the bus, the device only responds when asked by the host. For Details see the specs on <a href=""http://www.usb.org/developers/docs/"">usb.org</a>.</p>

<blockquote>
  <p>When two devices connect [...]</p>
</blockquote>

<p>One must behave as the host and the other as the device. Details can be found in the <a href=""http://www.usb.org/developers/onthego"">USB OTG Specs</a>.</p>

<blockquote>
  <p>Can one device acts as a host as well as a device?</p>
</blockquote>

<p>For example, many Android phones and tablets can (requires Android 3+). The ""magic"" is in the On-the-Go cable/adapter, which switches the phone into host mode by pulling the ID pin to GND.</p>
","49142"
"How can a resistor affect current AND potential at the same time?","47766","","<p>Though the resistor is always introduced as one of the most simple components it is the one which makes least sense to me.</p>

<p><strong>Ohm's law</strong> defines the resistance as$$R = \frac{V}{I}$$ this means that the voltage is defined as $$V = I \cdot R$$ and the current as $$I = \frac{V}{R}$$.</p>

<p>So following the law a resistor must affect <strong>both</strong> voltage and current however the reality is that it only changes one size.</p>

<ol>
<li>To lower the voltage</li>
<li>To lower the current</li>
</ol>

<p>This does not make much sense to me because in my understanding voltage and current <strong>must</strong> be <strong>lowered both</strong> but in the common LED resistor example it only affects one size:</p>

<p>$$
U = 9V\\
I = 30mA\\
R = 300Ω
$$</p>

<p>you also find use cases where only voltage is affected. How do I interpret this?</p>

<p><strong>What is the factor which determines if the resistor affects either voltage or current?</strong></p>
","<p>There is no factor that determines if the voltage or the current is reduced.  That whole concept is erroneous.</p>

<p>The simple statement you are looking for is:</p>

<p><strong><em>A Resistor Defines the Relationship Between the Voltage and the Current</em></strong></p>

<p>That is, if the current is fixed, then the resistor defines the voltage.  If the voltage is fixed, then the resistor defines the current.</p>

<p>In all three of the Ohm's Law formulae you will have two of the three values as fixed values - values you know, through measurement, or whatever, and the third variable is the one you want to find.  From there it's simple maths.</p>

<p>The LED example, though, throws an extra spanner in the works, since the LED isn't a <em>linear device</em>.  So its influence on the circuit is calculated separately before Ohm's Law is applied.</p>

<p>You have three known values, and you want to calculate a fourth.</p>

<p>The known values you have are: the supply voltage (9V), the LED forward voltage (say, 2.2V as an example), and the current you want to flow through the LED (30mA).</p>

<p>From that you want to calculate the value of the resistor.</p>

<p>So you subtract the LED's forward voltage from the supply voltage, since those are both fixed voltages, and the result will be the amount of voltage that must be dropped across the resistor for the whole to total 9V.  So 9V - 2.2V is 6.8V.  That is a fixed voltage.  The current you want is fixed too - you have decided on 30mA.</p>

<p>So the resistor value is then:
$$
R=\frac{V}{I}
$$
$$
\frac{6.8}{0.03} = 226.\overline{6}  \Omega ≈ 227  \Omega
$$
You will always have two of the three values as fixed values - either because they are set by external factors, like the power supply or battery voltage, or they are a specific value that you require or desire, when it is you who has set that value. The third value is what must be calculated to make both those fixed values hold true.</p>
","139690"
"How to build a USB controller having knobs, sliders, and switches","47736","","<p>How does one go about building an interface for a USB device that allows interfacing pots, linear/log tapers, and momentary/toggle switches to a computer?</p>

<p>If someone could give me a high-level description, I would appreciate it.  I can read spec sheets, so understanding details is not a problem as long as I know where to find the sheets.</p>
","<p>I'd use one of the <a href=""http://www.pjrc.com/teensy/index.html"">Teensy</a> boards. These are Arduino-like microcontroller boards which have USB support. Unlike the Arduino, they can appear to a PC as any sort of USB device. This means that you can create your own custom USB keyboard, joystick, MIDI device, etc and have the PC use standard drivers.</p>

<p>The Teensy supports the <a href=""http://www.pjrc.com/teensy/teensyduino.html"">Arduino IDE</a>, or you can program in C and use <a href=""http://www.fourwalledcubicle.com/LUFA.php"">LUFA</a> (for USB support) directly.</p>

<p>Here are some <a href=""http://www.pjrc.com/teensy/projects.html"">project links</a> to help.</p>
","1945"
"Why is feedback required in op-amp circuits?","47486","","<p>I understand that, in order for an op-amp to function correctly, a DC feedback loop from the output to either the inverting or the non-inverting input (depending on the external circuitry) is required.</p>

<p>What is the purpose of DC feedback when using op-amps? Why is it necessary and what would the effects be without it?</p>
","<p>An ideal opamp has infinite gain.  It amplifies the difference in voltage between the + and - pins.  Of course in reality this gain is not infinite, but still quite large.</p>

<p>The output of the opamp (at to some extents the input also) is constrained by the power supply, we can't get out more than the supply puts in. </p>

<p>If we simply put signals into the opamp without feedback it would multiply them by infinity and get a binary output (it would saturate at the supply rails)</p>

<p>So, we need some way of controlling the gain.  That is what the feedback does.</p>

<p>The feedback (DC as well as AC) takes part of the amplified output from the input, such that the gain is constrained much more by the feedback network, which is predictable, and much less by the massive (and unpredictable) open loop gain.</p>

<p>Even in an AC only circuit we still need feedback that works at DC (zero Hz) or the gain  would be only that of the open loop for DC signals.   You AC signal though constrained would be swamped by the DC open loop gain.</p>
","31948"
"Arduino Uno R3: Directly supply regulated 5V to 5V pin?","47178","","<p>I'd like to use an Arduino Uno R3 battery powered a datalogger. I want do supply it directly with a Step-Up <em>regulated</em> 5V rechargable battery powersource at power <code>pin 5V</code>. </p>

<p>I don't want to suppy it with 5V at the PowerJack or <code>Vin</code> because it's not necessary an would result in lower voltage when powered with 5V at <code>Vin</code> and unnecessary power dissipation at <code>U1</code>.</p>

<p>Let's take a look at the schematic: <a href=""http://arduino.cc/en/uploads/Main/Arduino_Uno_Rev3-schematic.pdf"">http://arduino.cc/en/uploads/Main/Arduino_Uno_Rev3-schematic.pdf</a></p>

<p>I've edited it, take a look at the green areas and blue paths (ignore the yellow area at first):<br>
<img src=""https://i.stack.imgur.com/pkWOu.png"" alt=""enter image description here""></p>

<p>Just supplying it at that <code>pin 5V</code> however might destroy the linear regulator <code>U1</code> that regulates >5V+ <code>Vin</code> down to 5V, I fear. </p>

<h2>Question</h2>

<ul>
<li>Is it acceptable and safe to suppy regulated 5V+ to <code>pin 5V</code>?</li>
<li>Should I additionally short it to <code>Vin</code>?</li>
</ul>

<p>Unfortunately there's no internal schematic for <code>U1</code> (NCP1117ST50T3G) in the <a href=""http://pdf1.alldatasheet.net/datasheet-pdf/view/174874/ONSEMI/NCP1117ST50T3G.html"">datasheet</a>.</p>

<h2>For interest</h2>

<p>Take a look at the yellow area: am I wrong or is the protection diode reversed? Shouldn't it have the catode at <code>USBVcc</code>?</p>

<h1>Edit 1:</h1>

<p>As three answers state that it would be the safest way supplying the Arduino with regulated 5V though USB, let I should clarify my question a bit: I'd like to fit the setup within a small case, so I want to avoid plugging in a USB cable if possible.</p>

<p>Except for testing purposes where this might happen by accident, it's not possible that <code>Vin</code>/<code>VccUSB</code> and <code>Vcc 5V</code> are available at the same time.</p>
","<p>Here's a less formal way to look at it: Providing power directly to the +5V pin is (almost) exactly what happens when the Uno is powered over USB. As USB power is perfectly fine, by design, then your setup should be OK too.</p>

<p>External regulated +5V can be supplied to the USBVCC net just as well, for example by using an USB-B cable.</p>

<p>As per the second question, you should <strong>not</strong> connect to V_in. NCP1117's output may then become an alternative, competing power-source and this is best to be avoided.</p>
","65581"
"What pad hole (drill) size is appropriate for a given through-hole lead diameter?","47159","","<p>I am making some new through-hole parts in Eagle for components that are not already in the various libraries. I've realized that the drill size needs to be a little larger than the lead diameter, but I'm not sure by how much.</p>

<p>With <a href=""http://www.circuitnet.com/experts/59132.shtml"">some</a> <a href=""http://en.wikibooks.org/wiki/Practical_Electronics/PCB_Layout#Holes"">research</a>, I found the following information:</p>

<ul>
<li>""It depends"" based on whether the component is being hand or machine soldered</li>
<li>add 6 mil to the lead diameter</li>
<li>7 to 15 mil (diametric gap) for 63/37 solder</li>
<li>5 to 10 mil (diametric gap) for lead-free/RoHS solder</li>
</ul>

<p>Is there a rule of thumb or guide to support this information? Someone referred to the  Industry Standard for Printed Board Design (IPC-2221), but the IPC apparently only provides the table of contents of the document unless you <a href=""https://portal.ipc.org/Purchase/ProductDetail.aspx?Product_code=db07d393-2133-e211-bf0f-00155d052876"">pay $100US</a>.</p>

<p><em>I'm planning on soldering the components by hand using 63/37 solder.</em></p>
","<p>You need the pin or wire to be able to fit thru the hole, but otherwise tighter is better.</p>

<p>First, you look at the specs from your board house.  They will give you the tolerance of final finished hole diameters from what you specify.  In some cases, they will round to the nearest drill size, with then a resulting diameter range for each such drill.  In other words, it is best to stick to a set of discrete hole sizes.  Check with your board house, but .020, .025, .029, .035, .040, .046, .052, .061, .067, .079, .093, .110, .125 inches is otherwise a good list to stick to.  If your board house guarantees finished hole diamter is &plusmn;3 mil, for example, from one of these standard drill sizes, then the first would be .017-.023, the second .022-.028, etc.  Note that these ranges overlap a little for common tolerance values.</p>

<p>Now look at the datasheet for your part and see what the maximum lead diameter can be.  If it's a round lead, it will tell you this directly.  If it is a rectangular lead, you have to do the math to find the maximum possible diagonal.  Either way, you end up with the minimum diameter hole the lead will fit into.</p>

<p>Now look thru your list of hole sizes and compare the minimum guaranteed size for each of them to the maximum diameter of the lead.  Specify the smallest drill size where the minimum diameter hole is larger than the maximum diamter lead.  If both come out to the same value, use the next higher drill size.</p>
","85337"
"What is the ppm in the crystal oscillator?","47041","","<p>I'm a student and I'm working on a low power communication project. I am trying to design a PCB using the <a href=""http://focus.ti.com/docs/toolsw/folders/print/cc2540dk-mini.html"">TI CC2540 sample design</a>. There is a MC-306 (32.768kHz, 12.5pf, and 20/50ppm). </p>

<p>I don't know what the 20/50ppm rating is. For me, the size is very important, so I decided to replace it with the <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=631-1002-1-ND"">FX135A</a>, but its ppm is -20/+20. Will it cause a problem if I use this one instead?</p>

<p>What is the ppm rating in the crystal oscillator?</p>
","<p>Like Olin said, <code>ppm</code> stands for <code>parts per million</code>, and it indicates how much your crystal's frequency may deviate from the nominal value. The MC-306 exists in a 20 ppm and a 50 ppm version. For the 20 ppm version this means that the frequency will be between 32.7673 kHz (32.768 - 20 ppm, or x 0.999980) and 32.7687 kHz (32.768 + 20 ppm, or x 1.000020). These numbers may give you a comfortable feeling, but remember that a month is 2.6 million seconds, so if you want to use a 20 ppm crystal to build an alarm clock, it may have an error of 1 minute per month.<br>
Crystals are available is different precisions, +/-20 ppm is more or less standard, for 10 ppm you'll pay more.<br>
Also, this is basic precision. This frequency may deviate depending on environment factors, mainly temperature.</p>
","15857"
"How can I efficiently drive an LED?","46969","","<p>I understand that I can not connect an LED directly to a battery because it will draw too much current. Thus, there must be something else in the circuit to limit the current. What options are there? Are some methods more efficient than others?</p>
","<p>An LED requires a minimum voltage before it will turn on at all. This voltage varies with the type of LED, but is typically in the neighborhood of 1.5V - 4.4V. Once this voltage is reached, current will increase very rapidly with voltage, limited only by the LED's small resistance. Consequently, any voltage much higher than this will result in a very huge current through the LED, until either the power supply is unable to supply enough current and its voltage sags, or the LED is destroyed.</p>

<p><img src=""https://i.stack.imgur.com/IXBNC.png"" alt=""diode only""></p>

<p>Above is an example of the current-voltage relationship for an LED. Since current rises so rapidly with voltage, usually we can simplify our analysis by assuming the voltage across an LED is a constant value, regardless of current. In this case, 2V looks about right.</p>

<h1>Straight Across the Battery</h1>

<p>No battery is a perfect voltage source. As the resistance between its terminals decreases, and the current draw goes up, the voltage at the battery terminals will decrease. Consequently, there is a limit to the current the battery can provide. If the battery can't supply too much current to destroy your LED, and the battery itself won't be destroyed by sourcing this much current, putting the LED straight across the battery is the easiest, most efficient way to do it.</p>

<p>Most batteries don't meet these requirements, but some coin cells do. You might know them from <a href=""http://www.instructables.com/id/LED-Throwies/"" rel=""noreferrer"">LED throwies</a>.</p>

<h1>Series Resistor</h1>

<p>The simplest method to limit the LED current is to place a resistor in series. We known from Ohm's law that the current through a resistor is equal to the voltage across it divided by the resistance. Thus, there's a linear relationship between voltage and current for a resistor. Placing a resistor in series with the LED serves to flatten the voltage-current curve above such that small changes in supply voltage don't cause the current to shoot up radically. Current will still increase, just not radically.</p>

<p><img src=""https://i.stack.imgur.com/uiB3J.png"" alt=""with resistor""></p>

<p>The value of the resistor is simple to calculate: subtract the LED's forward voltage from your supply voltage, and this is the voltage that must be across the resistor. Then, <a href=""https://electronics.stackexchange.com/questions/25222/calculating-resistor-value-and-power-rating-for-led-driving"">use Ohm's law</a> to <a href=""https://electronics.stackexchange.com/questions/17179/correct-formula-for-led-current-limiting-resistor"">find the resistance necessary</a> to get the current desired in the LED.</p>

<p>The big disadvantage here is that a resistor reduces the voltage by converting electrical energy into heat. We can calculate the power in the resistor with any of these:</p>

<p>\$ P = IE \$<br/>
\$ P = I^2 R \$<br/>
\$ P = E^2/R \$</p>

<p>Any power in the resistor is power not used to make light. <a href=""https://electronics.stackexchange.com/questions/17179/correct-formula-for-led-current-limiting-resistor"">So why don't we make the supply voltage very close to the LED voltage, so we don't need a very big resistor, thus reducing our power losses?</a> Because if the resistor is too small, it won't regulate the current well, and our circuit will be subject to large variations in current with temperature, manufacturing variation, and supply voltage, just as if we had no resistor at all. As a rule of thumb, at least 25% of the voltage should be dropped over the resistor. Thus, one can never achieve 
better than 75% efficiency with a series resistor.</p>

<p>You might be wondering if multiple LEDs can be put in parallel, sharing a single current limiting resistor. You can, but the result will not be stable, one LED may hog all the current, and be damaged. See <a href=""https://electronics.stackexchange.com/questions/22291/why-exactly-cant-a-single-resistor-be-used-for-many-parallel-leds"">Why exactly can't a single resistor be used for many parallel LEDs?</a>.</p>

<h1>Linear Current Source</h1>

<p>If the goal is to deliver a constant current to the LEDs, why not make a circuit that actively regulates the current to the LEDs? This is called a <a href=""http://en.wikipedia.org/wiki/Current_source"" rel=""noreferrer"">current source</a>, and here an example of one you can build with ordinary parts:</p>

<p><img src=""https://i.stack.imgur.com/7FXfq.png"" alt=""active current regulator""></p>

<p>Here's how it works: Q2 gets its base current through R1. As Q2 turns on, a large current flows through D1, through Q2, and through R2. As this current flows through R2, the voltage across R2 must increase (Ohm's law). If the voltage across R2 increases to 0.6V, then Q1 will begin to turn on, stealing base current from Q2, limiting the current in D1, Q2, and R2.</p>

<p>So, R2 controls the current. This circuit works by limiting the voltage across R2 to no more than 0.6V. So to calculate the value needed for R2, we can just use Ohm's law to find the resistance that gives us the desired current at 0.6V.</p>

<p>But what have we gained? Now any excess voltage is just being dropped in Q2 and R2, instead of a series resistor. Not much more efficient, and much more complex. Why would we bother?</p>

<p>Remember that with a series resistor, we needed at least 25% of the total voltage to be across the resistor to get adequate current regulation. Even so, the current still varies a little with supply voltage. With this circuit, the current hardly varies with supply voltage under <em>all</em> conditions. We can put many LEDs in series with D1, such that their total voltage drop is say, 20V. Then, we need only another 0.6V for R2, plus a little more so Q2 has room to work. Our supply voltage could be 21.5V, and we are wasting only 1.5V in things that aren't LEDs. This means our efficiency can approach \$20V / 21.5V = 93 \% \$. That's much better than the 75% we can muster with a series resistor.</p>

<p><img src=""https://i.stack.imgur.com/WXULC.png"" alt=""current source""></p>

<h1>Switched Mode Current Sources</h1>

<p>For the ultimate solution, there is a way to (in theory, at least) drive LEDs with 100% efficiency. It's called a <a href=""http://en.wikipedia.org/wiki/Switched-mode_power_supply"" rel=""noreferrer"">switched mode power supply</a>, and uses an inductor to convert any voltage to exactly the voltage needed to drive the LEDs. It's not a simple circuit, and we can't make it entirely 100% efficient in practice since no real components are ideal. However, properly designed, this can be more efficient than the linear current source above, and maintain the desired current over a wider range of input voltages.</p>

<p>Here's a simple example that can be built with ordinary parts:</p>

<p><img src=""https://i.stack.imgur.com/ZZjs9.png"" alt=""switched-mode LED driver""></p>

<p>I won't claim that this design is very efficient, but it does serve to demonstrate the principle of operation. Here's how it works:</p>

<p>U1, R1, and C1 generate a square wave. Adjusting R1 controls the duty cycle and frequency, and consequently, the brightness of the LED.</p>

<p>When the output (pin 3) is low, Q1 is switched on. Current flows through the inductor, L1. This current grows as energy is stored in the inductor.</p>

<p>Then, the output goes high. Q1 switches off. But an inductor acts as a flywheel for current. The current that was flowing in L1 must continue flowing, and the only way to do that is through D1. The energy stored in L1 is transferred to D1.</p>

<p>The output goes low again, and thus the circuit alternates between storing energy in L1 and dumping it in D1. So actually, the LED blinks rapidly, but at around 25kHz, it's not visible.</p>

<p>The neat thing about this is it doesn't matter what our supply voltage is, or what the forward voltage of D1 is. In fact, we can put many LEDs in series with D1 and they will still light, even if the total forward voltage of the LEDs exceeds the supply voltage.</p>

<p>With some extra circuitry, we can make a feedback loop that monitors the current in D1 and effectively adjusts R1 for us, so the LED will maintain the same brightness over a wide range of supply voltages. Handy, if you want the LED to stay bright as the battery gets low. Replace U1 with a microcontroller and make some adjustments here and there to make this more efficient, and you really have something.</p>

<p><img src=""https://i.stack.imgur.com/MI0CI.png"" alt=""ideal switching source""></p>
","55824"
"Why is three-phase offset by 120 degrees?","46949","","<p>For three phase electricity the wave is offset by 120 degrees(2\$\pi/3\$ Rad). Why aren't the phases closer together? Is it because it will affect the frequency of the phases? How was this 120 degrees chosen?</p>

<p><img src=""https://i.stack.imgur.com/Eb4Mc.jpg"" alt=""3 Phase Wave Form""></p>
","<p>When there's 120° between phases the sum of the voltages at any time will be zero.  </p>

<p><img src=""https://i.stack.imgur.com/3PQJx.gif"" alt=""3-phase vector diagram""></p>

<p>This means that with a balanced load no current flows in the return line (neutral).  </p>

<p><img src=""https://i.stack.imgur.com/pZRD7.gif"" alt=""3 current vectors added"">  </p>

<p>Also, if each phase is 230V with respect to the neutral (star operation), then there will be 230V \$\times\$ \$\sqrt{3}\$ = 400V between any two phases (triangle or delta operation), and they're also equally spaced, i.e. at 120° angles.  </p>

<p>(images from <a href=""http://www.electrician2.com/electa1/electa3htm.htm"" rel=""noreferrer"">http://www.electrician2.com/electa1/electa3htm.htm</a>)</p>
","12855"
"Switching DC with MOSFET: p-Channel or n-Channel; Low Side Load or High Side Load?","46841","","<p>I think, it is time I understand working principle of MOSFET transistors...</p>

<p><img src=""https://i.stack.imgur.com/QUrc7.png"" alt=""Illustration of Four Different Possibilities""></p>

<p>Suppose that;</p>

<ul>
<li>I want to switch voltage on a resistive load by a MOSFET transistor.  </li>
<li>Any control signal between -500V and +500V can be easily generated.  </li>
<li>The transistor models in the picture are not important, they can be of any other appropriate model as well.</li>
</ul>

<p><strong>Question #1</strong><br>
Which of the driving techniques are feasible? I mean, which of these four circuits would work with correctly applied control signals?</p>

<p><strong>Question #2</strong><br>
What is the range of the voltage level of the control signals (CS1, CS2, CS3, CS4) that loads and unloads the resistor? (I understand that exact boundaries of on and off states must be calculated individually. But I'm asking for approximate values to understand the working principle. Please give statements like ""<em>In circuit (2), the transistor turns on when CS2 is below 397V and turns off when above 397V.</em>"".)</p>
","<p>All the circuits are feasible when correctly driven, but 2 &amp; 3 are far more common, far easier to drive well and far safer wrt not doing things wrong.</p>

<p>Rather than give you a set of voltage based answers I'll give you some general rules which are much more useful once you understand them.</p>

<ul>
<li><p>MOSFETs have a safe maximum Vgs or Vsg beyond which they may be destroyed, This is usually about the same in either direction and is more a result of construction and oxide layer thicknesses. </p></li>
<li><p>MOSFET will be ""on"" when Vg is between Vth and Vgsm</p>

<ul>
<li>In a positive direction for N Channel FETs.   </li>
<li>In negative  direction for P Channel FETs.</li>
</ul></li>
</ul>

<p>This makes sense of controlling the FETs in the above circuits.</p>

<p>Define a voltage Vgsm as the maximum voltage that gate may be more +ve than source safely.<br>
Define -Vgsm as the most that Vg may be negative relative to s. </p>

<p>Define Vth as the voltage that a gate must be wrt source to just turn the FET on. Vth is +ve for N channel FETs and negative for P channel FETs.</p>

<hr>

<p>SO</p>

<p>Circuit 3<br>
MOSFET is safe for Vgs in range +/- Vgsm.<br>
 MOSFET is on for Vgs> +Vth</p>

<p>Circuit 2<br>
MOSFET is safe for Vgs in range +/- Vgsm.<br>
 MOSFET is on for - Vgs > -Vth (ie gate is more negative than drain by magnitude of Vth.</p>

<p>Circuit 1
<strong>Exactly the same as circuit 3</strong><br>
ie the voltages relative to the FET are identical. No surprise when you think about it. BUT Vg will now be ~= 400V at all timed.</p>

<p>Circuit 4
<strong>Exactly the same as circuit 2</strong><br>
ie the voltages relative to the FET are identical. Again, no surprise when you think about it. BUT Vg will now be ~= 400V below the 400V rail at all times. </p>

<p>ie the difference in the circuits is related to the voltage of Vg wrt ground for an N Channel FET and +400V for a P channel FET. The FET does not ""know"" the absolute voltage its gate is at - it only ""cares"" about voltages wrt source. </p>

<hr>

<p>Related - will arise along the way after the above discussion:</p>

<ul>
<li><p>MOSFETS are '2 quadrant' switches. That is, for an N channel switch where the polarity of gate and drain relative to the source in ""4 quadrants"" can be + +, + -, - - , and - +, the MOSFET will turn on with</p>

<ul>
<li>Vds = +ve and Vgs +ve   </li>
</ul>

<p>OR   </p>

<ul>
<li>Vds negative and Vgs positive</li>
</ul></li>
</ul>

<hr>

<p>Added early 2016:</p>

<p>Q:  You mentioned that the circuits 2 &amp; 3 are very common, why is that?<br>
 The switches can work in both quadrants, what makes one to choose P channel to N channel, high side to low side? –</p>

<p>A: This is largely covered in the original answer if you go through it carefully. But ...</p>

<p><strong>ALL circuits operate only in 1st quadrant when on:</strong> Your question about 2 quadrant operation indicates a misunderstanding of the above 4 circuits. I mentioned 2 quadrant operation at the end (above) BUT it is not relevant in normal operation. All 4 of the circuits above are operating in their 1st quadrant - ie Vgs polarity = Vds polarity at all times when turned on.<br>
2nd quadrant operation is possible ie<br>
 Vgs polarity = - Vds polarity at all times when turned on<br>
BUT this usually causes complications due to the inbuilt ""body diode"" in the FET - see ""Body Diode"" section at end.</p>

<p>In circuits 2 &amp; 3 the gate drive voltage always lies between the power supply rails, making it unnecessary to use ""special"" arrangements to derive the drive voltages. </p>

<p>In circuit 1 the gate drive must be above the 400V rail to get enough Vgs to turn on the MOSFET. </p>

<p>In circuit 4 the gate voltage must be below ground. </p>

<p>To achieve such voltages ""bootstrap"" circuits are often used which usually use a diode capacitor ""pump"" to give the extra voltage. </p>

<p>A common arrangement is to use 4 x N Channel in a bridge.<br>
The 2 x low side FETs have usual gate drive - say 0/12 V, and the 2 high side FETS need (here) sav 412V to supply +12V to the high side FETS when the FET is turned on. This is not technically hard but is more to do, more to go wrong and must be designed. The bootstrap supply is often driven by the PWM switching signals so there is a lower frequency at which you still get upper gate drive. Turn off the AC and the bootstrap voltage starts to decay under leakage. Again, not hard, just nice to avoid. </p>

<p>Using 4 x N channel is ""nice"" as<br>
all are matched,<br>
Rdson is usually lower for same $ than P channel.<br>
<strong>NOTE !!!:</strong> If packages are isolated tab or use insulated mounting all can go together on the same heatsink - BUT do take due CARE!!!<br>
In this case   </p>

<ul>
<li><p>The lower 2 have </p>

<ul>
<li><p>switched 400V on the drains and   </p></li>
<li><p>sources are grounded,   </p></li>
<li><p>gates are at 0/12V say.  </p></li>
</ul></li>
</ul>

<p>while </p>

<ul>
<li><p>the upper 2 have </p>

<ul>
<li><p>permanent 400V on the drains and </p></li>
<li><p>switched 400V on the sources and  </p></li>
<li><p>400/412 V on the gates. </p></li>
</ul></li>
</ul>

<p><strong>Body diode:</strong> All FETS that are usually encountered* have an ""intrinsic"" or ""parasitic"" reverse biased body diode between drain and source. In normal operation this does not affect intended operation. If the FET is operated in the 2nd quadrant (eg for N Channel Vds = -ve, Vgs = +ve) [[pedantry: call that 3rd if you like :-) ]] then the body diode will conduct when the FET is turned off when Vds is -ve. There are situations where this is useful and desired but they are not what is commonly found in eg 4 FET bridges. </p>

<p>*The body diode is formed due to the substrate that the device layers are formed on is conductive. Device with an insulating substrate (such as Silicon on Saphire), do not have this intrinsic body diode, but are usually very expensive and specialised).</p>
","18894"
"What is a Schmitt Trigger and its application exactly?","46516","","<p>i would like to ask about what is a Schmitt Trigger and about its application.</p>

<p>I searched a lot but still didn't understand it.  Please explain step by step and hope you help me in its applications in real circuits.</p>
","<p>Most devices have a set point which is the same for a rising signal as it is for a failing signal.  For signals that have fast rise times, this is not a problem, but for signals that have very slow rise times, or are noisy, the can cause the output of the device to oscillate back and forth from off to on and back due to the signal hovering right at the set point.</p>

<p>So a Schmitt trigger is a device (or the input portion of a device) that has separate thresholds for a rising signal and a failing signal.  Obviously the threshold for the former is higher.</p>

<p><img src=""https://i.stack.imgur.com/oD2Pa.jpg"" alt=""enter image description here""></p>

<p>In this diagram, two bands are shown.  The top one represents the high set point, and the low band represents the low set point.  They are shown as bands since there will be some tolerance in the specification.  The difference between the bottom of the high band and top top of the low band is the hysteresis of the device.</p>

<p>As mentioned earlier, Schmidt triggers can be used for either slowly changing signals, or noisy ones.  Here are some examples of places where Schmitt triggeers can be used:</p>

<p><img src=""https://i.stack.imgur.com/1VBG2.jpg"" alt=""enter image description here""></p>

<p>There are many ways to buy or build Schmidt triggers.  There are many logic ICs that include Schmitt triggers on their inputs, <a href=""http://www.nxp.com/documents/data_sheet/74HC_HCT132.pdf"" rel=""noreferrer"">such as the 74HCT132</a>, but it has fixed thresholds..  You can also build one using discreet transistors, but the easiest is just to use an op-amp since the only additional components needed to add the hysteresis are resistors:</p>

<p><img src=""https://i.stack.imgur.com/dvcTR.jpg"" alt=""enter image description here""></p>

<p>Unlike a lot of Schmitt trigger schematics found on the web, this one uses an op-amp with a single supply.  The voltage thresholds \$V_{\text{high}}\$ and \$V_{\text{low}}\$ are set using a combination of the voltage divider resistors \$R_1/R_2\$ and the feedback resistor \$R_{\text{FB}}\$:</p>

<p>$$R_{1\text{FB}} = \frac{(R_1 \times R_{\text{FB}})}{(R1 + R_{\text{FB}})}$$</p>

<p>$$V_{\text{high}} = \frac{(V \times R_2)}{(R_2 + R_{1\text{FB}})}$$</p>

<p>$$R_{2\text{FB}} = \frac{(R_2 \times R_{\text{FB}})}{(R_2 + R_{\text{FB}})}$$</p>

<p>$$V_{\text{low}} = \frac{(V \times R_{2\text{FB}})}{(R_1 + R_{2\text{FB}})}$$</p>

<p>There is a nice <a href=""http://pcbheaven.com/drcalculus/index.php?calc=st_nonsym_sp"" rel=""noreferrer"">Schmitt Trigger Calculator</a> that makes it easy to figure out the resistor values you need.</p>
","109285"
"Converting Power/Watts in DC to Power/Watts in AC?","46419","","<p>How can we convert Watts in DC to Watts in AC? for e.g A device needs 1A and 12V DC input i.e (1A x 12V = 12 Watts) 12 Watts DC. If we use an AC to DC adapter/converter to generate 1A,12V (12Watts) DC then What will be the AC Power/Watts that we have to input into the device's adapter/converter?</p>
","<ul>
<li>Watts out DC  = 75% to 90% of AC Watts in in most cases. </li>
</ul>

<p>See below:</p>

<p>At 100% efficiency ADC Watts out = AC Watts in.<br>
 Energy is 'conserved"" and energy = Watts x time. 
eg we often measure energy in Watt.seconds = Watts x seconds operated = Joules.</p>

<p>The efficiency of conversion depends on the technology.<br>
 Power level and voltage also gave an effect.</p>

<p>Using a conventional iron transformer the AC mains to AV low voltage conversion probably is > 95% efficient. Rectification efficiency depends on voltage and diodes used. As a silicon diode drops 0.6V or more a single diode can account for (0.6V/5V+0.6) ~=   11% efficiency loss. If a bridge rectifier is used there are two diodes in the circuit and this can account for over 20% efficiency loss.</p>

<p>If a switching power supply is used the overall efficiency is liable to be in the 75% to 90% range. More than 90% efficiency is possible with special care.</p>

<p>So Watts out DC  = 75% to 90% of AC Watts in in most cases. </p>

<hr>

<p>Q: ""you mean that for 90W or 75W DC out we will need 100W AC input?""</p>

<p>A: </p>

<p>Rearrange these equations:</p>

<p>1.</p>

<ul>
<li>DC_Watts = 75% AC_Watts.</li>
</ul>

<p>so </p>

<ul>
<li>AC_Watts - .....</li>
</ul>

<p>2.</p>

<ul>
<li>DC_Watts = 95% AC_Watts.</li>
</ul>

<p>so </p>

<ul>
<li>AC_Watts - .....</li>
</ul>

<p>ie if Watts_Out = Watts_in x Efficiency        ( 0 &lt;= Efficiency &lt;= 1.0)</p>

<p>Then</p>

<p>if = Watts_in = Watts_Out / Efficiency.          ( 0 &lt;= Efficiency &lt;= 1.0)</p>
","23836"
"How to calculate power consumed by an electrical device in a specified amount of time?","46182","","<p>Say for example I have a TV with ""140 watts"" marked on it. Does this mean the TV consumes 140W per minute? Per hour? Per day? How is the power consumed by device calculated from the device specification?</p>
","<p>If a car is travelling at 40 mph it doesn't mean it travels at 40 mph per minute.</p>

<p>If a TV is consuming 140 watts it means it consumes 140 joules per second.</p>

<p>What you get charged for by your utility company is joules and that is oddly (but acceptably) converted (without mathematical error) to watt seconds or more conveniently watt hours or kilowatt hours.</p>

<p>Maybe that is what confused you?</p>
","102828"
"Why is the chassis used as ground in automotive electrical circuits","46114","","<p>Automotive electronics generally use the metal chassis as the negative ground connector for the DC circuits. Obviously this saves something on wiring. Is there an electrical reason for this approach?</p>

<p>(I am not asking why negative instead of positive, but why metal frame instead of wire.)</p>
","<p>There's not an electrical reason, but instead a weight reason.  By using the existing metal structure as a ground, it effectively reduces the number of wires by around half, and therefore saving a great deal of weight.  (For example, otherwise each tail light would have to have two wires instead of one.)  </p>

<p>Remember too, that some electrical loads in an automobile use a lot of current. A starter motor, for example, very commonly uses 0 AWG wire which weighs about 0.5 kg/m.</p>

<p>Interestingly, although not your question, the choice of negative versus positive is entirely arbitrary.  In fact, back in the 1960s, Volkswagen used a 6V ""positive ground"" system for the Beetle up to around 1967 when they finally changed to the 12V negative ground system that is standard today.</p>
","132202"
"Why use PLC instead of microcontroller?","46076","","<p>Why does everyone use PLCs in industrial environments, instead of a microcontroller based solution?</p>

<p>For a longer task, the PLC program is as complicated as a microcontroller program. </p>

<p>A microcontroller based solution may be more customisable, and of lower price.</p>
","<p>I'd think a major factor is people. The engineers that can design a microcontroller to run a factory are busy making batches of small devices. Engineers that work on brand name PLCs use standard software packages, they don't have to deal with lower level programming, most problems they encounter someone else has already solved with that hardware (comms to strange devices, IO issues, PIDs). Also the engineers are interchangeable, with a good spec or code commenting you don't need the engineer that built a system there when you need to change the code.</p>

<p>It's also a bit like asking why would someone buy a PC when they could build their own.</p>
","48716"
"How to reverse rotation direction of stepper motor","45956","","<p>Is it possible to reverse a stepper motor's direction of rotation by changing the polarities of its wires?</p>

<p>I'm asking because I have two stepper motors connected to one single driver and mounted on one axle, and I would like to spin the axle from both sides so one motor would have to spin clockwise and the other one counterclockwise.</p>
","<p><img src=""https://i.stack.imgur.com/JvO4W.png"" alt=""enter image description here""></p>

<p>(Your bipolar 4 wire motor?) Current through 1a, 1b coils will turn the rotor so it is aligned as shown above. Turn on the current (in the appropriate direction) the rotor turns clockwise (half step) between 1a, 2a. Turn off the current to 1a, 1b and the rotor turns clockwise (another half step) to align with 2a, 2b. Reversing the direction of the current in the coils produces motion in the same direction. To change direction you need to reverse the current in one set of coils only. At the moment the two motors are connected in parallel and turn in the same direction. Swap ONE of the coil pairs over and you should be able to get the two motors turn in the opposite direction with the same drive signal.
<img src=""https://i.stack.imgur.com/tqWmd.png"" alt=""enter image description here""></p>
","70701"
"AC to DC without transformer. How does this thing work?","45758","","<p>I disassembled a Chinese-made flashlight and found they use just capacitors to bring down the voltage instead of a transformer. They are using it to charge small lead-acid battery.</p>

<p>My question is how a capacitor alone can be used to bring 220 V down to 6 or 12 V?</p>

<p><img src=""https://i.stack.imgur.com/FLljC.jpg"" alt=""Top-view""></p>

<p><img src=""https://i.stack.imgur.com/zPN4w.jpg"" alt=""Bottom-view""></p>
","<p>A capacitor is an impedance and at (say) 50 Hz, a 1 uF capacitor will have an impedance of 3183 ohms - if you put this capacitor directly across the AC (at 220 V), the current that would flow is about 70 mA.</p>

<p>OK, so it's not directly across the AC supply because it feeds a bridge rectifier and battery <em>but</em> it will provide a decent enough source of current to charge the battery. The voltage is limited by the battery itself.</p>

<p>Be aware that this type of circuit is not isolated from the incoming AC and stripping it down is OK providing you don't switch it on while still stripped down&mdash;the voltages are lethal.</p>

<p>Here's something like the circuit it uses:</p>

<p><img src=""https://i.stack.imgur.com/gcKcK.png"" alt=""enter image description here""></p>
","126488"
"When people talk about a device ""drawing"" current, what do they mean? Why do devices under load ""draw"" more current?","45741","","<p>In my (extremely rudimentary) understanding, the amount of current flowing in a circuit is determined by a) its resistance, and b) the voltage of the power source (voltage from beginning to end), which forces the charge to flow through.</p>

<p>Why then, do people talk about a device ""drawing"" extra current when e.g. a motor encounters a heavy force? If anything, I would expect this to increase the resistance in the circuit, and thus <em>decrease</em> the current that flows through. What say does a load in the circuit have in how much charge is forced through? How can it draw more out?</p>

<p>Alternately: where is my understanding of these interactions flawed? :)</p>
","<p>Think of it as ""drawing"" extra breath whilst jogging as opposed to walking.</p>

<p>A circuit under normal conditions will appear as a certain impedance. For instance, a DC motor operating without a mechanical load will spin at a rate determined by the number of its windings, contacts, permanent magnets etc. As a load is applied to the shaft, the rotor decelerates, reducing the impedance of the windings being contacted. Simplistically, the impedance is determined by the speed (frequency) at which it spins. As the windings are inductive, the reduction in angular frequency reduces the impedance. As a result, the current increases, so it ""draws more breath"", so to speak.</p>
","95878"
"Is it possible to power a cordless drill from wall socket adapter?","45631","","<p>I have a dewalt 18V cordless drill. I am wondering if it is feasible to build an adapter that can power the drill from a standard US wall socket?</p>

<p>A typical DeWalt drill needs 2.6 amps with no-load. I am assuming this jumps significantly higher under load. Most DeWalt motors have a stall current over 250 amps...</p>

<p>Any insight would be greatly appreciated!!</p>
","<p>It would be possible to build such and adapter.  It would depend on the rating of your drills and how you want to plug in the power.  </p>

<p>Either way a cordless drill has a DC motor so it will require a step down transformer and a full wave bridge rectifier.  Probably also need a regulator and a few capacitors.    You might be able to use the power transformer from a laptop or some other device.  But the voltage must match the drill and the ampere requirement must be very similar (more you can fry the drill less you can fry the power supply.)  </p>

<p>As for how you attach the power supply I would recommend building the interface out of an old battery pack so you don’t have to modify the drill.  But it should be possible to add an auxiliary power jack to the drill as well.</p>

<ul>
<li><a href=""http://www.aircraftdynamics.com/71.htm"">DeWalt Tool Adapter (longer life battery packs)</a></li>
</ul>
","12365"
"Why are h-parameters used?","45595","","<p>What is the reason for using h-parameters when describing transistors? Why are they used instead of the physical description?</p>
","<p>You don't use h-parameters instead of a transistor.  H-parameters are one system for characterizing bipolar transistors.  The h-parameters of a transistor will give you a good idea what it can do, how to use it effectively in a circuit, and whether it is appropriate for a particular circuit.</p>

<p>In practise, only a few h-parameters are commonly used.  The most common one if hfe, which stands for h-forward-emitter.  That means it is the ratio of output to input in the common emitter configuration, which in turn means it is the ratio of collector current to base current, which is basically the gain of a bipolar transistor.  Beta is another similar but not completely identical measure of gain, although in most cases the two can be used interchangably since a good circuit doesn't rely on exact values of gain anyway.</p>

<p>Sometimes you might see hre (h-reverse-emitter) which is a measure of how good a current source the transistor is at a particular fixed base current.</p>

<p>There are more h-parameters, but they get increasingly obscure and less commonly used.</p>
","20499"
"Can capacitors be replaced with higher capacitance ones?","45489","","<p>I have a bad capacitor on this LCD power board. I have rev 2.6, and I noticed there is a rev 2.8 board that looks like it didn't get skimped on in parts. Can I install capacitors in my rev 2.6 board as they are used in the 2.8?</p>

<p>My board:</p>

<blockquote>
  <p><img src=""https://i.stack.imgur.com/i9nLu.jpg"" alt=""x20wg-1080p rev 2.6""><br />
  <strong>9 x 470μF</strong>,
  1 x 100μF,
  1 x 22μF,
  1 x 10μF</p>
</blockquote>

<p>Here's the rev 2.8:</p>

<blockquote>
  <p><img src=""https://i.stack.imgur.com/P4p8h.jpg"" alt=""x20wg-1080p rev 2.8""> <br />
  <strong>6 x 1000μF</strong>,
  4 x 470μF,
  1 x 100μF,
  1 x 22μF
  1 x 10μF</p>
</blockquote>

<p>The differences are circled in blue. My board seems to use lower rated capacitors, is missing one, and the microchip looks slightly different. The pictures are of the entire boards.</p>
","<p>The IC that you are pointing out is a 3W (or maybe a 2x 2W) stereo audio power amp.</p>

<p>The one in rev 2.6 is a SM7496L, which I am having a hard time finding any info about, but it is essentially the same thing as rev 2.8 just a different manufacture, so it is probably safe to assume that circuit should be the same around them. This means it should be safe to put a larger capacitance value on it.</p>

<p>For the group of 3 with one missing, it looks like these are next to something that is probably a voltage regulator with a big heat-sink on it. If this is the case, go read the answers for this question <a href=""https://electronics.stackexchange.com/questions/8121/capacitor-sizes-for-7805-regulator"">Capacitor Sizes for 7805 Regulator</a></p>

<p>For the other 2 capacitors, these look like they could either be used with the 2 diodes or could also be for the voltage regulator.</p>
","15880"
"Difference between natural response and forced response?","45412","","<h2>Reference</h2>

<p><strong>Second</strong> post on <a href=""http://www.edaboard.com/thread57404.html"">EdaBoard.com</a></p>

<blockquote>
  <p>Time response of a system is the time evolution of the variables. In
  circuits, this would be the waveforms of voltage and current versus
  time.</p>
  
  <p>Natural response is the system's response to initial conditions with
  all external forces set to zero. In circuits, this would be the
  response of the circuit with initial conditions (initial currents on
  inductors and initial voltage on capacitors for example) with all the
  independent voltages set to zero volts (short circuit) and current
  sources set to zero amps (open circuit). The natural response of the
  circuit will be dictated by the time constants of the circuit and in
  general roots of the characteristics equation (poles).</p>
  
  <p>Forced response is the system's response to an external stimulus with
  zero initial conditions. In circuits, this would just be the response
  of the circuit to external voltage and current source forcing
  function... <a href=""http://www.edaboard.com/thread57404.html"">continue reading</a></p>
</blockquote>

<h2>Questions</h2>

<ol>
<li><p>How can there be even a natural response? Something has to be inputted to create an output? The way I see it is like turning of the main water line and then turning on your faucet and expecting water to come out.</p></li>
<li><p>How can we <code>v(t)</code> (from the link above) be solved for if we don't know <code>dv(dt)</code> in order to find the natural response? </p></li>
<li><p>If you can please expand on the 2 concepts (natural response and forced response) by explaining their differences in Layman's terms, it would be lovely.</p></li>
</ol>

<p><hr>
@Felipe_Ribas Can  you please confirm this and answer some of the questions? (you can just edit this directly if you want)</p>

<ol>
<li>Given an an equation <code>10dy/dt + 24y = 48</code> means <code>rate of change of output + 24 * output = 48</code>. The initial conditions are <code>y(0)=5</code> and <code>dy/dt=0</code>.
<ul>
<li>That would mean that the input is <code>48/(24*5)</code> Is that a correct assumption? The solution to that is <code>0.4</code> which is the constant input?</li>
</ul></li>
</ol>
","<p>Think about a simple mechanical system like an elastic bar or a block attached to a spring against gravity, in real world. Whenever you give the system a pulse (to the block or to the bar), they will begin an oscillation and soon they will stop moving.</p>

<p>There are ways that you can analyze a system like this. The two most common ways are:</p>

<p>-Complete solution = homogeneous solution + particular solution</p>

<p>-Complete response = Natural resopnse (zero input) + forced response (zero state)</p>

<p>As the system is the same, both should result the same final equation representing the same behavior. But you can separate them to better understand what each part means physically (specially the second method).</p>

<p>In the first method, you think more from the point of view of a LTI system or a mathematical equation (differential equation) where you can find its homogeneous solution and then its particular solution. The homogeneous solution can be viewd as a transient response of your system to that input (plus its initial conditions) and the particular solution can be viewed as the permanent state of your system after/with that input.</p>

<p>The second method is more intuitive: natural response means what is the system response to its initial condition. And forced response is what is the system response to that given input but with no initial conditions. Thinking in terms of that bar or block example I gave, you can imagine that at some point you pushed the bar with your hands and you are holding it there. This can be your initial state. If you just let it go, it will oscillate and then stop. This is the natural response of your system to that condition.</p>

<p>Also you can let it go but still keeps giving some extra energy to the system by hitting it repeatedly. The system will have its natural response as before but will also show some extra behavior due to your extra hits. When you find your system complete response by the second method, you can see clearly what is the system natural behavior due to those initial conditions and what is the system response if it had only the input (with no initial conditions). They both together will represent all the system's behavior.</p>

<p>And note that the Zero State response (Forced response) also may consist of a ""natural"" portion and a ""particular"" portion. That is because even with no initial conditions, if you give an input to the system, it will have a transient response + permanent state response.</p>

<hr>

<p>Example response:
imagine that your equation represent the following circuit:</p>

<p><img src=""https://i.stack.imgur.com/0oXxd.gif"" alt=""RL Circuit""></p>

<p>Which your output y(t) is the circuit current. And imagine your source is a DC source of +48v. This way, making the summation of element's voltage in this closed path, you get:</p>

<p>\$\epsilon=V_L+V_R\$</p>

<p>We can rewrite the inductor voltage and resistor voltage in terms of current:</p>

<p>\$\epsilon=L\frac{di}{dt} + Ri\$</p>

<p>If we have a power source of +48VDC and L = 10H and R = 24Ohms, then:</p>

<p>\$48=10\frac{di}{dt}+24i\$</p>

<p>which is exaclty the equation you used. So, clrearly your input to the system (RL circuit) is your power supply of +48v only. So your input = 48.</p>

<p>The initial conditions you have are y(0) = 5 and y'(0) = 0. Physically it represents that at a t=0 moment, my current of the circuit is 5A but it is not varying. You may think that something happened previously in the circuit which left a current in the inductor of 5A. So in that given moment (initial moment) it sill has those 5A (y(0)=5) but it is not increasing or decreasing (y'(0) =  0).</p>

<p>Solving it:</p>

<p>we first assume the natural response in the format: \$Ae^{st}\$</p>

<p>and then we will find the system behavior due to its initial condition, just as if we had no power supply (\$\epsilon=0\$) which is the Zero-Input response:</p>

<p>\$10sAe^{st} + 24Ae^{st} = 0\$</p>

<p>\$Ae^{st}(10s + 24)=0\$</p>

<p>\$s=-2,4\$</p>

<p>So,</p>

<p>\$i_{ZI}(t)=Ae^{-2,4t}\$</p>

<p>Since we know that i(0) = 5:</p>

<p>\$i(0)=5=Ae^{-2,4 . 0}\$</p>

<p>\$A=5\$</p>

<p>\$i_{ZI}(t)=5e^{-2,4t}\$</p>

<p>Note that until now everything is consistent. This last equation represents the system response with no input. If I put t=0, I find i=5 which correspond to the initial condition. And if I put \$t=+\infty\$ I will find i=0 which also makes sense if I do not have any source.</p>

<p>Now we may find the particular solution to the equation which will represent the permanent state due to the power supply presence (input):</p>

<p>we assume now that \$i(t)=c\$ where \$c\$ is a constant value which represents the system output in the permanent state since the input is also a constant. For each system, the output format depends on the input format: if the input is a sinusoidal signal, the output also will be. In this case we have only constant values which makes things easier.</p>

<p>So,</p>

<p>\$\frac{di}{dt}=0\$</p>

<p>then,</p>

<p>\$48 = 0.10 + 24c\$ (using the differential equation)</p>

<p>\$c=2\$</p>

<p>\$i(\infty)=2\$</p>

<p>which also makes sense because we have a DC power supply. So after the transient response of turning the DC power supply ON, the inductor will behave as a wire and we will have a resistive circuit with R=24Ohms. Then we should have 2A of current since the power supply has 48V accross it.</p>

<p>But note that if I just add both results to find the complete response, we will have:</p>

<p>\$i(t) = 2 + 5e^{-2,4t}\$</p>

<p>Now I messed things up in the transient state because if I put t=0 we no longer will find i=5 as before. And we <strong>have</strong> to find i=5 when t=0 because it is a given initial condition. This is because the Zero-State response has a natural term which is not there and also has the same format as we found before. Adding it there:</p>

<p>\$i(t) = 2 + 5e^{-2,4t} + Be^{st}\$</p>

<p>The time constant is the same so it only left us B:</p>

<p>\$i(t) = 2 + 5e^{-2,4t} + Be^{-2,4t}\$</p>

<p>And we know that:</p>

<p>\$i(t) = 2 + 5 + B = 5\$ (t=0)</p>

<p>So,</p>

<p>\$B=-2\$</p>

<p>Then, your complete solution is:</p>

<p>\$i(t) = 2 + 5e^{-2,4t} - 2e^{-2,4t}\$</p>

<p>you may think of this last term we find as a correction term of the forced response to match the initial conditions. Another way to find it is imagining the same system but no with no initial conditions. Then solving all the way again, we would have:</p>

<p>\$i_{ZS}(t) = 2 + Ae^{-2,4t}\$</p>

<p>But as we now are not considering the initial conditions (i(0)=0), then:</p>

<p>\$i_{ZS}(t) = 2 + Ae^{-2,4t} = 0\$</p>

<p>And when t=0:</p>

<p>\$A=-2\$</p>

<p>so the <strong>forced</strong> (Zero-State) response of your system is:</p>

<p>\$i_{ZS}(t) = 2 - 2e^{-2,4t}\$</p>

<p>It is a bit confusing but now you can view things from different perspectives.</p>

<p>-Homogeneous/Particular solutions:</p>

<p>\$i(t) = i_p(t)+i_n(t) = 2 + 3e^{-2,4t}\$</p>

<p>The first term (2) is the particular solution and represents the permanent state. The rest of the right side is the transient response, also called homogeneous solution of the equation. Some books call this also Natural response and Forced response since the first part is the forced part (due to the power supply) and the second part is the transient or natural part (system's characteristic). This is the fastest way to find the complete response I think, because you only have to find the permanent state and a natural response once. But may not be clear what is representing what.</p>

<p>-Zero input / zero state:</p>

<p>\$i(t) = i_{ZS}(t)+i_{ZI}(t) = 2 - 2e^{-2,4t} + 5e^{-2,4t}\$</p>

<p>note that is the same equation but the second term is splitted in two. Now, the first two terms (\$2 - 2e^{-2,4t}\$) represent the Zero-State response. In other words, what would happen to the system if there was no initial current and you turned ON the +48V power source.</p>

<p>The second part (\$5e^{-2,4t}\$) represent the Zero-Input response. It shows you what would happen to the system if no input was given (power source remained in 0v). It is only an exponential term which would go to zero since it has no input.</p>

<p>Some people also call this Natural/Forced response format. The natural part would be Zero-Input and the Forced part would be the Zero-State, which by the way is composed by a natural term and particular term.</p>

<p>Again, they all will give you the same result which represents the whole situation behavior including the power source and initial conditions. Just note that in some cases it might be useful to use the second method. One good example is when you are using convolutions and you may find the impulse response to your system with Zero-State. So breaking those terms might help you to see things clearly and also using an adequate term to convolve.</p>
","93064"
"Best transistor to use for audio amplifier","45275","","<p>This term, we will be designing an audio amplifier. So far in our lecture, we are still at BJT and based from what I've heard, FETs will just be partly discussed unlike the thorough one on BJT. Anyway, I would like to have an idea this early so I can plan on what transistor to use for best audio amplification. I have read some threads how the other transistor (BJT/FET) is better, but other forums say that the performance relies not on the component but on how the transistor is properly biased and how the circuit is properly designed.</p>

<p>In designing an audio amplifier, which of the four subtypes of transistors is the most efficient? (NPN/PNP/JFET/MOSFET) </p>

<p>By the way, the requirement of my professor is just this: <em>impress me.</em> Right now my group haven't decided yet on the specifics of the circuit (wattage, impedance, etc).</p>
","<p>You could successfully build a audio amp from many different types of BJTs.  It will be the circuit, not the transistor, that makes the amp work well.  I'd pick jellybean parts like the 2N4401 (NPN) and 2N4403 (PNP) and stick with them for everything except for the final power output transistors.  Lots of parts could fill that role.  If you have your own favorite jellybean small signal transistors, use them if you prefer.  The ones I mentioned have reasonable gain and can handle up to 40 V, which should be plenty good enough to allow for a amp to impress your profesor with.</p>

<p>There are lots of possible power transistors to use as the final output.  If you are aiming for a few Watts, I'd probably go with basic parts like the TIP41 (NPN) and TIP42 (PNP).</p>

<p>Again though, it's not the choice of transistor that will make or break this project.  You can certainly create a impressive audio amp with the transistors I mention, but you can also make a mess.  It's really up to the design.  In audio, overall noise and harmonic distortion are high priorities.  Those come from careful circuit design and attention to these parameters at every step along the way.</p>

<p>You can also use other types of transistors, like JFETs or MOSFETs.  Those would require a different circuit topology to utilize properly, but can be used to make a good amp too.  Since you will be going over BJT details more thoroughly, I'd stick to them for now.  This will be a great learning exercise.  Designing a amp with very low noise and very low distortion is not trivial.</p>
","97830"
"Why is there so much fear surrounding LiPo batteries?","45180","","<p>I've been trying to design a charging system for a small robot powered by a 2S 20C <a href=""https://en.wikipedia.org/wiki/Lithium_polymer_battery"">lithium polymer</a> (LiPo) battery. Were I to trust everything I read online, I would believe that the LiPo will kill me in my sleep and steal my life savings. The common advice I read, if you are brave enough to use LiPo batteries, is ""never leave unattended"", ""never charge on top of a flammable or conductive surface"", and ""never charge at a rate faster than 1&nbsp;<a href=""https://en.wikipedia.org/wiki/Battery_%28electricity%29#C_rate"">C</a>"".</p>

<p>I understand why this is prudent, but what is the actual risk with LiPo batteries?</p>

<p>Nearly every cell phone, both Android and iPhone alike, contains a LiPo battery, which most people, including myself, charge while unattended&mdash;often-times while left on a flammable or conductive surface. Yet you never hear about someone bursting into flames because their cell phone exploded. Yes, I know there are freak accidents, but how dangerous are modern LiPo batteries? Why do so many online commenters treat stand-alone LiPo batteries like bombs waiting to go off, but don't even think twice about the LiPo sitting in their pocket?</p>
","<p>Every cell phone (as well as laptop and nearly everything with a rechargeable battery) uses <a href=""https://en.wikipedia.org/wiki/Lithium-ion_battery"">LiIon</a>/LiPo (essentially equivalent for the purposes of this discussion). And you're right: In terms of actual incidences, lithium ion and lithium polymer are the safest battery chemistry to be in wide use, bar none.</p>

<p>And the only reason this now ubiquitous chemistry hasn't murdered you and/or your family several times over is because these cells <strong><em>aren't</em></strong> charged unattended. You may not be attending it personally, but every single one of those lithium ion batteries has a significant amount of protection and monitoring circuitry that is permanently integrated into the pack. It acts as the gatekeeper. It monitors every cell in a battery.</p>

<ul>
<li>It disconnects the output terminals and prevents them from being overcharged. </li>
<li>It disconnects the output if they are discharged at too high a current. </li>
<li>It disconnects the output if it is <strong><em>CHARGED</em></strong> at too high a current. </li>
<li>If any of the cells is going bad, output is disconnected. </li>
<li>If any cell gets too hot, it disconnects the output. </li>
<li>If any one of the cells is overdischarged, it disconnects the output (and permanently - if you forget to charge a lithium ion battery for too long, you will find that it will no longer charge. It is effectively destroyed, and the protection circuit will not permit you to charge the cells). </li>
</ul>

<p>Indeed, every single phone battery, laptop battery, *whatever battery that is a rechargeable lithium chemistry is the most closely monitored, scrutinized, and actively managed, diametric opposite of 'unattended' as one can get for a battery.</p>

<p>And the reason so much extra trouble is done is because lithium ion batteries <strong><em>are actually that dangerous</em></strong>. They <em>need</em> protection circuitry to be safe, and they are not even remotely safe without it. Other chemistries such is <a href=""https://en.wikipedia.org/wiki/Nickel%E2%80%93metal_hydride_battery"">NiMH</a> or <a href=""https://en.wikipedia.org/wiki/Nickel%E2%80%93cadmium_battery"">NiCad</a> can be used relatively safely as bare cells, without any monitoring. If they get too hot, they can vent (which has happened to me personally), and it can be pretty startling, but it isn't going to burn down your house or land you an extended stay in a burn unit. Lithium ion batteries will do both, and that's pretty much the only outcome. Ironically, lithium ion batteries have become the safest packaged battery by being the most dangerous battery chemistry.</p>

<p>You might be wondering what actually makes them so dangerous.</p>

<p>Other battery chemistries, such as lead acid or NiMH or NiCad, are not pressurized at room temperature, though heat does generate some internal pressure. They also have aqueous, non-flammable electrolytes. They store energy in the form of a relatively slow oxidation/reduction reaction, one whose rate of energy release is too low to, say, cause them to eject 6 foot jets of flame. Or any flame, really.</p>

<p>Lithium ion batteries are fundamentally different. They store energy like a spring. That's not a metaphor. Well, like two springs. Lithium ions are forced between the atoms of a covalently-bonded anode material, pushing them apart and 'stretching' the bonds, storing energy. This process is called <a href=""https://en.wikipedia.org/wiki/Intercalation_%28chemistry%29"">intercalation</a>. Upon discharge, the lithium ions move out of the anode and into the cathode. This is very much electromechanical, and both the anode and cathode experience significant mechanical strain from this.</p>

<p>In fact, both anode and cathode alternatively increase or decrease in physical volume depending on the battery's state of charge. This change in volume is uneven however, so a fully charged lithium ion battery is actually exerting nontrivial amounts of pressure on its container or other parts of itself. Lithium ion batteries are generally under a lot of internal pressure, unlike other chemistries.</p>

<p>The other problem is their electrolyte is a volatile, extremely flammable solvent that will burn quite vigorously and easily.</p>

<p>The complex chemistry of lithium ion cells is not even completely understood, and there are a few different chemistries with different levels of reactivity and inherent danger, but the ones with high energy density all can undergo thermal runaway. Basically, if they get too hot, lithium ions will begin reacting with oxygen stored as metal oxides in the cathode and release even more heat, which accelerates the reaction further.</p>

<p>What inevitably results is a battery that self-ignites, sprays its highly flammable solvent electrolyte out of itself, and promptly ignites that as well, now that a fresh supply of oxygen is available. That's just bonus fire however, there is still a ton of fire from the lithium metal oxidizing with the ample store of oxygen inside.</p>

<p>If they get too hot that happens. If they are overcharged, they become unstable and mechanical shock can make them go off like a grenade. If they are overdischarged, some of the metal in the cathode undergoes an irreversible chemical reaction and will form metallic shunts. These shunts will be invisible, until charging expands part of the battery enough that the separating membrane is punctured by one of these shunts, creating a dead short, which of course results in fire, etc.: The lithium ion failure mode we know and love.</p>

<p>So, just to be clear, not only is overcharging dangerous, but so is overdischarging, and the battery will wait until you've pumped a ton of energy back into it before spectacularly failing on you, and without any warning or measurable signs.</p>

<p>That covers consumer batteries. All this protection circuitry is less able to mitigate the danger of high drain applications, however. High drain generates no small amount of heat (which is bad) and more worrying, it causes huge amounts of mechanical stress on the anode and cathode. Fissures can form and widen, leading to instability if you're unlucky, or just a shorter useful life if it is not too severe. This is why you see LiPos rated in 'C', or how quickly they can be safely discharged. Please, take those ratings seriously and derate it, both for safety and because many manufacturers simply lie about the C rating of their batteries.</p>

<p>Even with all that, sometimes an RC Lipo will just burst into flame for no reason. You absolutely need to heed the warnings to never charge them unattended, and everything else. You should buy a safety bag to charge them in, because it might prevent your house burning down (possibly with you or loved ones inside). Even if the risk is very low, the damage it can cause is vast, and the measures needed to mitigate most of that potential for damage are trivial.</p>

<p>Don't ignore everything you're being told - it's all spot on. It comes from people who have learned to respect LiPos for what they are, and you should too. The thing you definitely want to avoid is having this lesson taught to you by a lithium ion battery, instead of peers online and offline. The latter might flame you on a forum, but the former will <em>literally</em> flame you.</p>

<h1>Let's see some videos of stuff exploding!</h1>

<p>Let me go a little more into how they fail. I've discussed the mechanism, but what really happens? Lithium ion batteries really only have one failure mode, which is kind of exploding then shooting out a stunningly huge amount of fire in a giant jet of flame for several seconds, and then continuing general burning-related activities for a bit after that. This is a chemical fire, so you cannot extinguish it (lithium ion batteries will still shoot out huge jets of fire even in the vacuum of space. The oxidizer is contained inside, it doesn't need air or oxygen to burn). Oh, and throwing water on lithium does <a href=""https://youtu.be/vRKK6pliejs?t=32s"">nothing good</a>, at least in terms of fire reduction.</p>

<p>Here is a 'greatest hits' list of some good examples of failure. Note that this does sometimes happen in high drain RC cases even with proper safety measures in place. Comparing high drain applications to the much safer and lower currents of phones is not at all a valid one. Hundreds of amperes ≠ a few hundred milliamperes.</p>

<p><a href=""https://youtu.be/k9mcNvOGKtI?t=27s"">RC plane failure.</a></p>

<p><a href=""https://youtu.be/7-xPHopebiE?t=10s"">Knife stabs smartphone sized battery.</a></p>

<p><a href=""https://www.youtube.com/watch?v=EseOhC8n7ro"">Overcharged LiPo spontaneously explodes.</a></p>

<p><a href=""https://youtu.be/CVf4GW9jp-8?t=39s"">Laptop battery in thermal runaway is lightly pressed on, making it explode.</a></p>
","230164"
"When is a MOSFET more appropriate as a switch than a BJT?","44962","","<p>In my experimentation, I've used only BJTs as switches (for turning on and off things like LEDs and such) for my MCU outputs. I've been repeatedly told, however, that N-channel enhancement-mode MOSFETs are a better choice for switches (see <a href=""https://electronics.stackexchange.com/questions/13063/how-do-i-saturate-an-npn-transistor/13067#13067"">here</a> and <a href=""https://electronics.stackexchange.com/questions/11344/building-a-simple-mcu-driven-array-of-leds/11356#11356"">here</a>, for examples), but I'm not sure I understand why. I do know that a MOSFET wastes no current on the gate, where a BJT's base does, but this is not an issue for me, as I'm not running on batteries. A MOSFET also requires no resistor in series with the gate, but generally DOES require a pulldown resistor so the gate doesn't float when the MCU is rebooted (right?). No reduction in parts count, then.</p>

<p>There doesn't seem to be a great surplus of logic-level MOSFETs that can switch the current that cheap BJTs can (~600-800mA for a 2N2222, for example), and the ones that do exist (TN0702, for example) are hard to find and significantly more expensive.</p>

<p>When is a MOSFET more appropriate than a BJT? Why am I continually being told that I should be using MOSFETs?</p>
","<p>BJTs are much more suitable than MOSFETs for driving low-power LEDs and similar devices from MCUs. MOSFETs are better for high-power applications because they can switch faster than BJTs, enabling them to use smaller inductors in switch-mode supplies, which increases efficiency.</p>
","13081"
"What is the meaning of a battery's ""cycle life?""","44726","","<p>I started to read about batteries, I am interested in lithium batteries, I found a <a href=""http://www.igbattery.com/FAQ.html"" rel=""noreferrer"">description</a> regarding the stability and capacity/weight, but I read some unclear descriptions like ""cycle.""</p>

<p>What does ""cycle life"" mean?
What are the charge/discharge numbers?
What if the battery is discharged to 60% and then charged to 80%, Does this count as a cycle?   </p>
","<p>The cycle life is the number of <strong>complete charge/discharge cycles that the battery is able to support before that its capacity falls under 80% of it's original capacity</strong>. So if the battery is discharged to 60 % and then charged to 80% it isn't a complete cycle.</p>

<p>You could find more information in <a href=""http://www.mpoweruk.com/life.htm"" rel=""nofollow"">this</a> site. Your link says that cycle life is the number of charge/recharge cycles that the battery can support before that it's capacity falls under 85%, my link says 80%. These datas are indicative and I think that can vary a little bit. Generally cycle life means <strong>the number of charge/recharge cycles before a battery starts to reduce visibly its performance</strong>.</p>

<p>According to your link the Li Po batteries generally can support 600 <strong>full</strong> charge/recharge cycles before its capacity falls under 85-80%. Remember that this value is only indicative and this number can vary a lot depending the manufacturer and the product quality.</p>
","74253"
"Modifying an automotive 12V power outlet to disable power when car is off?","44701","","<p>Recently, on a business trip, I had a rental car. Now, in my car, all of my 12V power outlets are always on. On the rental car, some of them were always on, some of them were only on when the car was on. Is there a way that I could hack my existing 12V outlets to either have some of them only be active when the car is on, or better, add a simple toggle switch that will toggle them between running always or only when the car is on? </p>
","<p>The solution ends up being very, very dependent on the exact model of your car and the physical distribution of the outlets within the vehicle.</p>

<p>You'll need a service manual for your car that has a complete wiring diagram.  Check first before you buy one, as many only have block diagrams or step-by-step electrical tests instead of full wiring diagram.</p>

<p>Next, identify the 12V outlets on the wiring diagram.  Outlets that are on all the time are likely connected to B+ (straight to the battery) via a 15A fuse.  Outlets that are on only with the key will be connected to a relay that will be on with the run/ignition (IGN) or accessory (ACC) key positions.  It, too, will have a 15A fuse upstream from the outlets.  </p>

<p>EDIT:  Even if your car doesn't have switched outlets, chances are that it has <em>something</em> that is switched on only with the key is in Accessory or Run positions.  This is where things become very model-specific.  If this is a classic car where the key switch directly controls power to the + side of the ignition coil, connect your new relay coil to that terminal.  If it's a newer car, look first for an IGN or ACC relay.  In the unlikely event you can't find one, find something that is switched on and off with the key, and tap the power to that device to operate your relay.  Be sure to have transient protection (flyback diode or snubber) on your relay coil if you do this.</p>

<p>I'd recommend adding a separate relay and fuse in parallel with your existing IGN/ACC relay, then running dedicated 14-12AWG wire to each DC outlet.  You can then install an SPDT toggle to switch between the existing (always on) and new (on with key) 12V supplies, with the center switch terminal connected to the DC outlet.  Make sure that you use a switch that is rated for 15ADC or better.</p>
","56588"
"how to select capacitor values","44558","","<p>I am trying to find information on formulas used to calculate capacitance required for a given circuit. Not a circuit in particular, just in general how to figure out what value should be used. I know about selecting voltage ratings at least 20% higher than the max possible voltage, or even more cautious selecting at least double the expected voltage. But have not found much on finding the value in capacitance that will be needed.</p>

<p>It is beginning to look as though there are many different formula depending the the specific capacitors application in a circuit. For example I found to calculate a filter capacitor in a power supply, C = I / (Vripple x 100). </p>

<p>So as I said, I am just trying to find a good resource (or a few) about calculating values of capacitors for various applications. Thanks for checking out my question, I am excited to get reading and figure this out.</p>
","<p>In order to how much cap to use where, you need to know a fair bit about capacitors in general:</p>

<ul>
<li>The different types (electrolytic, film, ceramic, tantalum, OS-CON, metalized film, etc.)</li>
<li>Their characteristics (impedance, ESR, ESL, polarity, temperature rise, dielectric, etc.)</li>
<li>Their failure modes (aging, over voltage, reverse voltage, thermal runaway, etc.)</li>
</ul>

<p>You also really need to know <em>why</em> a cap is being used for a particular purpose, such as:</p>

<ul>
<li>Power supply output caps: less to do with holding the voltage up, more to do with ensuring the ripple voltage isn't excessive</li>
<li>Power supply input bulk capacitors: mainly to do with hold-up time (keeping the output up for a short time after the input is removed)</li>
<li>EMI filter: providing specific frequency attenuation, in coordination with other filter components</li>
<li>Decoupling: providing instantaneous current to a circuit; a function of the circuit and the physical layout</li>
</ul>

<p>Good luck with your knowledge quest. It will take some time but as you gain experience, things will get clearer.</p>
","67870"
"Ceramic vs. Film Capacitor: Which one is preferred in audio circuits?","44488","","<p>I'm considering building an amplifier following instructions from a MAKE magazine article.</p>

<p>However, as I was reading the <a href=""http://archive.makezine.com/images/23/MAKE23_MiniChipAmpSchematic.pdf"">circuit schematic</a>, I noticed that the author denotes that the capacitors C101, C104, and C105 are supposed to be ""film capacitors.""  Is there a reason as to why one would use film instead of ceramic capacitors in this application?  Also, if a website denotes ""<em>metal</em> film capacitors"", is that the same as a ""film capacitor""?</p>

<p>Right now, the only difference I know of in types of capacitors is that electrolytic capacitors have a polarity, while ceramic ones don't.  I was wondering if film vs. ceramic has a similar differentiation.</p>
","<p>""Film Capacitor"" typically denotes polyester or polymer film as the dielectric - as another answer points out, <em>metallized</em> film capacitors are the same thing: A metallic coating being applied to an extremely thin polymer film, to create the conducting electrodes of the capacitor.</p>

<p>In general, ceramic capacitors are somewhat non-linear in their frequency and voltage responses, compared to film capacitors. Another issue with ceramic capacitors is that they tend to behave as microphones, thus picking up ambient sound and modulating the voltage across them accordingly.</p>

<p>Also, for smaller values (a few pF), ceramics were more commonly used, while larger values were somewhat  likely to have film considered as an option - or at least that was how it used to be, before capacitors became so inexpensive with the advent of SMT, that the price difference became negligible except for huge volumes. </p>

<p>Both film caps and ceramic ones are non-polarized, so that isn't a difference. </p>
","69924"
"Why Are Ethernet/RJ45 Sockets Magnetically Coupled?","44483","","<p>As the title says really, why do ethernet sockets need to be mag-coupled? I have a basic understanding of electronics, but mostly, I can't figure out the right search terms to google this properly.</p>
","<p>The correct answer is <i>because the ethernet specification requires it</i>.</p>

<p>Although you didn't ask, others may wonder why this method of connection was chosen for that type of ethernet.  Keep in mind that this applies only to the point-to-point ethernet varieties, like 10base-T and 100base-T, not to the original ethernet or to ThinLan ethernet.</p>

<p>The problem is that ethernet can support fairly long runs such that equipment on different ends can be powered from distant branches of the power distribution network within a building or even different buildings.  This means there can be significant <i>ground offset</i> between ethernet nodes.  This is a problem with ground-referenced communication schemes, like RS-232.</p>

<p>There are several ways of dealing with ground offsets in comunications lines, with the two most common being opto-isolation and transformer coupling.  Transformer coupling was the right choice for ethernet given the tradeoffs between the methods and what ethernet was trying to accomplish.  Even the earliest version of ethernet that used transformer coupling runs at 10 Mbit/s.  This means at the very least the overall channel has to support 10 MHz digital signals, although in practise with the encoding sheme used it actually needs twice that.  Even a 10 MHz square wave has levels lasting only 50 ns.  That is very fast for opto-couplers.  There are light transmission means that go much much faster than that, but they are not cheap or simple at each end like the ethernet pulse transformers are.</p>

<p>One disadvantage of transformer coupling is that DC is lost.  That's actually not that hard to deal with.  You make sure all information is carried by modulation fast enough to make it thru the transformers.  If you look at the ethernet signalling, you will see how this was considered.</p>

<p>There are nice advantages to transformers too, like very good common mode rejection.  A transformer only ""sees"" the voltage accross its windings, not the common voltage both ends of the winding are driven to simultaneously.  You get a differential front end without a deliberate circuit, just basic physics.</p>

<p>Once transformer coupling was decided on, it was easy to specify a high isolation voltage without creating much of a burden.  Making a transformer that insulates the primary and secondary by a few 100 Volts pretty much happens unless you try not to.  Making it good to 1000 Volts isn't much harder or much more expensive.  Given that, ethernet can be used to communicate between two nodes actively driven to significantly different voltages, not just to deal with a few volts of ground offset.  For example, it is perfectly fine and within the standard to have one node riding on a power line phase with the other referenced to the neutral.</p>
","27762"
"Do capacitors automatically release their energy over time?","44364","","<p>Will a capacitor automatically release its energy over time?  Or will it stay in there until manually discharged?</p>

<p>So let's say I've had an old computer sitting around for a year and decide to take every piece apart... am I in danger of being shocked by the capacitors?</p>
","<p>In theory it will. If an ideal capacitor is charged to a voltage and is disconnected it will hold it's charge.</p>

<p>In practice a capacitor has all kinds of non-ideal properties. Capacitors have 'leakage resistors'; you can picture them as a very high ohmic resistor (mega ohm's) parallel to the capacitor. When you disconnect a capacitor, it will be discharged via this parasitic resistor. </p>

<p>A big capacitor may hold a charge for some time, but I don't think you will ever get much further than 1 day in ideal circumstances. You should watch out if you have turned on the PC just 'a moment ago', but if you let it unplugged for a couple of hours and it will be fine.</p>

<p>The capacitors in the mains power supply are the most suspicious, these contain high voltages and high capacitance. If you don't know for sure, measure them. You can short them out if you find something, like the device Nick shows.. (it's probably a high voltage 1 kilo ohm resistor or something with some wires and isolation). But I suspect those are quite expensive and more designed for really high voltage situations (like kV's).</p>

<p>Or if you dare an old isolated screw driver (watch out for sparks though! :-) ). But I think it's obvious a very direct short will not enlarge the life of the components.</p>
","32532"
"Can you make a non-polar electrolytic capacitor out of two regular electrolytic capacitors?","44340","","<p>There was some discussion on this question </p>

<ul>
<li><a href=""https://electronics.stackexchange.com/questions/3062/what-are-some-reasons-to-connect-capacitors-in-series/3073#3073"">What are some reasons to connect capacitors in series?</a></li>
<li><a href=""https://electronics.stackexchange.com/questions/3062/what-are-some-reasons-to-connect-capacitors-in-series/4320#4320"">What are some reasons to connect capacitors in series?</a></li>
</ul>

<p>which I don't see as being conclusively resolved:</p>

<ul>
<li>""turns out that what might LOOK like two ordinary electrolytics are not, in fact, two ordinary electrolytics.""</li>
<li>""No, do not do this. It will act as a capacitor also, but once you pass a few volts it will blow out the insulator.""</li>
<li>'Kind of like ""you can't make a BJT from two diodes""'</li>
<li>""it is a process that a tinkerer cannot do""</li>
</ul>

<p>So is a non-polar (NP) electrolytic cap electrically identical to two electrolytic caps in reverse series, or not?  Does it not survive the same voltages?  What happens to the reverse-biased cap when a large voltage is placed across the combination?  Are there practical limitations other than physical size?  Does it matter which polarity is on the outside?</p>

<p>I don't see what the difference is, but a lot of people seem to think there is one.</p>

<p><strong>Summary:</strong> </p>

<p>As posted in one of the comments, there's a sort of electrochemical diode going on:</p>

<blockquote>
  <p>The film is permeable to free electrons but substantially impermeable to ions, provided the temperature of the cell is not high. When the metal underlying the film is at a negative potential, free electrons are available in this electrode and the current flows through the film of the cell. With the polarity reversed, the electrolyte is subjected to the negative potential, but as there are only ions and no free electrons in the electrolyte the current is blocked. — <a href=""http://ebooksgo.org/engineering-technology/ElectrolyticCapacitors.pdf"" rel=""nofollow noreferrer"">The Electrolytic Capacitor by Alexander M. Georgiev</a></p>
</blockquote>

<p>Normally a capacitor cannot be reverse-biased for long, or large currents will flow and ""destroy the center layer of dielectric material via electrochemical reduction"":</p>

<blockquote>
  <p>An electrolytic can withstand a reverse bias for a short period, but will conduct significant current and not act as a very good capacitor. — <a href=""https://en.wikipedia.org/wiki/Electrolytic_capacitor#Polarity"" rel=""nofollow noreferrer"">Wikipedia: Electrolytic capacitor</a></p>
</blockquote>

<p>However, when you have two back-to-back, the forward-biased capacitor prevents a prolonged DC current from flowing.</p>

<p><a href=""http://www.avx.com/docs/techinfo/17_Reverse.pdf"" rel=""nofollow noreferrer"">Works for tantalums, too</a>:</p>

<blockquote>
  <p>For circuit positions when reverse voltage excursions are unavoidable,
  two similar capacitors in series connected “back to back” ... will create a
  non-polar capacitor function ... This works because almost all the circuit voltage
  is dropped across the forward biased capacitor, so that the reverse
  biased device sees only a negligible voltage.</p>
</blockquote>

<p><a href=""http://www.vishay.com/docs/40110/faq.pdf"" rel=""nofollow noreferrer"">Solid Tantalum Capacitors Frequently Asked Questions (FAQs)</a>:</p>

<blockquote>
  <p>The oxide dielectric construction that is used in tantalum capacitors
  has a basic rectified property which blocks current flow in one
  direction and at the same time offers a low resistance path in the
  opposite direction.</p>
</blockquote>
","<p>Summary:</p>

<ul>
<li><p>Yes ""polarised"" aluminum ""wet electrolytic"" capacitors can legitimately be connected ""back-to-back"" (ie in series with opposing polarities) to form a non-polar capacitor. </p></li>
<li><p>C1 + C2 are always equal in capacitance and voltage rating<br>
Ceffective =  = C1/2 = C2/2</p></li>
<li><p>Veffective = vrating of C1 &amp; C2. </p></li>
<li><p>See <strong>""Mechanism""</strong> at end for how this (probably) works.</p></li>
</ul>

<hr>

<p>It is universally assumed that the two capacitors have identical capacitance when this is done.<br>
 The resulting capacitor  with half the capacitance of each individual capacitor.<br>
 eg if two x 10 uF capacitors are placed in series the resulting capacitance will be 5 uF.</p>

<p>I conclude that the resulting capacitor will have the same voltage rating as the individual capacitors. (I may be wrong).</p>

<p>I have seen this method used on many occasions over many years and, more importanttly have seen the method described in application notes from a number of capacitor manufacturers. See at end for one such reference. </p>

<p>Understanding how the individual capacitors become correctly charged requires either faith in the capacitor manufacturers statements (""act as if they had been bypassed by diodes"" or additional complexity BUT understanding how the arrangement  works once initiated is easier.<br>
 Imagine two back-to-back caps with Cl fully charged and Cr fully discharged.<br>
 If a current is now passed though the series arrangement such that Cl then discharges to zero charge then the reversed polarity of Cr will cause it to be charged to full voltage.   Attempts to apply additional current and to further discharge Cl so it assumes incorrect polarity would lead to Cr being charge above its rated voltage. ie it could be attempted BUT would be outside spec for both devices. </p>

<p>Given the above, the specific questions can be answered:</p>

<blockquote>
  <p>What are some reasons to connect capacitors in series?</p>
</blockquote>

<p>Can create a bipolar cap from 2 x polar caps.<br>
 OR can double rated voltage as long as care is taken to balance voltage distribution. Paralleld resistors are sometimes used to help achieve balance. </p>

<blockquote>
  <p>""turns out that what might LOOK like two ordinary electrolytics are not, in fact, two ordinary electrolytics.""</p>
</blockquote>

<p>This can be done with oridinary electrolytics. </p>

<blockquote>
  <p>""No, do not do this. It will act as a capacitor also, but once you pass a few volts it will blow out the insulator.""</p>
</blockquote>

<p>Works OK if ratings are not exceeded.</p>

<blockquote>
  <p>'Kind of like ""you can't make a BJT from two diodes""'</p>
</blockquote>

<p>Reason for comparison is noted but is not a valid one. Each half capacitor is still subject to same rules and demands as when standing alone. </p>

<blockquote>
  <p>""it is a process that a tinkerer cannot do""</p>
</blockquote>

<p>Tinkerer can - entirely legitimate.</p>

<blockquote>
  <p>So is a non-polar (NP) electrolytic cap electrically identical to two electrolytic caps in reverse series, or not?   </p>
</blockquote>

<p>It coild be but the manufacturers usually make a manufacturing change so that there are two Anode foils BUT the result is the same. </p>

<blockquote>
  <p>Does it not survive the same voltages? </p>
</blockquote>

<p>Voltage rating is that of a single cap.</p>

<blockquote>
  <p>What happens to the reverse-biased cap when a large voltage is placed across the combination? </p>
</blockquote>

<p>Under normal operation there is NO reverse biased cap.  Each cap handles a full cycle of AC whole effectively seeing half a cycle. See my explanation above. </p>

<blockquote>
  <p>Are there practical limitations other than physical size? </p>
</blockquote>

<p>No obvious limitation that i can think of.</p>

<blockquote>
  <p>Does it matter which polarity is on the outside?</p>
</blockquote>

<p>No. Draw a picture of what each cap sees <strong>in isolation</strong> without reference to what is ""outside it. Now change their order in the circuit. What they see is identical.  </p>

<blockquote>
  <p>I don't see what the difference is, but a lot of people seem to think there is one.</p>
</blockquote>

<p>You are correct. Functionally from a ""black box"" point of view they are the same. </p>

<hr>

<p><strong>MANUFACTURER'S EXAMPLE:</strong></p>

<p>In this document <a href=""http://electrochem.cwru.edu/encycl/misc/c04-appguide.pdf"">Application Guide, Aluminum Electrolytic Capacitors</a> bY Cornell Dubilier, a competent and respected capacitor manufacturer it says (on age 2.183 &amp; 2.184) </p>

<ul>
<li><p>If two, same-value, aluminum electrolytic capacitors
are connected in series, back-to-back with the positive
terminals or the negative terminals connected, the
resulting single capacitor is a non-polar capacitor with
half the capacitance.   </p>

<p>The two capacitors rectify the
applied voltage and act as if they had been bypassed
by diodes.  </p>

<p>When voltage is applied, the correct-polarity capacitor gets the full voltage. </p>

<p>In non-polar aluminum electrolytic capacitors and motor-start aluminum electrolytic capacitors a second anode foil substitutes for the cathode foil to achieve a non-polar capacitor in a single case.</p></li>
</ul>

<p>Of relevance to understanding the overall action is this comment from page  2.183.</p>

<ul>
<li><p>While it may appear that the capacitance is between
the two foils, actually the capacitance is between the
anode foil and the electrolyte.  </p>

<p>The positive plate is the
anode foil; </p>

<p>the dielectric is the insulating aluminum
oxide on the anode foil; </p>

<p>the true negative plate is the
conductive, liquid electrolyte, and the cathode foil
merely connects to the electrolyte. </p>

<p>This construction delivers colossal capacitance
because etching the foils can increase surface area
more than 100 times and the aluminum-oxide dielectric is less than a micrometer thick.  Thus the resulting
capacitor has very large plate area and the plates are
awfully close together.</p></li>
</ul>

<hr>

<p>ADDED:</p>

<p>I intuitively feel as Olin does that it should be necessary to provide a means of maintaining correct polarity. In practice it seems that the capacitors do a good job of accommodating the startup ""boundary condition"". Cornell Dubiliers ""acts like a diode"" needs better understanding. </p>

<hr>

<p><strong>MECHANISM:</strong></p>

<p>I think the following describes how the system works.</p>

<p>As I described above, once one capacitor is fully charged at one extreme of the AC waveform and the other fully discharged then the system will operate correctly, with charge being passed into the outside ""plate"" of one cap, across from inside plate of that cap to the other cap and ""out the other end"". ie a body of charge transfers to and from between the two capacitors and allows net charge flow to and from through the dual cap. No problem so far.</p>

<p>A correctly biased capacitor has very low leakage.<br>
 A reverse biased capacitor has higher leakage and possibly much higher.<br>
 At startup one cap is reverse biased on each half cycle and leakage current flows.<br>
 The charge flow is such as to drive the capacitors towards the properly balanced condition.<br>
 This is the ""diode action"" referred to - not formal rectification per say but leakage under incorrect operating bias.<br>
 After a number of cycles balance will be achieved. The ""leakier"" the cap is in the reverse direction the quicker balance will be achieved.<br>
 Any imperfections or inequalities will be compensated for by this self adjusting mechanism. 
 Very neat.</p>
","21932"
"Free circuit simulator for educational purposes","44117","","<p>I am looking for a free circuit simulator for educational purposes. My requirements are:</p>

<ol>
<li>Visual (""draw a circuit diagram, click simulate"")</li>
<li><p>It should contain light bulbs as circuit components such that</p>

<p>2.1. They become (visually) brighter if you apply more power</p>

<p>2.2. You can change the manufacturer specs for example ""3.5V,0,2A""</p></li>
<li><p>It should contain swiches, npn-transistors, diodes and LEDs as well (the LEDs should react to interactive changes in the simulation)  </p></li>
</ol>

<p>Any recommodations for this? It would be nice if the simulator runs under Linux, but that's not a strict requirement. </p>
","<p>I often use the falstad simulator:  <a href=""http://www.falstad.com/circuit"" rel=""nofollow noreferrer"">http://www.falstad.com/circuit</a></p>

<p>It's a Java applet, so will work on pretty much any operating system.  The interface does take a bit of getting used to, and there are problems saving in Linux (it gives you a link to copy and paste, and copy and paste in Java doesn't work too well in Linux).</p>

<p>Other than that it ticks all your boxes.  It also has some good sample circuits.
A <a href=""https://sourceforge.net/projects/circuitmod/"" rel=""nofollow noreferrer"">Windows version (circuitmod)</a> is based on this.</p>
","24611"
"How to connect USB Connector shield?","44080","","<p>How should I route USB Connector shield on PCB? Should it be connected to GND plane right where USB is placed, or should  the shield be isolated from GND, or should it be connected to ground through ESD protection chip, high resistance resistor or fuse?</p>

<p>PS. Should I put the shield connections on schematic, or just route it on PCB?</p>
","<p>For the shield to be effective, it requires as low impedance connection as possible to your shield ground.  I think those recommending resistors, or not connecting it to ground at all, or strictly talking about your digital logic ground, and assuming you have a separate shield ground.  If you have a metal enclosure, this will be your shield ground.  At some point, your digital ground must connect to your shield ground.  For EMI reasons, this single point should be close to your I/O area.  This means it's best to place your USB connector with any other I/O connectors around one section of the board and locate your shield to logic ground point at that location.  There are some exceptions to the single point, rule, if you have a solid metal enclosure without any apertures, for example, multiple connection points can be helpful.  In any case, at shield to circuit ground connection, some may recommend using a resistor or capacitor (or both) but rarely is there a reasonable reason to do this.  You want a low inductance connection between the two to provide a path for common mode noise.  Why divert noise though parasitic capacitance (e.g. radiate it out into the environment)?  The only reason usually given for such tactics is to prevent ground loops, but you're talking about USB, ground loops most likely won't be an issue for most USB applications.  Granted, such tactics will prevent ground loops, but they will also rend your shielding all but ineffective. </p>
","10778"
"Is there any bidirectional 5v-3.3v level shifter?","44023","","<p>Is there any IC that interfaces any 3.3V Input/Output to 5V Output/Input? I need it primarily for an Arduino Due but if there any bidirectional IC that works like that it would be great.</p>

<p>Some people advised me to use the SN74AHC125 and CD4050 ICs, but I don't understand how they work or how to interface with them.</p>
","<p>A very simple bidirectional level translator can be made with a single N-mosfet:  </p>

<p><img src=""https://i.stack.imgur.com/rsm1H.jpg"" alt=""enter image description here""></p>

<p>The mosfet used should be a model with a low Vgs threshold, so that it can have a relatively low Rds-ON (ON resistance) at the intended input voltage level (3.3v in this case).<br>
<a href=""http://www.onsemi.com/pub_link/Collateral/BSS138LT1-D.PDF"">BSS138</a> in one such example, it has a Vgs-th of 1.5v max and is specified to have a low drain-source resistance with Vgs voltages as low as 2.5v (maybe slightly lower too).</p>

<p>The shown example uses 3.3v &lt;-> 5v translation but it can also work with 2.5v &lt;-> 3.3v or 2.5v &lt;-> 5v, even between 2.5v &lt;-> 12v. The range is only limited by the characteristics of the mosfet used.</p>

<p>The shown circuit is based on an application note from NXP<br>
<a href=""http://www.adafruit.com/datasheets/an97055.pdf"">AN97055 Bi-directional level shifter for
I2C-bus and other systems</a><br>
<a href=""http://www.nxp.com/documents/application_note/AN10441.pdf"">New shorter version: AN10441
Level shifting techniques in I2C-bus design
</a></p>

<p>When L1 is high (3v3) or floating R1 keeps the mosfet off so R2 pulls the drain side high (to 5v).</p>

<p>When L1 is pulled low then the mosfet conducts and the drain becomes low.</p>

<p>When a low level (0) is applied to H1 then that voltage is transferred through the substrate diode to the source side (L1)</p>

<p>Please note that the resistance size can affect the speed (<a href=""http://delphys.net/d.holmes/hardware/levelshift.html"">image source</a>)</p>

<p><img src=""https://i.stack.imgur.com/aizZr.gif"" alt=""enter image description here""></p>

<p>Alternative <a href=""http://www.hagtech.com/pdf/translator.pdf"">transistor solution</a>
<img src=""https://i.stack.imgur.com/YJTsh.jpg"" alt=""enter image description here""></p>

<hr>

<p><strong>Relevant articles you may find useful:</strong></p>

<ul>
<li><p><a href=""http://edn.com/design/analog/4318916/Don-t-pay-for-level-translators-in-systems-using-multiple-power-supply-voltages"">Don't pay for level translators in systems using multiple power-supply voltages - EDN</a></p></li>
<li><p><a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/chapter%208.pdf"">3V Tips 'n Tricks - Microchip</a></p></li>
</ul>
","97892"
"How to interpret the output of a 3-pin computer fan speed sensor?","43988","","<p>I have a 3-pin 12 V computer fan and I want to interpret its speed sensor output. At the yellow wire I get something that looks like pulse-with modulation. How would I interpret the output without actually connecting the fan to a computer?</p>
","<p>Brief background: The tachometer output comes from a Hall-effect sensor mounted on the motor driver PCB on the fan frame. One or more magnets embedded in the fan rotor hub activate the Hall-effect sensor as they pass by. The sensor is amplified, and eventually drives a logic circuit. The fans that I have seen use an open drain/open collector output.</p>

<p>One (or more) pulse is generated every time the the fan rotor completes a revolution. The number of pulses counted in one minute is directly proportional to the RPM of the fan. In your fan's case, I think it would be reasonable to guess that there are two pulses generated for each revolution. With the frequency that you have measured, about 1500 RPM sounds right, given that you are running it at 10V (12V nominal) and the typical is 1800-2000 RPM.</p>

<p>If you want a more visual approach, you can make a crude strobe tachometer using just a LED and resistor. Connect a LED (brighter is better) and an appropriate current-limiting resistor between power and the tachometer pin. If you mark one of the fan blades with something easy to see, like a sticker, you should be able to shine the LED on the fan blades and see the sticker illuminated in two places. You can use this technique to count the number of times the tachometer output goes low each rotation, and to approximate the duty cycle of the signal.</p>
","8303"
"Difference between blocking and nonblocking assignment Verilog","43956","","<p>I was reading this page <a href=""http://www.asic-world.com/verilog/verilog_one_day3.html"">http://www.asic-world.com/verilog/verilog_one_day3.html</a> when I came across the following:</p>

<blockquote>
  <p>We normally have to reset flip-flops, thus every time the clock makes the transition from 0 to 1 (posedge), we check if reset is asserted (synchronous reset), then we go on with normal logic. If we look closely we see that in the case of combinational logic we had ""="" for assignment, and for the sequential block we had the ""&lt;="" operator. Well, ""="" is blocking assignment and ""&lt;="" is nonblocking assignment. ""="" executes code sequentially inside a begin / end, whereas nonblocking ""&lt;="" executes in parallel.</p>
</blockquote>

<p>I was fairly sure that nonblocking assignments were sequential while blocking assignments were parallel. After all, you can make blocking assignments with assign statements outside of always blocks, and those all run in parallel. Is this a mistake, or is the behavior different inside an always block? And, if the behavior IS different inside an always block, can nonblocking assignments be made outside an always block?</p>
","<blockquote>
  <p>was fairly sure that nonblocking assignments were sequential while blocking assignments were parallel. </p>
</blockquote>

<p>Blocking assignment executes ""in series"" because a blocking assignment <em>blocks</em> execution of the next statement until it completes. Therefore the results of the next statement may depend on the first one being completed.</p>

<p>Non-blocking assignment executes in parallel because it describes assignments that all occur at the same time. The result of a statement on the 2nd line will not depend on the results of the statement on the 1st line. Instead, the 2nd line will execute as if the 1st line had not happened yet.</p>
","91692"
"Fix remote controller button contacts","43922","","<p>On almost every remote controller the buttons stop reacting after a while, and you end up squeezing the remote out of his life while trying to switch the channel...</p>

<p>I found some <a href=""http://www.wikihow.com/Repair-a-Remote-Control"" rel=""noreferrer"">link</a> where it explains how to ""refresh"" the contact-making surface on the backside of the buttons, but that kit is not something I can find around. Could you suggest what would be a good replacement?</p>
","<p>I've used aluminum foil with great success before.  You can get it from a gum wrapper like Nick T suggested.  Just make sure you don't use super glue, it'll dry out the rubber in the buttons and cause even more problems.</p>
","6592"
"Do batteries lose voltage as they're used up?","43884","","<p>V = IR</p>

<p>Resistance stays same, and I know as a fact that I (or current) decreases (my stuff runs slower on old batteries).</p>

<p>So could a 9 Volt battery turn into a 1.5 volt one?</p>
","<p>Both effects occur as a battery is drained.  The open circuit voltage goes down and the internal resistance goes up.  Note that open circuit voltage is specifically measuring just the voltage the battery puts out with the internal resistance taken out of the equation.  That is because there is no current thru that resistance, hence no voltage drop accross it.  Any decent voltmeter will have at least 10 M&Omega; input resistance, which is so way more than even a dead battery as to not matter.</p>

<p>All that said, different battery chemistries have different characteristics regarding both these parameters as they are drained.  NiCd and NiMH have rather flat discharge curves after a short initial period.  That means the open circuit voltage doesn't drop much for most of the discharge cycle even as the stored energy is getting steadily lower.  These batteries then show a rather steep falloff in voltage as the last 10% or so of energy is drained.  For a NiMH or NiCd therefore, it's tricky to determine state of charge just from the voltage.</p>

<p>Other chemistries have a more linear discharge curve (voltage as a function of accumulated Coulombs drained at a fixed current).  Old fashioned cabon-zinc cells are more like this.  Usually there is a signficant temperature dependence too, both in terms of voltage and capacity.</p>

<p>Yes, batteries can get complicated.</p>
","19112"
"Why MOSFET Pinchoff occurs","43780","","<p>This question is regard to enhanced n-type MOSFETs.  From what I understand, an <em>inversion layer</em> is formed underneath the insulating layer below the gate of the MOSFET when a voltage is applied to the gate.  When this voltage exceeds \$V_\mathrm{T}\$, the <em>threshold voltage</em>; this inversion layer allows electrons to flow from the source to the drain.  If a voltage \$V_\mathrm{DS}\$ is now applied, the inversion region will begin to taper and eventually, it will taper so much that it will <em>pinch-off</em>, once it has <em>pinched-off</em> (it can no longer shrink in height), it will then begin to shrink in length (width) becoming closer and closer to the source.</p>

<p>My questions are:</p>

<ul>
<li>Is what I've said so far correct?</li>
<li>Why does this pinch-off occur?  I don't understand what my book says.  It says something about the electric field at the drain being also proportional to the gate.</li>
<li>It is my understanding that when the MOSFET is saturated, a depletion layer forms between the pinched-off bit and the drain.  How does current flow through this depleted portion to the drain?  I thought the depletion layer does not conduct...  Like in a diode...</li>
</ul>
","<p>Your description is correct: given that \$V_{GS}&gt;V_T\$, if we apply a Drain-to-Source voltage of magnitude \$V_{SAT}=V_{GS}-V_{T}\$ or higher, the channel will pinch-off.</p>

<p>I'll try to explain what happens there. I'm assuming n-type MOSFET in the examples, but the explanations also hold for p-type MOSFET (with some adjustments, of course).</p>

<h2>The reason for pinch-off:</h2>

<p>Think about the electric potential along the channel: it equals \$V_S\$ near the Source; it equals \$V_D\$ near the Drain. Recall also that potential function is continuous. The immediate conclusion from the above two statements is that potential changes continuously form \$V_S\$ to \$V_D\$ along the channel (let me be non-formal and use terms ""potential"" and ""voltage"" interchangeably). </p>

<p><img src=""https://i.stack.imgur.com/LtHrb.jpg"" alt=""enter image description here""></p>

<p>Now, let's see how the above conclusion affects the charge in the inversion layer. Recall that this charge is accumulated under the Gate due to Gate-to-Substrate voltage (yes, Substrate, not Source. The reason we usually use \$V_{GS}\$ in our calculations is because we assume that the Substrate and the Source are connected to the same potential). Now, if the potential change along the channel when we apply \$V_{DS}\$, the Gate-to-Substrate voltage also change along the channel, which means that the induced charge density will vary along the channel.</p>

<p>When we apply \$V_{SAT}=V_{GS}-V_{T}\$ to the Drain, the effective Gate-to-Substrate voltage near the Drain will become: \$V_{eff}=V_{GS}-V_{SAT}=V_T\$. It means that near the Drain the Gate-to-Substrate voltage is just enough to form the inversion layer. Any higher potential applied to Darin will cause this voltage to reduce below the Threshold voltage and the channel will not be formed - pinch-off occurs.</p>

<p><img src=""https://i.stack.imgur.com/9ZQCu.png"" alt=""enter image description here""></p>

<h2>What happens between the pinch-off point and the Drain:</h2>

<p>The Gate-to-Substrate voltage in this region is not enough for a formation of the inversion layer, therefore this region is only depleted (as opposed to inverted). While depletion region lacks mobile carriers, there is no restriction on current flow through it: if a carrier enters the depletion region from one side, and there is an electric field across the region - this carrier will be dragged by the field. In addition, carriers which enter this depletion region have initial speed.</p>

<p>All the above is true as long as the carriers in question will not recombine in the depletion region. In n-type MOSFET the depletion region lacks p-type carriers, but the current consist of n-type carriers - this means that the probability for recombination of these carriers is very low (and may be neglected for any practical purpose).</p>

<p>Conclusion: charge carriers which enter this depletion region will be accelerated by the field across this region and will eventually reach the drain. It is usually the case that the resistivity of this region may be completely neglected (the physical reason for this is quite complex - this discussion is more appropriate for physics forum).</p>

<p>Hope this helps</p>
","77201"
"Is CAT5 cable good enough for RS-485 vs ""true"" RS-485 cable","43728","","<p>I have a serial comms project coming up.  A number of boards with RS-485 interfaces need to communicate.  Date rate is 57600bps and cable length will be less than a few hundred feet.</p>

<p>Will shielded CAT5 cable work well enough in this situation or should I pay the extra for ""true"" RS-485 cable such as <a href=""http://www.belden.com/techdatas/metric/3106a.pdf"" rel=""nofollow noreferrer"">this one</a>?</p>

<p><a href=""https://i.stack.imgur.com/4OLFP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4OLFP.png"" alt=""enter image description here""></a></p>

<p>I cannot easily visit the install site ahead of time as it's interstate.  I do have the same boards here in the lab I can test with however.</p>
","<p>While often shielded, CAT5 can be of the UTP type, meaning unshielded twisted pair. The ""true"" RS-485 cable you link to has two twisted pairs and a shield. If I remember right, CAT5e (and above) has a shield, at least most cables I have seen have - the exact standard can vary. I guess those would do the job just nice. Just make sure you use the twisted pair like in the original RS-485 cable (your data sheet looks like [1 White/Orange Stripe] and [2 Orange/White Stripe] are a twisted pair, and [3 Blue/White Stripe] is a third, untwisted wire.)</p>

<p>There seems to be a small impedance mismatch (100 Ohms for CAT5, 120 Ohms for RS-485). This will cause reflections at the driver and at the receiver, but I am pretty sure your application will still work. While you may read that 120 Ohms is typical for RS-485, the termination network uses 120 Ohms between the differential pair and 2&nbsp;*&nbsp;680&nbsp;Ohms to VCC and GND.</p>

<p><img src=""https://i.stack.imgur.com/eKELw.png"" alt=""RS-485 termination, source: wikipedia""><a href=""http://en.wikipedia.org/wiki/File:Rs485-bias-termination.svg"" rel=""noreferrer"">Source</a></p>

<p>Thus, the value of the termination that the cable ""looks into"" is smaller than 120 Ohms anyway: (120||(680+680))&nbsp;Ohms&nbsp;=&nbsp;110&nbsp;Ohms.</p>

<p>If you have the chance to test, you could go for it. I would probably not even hesitate and use STP CAT5(e). If your contract says you pay money for every minute your installation fails, you probably want to use cables with the proper specification. (The latter will still not make sure nothing ever fails, but you're probably in a better position if you can blame it on the ""true"" cable instead of having someone else blaming your ""wrong"" cable. But you see how this last paragraph has nothing to do with physics...)</p>
","33457"
"How to do circuit analysis using Matlab?","43690","","<p>I often hear of people using Matlab for circuit analysis, but I never actually figured out how it is done. I assume that there is something more to it than just setting up equations by hand and solving them in Matlab.</p>

<p>I'm looking for a good starting point.</p>
","<p>You can use the Matlab Simulink <a href=""http://www.mathworks.com/products/simpower/"">Simpowersystem</a> toolbox to make circuit analysis. It includes RLC components, switches, electrical machines, etc. You can create your own component and modify any parameters of the library components. As you can combine your circuits with any Simulink blocs, any Simulink solver or any Matlab function, this tool is very powerful. There is no need to solve the circuit equations first because you work in the Simulink environment. It is originally oriented for power systems but I think you can use it for any electronics circuit.</p>
","17769"
"Basic question about diode voltage drop and resistor position","43620","","<p>I'm new here and also new to electrical engineering so no fancy stuff yet, still tinkering with basic components such as resistor, led, caps and batteries. I think I caught up with the bad side of conventional + and - so I'd like to impose a few question.</p>

<p>I was reading this book ""All New Electronics Self-Teaching Guide, 3rd Ed"" by Kybett and Boysen to remembers bits what I've learnt so far. On Ch 2 about diode, I stumbled on the idea of the voltage drop in diode. In a series of resistors, it's pretty straight forward, it's a ratio of resistors' value, higher value drops more voltage, etc. </p>

<p>But when a diode is introduced after the resistors, you have to decrease the source voltage with the voltage drop of the diode first before you can measure the new voltage drop of each resistor. Why is this happening? Is it pretty bizarre to count backward first as the current move from + to -.</p>

<p>Also I've seen several examples where a resistor is introduced before anode, which I think is logical and introduced after cathode which is plenty weird as resistor is used to limit the current going into the led but in actual reality, both do just fine(I tried both ways). Is this because of positive charge and negative charge? Because P-N junction, holes and p stuff?</p>

<p>Update (request by Anindo) : 
<a href=""http://books.google.co.id/books?id=uRSOr08178oC&amp;lpg=PP1&amp;hl=id&amp;pg=SA2-PA20#v=onepage&amp;q&amp;f=false"" rel=""noreferrer"">Here is the page of the book in googlebook</a> </p>

<p>Previous pages explaining in simple series are gone. 
For full book you can see it on page 47 (or 71/450, ch 2 starts at 59/450) <a href=""http://www.demar.eel.usp.br/eletronica/aulas/Electronic_self-teaching_guide.pdf"" rel=""noreferrer"">here</a>
(Please edit this, if it's against the law)</p>
","<p>Junction  diodes are constructed from a single crystal of semiconductor material that has been altered to form a PN junction. </p>

<p><img src=""https://i.stack.imgur.com/gNYMU.png"" alt=""enter image description here""></p>

<p>Semiconductors fall somewhere between the conductors (metallic elements) and non conductors (non metallic elements). Generally speaking pure (intrinsic) semiconductor is an element with 4 electrons in its outer shell and is pretty useless electrically. It is neither a good conductor or a good insulator. The first semiconductors used Germanium. Devices today use Silicon.</p>

<p>The reason semiconductor materials are useful is that we can easily alter their electrical properties (especially conductivity) by adding or <strong>DOPING</strong> them with (very) small amounts of other elements. These doping atoms fit into the crystal lattice but their different electron structure alters the way electrical current can flow through the material. </p>

<p><strong>Making P type and N type semiconductors.</strong> </p>

<p>N type has lots of 'extra' electrons because the dopant had 5 electrons in its outer shell - 1 more than (intrinsic) semiconductor. </p>

<p>Similarly P Type has gaps or <strong>HOLES</strong> in the outer electron shells because the dopant only as 3 electrons compared to 4 of the (intrinsic) semiconductor.</p>

<p>When the PN junction is made the material in the 'middle' is neither P or N type as all the free charge carriers are swept to one side or the other. This is known as the <strong>DEPLETION</strong> layer. (a bit like no-man's land between two opposing armies)</p>

<p><img src=""https://i.stack.imgur.com/AFniE.png"" alt=""enter image description here""></p>

<p><strong>This depletion layer is the source of the voltage drop across the diode.</strong> </p>

<p>To get current (flow of charge) through the diode the charge has to 'jump over' this barrier (its more technical than that but let's keep it simple). It needs an extra bit of energy to do this. </p>

<p>Now energy is charge x voltage. The value of the charge is fixed - its simply the electronic charge - 1.602 X 10^-19 so the only charges that can cross the barrier must have have energies of more than the barrier. As the charge is fixed and unchangeable we simply talk about the barrier voltage. For Silicon this is about 0.6 volts. For Germanium this is about 0.2 volts.</p>

<p>The barrier <strong>acts like a small battery of 0.6V</strong> connected in the <strong>OPPOSITE</strong> direction to the current flow. (Conventional current - positive to negative). You can only measure this when current is flowing through the diode. </p>

<p>Photodiodes can generate actual voltage but that's another matter.</p>

<p><img src=""https://i.stack.imgur.com/dJD0V.png"" alt=""enter image description here"">
This means that for every diode in the circuit we will lose 0.6V when they are conducting (forward biased). <em>(This increases slightly with current value)</em></p>

<p>In a series circuit with resistors <strong>it does not really matter if the resistor comes before or after the diode</strong>. The current passing through resistor and diode is the same. The total voltage drop across the resistor and diode will be the same.</p>

<p><img src=""https://i.stack.imgur.com/W0vYv.png"" alt=""enter image description here""></p>

<p>The <strong>LIGHT EMITTING DIODE</strong> has a much larger voltage drop (about 1.5V - 3.0 V) than a 'normal' diode. It uses this extra energy to output light.</p>

<p><img src=""https://i.stack.imgur.com/Hs3yU.png"" alt=""enter image description here""></p>
","72754"
"What exactly are harmonics and how do they ""appear""?","43315","","<p>From reading so many sources online, I still cannot grasp why a different waveforms have harmonics.</p>

<p>For example: when designing a silly amplitude modulation (AM) circuit that puts a square wave from a microcontroller in to an antenna, how are harmonics generated? The signal is just ""on"" or ""off"", how are there first, third, and fifth harmonics and why do they get weaker?</p>

<p>I've heard oscilloscopes being able to measure up to the fifth harmonic of a square wave (or something similar) is important, but why would that make the reading different? Are these harmonics irrelevant in things such as data transfer (high=1, low=0) and only matter in situations such as audio or RF?</p>

<p>Why do sinusoidal waves not have as many harmonics? Because the waveform is always moving and not flat going up (triangle) or horizontal (square), but circular with an always changing value?</p>
","<p>Sinusoidal waves don't have harmonics because it's exactly sine waves which combined can construct other waveforms. The fundamental wave is a sine, so you don't need to add anything to make it the sinusoidal signal.  </p>

<p>About the oscilloscope. Many signals have a large number of harmonics, some, like a square wave, in theory infinite.  </p>

<p><img src=""https://i.stack.imgur.com/JhZnq.png"" alt=""enter image description here"">  </p>

<p>This is a partial construction of a square wave. The blue sine which shows 1 period is the fundamental. Then there's the third harmonic (square waves don't have even harmonics), the purple one. Its amplitude is 1/3 of the fundamental, and you can see it's three times the fundamental's frequency, because it shows 3 periods. Same for the fifth harmonic (brown). Amplitude is 1/5 of the fundamental and it shows 5 periods. Adding these gives the green curve. This is not yet a good square wave, but you already see the steep edges, and the wavy horizontal line will ultimately become completely horizontal if we add more harmonics. So this is how you will see a square wave on the scope if only up to the fifth harmonic are shown. This is really the minimum, for a better reconstruction you'll need more harmonics.  </p>

<p>Like every non-sinusoidal signal the AM modulated signal will create harmonics. Fourier proved that <em>every</em> repeating signal can be deconstructed into a fundamental (same frequency as the wave form), and harmonics which have frequencies that are multiples of the fundamental. It even applies to non-repeating waveforms. So even if you don't readily see what they would look like, the analysis is always possible.  </p>

<p><img src=""https://i.stack.imgur.com/JGFHZ.png"" alt=""enter image description here"">  </p>

<p>This is a basic AM signal, and the modulated signal is the product of the carrier and the baseband signal. Now  </p>

<p>\$ sin(f_C) \cdot sin(f_M) = \dfrac{cos(f_C - f_M) - cos(f_C + f_M)}{2} \$  </p>

<p>So you can see that even a product of sines can be expressed as the sum of sines, that's both cosines (the harmonics can have their phase shifted, in this case by 90°).
The frequencies \$(f_C - f_M)\$ and \$(f_C + f_M)\$ are the <em>sidebands</em> left and right of the carrier frequency \$f_C\$.</p>

<p><img src=""https://i.stack.imgur.com/WadjO.jpg"" alt=""enter image description here"">  </p>

<p>Even if your baseband signal is a more complex looking signal you can break the modulated signal apart in separate sines.</p>
","32314"
"How to clean my soldering iron tip or how to determine that it's beyond repair?","43176","","<p>First, I've read though questions <a href=""https://electronics.stackexchange.com/q/216/1240"">Soldering Iron Maintenance</a> and <a href=""https://electronics.stackexchange.com/q/4470/1240"">Going through Soldering tips quickly</a> and was unable to solve my problem. I have recently (as in less then a month ago) obtained <a href=""http://www.ersa.com/index.php?modul=entry&amp;id=359&amp;entry_id=1890"" rel=""nofollow noreferrer"">Multitip 25 ERSA Microsoldering iron</a> with <a href=""http://www.ersa.com/index.php?modul=entry&amp;id=403&amp;entry_id=1675"" rel=""nofollow noreferrer"">0172BD/10</a> tip.</p>

<p>From the start I had problems wetting the tip. I tried everything but solder just wouldn't flow over the whole tip. I later found information in one of manufacturer's catalogs that I should wrap solder with flux around the tip and then turn on the iron. After few tries, I managed to get a big part of the tip wet (and it was working great), but one small part wouldn't wet.</p>

<p>After some soldering I decided to try to get whole tip wet and obtained <a href=""http://www.ersa.com/index.php?modul=entry&amp;id=386&amp;entry_id=2019"" rel=""nofollow noreferrer"">0TR01/SB</a> tip refresher. After using it according to the manual, the whole tip was covered in black substance which should be easily removable, but it isn't.</p>

<p>Now about half of the tip is contaminated and about half seems to be working (I managed to clean the working part).</p>

<p>My question is: Is there any other way to clean the tip? Two things from questions I linked I didn't use were dedicated tip cleaning mesh (couldn't find a source of them in my country) and flux outside the wire (because I don't have any at the moment) and how to decide when a tip is dead and needs replacing?</p>

<p>Also, how do the tip refreshers feel (I'm assuming that they are more or less all alike)? I often find them described as paste, while the one I got is solid (but melts when in contact with hot tip).</p>
","<p>Well, the solution to my problem turned out to be both very simple and very unexpected.</p>

<p>I decided to buy a real stand for my soldering iron and the one I got came with its own sponge. It did a great job cleaning the tip and the tip looks like brand new now! </p>

<p>The sponge itself as a spare part is just about 2.5€, so the moral of my story is don't try to save money on the sponge! Buy a high quality sponge and save yourself lots of headache!</p>
","5401"
"Wiring a DC socket - why three pins?","43122","","<p>I have this DC socket:</p>

<p><img src=""https://i.stack.imgur.com/8Xp0E.png"" width=""380"" height=""300"" /></p>

<p>Which I intend to wire up to a circuit to provide power.</p>

<p>I have a DC power supply which has a positive tip polarity. </p>

<p>I'm good to go and wire up the socket but I am a little stuck as there are 3 pins on my socket.</p>

<p>From the look of the socket it's fairly obvious which pin is for the center pin (which I will wire pos) so I assume the other two are for the outside (which I will wire neg).</p>

<p>Is this assumption correct? And if so why two pins instead of one?</p>
","<p>This might be something similar to the female single channel audio connector where two of the 3 pins will be shorted when unplugged and when its plugged one of those 2 ping will be floating which usually goes to a battery and the remaining 2 pins will be connected to your plug.</p>

<p>This diagram might help you understand better.</p>

<p><img src=""https://i.stack.imgur.com/tcQ8n.png"" alt=""enter image description here""></p>

<p>Here pin 3 will got to  the battery, pin 2 &amp; 1 to the circuit.</p>

<p>When you plug in the socket pin 1 &amp; 2 would provide the power to the circuit and battery will be disconnected.</p>

<p>when unplugged the battery would be connected back to the circuit.</p>

<p>Though there are other configuration also in which it can be used but this is a simple example which might help you understand the way these socket works.</p>
","10737"
"How to read a gyro/accelerometer","43105","","<p>I recently purchased <a href=""http://rads.stackoverflow.com/amzn/click/B008BOPN40"">this MPU6050 GY-521 breakout board</a>. I tried it with my <a href=""http://arduino.cc/en/Main/ArduinoBoardMega"">Arduino Mega</a> using <a href=""http://arduino.cc/playground/Main/MPU-6050#sketch"">this Arduino sketch</a> provided by official <a href=""http://arduino.cc/"">arduino.cc</a>.<br>
<em>(<a href=""http://invensense.com/mems/gyro/documents/PS-MPU-6000A.pdf"">MPU-6050 Datasheet</a>, <a href=""http://www.invensense.com/mems/gyro/mpu6050.html"">InvenSence (producer) Page</a>)</em></p>

<p>Man, it gives this weird output!!! </p>

<pre><code>InvenSense MPU-6050
June 2012
WHO_AM_I : 68, error = 0
PWR_MGMT_2 : 0, error = 0

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1944, 368, 15608
temperature: 30.576 degrees Celsius
gyro x,y,z : -34, -204, -247, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1952, 364, 15304
temperature: 30.435 degrees Celsius
gyro x,y,z : -38, -216, -274, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1864, 388, 15356
temperature: 30.482 degrees Celsius
gyro x,y,z : -34, -233, -278, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1888, 324, 15260
temperature: 30.576 degrees Celsius
gyro x,y,z : -14, -220, -261, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1904, 392, 15316
temperature: 30.624 degrees Celsius
gyro x,y,z : -34, -241, -238, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1856, 308, 15604
temperature: 30.435 degrees Celsius
gyro x,y,z : -33, -252, -235, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1892, 444, 15528
temperature: 30.624 degrees Celsius
gyro x,y,z : 20, -236, -251, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1924, 356, 15520
temperature: 30.576 degrees Celsius
gyro x,y,z : -19, -224, -251, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 1844, 280, 15732
temperature: 30.529 degrees Celsius
gyro x,y,z : -1, -240, -249, 

MPU-6050
Read accel, temp and gyro, error = 0
accel x,y,z: 2004, 372, 15396
temperature: 30.671 degrees Celsius
gyro x,y,z : -20, -252, -255, 
</code></pre>

<p>(This is only a part of it, it gives this king of output continuously). I know for sure, only the temperature reading is meaningful. But what are those values given for acceleration and gyro readings?? </p>

<p>OK, It says those are raw values. If it is so, then how can I convert them into meaningful values. Hoping it can be helpful (as many suggested), I also like to know how to use so called <code>Jeff Rowberg</code> library. </p>

<p>Hope there will be someone experienced with MPU-6050 module. Just give me a point to start. I have no clue on how to use the module... :(</p>

<p>Any help is <strong>greatly</strong> appreciated. Thanks !</p>
","<p>The <strong>accelerometer</strong>'s reading seem to make sense. The <a href=""http://invensense.com/mems/gyro/documents/PS-MPU-6000A.pdf"" rel=""noreferrer"">datasheet</a>, page 13 indicates 4 different sensitivities: </p>

<pre><code>2 g  
4 g  
8 g  
16 g  
</code></pre>

<p>with resp. sensitivity scale factors:  </p>

<pre><code>16 384 counts/g  
8 192 counts/g  
4 096 counts/g  
2 048 counts/g  
</code></pre>

<p>From the Z-reading I assume you have the 2 g scale selected, then 15 608 is 0.95 g, which is what you can expect from a Z-axis reading when you hold the sensor more or less horizontal. The X- and Y-reading are probably also due to gravitation when you're not holding the part perfectly horizontal. And you'll have an error in the reading too.</p>

<p><br /><br>
Similar for the <strong>gyro</strong>. At 131 counts per degree/s you may have this kind of reading if you're holding the part in your hands.</p>
","39715"
"Regulated 3.3V from a Lithium-ion (or LiPo) battery","43061","","<p><em>Background</em></p>

<p>I wish to power my circuit with a Lithium-ion or LiPo battery (likely a battery with around 1000 mAh capacity). These batteries have a voltage <strong>that goes from 4.2V to 2.7V typically</strong> during their discharge cycle.</p>

<p>My circuit (running at 3.3V) has a maximum current requirement of 400mA -- although I should state that this is only the peak draw occurring about 5% of the time; the circuit draws only about 5mA the remaining 95% of the time).</p>

<p><em>Question</em></p>

<p><strong>What would be the best way to convert the (changing) output voltage of a Lithium-ion battery into the required 3.3V to power my circuit with up to the peak current draw of 400 mA?</strong> By ""best way"", I mean most efficient voltage conversion so as to make the best use of battery capacity.</p>

<p>The tricky part for me has been the fact that the Li-ion battery voltage will be both sometimes ABOVE and sometimes BELOW my required final voltage! If it were only one of those two, I would probably have just used either a LDO regulator or a boost IC like TPS61200, respectively.</p>
","<p>You should try with BUCK-BOOST DC/DC converter. There are available with efficiency above 90%
Check out TI and Linear websites; there are ""calculators"" that would help you:</p>

<ul>
<li><a href=""http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page"">http://www.ti.com/lsds/ti/analog/powermanagement/power_portal.page</a></li>
<li><a href=""http://parametric.linear.com/buck-boost_regulator"">http://parametric.linear.com/buck-boost_regulator</a></li>
</ul>

<p>Options:</p>

<ul>
<li><a href=""http://www.ti.com/lit/ds/symlink/tps63031.pdf"">TPS63031</a></li>
<li><a href=""http://www.ti.com/lit/ds/symlink/tps63001.pdf"">TPS63001</a></li>
</ul>
","38785"
"Voltage input for charging NiMH Batteries","42971","","<p>I have 12 AAA NiMH batteries(1000mAH and 1.2V per battery) and I want to know what is the optimum voltage for charging them. I am using a simple Constant Current charger(LM317 and 68 Ohm Resistor(R in the circuit diagram). But i'm unsure on what the input voltage needs to be. My circuit doesn't have the diode.<br>
<img src=""https://i.stack.imgur.com/lQEBG.gif"" alt=""LM317 Battery Charger""></p>
","<p>A constant current source adjusts its output voltage with the load in order to maintain a constant current.</p>

<pre><code>V = IR // holy s*#% it's Ohm's Law
</code></pre>

<p>NiMH batteries are fickle fiends to charge, exhibiting temperature-dependent changes in charge and discharge curves. They also don't have a <a href=""http://en.wikipedia.org/wiki/Float_voltage""><strong><em>float voltage</em></strong></a>, so constant voltage charging doesn't work, as you've likely discovered. Energizer has <a href=""http://data.energizer.com/PDFs/nickelmetalhydride_appman.pdf"">some recommendations</a> regarding charge times:</p>

<blockquote>
  <p>Typically a moderate rate (2 to 3
  hour) smart charger is preferred for
  NiMH batteries. <strong>The batteries are 
  protected from overcharge by the smart
  charger circuitry.</strong> Extremely fast
  charging (less than 1 hour) can impact
  battery cycle life and should be
  limited to an as needed basis. <strong>Slow
  overnight timer based chargers are
  also  acceptable and can be an
  economical alternative to smart
  chargers. A charger that applies a 0.1
  C rate for 12 to  14 hours is well
  suited for NiMH batteries. Finally a
  maintenance (or trickle) charge rate
  of less than 0.025 C  (C/40) is
  recommended.</strong> The use of very small
  trickle charges is preferred to reduce
  the negative effects of  overcharging.</p>
</blockquote>

<p><a href=""http://data.energizer.com/PDFs/nh12-850.pdf"">AAA NiMH batteries</a> have a capacity of <strong>850mAh</strong> <sup><sub>[varies by manufacturer]</sub></sup>, so charging with a rate of <strong>C/2 to C/3</strong> can be done with a constant current of...</p>

<pre><code>850mAh / (2 to 3 hours) = 283mA to 425mA
</code></pre>

<p>An overnight, <strong>C/12</strong> trickle charge can be done with a constant current of <strong>71mA</strong>. This page mentions that:</p>

<blockquote>
  <p>Modern cells have an oxygen recycling catalyst which prevents damage to the battery on overcharge, but this recycling cannot keep up if the charge rate is over C/10.</p>
</blockquote>

<p>The recommended <strong>maintenance charge</strong> rate of <strong>C/40</strong> can be done with...</p>

<pre><code>850mAh / h / 40 = 21mA
</code></pre>

<p><br></p>

<h2>Smart Chargers</h2>

<p>Listed are charging techniques from <a href=""http://data.energizer.com/PDFs/charger_appman.pdf"">Energizer</a>, <a href=""http://www1.duracell.com/oem/Pdf/others/TECHBULL.pdf"">Duracell</a>, and <a href=""http://www.powerstream.com/NiMH.htm"">Powerstream</a>:</p>

<ul>
<li><p><strong>ΔV charging</strong>: charge at recommended constant current until the cell reaches a peak voltage and decreases (eg. -15mV).<br> <img src=""https://i.stack.imgur.com/h66ac.png"" alt=""alt text""> <br>This technique is accurate enough to safely charge at C/2 to C/3 (283mA to 425mA).</p></li>
<li><p><strong>dT/dt charging</strong>: monitor cell temperature to both limit maximum temperature and look for characteristic heating rate.<br> <img src=""https://i.stack.imgur.com/mmNas.png"" alt=""alt text""> <br>This technique may be used in conjunction with ΔV charge termination to more precisely monitor and terminate the process, allowing the use of higher currents (C/1 to C/2, or 425mA to 850mA).</p></li>
<li><p><strong>Soft start</strong>: <em>If the temperature is above 40 degrees C or below zero degrees C start with a C/10 charge. If the discharged battery voltage is less than 1.0 Volts/cell start with a C/10 charge. If the discharged battery voltage is above 1.29 V/cell start with a C/10 charge.</em></p></li>
<li><p><strong>1.78V maximum</strong>: a single cell must never exceed this.</p></li>
</ul>

<hr>

<p><em>But what does it all mean!?</em> The input voltage to your <a href=""http://www.national.com/ds/LM/LM317.pdf"">LM317 constant current circuit</a> must be enough to support the voltage drop across the regulator and resistor (1.47Ω), drive the required current, and exceed the maximum cell voltage. To source C/1 or 850mA to a AAA NiMH battery, whose internal resistance is at most around 120mΩ, requires <code>(120mΩ + 1.47Ω) * 850mA + 1.2V + 1.78V = 4.3315V</code>. I recommend at least 2V more to reduce the effects of source irregularities like regulation and noise and account for other circuit losses (like that diode you don't have yet). If you're charging 4 cells in series as your diagram indicates, you'll need at least 9.978V (ie: <strong>12V+</strong>); 25.034V (27V+) for 12 in series, though I would worry about uneven charging.</p>
","8752"
"How to find Thevenin resistance of circuit with voltage source and three resistors?","42844","","<p>The question is:</p>

<p>Replace the circuit with a Thevenin Equivalent Circuit and find the Thevenin Resistance (Rt) in ohms.</p>

<p>I've used Thevenin before and solved quite a few equivalent circuits as well.</p>

<p>Unfortunately, with this circuit, I'm getting very confused on how you would exactly go about combining these resistors. Are they in series or parallel?  Or are two of them in series with the other one? That's where I get confused.</p>



<p><img src=""https://i.stack.imgur.com/NdrSV.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fNdrSV.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","<p>There are two steps to finding the Thevenin equivalent circuit: finding the Thevenin voltage and the Thevenin resistance.</p>

<p>Thevenin voltage is the voltage across the two points you interested in (Vin). In this case it is easy to calculate as there is no current flowing in the 43 and 60 \$\Omega\$ resistors thus no voltage drop. Thus the voltage at Vin is the same as the voltage form the source, 72 V.</p>

<p>Thevenin resistance is calculated by 'turning off' all independent current and independent voltage sources and calculating the resistance between the two points. Turning off a voltage source sets the voltage across it to 0, which results in a short (0 \$\Omega\$) in parallel with the 275 \$\Omega\$ resistor. Any resistor combined in parallel with a short results in a short, leaving you with the 43 and 60 \$\Omega\$ resistors now in series, giving a Thevenin resistance of 103 ohms.</p>

<p>Putting the two together gives you a voltage source of 72 V in series with a 103 \$\Omega\$ resistor for you Thevenin equivalent circuit.</p>
","61097"
"Why is NAND gate preferred over NOR gate in industry?","42461","","<p>I have read at numerous places that NAND gate is preferred over NOR gate in industry. The reasons given online say:</p>

<blockquote>
  <p>NAND has lesser delay than Nor due to the NAND PMOS (size 2 and in parallel) when compared to NOR PMOS (size 4 in series).</p>
</blockquote>

<p>According to my understanding delay would be the same. This is how I think it works:</p>

<ul>
<li>Absolute delay (Dabs) = t(gh+p)</li>
<li>g=logical effort</li>
<li>h=electrical effort</li>
<li>p=parasitic delay</li>
<li>t=delay unit which is technology constant</li>
</ul>

<p>For NAND and NOR gate (gh+p) comes out to be (Cout/3 + 2). Also t is same for both. Then delay should be the same right?</p>
","<h2> 1. NAND offers less delay. </h2>

<p>As you were saying, the equation for delay is 
$$Delay = t(gh+p)$$
But the logical effort \$g\$ for NAND is less than that of NOR. Consider the figure showing 2 input CMOS NAND and NOR gate. The number against each transistor is a measure of size and hence capacitance. 
<img src=""https://i.stack.imgur.com/0S6Ux.png"" alt=""enter image description here""></p>

<p>The logical effort can be calculated as \$g = C_{in}/3\$. Which gives</p>

<blockquote>
  <ul>
  <li>\$g = 4/3\$ for 2 input NAND and \$g = \frac{n+2}{3}\$ for n input NAND gate</li>
  <li>\$g = 5/3\$ for 2 input NOR and \$g = \frac{2n+1}{3}\$ for n input NOR gate</li>
  <li>refer <a href=""http://en.wikipedia.org/wiki/Logical_effort#Delay_in_NAND_and_NOR_gates"" rel=""noreferrer"">wiki</a> for table.</li>
  </ul>
</blockquote>

<p>\$h=1\$ for a gate (NAND or NOR) driving the same gate  and \$p=2\$ for both NAND and NOR. Hence NAND has lesser delay when compared with NOR. </p>

<p>EDIT: I have two more points to but and I am not 100% sure about the last point. </p>

<h2> 2. NOR occupies more area.</h2>

<p>Adding the sizes of transistors in figure, it is clear that size of NOR is greater than that of NAND. And this difference in size will increase as the number of inputs are increased.</p>

<p>NOR gate will occupy more silicon area than NAND gate. </p>

<h2> 3. NAND uses transistors of similar sizes. </h2>

<p>Considering the figure again, all the transistors in NAND gate have equal size where as NOR gates don't. Which reduces manufacturing cost of NAND gate. When considering gates with more inputs, NOR gates requires transistors of 2 different sizes whose size difference is more when comparing with NAND gates. </p>
","110673"
"how to measure the internal resistance of a voltmeter?","42104","","<p>How to find out what is the internal resistance of a voltmeter? I imagine the higher the better - it'll have less influence on the measured circuit.</p>

<p>What is the approximate internal resistance of cheap DMM on the voltmeter setting? Do more expensive multimeters have better (higher) internal resistance? Is there a significant difference in internal resistance of the voltmeter between a Fluke and a 5$ DMM?</p>

<p>What is the best method to measure the internal resistance of a voltmeter?</p>
","<p>Apply a known voltage over a series resistor. This resistor in combination with the internal resistance will form a voltage divider. Say you apply 5V over a 1M series resistor, and the DMM shows it as 2.5V, then the internal resistance is 1M.  </p>

<p><strong>edit</strong><br>
Now that I reread it, I guess it's not completely unambiguous. By ""applying a voltage over a series resistor"" I meant you connect the + to the resistor and the - to the ref. input of the DMM.</p>
","13052"
"Question about mosfet gate resistor","41924","","<p>I have n mosfet gate connected to <a href=""http://www.intersil.com/content/dam/Intersil/documents/fn33/fn3311.pdf"">4043</a> logic and Id is about 100mA. Both 4043 and mosfet has +5v. I have plan to use <a href=""http://www.fairchildsemi.com/ds/2N/2N7000.pdf"">2N7000</a> mosfet</p>

<p>Questions are:
How large gate resistor i need between 4043 and mosfet? Logic output is sometimes put on rapidly. How fast? Motherboard hdd led controls that.
Do i need to place pull down resistor from logic to -0v, between 4043 and mosfet?</p>
","<p>It is generally a good idea to include a gate resistor to avoid ringing. Ringing (parasitic oscillation) is caused by the gate capacitance in series with the connecting wire's inductance and can cause the transistor to dissipate excessive power because it doesn't turn on quickly enough and hence the current through drain/source in combination with the somewhat high'ish drain-source impedance will heat the device up. A low ohm resistor will solve (dampen) the ringing.</p>

<p>As <a href=""https://electronics.stackexchange.com/a/68750/8627"">@PhilFrost</a> mentiones, a high value resistor to ground is a good idea to avoid capacitive coupling driving the transistor when it is otherwise not connected.</p>



<p><img src=""https://i.stack.imgur.com/Ce6Ud.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fCe6Ud.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>At all times keep the wiring between logic output, transistor gate, transistor source and ground as short as possible. This will ensure fast turn on/off.</p>
","68754"
"What are the ways to allow/prevent a car engine from starting up?","41882","","<p>Assume that I do <strong>not</strong> want to replace a factory Engine Control Unit (ECU) with a custom ECU.</p>

<p>What are the other possible intercept points that I can use to allow/prevent a car from starting up? I only want to allow/prevent starting up.</p>

<p>I can think of possibly connecting the car battery through a relay and turning the relay on/off. Any other good ways to do it?</p>
","<p>There are many ways to achieve this.  Some are better than others in certain situations, and some only work on certain cars.  I'll try to describe a few.</p>

<ol>
<li>This is the most commonly used way.  Put a switch (relay, etc.) in line with the starter control signal.  This would generally be put before the starter relay itself.  It prevents the starter from turning over the engine.
<ul>
<li>Pro: Works on nearly all cars.</li>
<li>Con: The car can still be started if you find a way to turn over the engine (pushing the car in gear if it has a manual transmission).<br><br></li>
</ul></li>
<li>Intercepting a major sensor.  These sensors generally deal with crank angle/position.  A lot of times a car would only have one, angle or position.  They may also be called a cam angle/position.  Activated with a switch (relay) intercepting the signal wire coming back from the sensor.
<ul>
<li>Pro: The car will not start no matter what you do since the ECU will think the engine is not turning over and will not provide spark.</li>
<li>Con: Only works on cars that use these sensors.  Older cars relied on mechanical versions of these.<br><br></li>
</ul></li>
<li>Intercepting main power like you mentioned.  This would require a hefty relay or switch.  It is not uncommon for cars to have fuses larger than 100A for the main input.
<ul>
<li>Pro: Would work on most cars.</li>
<li>Con: Difficult to do.  Easier to find than others (I'm assuming this is to prevent the car from being stolen).  Does not work on really old cars that used generators instead of alternators.  May mess with modern electronics in the car itself possibly leading to damage.</li>
</ul></li>
</ol>

<p>There are other ways but pretty much all of them would fall under these categories if you want to be able to control it electronically.  Don't forget that the car can always just be towed.  Once again, I'm assuming you are thinking of theft prevention.</p>
","7432"
"What is the difference between a DSP and a standard microcontroller?","41880","","<p>I understand that a DSP is optimized for digital signal processing, but I'm not sure how that impacts to the task of choosing an IC.  Almost everything I do with a microcontroller involves the processing of digital signals!</p>

<p>For example, let's compare the popular Microchip dsPIC30 or 33 DSP  and their other 16-bit offering, the PIC24 general purpose microcontroller.  The dsPIC and the PIC can be configured to have the same memory and speed, they have similar peripherial sets, similar A/D capability, pin counts, current draw, etc.  The only major difference that appears on Digikey's listing is the location of the oscillator.  I can't tell the difference by looking at the prices (or any other field, for that matter.)</p>

<p>If I want to work with a couple of external sensors using various protocols (I2C, SPI, etc.), do some A/D conversions, store some data on some serial flash,  respond to some buttons, and push data out to a character LCD and over an FT232 (a fairly generic embedded system), which chip should I use?  It doesn't appear that the DSP will lag behind the PIC in any way, and it offers this mysterious ""DSP Engine.""  My code always does math, and once in a while I need floating point or fractional numbers, but I don't know if I'll benefit from using a DSP.</p>

<p>A more general comparison between another vendor's DSPs and microcontrollers would be equally useful; I'm just using these as a starting point for discussion.</p>
","<p>To be honest the line between the two is almost gone nowadays and there are processors that can be classified as both (AD Blackfin for instance).</p>

<p>Generally speaking:</p>

<p>Microcontrollers are integer math processors with an interrupt sub system.  Some may have hardware multiplication units, some don't, etc.  Point is they are designed for simple math, and mostly to control other devices.   </p>

<p>DSPs are processors optimized for streaming signal processing.  They often have special instructions that speed common tasks such as multiply-accumulate in a single instruction.  They also often have other vector or SIMD instructions.  Historically they weren't interrupt based systems and operated with non-standard memory systems optimized for their purpose making them more difficult to program.  They were usually designed to operate in one big loop processing a data stream.  DSP's can be designed as integer, fixed point or floating point processors.</p>

<p>Historically if you wanted to process audio streams, video streams, do fast motor control, anything that required processing a stream of data at high speed you would look to a DSP.</p>

<p>If you wanted to control some buttons, measure a temperature, run a character LCD, control other ICs which are processing things, you'd use a microcontroller.</p>

<p>Today, you mostly find general purpose microcontroller type processors with either built in DSP-like instructions or with on chip co-processors to deal with streaming data or other DSP operations.  You don't see pure DSP's used much anymore except in specific industries.</p>

<p>The processor market is much broader and more blurry than it used to be.  For instance i hardly consider a ARM cortex-A8 SoC a micro-controller but it probably fits the standard definition, especially in a PoP package.</p>

<p><strong>EDIT:</strong> Figured i'd add a bit to explain when/where i've used DSPs even in the days of application processors.</p>

<p>A recent product i designed was doing audio processing with X channels of input and X channels of output per 'zone'.  The intended use for the product meant that it would often times sit there doing its thing, processing the audio channels for years without anyone touching it.  The audio processing consisted of various acoustical filters and functions.  The system also was ""hot plugable"" with the ability to add some number of independent 'zones' all in one box.  It was a total of 3 PCB designs (mainboard, a backplane and a plug in module) and the backplane supported 4 plug in modules.  Quite a fun project as i was doing it solo, i got to do the system design, schematic, PCB layout and firmware.</p>

<p>Now i could have done the entire thing with an single bulky ARM core, i only needed about 50MIPS of DSP work on 24bit fixed point numbers per zone.  But because i knew this system would operate for an extremely long time and knew it was critical that it never click or pop or anything like that.  I chose to implement it with a low power DSP per zone and a single PIC microcontroller that played the system management role.  This way even if one of the uC functions crashed, maybe a DDOS attack on its Ethernet port, the DSP would happily just keep chugging away and its likely no one would ever know.</p>

<p>So the microcontroller played the role of running the 2 line character LCD, some buttons, temperature monitoring and fan control (there were also some fairly high power audio amplifiers on each board) and even served an AJAX style web page via ethernet.  It also managed the DSPs via a serial connection.</p>

<p>So thats a situation where even in the days where i could have used a single ARM core to do everything, the design dictated a dedicated signal processing IC.</p>

<p>Other areas where i've run into DSPs:</p>

<p>*High End audio - Very high end receivers and concert quality mixing and processing gear</p>

<p>*Radar Processing - I've also used ARM cores for this in low end apps.</p>

<p>*Sonar Processing </p>

<p>*Real time computer vision</p>

<p>For the most part, the low and mid ends of the audio/video/similar space have been taken over by application processors which combine a general purpose CPU with co-proc offload engines for various applications.</p>
","3068"
"Conversion of a Galvanometer to Ammeter and Voltmeter?","41851","","<p>I am in 12th std and while reading my Physics textbook I came across a topic called ""Conversion of a Galvanometer to Ammeter and Voltmeter."" So I read it and found that to convert a Galvanometer to Ammeter we connect a very low value resistance in parallel to the Galvanometer and to convert it to Voltmeter we connect a very high value resistance in series with the Galvanometer.</p>

<p>Now my question is: What is the logic behind this type of conversion? I mean that why the low resistance is connected in parallel to the Galvanometer? Why can we not connect in series? Or why does it have to be <em>low</em>, why can't it be <em>high</em>?</p>
","<p>A ""moving coil"" galvanometer shows a deflection proportional to current flowing through its coil due to very small voltages placed across its terminals. </p>

<p>Full scale deflection of a galvanometer typically requires between tens and hundreds of microamperes, corresponding to a voltage of tens of millivolts across the terminals. The coil resistance of a galvanometer is typically a few Ohms to a few hundred Ohms. Typical full-scale </p>

<hr>

<p>For the sake of this explanation, let us assume a very sensitive galvanometer with 100 Ohm coil resistance, and 100 microAmperes current for full-scale deflection. Thus, by Ohms Law, the full-scale deflection will require 10 mV across the terminals. </p>

<p>To create an ammeter with a maximum current rating of 1 Ampere, this current must generate 10 mV across a ""load resistor"" or ""shunt resistor"". By permitting 1 Ampere to flow through a 10 milliOhm resistor, 10 mV is generated across this resistor. That's perfect for our purposes, so we connect the galvanometer across (in parallel with) this 10 milliOhm resistor:</p>



<p><img src=""https://i.stack.imgur.com/bz2rV.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fbz2rV.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>As the galvanometer's resistance (100 Ohms) is much much greater than the shunt resistance (10 mOhm), we can pretty much disregard the effect of paralleling the galvanometer's coil to our shunt. Thus, in effect the Ammeter we have created, has 10 milliOhms of resistance, which is pretty much negligible, and reads up to 1 Ampere current.</p>

<hr>

<p>Now for a voltmeter. If we needed a full-scale reading of, say, 20 Volts, we would need to ensure that 20 Volts would cause 100 microamperes (assumption stated earlier) to flow through the galvanometer. </p>

<p>Ohms Law tells us that a resistor of 200 KOhms would pass 100 microAmperes through it, if exposed to 20 Volts. If we were to put our galvanometer in series with this current path, we'd have an excellent 20-Volt Voltmeter. In this case, again, the 100 Ohm coil resistance is negligible in comparison to the 200 KOhm resistor, so we can ignore it. </p>



<p><img src=""https://i.stack.imgur.com/xag4I.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fxag4I.png"">simulate this circuit</a></sup></p>

<p>Note that in this case too, the galvanometer is illustrated as a current meter - because that is what it remains. The combination of the galvo, and the 200 K resistor in series with it, provides us a voltmeter that meets our requirements. </p>

<hr>

<p>The above examples are extreme cases: Measurement of a small maximum current of say 1 milliAmperes instead of 1 A would require the current to pass through a resistance of 10 Ohms (to generate the 10 mV needed by the galvanometer coil). As this is a significant value comparable to the galvo's coil resistance, the actual shunt resistance value calculation would need to take the parallel 100 Ohms (coil) into account. </p>

<p>Similarly, for measuring small voltages by using our galvo as a voltmeter, the series resistor calculation would need to subtract the coil resistance value.</p>

<p>I am sure your textbook explains these calculations in greater detail.</p>
","94987"
"Is it okay to keep a USB charger plugged into the cigar lighter?","41697","","<p>I have a USB micro charging adapter for my smartphone for my car. It is basically a cigar lighter plug that turns into a USB micro plug. When I don’t have my phone connected, and as such don’t want the adapter to draw any current, is it still safe to keep the adapter plugged in?</p>

<p>I’m wondering because most other AC adapters (i.e. those not for the car) usually keep drawing some current, even if no device is connected. Is that also the case for those car adapters? Should I rather unplug it whenever I don’t need it?</p>
","<p>A good quality adapter will probably draw some current - but not much.<br>
 Strangely - a poor quality adapter MAY  draw none.</p>

<p>A good quality adapter will use a switching regulator to step the voltage down - probably a ""buck regulator"" The quiescent (no load) current draw will vary depending on the design but I'd guesstimate it could be as low as 10's of microamps and would hopefully not be more than say 5 mA.</p>

<p>A load of 5 mA will take 200 hours or about 8 days to drain 1 Ah from the battery. That's about 2 to 5% of a typical car batteries maximum capacity. So even if you left that connected for a year it would probably take not more than about 1/2 of the battery's capacity. as you start a car far more frequently than that it should not be a problem.</p>

<p>A low quality adaptor may use a zener diode dropper - I've seen it done. This can draw no current at all when there is no load, but the output varies badly with load and it wastes more energy that it outputs.</p>

<p>Most adapters will be active switching regulator types.</p>

<p>You can easily test the quiescent current draw.<br>
 Using a 12V power supply or a car battery and a multimeter with mA ranges.<br>
 Set meter to low current range. (You may want to start on a higher current range to protect the meter from violence or stupidity.  Operate adapter with no load powered by 12V and with meter is series with the battery leads so you can measure current. </p>
","21774"
"How do I find the maximum ""discharge C rating"" of a battery?","41682","","<p>I've been experimenting running my <a href=""https://electronics.stackexchange.com/questions/11504/is-it-practical-to-build-a-wearable-project-that-draws-9a-12v"">3A LED strips</a> off battery power and the results are disappointing. I'm only getting a few minutes (&lt; 10) out of a <a href=""http://www.inesun.com/Brand-New-Super-1800mA-Rechargeable-Lithium-Battery-for-Security-CCTV-Camera--8269.html"" rel=""nofollow noreferrer"">YSD-168 1800mAh lithium ion</a>. How can I find the ""C rating"" of this battery? Is it something mainly dependent on battery chemistry (as <a href=""http://www.dansdata.com/batterylife.htm"" rel=""nofollow noreferrer"">this Dan's Data article I just remembered implies</a>, search for ""[space]C[space]"" on the page) or something mainly dependent on manufacturing quality/technique? Macho RC battery packs always quote C-ratings, other battery types not so much. And it's difficult to google.</p>

<p>Also, what are typical maximum ""discharge C ratings"" of AA and AAA NiMH batteries?</p>
","<p>You're not really looking for the C rating (maximum discharge current in multiples of nominal capacity), you're looking for the adjusted capacity at your nominated discharge current.</p>

<p>A 1.8Ah lithium battery can <em>theoretically</em> give 1.8A for 1hour, or 3A for 1.8/3h = 36 minutes.   <em>HOWEVER</em> the capacity for a battery is traditionally quoted for a 20 hour discharge.   That is, a capacity rating of 1.8Ah means the battery delivered 90mA for 20 hours in testing. </p>

<p>The relationship between continuous current and time-to-full-discharge is NOT linear.    You have discovered that when discharged at 3A, your 1.8Ah battery is delivering much less capacity (only about a quarter!) than a linear interpolation of the amp-hour rating would suggest.    This is not unusual.</p>

<p>The better batteries will give rated capacity at several discharge time samples, or even a graph of current vs capacity.   A battery intended for remote control uses will probably give better performance, as quick discharge is the intended application of these batteries.</p>

<p>(I use a 1500mAh 3-cell (11.1v) 25C lithium pack to power a 3A LED bike light, and I get around an hour, which is close to rated capacity given a reasonably efficient buck regulator).</p>
","12727"
"When to use pull-down vs. pull-up resistors","41678","","<p>After learning and experimenting with microcontrollers, I've understood the concept of pull-up- and pull-down resistors. I now understand when and how to use them, and how they work. I've mainly used pull-ups because I was taught to, but it has always seemed a little backwards to me, as closing the switch sets the MCU input to LOW. I think it would make more sense to use a pull-down resistor, so that the input is LOW when the switch is open, but that is just my way of thinking.</p>

<p><strong>Should I pull my single-throw inputs up or down? When is pulling down preferred over pulling up and vice versa?</strong></p>
","<p>The answer depends on what you want the ""default"" configuration to be. For example, say you have a down-stream N-channel MOSFET, and you want it default off. Then you would use a pull-down resistor to ensure this behavior if the input becomes high impedance.</p>



<p><img src=""https://i.stack.imgur.com/YwcFa.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fYwcFa.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>On the other hand, suppose you have an upstream P-channel MOSFET, and want it default off. This time a pull up resistor is required to create this behavior.</p>



<p><img src=""https://i.stack.imgur.com/Mpjhd.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fMpjhd.png"">simulate this circuit</a></sup></p>

<p>There's also the alternative case where you want a device to be default-on, in which case the above two cases would be reversed (pull-up for the N-channel MOSFET, pull-down for the P-channel MOSFET).</p>

<p>A few other considerations:</p>

<ol>
<li><p>I2C lines specify pull-up resistors because devices are ""expected"" to have an open-drain to ground, and thus need some way to raise the line potential.</p></li>
<li><p>Analog comparators are usually configured as open-drain devices, and thus also need pull up resistors to get a high potential output.</p></li>
<li><p>You may draw more current using pullup/pulldown resistors, depending on what's hooked to the input/output.</p></li>
<li><p>Either configuration could works equally well in your application (i.e. there's no significant advantage one way or the other).</p></li>
</ol>

<p>... And any number of very application-specific reasons why one configuration may be preferred.</p>
","113013"
"Powering LED with 9V battery","41404","","<p>I want to take an LED and power it with a 9V battery. I just don't seem able to get the math right.</p>

<p>Taking an average 9V battery and a 10mm LED, what kind of resistor would I need and how do I know for how long the LED will run on the battery?</p>

<p>Also, can infrared LEDs be ""seen"" (using a camera?) from a distance?</p>
","<p>10 mm is not an electrical specification, you should consult the datasheet to find out how much current it needs. For an indicator LED that's often 20 mA. The LED will have a voltage across it, what's called the voltage drop. We also need that, it's also in the datasheet. The voltage drop mainly depends on the color, for a red LED 2 V is a typical value.  </p>

<p>So with 2 V and 20 mA we can get to work. We're going to place a resistor in series with the LED to control the current. At 9 V battery voltage and a 2 V drop across the LED we'll have 7 V remaining for the resistor. Then according to Ohm's Law Voltage = Current x Resistance, we can calculate the resistor value as</p>

<p>\$ R =\dfrac{V}{I} = \dfrac{7 V}{20 mA} = 350 \Omega \$</p>

<p>The closest E12 value is 390 &Omega;. To know how long the battery will light the LED we want to know the battery's capacity, expressed in mAh, for mA-hours. An alkaline barry may have a capacity of 560 mAh. Then at 20 mA it will work for about 28 hours, maybe somewhat less.</p>

<p>And yes, a camera will see IR, from how far depends on the LED's power output.</p>
","36436"
"Embedded Programming for Beginners: Arduino or Raspberry Pi?","41362","","<p>I'm a computer science student and I'm eager to expand my knowledge on embedded programming and electrical engineering.</p>

<p>I've read <a href=""https://electronics.stackexchange.com/questions/32800/how-to-start-embedded-programming"">here</a> that using tools like the Arduino microcontroller is a good way to start.</p>

<p>I'm primarily a Java and Python programmer but have some experience in C++. Furthermore I have toyed with ArchLinux.</p>

<p>A small project I'd like to do is controlling <a href=""http://www.kickstarter.com/projects/limemouse/lifx-the-light-bulb-reinvented"" rel=""nofollow noreferrer"">some lightbulbs</a> via Wi-Fi over my Arduino/Pi.</p>

<p>From what I've read both the Pi and Arduino are intended for students but I can't figure out which is more suitable for someone like me who wants to understand how computers work on the low level.</p>

<p>As a beginner I will run into many questions, so a big and helpful community (which I hear the Pi has) is a big plus.</p>

<p><strong>So which one is more suitable for a self-teaching beginner: Arduino or Raspberry Pi?</strong></p>

<p>Thanks in advance.</p>

<p>Edit:</p>

<p>From your many great answers and also these <a href=""https://www.adafruit.com/blog/2012/06/18/ask-an-educator-whats-the-difference-between-arduino-raspberry-pi-beagleboard-etc/"" rel=""nofollow noreferrer"">worthwile</a> <a href=""http://www.designspark.com/blog/arduino-or-raspberry-pi"" rel=""nofollow noreferrer"">articles</a> I came to the following</p>

<p><strong>Conclusions</strong></p>

<ol>
<li><p>I choose Arduino as an entry point to embedded programming because it is a simpler system than the Pi and lets me work closer to the metal more easily.</p></li>
<li><p>There is value in going deeper: I might study <a href=""https://en.wikipedia.org/wiki/Atmel_AVR_instruction_set"" rel=""nofollow noreferrer"">AVR</a> or <a href=""https://en.wikipedia.org/wiki/Mbed_microcontroller"" rel=""nofollow noreferrer"">mbed</a> microcontrollers at a later time to learn more about the low level details of computing.</p></li>
<li><p>Both devices allow me to program without an operating system, which is what I want (at first).</p></li>
<li><p>I also <a href=""http://scruss.com/blog/2012/08/12/controlling-an-arduino-from-raspberry-pi-using-processing/"" rel=""nofollow noreferrer"">found</a> <a href=""http://hackaday.com/2012/08/31/what-you-can-do-when-a-raspberry-pi-teams-up-with-an-arduino/"" rel=""nofollow noreferrer"">projects</a> that use one Pi to control an Arduino. I find this intriguing as both devices are quite affordable and I like to use the power of Linux that can run on the Pi.</p></li>
<li><p>Additionally I've found <a href=""http://www.makershed.com/Make_Electronics_book_by_Charles_Platt_p/9780596153748.htm"" rel=""nofollow noreferrer"">this book</a> that should help me to learn more about electrical engineering while experimenting with Arduino.</p></li>
<li><p>It seems difficult to do my lightbulb project with the Arduino. But that's ok. I'm sure I can think of other motivating projects or get inspiration <a href=""http://rads.stackoverflow.com/amzn/click/1430224770"" rel=""nofollow noreferrer"">here</a> or <a href=""http://books.google.at/books/about/Programming_Your_Home.html?id=Bs_RygAACAAJ&amp;redir_esc=y"" rel=""nofollow noreferrer"">here</a>.</p></li>
</ol>

<p>Thank you all for your answers.</p>
","<p>If you really want ""to understand how computers work on the low level"", then it could be argued that neither Arduino nor Raspberry Pi are suitable. Both of these platforms (their hardware and software) are designed specifically to <em>hide</em> the low-level details in order to make it easy for people who <em>don't</em> care about those details to accomplish their higher-level goals by creating embedded applications.</p>

<p>Instead, I would recommend picking a CPU family that has a relatively ""clean"" instruction set architecture, and learning how to program it in assembly language. For example, I did a lot of my early coding on a PDP-11 minicomputer, which has (well, had) a very clean 16-bit architecture. I'm told that the TI MSP430 family is very similar. On modern 8-bit families, it could be argued that AVR is a bit cleaner than PIC. Or you could go old-school and look at the M68K or even the Z80.</p>

<p>So, it really depends on what your goals actually are: Do you want to create embedded applications, or do you want to study the processors themselves?</p>

<p>If you want to start with the former and then shift more to the latter later, maybe you should start with Arduino now, and then migrate to programming the underlying AVR processor at a lower level later.</p>

<p>I make this recommendation partly because of the simple nature of the application you suggested, and partly because of the migration path. It's much more difficult to migrate to low-level programming on the Pi. It's based on a complex SoC that requires quite a bit of software ""infrastructure"" just to get it going. With the AVR, you can easily program right down to the ""bare metal"" if you're so inclined.</p>
","50924"
"Cheapest FPGAs?","41243","","<p>How cheap do FPGAs get? I know they're more expensive than microprocessors of comparable capability, but I wonder if there exist FPGAs that could contain a Microblaze soft core running Linux, while leaving gates available for implementing DSP functionality (media codecs, for example) at a cost competitive with, say, a Cortex A8 ($20-30 in qty. ~100).</p>

<p>(Apologies if my terminology is non-idiomatic i.e. wrong. Please comment with corrections, or edit directly.)</p>
","<p>I recently attended an online conference on FPGA's with the keynote being ""Should your next processor be an FPGA.""</p>

<p>The FPGA basically makes sense in any application that requires highly parallelizable work streams, an example being used was analyzing Full HD images to find pedestrians for instance.</p>

<p>The thing you have to remember is that you have to initialize your FPGA every time it powers up, I think the FPGA's Xilinx is coming with (which have an on-chip ARM core) are a good option, but probably expensive. Looking into the Actel ones with on-chip flash may be useful too.</p>

<p>As for performance, the company BDTI did a benchmark in highly parallel computations where they saw about 40x performance gain switching to an FPGA. The interesting thing is that they compared chips with similar costs (23$ vs 28$ I believe).</p>

<p>Here are the links that might interest you:</p>

<p><a href=""http://www.bdti.com/pocket/pocket.htm"">Pocket guide to processor selection</a></p>

<p><a href=""http://bit.ly/dm1ugx"">FPGA Conference Archives (Free registration, but only available for about 6 months after this answer)</a></p>

<p>You cannot really compare performance of FPGA based systems based on MIPS or Mhz stats. The way an FPGA is used to process certain tasks is simply too different from a Microcontroller. The design of firmware for an FPGA is something you have to do using VHDL for instance, which is akin to Assembly. A register transfer level (RTL) of abstraction. Some environments are being produced to provide more abstraction, but these are still often vendor specific. Wikipedia has a decent overview of languages available to program FPGA code:</p>

<p><a href=""http://en.wikipedia.org/wiki/Field-programmable_gate_array#FPGA_design_and_programming"">Wikipedia: Programming FPGA</a></p>

<p><a href=""http://en.wikipedia.org/wiki/Hardware_description_language#Digital_circuit_design"">Wikipedia: Digital Circuit Design</a></p>

<p>If you have money to burn you can use the LabView systems to build FPGA based real time measurement systems for instance. These devices needed for this are in a completely different pricerange (1500$ and up), but open up te FPGA design to a much broader audience with graphic programming.</p>

<p>More and more vendors are providing boards which combine microcontrollers such as an ARM chip with an FPGA to provide specific additional features and parallel processing power. An example of such products can be found here: <a href=""http://www.embeddedarm.com/products/arm-sbc.php#ts-7300-fpga-series"">EmbeddedARM: FPGA series</a></p>
","3213"
"How can I construct an 8 x 1 multiplexer from an 4 x 1 multiplexer and 2 x 1 multiplexer?","41198","","<p>How to design an 8x1 MUX from 4x1 MUX and 2x1 MUX ?</p>
","

<p><img src=""https://i.stack.imgur.com/e9LSA.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fe9LSA.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","84305"
"Resistors - metal film or carbon film and what values?","41178","","<p>I am buying a bunch of resistors as a start to my electronics hobby. These are the values I have chosen:</p>

<p>100, 470, 1k, 4k7, 10k, 33k, 47k, 100k, 470k, 1M</p>

<p>Most of my projects will involve microcontrollers, such as the Arduino and other AVR ones. I have two questions which I would appreciate replies to.</p>

<ol>
<li><p>Should I purchase carbon film or metal film resistors, and why? As I understand from my research, metal film tolerate heat better, and are more precise. Price is not something to consider too much as they are essentially the same. Carbon film resistors are $0.01/resistor, and metal film are $0.012/resistor.</p></li>
<li><p>Should I add or remove any resistor values from the aforementioned list based on my intended use for them?</p></li>
</ol>

<p>Thanks.</p>
","<p>(1) Use metal film where possible. Fewer bad surprises. At 1 cents each either way the cost of bad surprises exceeds the component cost, even if the cost is only measured in frustration and wasted effort.</p>

<p>(2) Wouter (correctly (of course)) says ""evenly spaced"" but doesn't quite explain it. He means that the ratio between the eresistance adjacent resistors should be about the same. You shold aim to always include the powers of 10 values and then have as many as appropriate in between to fill in.</p>

<p>SO</p>

<p>1, 10, 100, 1000, 10000 ...<br>
 OK, that one was obvious.</p>

<p>But sqrt(10 ) = 3.16, so<br>
 1. 3.16, 10, 31.6, 100, 316 ... :-)<br>
 BUT they don't make 3.16 etc in sensible standard ranges, so using the nearest ""E12"" values:<br>
 1, 3.3, 10, 33, 100, 330, 1000, 3k3, 10k, 33k ...  </p>

<p>The ""obvious"" thing to do may be to use<br>
 1, 4.7, 10, 47, 100, 470 etc<br>
 BUT the ratio of 47/10 = 47 (of course) BUT the ratio of 100/47 = 2.13.<br>
 So, if you had a fixed voltage and were connecting successively higher value resistors to ground the change from 100 to 470 would decrease the current by a factor of 4.7, but the next step from 470 to 1000 would reduce the current by a ratio of 2.13. As you went up the currents would change by factors of 4.7, 2.13, 4.7, 2.13, 4.7 ...</p>

<p>You usually get more than 2 steps per decade.<br>
 The smallest sensibl;e number has 12 steps per decade.<br>
 These are say 1, 1.2, 1.5, 1.8, 2.2, 2.7, 3.3, 3.9, 4.7, 5.6, 6.8, 8.2, 10 ...<br>
 If looked at by resistance difference the series seems uneven, The differences are.<br>
 0.2, 0.3, 0.3, 0.4, 0.5, ... 1.4, 1.8<br>
 BUT - when looked geometrically by ratio we see:<br>
 1.2/1 = 1.2<br>
 1.5/1.2 = 1.25<br>
 1.8/1.5 = 1.2<br>
 2.2/1.8 = 1.222<br>
 2.7/2.2 = 1.227<br>
 3.3/2.7 = 1.222<br>
 ...<br>
 10/8.2 = 1.22</p>

<p>SO, within the resolution afforded by 2 significant digit numbers we see that the ratio of adjacent resistances is about 1.21152766 :-) . 
I use that ""strange"" value as it is the tweflth root of 10. If you multiply a number by 1.21152766 twelve times you get a result 10 times larger.<br>
 So if you space twelve resistors across a decade range with each a factor of 10^(1/12) larger than the prior one you get resistors which increase in value ""smoothly"" from a current flow point of view. </p>

<p>E12 - 12 resistors per decade spaced in value by a ratio of the 12th root of 10 .<br>
E24 - 24 resistors per decade spaced in value by a ratio of the 24th root of 10 .<br>
E48 - 48 resistors per decade spaced in value by a ratio of the 48th root of 10 .<br>
E96 ...</p>

<p>More anon maybe .... brake pads to change, darkness fallen  ...</p>
","36823"
"Unbalanced three phase system - Neutral fails/opens/disconnects - consequence?","41048","","<p>I have a very basic question about three phase system. I am not an electrical engineer hence I might not have a good understanding of the subject. So, please be bit lenient in answering and asking clarifications.</p>

<p>My home receives a 220v (between one phase and neutral) 3 phase connection from grid. From the post comes 4 wires to our home. Each phase is connected to various loads in my house and since not all loads will be switched on, the three phase circuit will be unbalanced.</p>

<p>So, if I draw a very crude schematic diagram with text:</p>

<pre><code>R--------L1---+
              |
Y-----L2---+  |
           |  |
B---L3--+  |  |
        |  |  |
N-------+--+--+
</code></pre>

<p>R, Y, B are the three phases, N is the neutral and L1, L2 and L3 are the loads (unequal resistive and inductive combined).</p>

<p>What happens when the connection to neutral fails as shown by the following diagram?</p>

<pre><code>R--------L1---+
              |
Y-----L2---+  |
           |  |
B---L3--+  |  |
        |  |  |
N--  ---+--+--+
    ^
    |
    +------- Neutral disconnection
</code></pre>

<p>Some say that the loads L1, L2 and L3 experience high voltages as they will be connected between phases rather than between phase and neutral.</p>

<p>While some say that the entire circuit will self adjust and achieve a balance.</p>

<p>Either way I am not clear. Could you just let me know which version is correct? </p>

<p>Thanks.</p>

<p>I had searched for this Google and could not come up with any suitable answer. Also this <a href=""https://electronics.stackexchange.com/questions/29527/can-we-remove-the-neutral-wire"">question</a> also didn't help.</p>
","<p>The circuit will both be at higher voltage (well the parts of it) and will self-adjust. The reasoning behind this is pretty simple: First, the phases are out of phase, or to explain it simply, their voltage peaks happen at different times, so while one is at its maximum voltage, the two other phases will be at lower voltage than the one at maximum is, so basically, the load will be at the voltage between phases. Since we don't have the neutral conductor, the current which was going through it will have to go through one of the phases and that's how the circuit will ""self-adjust"". You can see that from the simulation <a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+10.20027730826997+50+5.0+50%0AR+336+80+272+80+0+1+50.0+5.0+0.0+0.0+0.5%0AR+336+144+256+144+0+1+50.0+5.0+0.0+2.0943951023931953+0.5%0AR+336+192+224+192+0+1+50.0+5.0+0.0+4.1887902047863905+0.5%0Ar+336+80+448+80+0+10.0%0Ar+336+144+448+144+0+150.0%0Ar+336+192+448+192+0+2000.0%0Aw+448+80+448+144+0%0Aw+448+144+448+192+0%0Aw+448+192+448+256+0%0Ag+448+352+448+368+0%0As+448+256+448+352+0+0+false%0Ao+3+64+0+35+5.0+0.8+0+-1%0Ao+4+64+0+35+10.0+0.1+1+-1%0Ao+5+64+0+35+10.0+0.025+2+-1%0A"">here</a>. </p>

<p>When the switch is closed, all 3 loads are at the same voltage of 5 V compared to the ground. Once the switch is open, the voltages  at the loads will change. So the lightest load will drop the least voltage and the greatest load will drop the most voltage.</p>
","35833"
"How can I spin an old HDD motor?","41009","","<p>I've stripped out an old IDE (40 Pin) HDD from 1998 for use in a <a href=""https://www.youtube.com/watch?v=CVOgsUOslMs"">POV display</a> project (Gr. 12 Computer Engineering), and I've been trying to spin it up.</p>

<p>The problem is that the HDD motor is brushless DC, so it requires more than just a ground and source connection. Our electronics has a max output current of about 200mA (555, transistors, other ICs), so I can't work with those.</p>

<p>Connecting the HDD with the PCB to the PSU will only turn the motor on for about 15s before it shuts off.</p>

<p>The HDD is completely stripped with only the motor and the PCB screwed into the base. The motor has 4 pins. From the time I spent playing with it, there's 1 pin for ground, and 3 other pins that I think is for the 3 pairs of coils.</p>

<p>HDD information:</p>

<ul>
<li>Fujitsu MPB3043AT</li>
<li>12V DC 0.32A</li>
<li>5V DC 0.5A</li>
</ul>

<p>Materials:</p>

<ul>
<li>Arduino Uno</li>
<li>Old HDD</li>
<li>PSU</li>
<li>Breadboard</li>
<li>9V battery</li>
<li>1.5V batteries</li>
<li>74HC164 8 bit sihft registers</li>
<li>555 Timer IC</li>
<li>3904/3906 Transistors</li>
<li>Capacitors, resistors, potentiometers</li>
</ul>

<p>What options do I have to get the motor to spin (Preferably without the PSU, but I'm open to options with the PSU)? Is there a pin on the IDE that will allow me to turn it on/off?</p>

<p><strong>UPDATE 1:</strong> I fiddled around with the IDE cable. When I connect pin 27 (IO Ready) to pin 2 (Ground), the motor started spinning as if I just plugged it into the PSU, but only for about 10s. And I had to wait a few minutes before I can get it to spin again using this method</p>

<p><strong>UPDATE 2:</strong> Turns out the motor is only 5V and not 12V, that should ease things up a bit</p>
","<p>Most of the HDD motors are BLDC (brushless) motors. They can be driven by brushless ESC. Cheapest would be to buy hobby RC ESC and drive it by PWM. Something like <a href=""http://www.hobbyking.com/hobbyking/store/__31689__TURNIGY_Plush_25amp_Speed_Controller_NL_Warehouse_.html?strSearch=turnigy%2025a"" rel=""nofollow"">this</a> would be fine. (turnigy plush 25A). </p>

<p>25A means that it can be used to run motors up to that current without damaging ESC. You could find lower current ESC as well (but this one is cheap enough).</p>

<p>ESC consist of three wires, there are no 4 wires ESC. You need to measure resistance between pairs of wires and connect only wires with higher resistance. One with lower resistance leave unconnected.</p>
","66347"
"What type of solder is safest for home (hobbyist) use?","40939","","<p>I'd like to do some hobbyist soldering at home, and would like to make sure I don't poison those living with me (especially small children).  Lead-free seems necessary - what other features should I look for in solder?  Are the different types of solder roughly the same in terms of safety (breathing the fumes, vapor fallout, etc.)?  Is there more I should do to keep the place clean besides having a filter fan and wiping down the work surface when finished?</p>
","<p>This advice is liable to be met with doubt and even derision by some - by all means do your own checks, but please at least think about what I write here:</p>

<p>I have cited a number of references below which give guidelines for soldering. These are as applicable for lead-free solders as for lead based solders. If you decide after reading the following not to trust lead based solders, despite my advice, then the guidelines will still prove useful. </p>

<p>It is widely know that the improper handling of metallic lead can cause health problems. However, it is widely understood currently and historically that use of tin-lead solder in normal actual soldering applications has essentially <strong>no</strong> negative health impact. Handling of the lead based solder, as opposed to the actual soldering, needs to be done sensibly but this is easily achieved with basic common sense procedures. </p>

<p>While some electrical workers do have mildly increased epidemiological incidences of some diseases, these appear to be related to electric field exposure - and even then the correlations are so small as to generally be statistically insignificant. </p>

<p>Lead metal has a very low vapor pressure and when exposed at room temperatures essentially none is inhaled. At soldering temperatures vapor levels are still essentially zero. </p>

<ul>
<li><p><strong>Tin lead solder is essentially safe if used anything like sensibly.</strong><br>
While some people express doubts about its use in any manner, these are not generally well founded in formal medical evidence or experience. While it IS possible to poison yourself with tin-lead solder, taking even very modest and sensible precautions renders the practice safe for the user and for others in their household.</p></li>
<li><p><strong>While you would not want to allow children to suck it, anything like reasonable precautions are going to result in its use not being an issue.</strong>  </p>

<p>A significant proportion of lead which is ""ingested"" (taken orally or eaten) <strong>will</strong> be absorbed by the body.  </p>

<p><strong>BUT</strong> you will acquire essentially <strong>no</strong> ingested lead from soldering if you don't eat it, don't suck solder and wash your hands after soldering. Smoking while soldering is liable to be even unwiser than usual.</p></li>
<li><p><strong>It is widely accepted that inhaled lead from soldering is not at a dangerous level.</strong>     </p>

<p>The majority of inhaled lead <strong>is</strong> absorbed by the body.   </p>

<p><strong>BUT</strong> the vapor pressure of lead at soldering temperatures is so low that there is essentially no lead vapor in the air while soldering. Sticking a soldering iron up your nose (hot or cold) is liable to damage your health but not due to the effects of lead. The vapor pressure of lead at 330 C (VERY hot for solder) / 600 Kelvin is about 10^-8 mm of mercury.<br>
<a href=""http://www.powerstream.com/vapor-pressure.htm"">Lead = ""Pb"" crosses x-axis at 600K on lower graph here</a>. These are interesting and useful graphs of the vapor pressure with temperatures of many elements. (By comparison, Zinc has about 1,000,000 times as high a vapor pressure at the same temperature, and Cadmium (which should definitely be avoided) 10,000,000 times as high. Atmospheric pressure is ~ 760 mm or Hg so lead vapor pressure at a VERY hot iron temperature is about 1 part in 10^11 or one part per 100 billion. </p></li>
</ul>

<p>The major problems with lead are caused either by its release into the environment where it can be converted to more soluble forms and introduced into the food chain, or by its use in forms which are already soluble or which are liable to be ingested. So, lead paint on toys or nursery furniture, lead paint on houses which gets turned into sanding dust or paint flakes, lead as an additive in petrol which gets disseminated in gaseous and soluble forms or lead which ends up in land fills are all forms which cause real problems and which have led to bans on lead in many situations. Lead in solder is bad for the environment because of where it is liable to end up when it is disposed of. This general prohibition has lead to a large degree of misunderstanding about its use ""at the front end"". </p>

<p>If you insist on regularly vaporising lead in close proximity to your person by eg firing a handgun frequently, then you should take precautions re vapor inhallation. Otherwise, common sense is very likely to be good enough.</p>

<p>Washing your hands after soldering is a wise precaution but more likely to be useful for removal of trace solid lead particles.</p>

<p>Use of a fume extractor &amp; filter is wise - but I'd be far more worried about the resin or flux smoke than of lead vapor.</p>

<p>Note that there are MANY on we b documents which state that lead solder is hazardous. Few or none try to explain why this is said to be the case. </p>

<p><a href=""http://safety.dri.edu/Hazards/DRI_PB_Soldering_Guideline.pdf"">Soldering precautions sheet</a>. They note: </p>

<ul>
<li>Potential exposure routes from soldering  include ingestion of lead due to surface 
contamination.  The digestive system is the primary means by which lead can be 
absorbed into the human body.  Skin contact with lead is, in and of itself, harmless, 
but getting lead dust on your hands can result in it being ingested if you don’t wash 
your hands before eating, smoking, etc.  An often overlooked danger is the habit of 
chewing fingernails.  The spaces under the fingernails are great collectors of dirt and 
dust.  Almost everything that is handled  or touched may be found under the finger 
nails.  Ingesting even a small amount of lead is dangerous because it is a cumulative 
poison which is not excreted by normal bodily function</li>
</ul>

<p><a href=""http://ehs.whoi.edu/ehs/occsafety/LeadSafety.pdf"">Lead soldering safety guidelines</a></p>

<p><a href=""http://naples.cc.sunysb.edu/Admin/HRSForms.nsf/pub/EHSD0348/%24File/EHSD0348.pdf"">Standard advice</a> Their comments on lead fumes are rubbish.</p>

<p>FWIW - the vapor pressure of lead is given by</p>

<p>$$log_{10}p(mm) = -\frac{10372}{T} - log_{10}T - 11.35$$</p>

<p>Quoted from <a href=""http://prola.aps.org/abstract/PR/v26/i6/p851_1""><em>The Vapor Pressures of Metals; a New Experimental Method</em></a></p>

<p>For more on soldering in general see <a href=""http://www.elexp.com/t_solder.htm"">Better soldering</a></p>

<hr>

<p><strong>Lead spatter and inhalation &amp; ingestion</strong> </p>

<p>It's been suggested that the statement: </p>

<ul>
<li>""The majority of inhaled lead is absorbed by the body. BUT the vapor pressure of lead at soldering temperatures is so low that there is essentially no lead vapor in the air while soldering."" </li>
</ul>

<p>is not relevant, as it's suggested that </p>

<ul>
<li>Vapor pressure isn't important if the lead is being atomized into droplets that you can then inhale. Look around the soldering iron and there's lead dust everywhere. </li>
</ul>

<p><strong>In response:</strong></p>

<p>""Inhalation"" there referred to lead rendered gaseous - usually by chemical combination. eg the use of Tetraethyl lead in petrol resulted in gaseous lead compounds <strong>not</strong> direcly from the TEL itself but <a href=""http://en.wikipedia.org/wiki/Tetraethyllead"">from Wikipedia Tetraethyllead page</a>: </p>

<ul>
<li>The Pb and PbO would quickly over-accumulate and destroy an engine. For this reason, the lead scavengers 1,2-dibromoethane and 1,2-dichloroethane are used in conjunction with TEL—these agents form volatile lead(II) bromide and lead(II) chloride, respectively, which are flushed from the engine and into the air.</li>
</ul>

<p>In engines this process occurs at far higher temperatures than exist in soldering and there is no intentional process which produces volatile lead compounds. (The exceedingly unfortunate may discover a flux which contains substances like the above lead scavenging halides, but by the very nature of flux this seems vanishingly unlikely in the real world.). </p>

<p>Lead in metallic droplets t soldering temperatures does not come close to being melted or vaporised at anyhing like significant partial pressures (see comments and references above) and if any enters the body it counts as 'ingested', not inhaled.</p>

<p>Basic precautions against ingestion are widely recommended, as mentioned above.<br>
Washing of hands, not smoking while soldering and not licking lead has been noted as sensible. </p>

<p>For lead ""spatter"" to qualify for direct ingestion it would need to ballistically enter the mouth or nose while soldering. It's conceivable that some may do this but if any does the quantity is very small. It's generally recognised bothe historically and currently that the actual soldering process is not what's hazardous. </p>

<p>A significant number of webpages do state that lead from solder is vaporized by soldering and that dangerous quantities of lead can be inhaled. On <strong>EVERY</strong> such page I have looked at there are no references to anything like reputable sources and in almost every such case there are no references at all. The general ROHS prohibitions and the undoubted dangers that lead poses in appropriate circumstances has lead to a cachet of urban legend and spurious comments without any traceable foundations.</p>

<hr>

<p><strong>And again ...</strong></p>

<p>It was suggested that:</p>

<ul>
<li>Anyone who's sneezed in a dusty room knows that it doesn't have to enter the nose or mouth ""ballistically"". Any time solder splatters or flux pops, it creates tiny droplets of lead that solidify to dust. Small enough particles of dust can be airborne and small exposures over years accumulate in the body. ""Lead dust can form when lead-based paint is dry scraped, dry sanded, or heated. Lead chips and dust can get on surfaces and objects that people touch. Settled lead dust can re-enter the air when people vacuum, sweep or walk through it."" </li>
</ul>

<p><strong>In response:</strong></p>

<p>A quality reference, or a few, that indicated that air borne dust can be produced in significant quantity by soldering would go a long way to establishing the assertions. Finding negative evidence is, as ever, harder. </p>

<p>There is no question about the dangers from lead based paints, whether form airborn dust from sanding, children sucking lead painted objects or surface dust produced - all these are extremely well documented.</p>

<p>Lead in a metallic alloy for soldering is an entirely different animal.<br>
 I have many decades of personal soldering experience experience and a reasonable awareness of industry experience. Dusty rooms we all know about, but that has no link to whether solder does or doesn't produce lead dust. Soldering can produce small lead particles, but these appear to be metallic alloyed lead. ""Lead"" dust from paint is liable to contain lead oxide or occasionally other lead based substances. Such dust may indeed be subject to aerial transmission if finely enough divided, but this provides no information about how metallic lead performs in dust production.</p>

<p>I am unaware of discernible ""Lead dust"" occurring from 'popping flux', and I'm unaware of any mechanism that would allow mechanically small lead droplets to achieve a low enough density to float in air in the normal sense. Brownian motion could loft metallic lead particles of a small enough size. I've not seen any evidence (or found any references, that suggest that small enough particles are formed in measureable quantities.</p>

<hr>

<p>Interestingly - this answer had 2 downvotes - now it has one. Somebody changed their mind. Thanks. Somebody didn't. Maybe they'd like to tell me why? The aim is to be balanced and objective and as factual as possible. If it falls short please advise.</p>
","19086"
"Light sensor using Photo Transistor","40905","","<p>How can I design a circuit which utilizes <a href=""http://www.datasheetcatalog.org/datasheet/kondenshi/ST1KL3B.pdf"" rel=""nofollow noreferrer"">a photo-transistor</a> to make a light sensitive switch that is when there is no light in room, the led connected to the photo-transistor lights up and when there is light in room, the led connected to Phototransistor turns off? Any schematic or circuit diagram would be really helpful.</p>

<p>Here is the link but I am using photo-transistor but this circuit is for LDR, so how can I use photo-transistor in this circuit?</p>

<p><img src=""https://i.stack.imgur.com/zo1id.jpg"" alt=""enter image description here""></p>

<p>Here is my Implementation on breadboard. Please tell me if this is correct. I tried to make the two lines in parallel. I suspect my connectionof base of the transistor with resistor is wrong, correct me if I am wrong.SORRY I DID NOT HAVE ANY OTHER SOFTWARE TO SHOW MY IMPLEMENTATION SO PLEASE NEVER MIND :).</p>

<p><img src=""https://i.stack.imgur.com/qpL2a.png"" alt=""enter image description here""></p>
","<p>The circuit you show should work as it is, since it is already for a phototransistor. Just leave your base lead floating.   </p>

<p>EDIT - the breadboard circuit you have added looks correct (though it's hard to read..) so go ahead and try it. If it doesn't work let us know. Maybe change the resistor to 2k or larger if you are worried about blowing the LED.  </p>

<p>Just to note this circuit will work fine, although Steven's suggestion is ""preferable"" in general. I would maybe not change things till you have it working.<br>
The reason the circuit is usually not the best way to do this is because it relies upon Hfe, which can vary quite widely in a transistor and is subject to temperature changes. This means the base resistor must be chosen according to the particular transistor used.  </p>

<p>The reasons it is picked for this circuit are as it uses 1 less resistor (for size purposes, see picture below) Also this circuit is designed for a 3V cell like a CR2032, which has a high internal resistance and generally cannot supply enough current to damage the LED (so it's like having a series resistor in place) The <a href=""http://www.evilmadscientist.com/2007/a-simple-and-cheap-dark-detecting-led-circuit/"" rel=""nofollow noreferrer"">original project page</a> explains all this.   </p>

<p><img src=""https://i.stack.imgur.com/F9HpZ.jpg"" alt=""CR2032 light sensor"">   </p>

<p>So if you are intending to eventually power this circuit from something else other than a coin cell, then you should go for the common emitter circuit Steven describes. The site you got the above circuit from also has an example of such a circuit:  </p>

<p><img src=""https://i.stack.imgur.com/tCeKN.jpg"" alt=""Common emitter light sensor"">  </p>

<p>To help with the breadboard I just threw together the little circuit shown in your question. I  only had an IR phototransistor but it doesn't matter much for this, it still works the same. Anyway here are a couple of pictures of it working, hopefully you can see how the connections go:</p>

<p><img src=""https://i.stack.imgur.com/vf5te.jpg"" alt=""phototransistor light""></p>

<p>The phototransistor base is floating, and I swapped the 1k for a 22k in my circuit to bias it correctly (I arrived at this value roughly, see below) and used a BC337 npn. Since the BC337 has lots of gain the 22k works well for the base current.<br>
To give an idea of why the 22k resistor, the <a href=""http://www.fairchildsemi.com/ds/BC/BC337.pdf"" rel=""nofollow noreferrer"">BC337</a> I'm using has a gain of around ~400, and the voltage it will see is 3V - (Vled + collector-emitter drop) -> 3V - (1.8V + 0.7V) = ~0.5V. So 0.5V / 22k = 23uA into the base.<br>
The gain for the BC337-40 is typically 400, so 23uA * 400 = 9.2mA. The min/max gain given in the datasheet is 250-630, so the actual max LED current could vary from ~6mA to 14mA, which is within maximum LED current (20mA) My actual measured maximum current was 10mA, so this fits with the above calculations.<br>
The power rails are on the right, red for +V and black for ground. </p>

<p>With the lights turned down a bit:</p>

<p><img src=""https://i.stack.imgur.com/fYBRd.jpg"" alt=""phototransistor dark""></p>

<p>It actually works very well, off in normal light and starts turning on as soon as I start dimming the lights. You may have to try a few different values of resistor in your circuit to arrive at your desired setting. </p>
","34316"
"if a standard three-phase 400V AC connection is rectified what DC voltage comes out of it?","40827","","<p>If a standard (in Europe and a large part of the world except North America and Japan) three-phase 400V AC (three lines having 230V RMS voltage if measured to neutral each) mains supply is rectified with a standard 6-diode rectifier like this:</p>

<p><img src=""https://i.stack.imgur.com/w7RYk.png"" alt=""Three-phase, full-wave bridge rectifier circuit""></p>

<p>What DC voltage value will come out of the rectifier? How to calculate it having the RMS AC source voltage given?</p>

<p>Are there any other ways to wire diodes to get a different voltage (without using any transformers or anything else then just diodes), what are they and what DC voltage will come out then?</p>
","<p>If you measure across the load shown in your figure, the peak voltage will be ~565V; the DC voltage will depend on your load and filtering as others have noted.</p>

<p>If you measure from the + of the load in your figure to the neutral of your AC supply, the peak voltage will be ~325V. If you hook up a load like that, you aren't actually using a full-wave rectifier.</p>

<p>The simplest way to get 565V is to start from 400V and apply the standard \$\sqrt{2}\$ scaling from \$V_{rms}\$ to \$V_{p-p}\$. However, starting from 400V is skipping part of the calculation. The more thorough way to derive 565V is to calculate it as:</p>

<p>$$(325 \text{V}) * \max_{\theta} \left\{ \sin (\theta + \frac{2 \pi}{3}) - \sin (\theta)  \right\}$$</p>

<p>The expression is maximized when \$\theta\$ is \$\frac{5 \pi}{3}\$, and the maximum value is \$325 \sqrt{3} = 563\$.</p>

<p>There is a detailed analysis including some java applets <a href=""http://services.eng.uts.edu.au/~venkat/pe_html/ch05s1/ch05s1p1.htm"" rel=""nofollow"">here</a>.</p>
","12456"
"What is the basic difference between AM and FM radio?","40822","","<p>I want to know the basic/fundamental difference between AM and FM radio. Why nowadays FM radio has replaced AM and has become more popular?</p>
","<p>Short answer: FM is far less susceptible to disturbance of the signal.  </p>

<p><img src=""https://i.stack.imgur.com/0NiP8.png"" alt=""enter image description here""></p>

<p>This is an AM modulated signal. The contours are the baseband signal which we recover by demodulation. Notice that there's a spike in the signal, which may be caused by a thunderstorm for instance.</p>

<p><img src=""https://i.stack.imgur.com/WXWWL.png"" alt=""enter image description here""></p>

<p>This is the demodulated signal. The demodulator doesn't ""know"" that the spike isn't actual part of the signal, so it can't remove it, and the listener will hear a tick in the symphony she's listening to.</p>

<p>FM has a constant amplitude, and the demodulator won't be fooled by spikes in amplitude since it will detect variations in frequency.</p>

<p><img src=""https://i.stack.imgur.com/mTruz.png"" alt=""enter image description here""></p>

<p>This is an FM signal. The baseband signal determines the change in frequency of the carrier. Notice that the spike doesn't change the frequency, so it won't be audible after demodulation.</p>
","39424"
"accounting for LED resistance","40794","","<p>I'm doing a simple lab (I'm a hobby EE) to reinforce my ohm's law math and learn a little about how to do proper measurements with a multimeter.</p>

<p>I have simple circuit with a 2.2k ohm resistor connected in series with an LED. Everything works fine up to the point I go to calculate voltage drop across the resistor and LED.</p>

<p>My initial calculations only accounted for the 2.2k ohm resistor. As such I got the full voltage dropped across the resistor. However, when I measured the circuit for real I found the result to be nearly half of the input voltage, which would indicate to me</p>

<ol>
<li>My math is wrong</li>
<li>There's resistance left unaccounted for</li>
</ol>

<p>The only thing left to account for is the LED. What is the best method for determining the resistance of a simple LED? I tried doing what I do with resistors (hold it up to the probes with my fingers) but I don't get a proper reading. Is there a technique I'm missing here?</p>
","<p>LED's aren't best modeled as a pure resistor. As noted in some other answers, real LED's do have resistance, but often that's not the primary concern when modeling a diode. An LED's current/voltage relationship graph:</p>

<p><img src=""https://i.stack.imgur.com/gcbdC.png"" alt=""diode""></p>

<p>Now this behavior is quite difficult to calculate by hand (especially for complicated circuits), but there is a good ""approximation"" which splits the diode into 3 discrete modes of operation:</p>

<ul>
<li><p>If the voltage across the diode is greater than <code>Vd</code>, the diode behaves like a constant voltage drop (i.e. it will allow whatever current through to maintain <code>V = Vd</code>).</p></li>
<li><p>If the voltage is less than <code>Vd</code> but greater than the breakdown voltage <code>Vbr</code>, the diode doesn't conduct.</p></li>
<li><p>If the reverse bias voltage is above the breakdown voltage <code>Vbr</code>, the diode again becomes conducting, and will allow whatever current through to maintain <code>V = Vbr</code>.</p></li>
</ul>

<p>So let's suppose we have some circuit:</p>



<p><img src=""https://i.stack.imgur.com/hAlPy.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fhAlPy.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>First, we're going to assume that <code>VS &gt; Vd</code>. That means the voltage across <code>R</code> is <code>VR = VS - Vd</code>.</p>

<p>Using Ohm's law, we can tell that the current flowing through R (and thus D) is:</p>

<p>\begin{equation}
I = \frac{V_R}{R}
\end{equation}</p>

<p>Let's plug some numbers in. Say <code>VS = 5V</code>, R=<code>2.2k</code>, <code>Vd=2V</code> (a typical red LED).</p>

<p>\begin{equation}
V_R = 5V - 2V = 3V\\
I = \frac{3V}{2.2k\Omega} = 1.36 mA
\end{equation}</p>

<p>Ok, what if <code>VS = 1V</code>, R = <code>2.2k</code>, and <code>Vd = 2V</code>?</p>

<p>This time, <code>VS &lt; Vd</code>, and the diode doesn't conduct. There's no current flowing through <code>R</code>, so <code>VR = 0V</code>. That means <code>VD = VS = 1V</code> (here, <code>VD</code> is the actual voltage across <code>D</code>, where-as <code>Vd</code> is the saturation voltage drop of the diode).</p>
","76372"
"How to plug 2 5m RGB LED light strips together?","40649","","<p>I got two 5 meters RGB LED light strips and would like to connect them together, controlling them as a single strip.</p>

<p>Each strip power is 72 W, the input voltage is 12V, it has 300 5050 SMD LED emitters and the manual says it needs 6A of current. The controller that came with each fits that same spec.</p>

<p>What should I do to achieve it? Each strip comes with a controller and a remote. Should I get another controller big enough or an amplifier maybe? </p>

<p>This is the product: <a href=""http://dx.com/p/jr-5050-waterproof-72w-4500lm-300-5050-smd-led-rgb-light-strip-w-remote-controller-12v-175950"" rel=""nofollow"">http://dx.com/p/jr-5050-waterproof-72w-4500lm-300-5050-smd-led-rgb-light-strip-w-remote-controller-12v-175950</a> </p>
","<p>These strips are usually arranged in numerous parallel segments of a few series LEDs. The RGB strips can be a little different, but they work basically the same way. It looks like your strip is analog control and not digital (which would have little ICs in the strip to control individual LED color), so the specific color ground lines are all in parallel. You should be able to connect numerous strips in parallel - 12V to 12V, red to red, green to green, and blue to blue to blue. That is the same reason you can cut the strips into smaller segments if you want.</p>

<p>There is a limit to how much current can flow through the strip itself, which varies between manufacturers. Your other limit to how many strips can be connected together is how much power your supply / remote controller can handle. It should specify a limit in watts / current or total number of LEDs or parallel segments. That information should be on a sticker on the power supply or be listed in the manual.</p>

<p>From your product page:</p>

<blockquote>
  <p>Power     72 W</p>
</blockquote>

<p>Which is 6A at 12V DC. That means your power supply/controller has to be able to handle at least 144 W (12A @ 12V DC) to connect two strips in parallel. Although, it is never a good idea to run something long term near its maximum ratings, so the supply should really be rated for something closer to 200 W.</p>

<p>If you are able to power multiple strips from your supply, it would be best to power them with a star topology so the current for each strip is separated. For example, connecting Christmas lights together end to end is daisy chaining, and the current for every light strand has to flow through the strands before it. Powering multiple light strands from one power strip is more of a star topology, with the current to each strip only flowing through itself (think of the power strip as your power supply).</p>
","69758"
"Why do we need resistors in led","40638","","<p>I've researched and it says that resistors limit the current flowing through the LED.</p>

<p>But this statement confuses me because we know that in a series circuit, the current is constant at every point, so how come a resistor can limit the current flowing?</p>
","<p>LEDs have a fairly constant voltage across them, like 2.2V for a red LED, which only slightly rises with current. If you supply 3V to this LED without series resistor the LED will try to set for a voltage/current combination for this 3V. There's no current that goes with this kind of voltage, theoretically it would be 10s, maybe 100s of amperes, which would destroy the LED. And that's exactly what happens if your power supply can supply enough current.<br>
So the solution is a series resistor. If your LED needs 20mA you can calculate for the red LED in the example  </p>

<blockquote>
  <p>\$ R = \dfrac{\Delta V}{I} = \dfrac{3V - 2.2V}{20mA} = 40 \Omega\$</p>
</blockquote>

<p>You may think that supplying 2.2V directly will also work, but that's not true. The slightest difference in LED or supply voltage may cause the LED to light very dim, very bright, or even destroy. A series resistor will ensure that slight differences in voltage have only a minor effect on the LED's current, provided that the voltage drop across the resistor is large enough.</p>
","28396"
"What not to do with a Multimeter","40525","","<p>So I just bought and installed a new fuse for an analog multimeter I scored for free and now it works like a charm.  The new fuse is the same rating as the blown one I found inside, which is 0.5A 250V.  The meter has a warning symbol  consisting of a little triangle with an exclamation point inside it and says 500V.</p>

<p>I'm completely new to electrical engineering, because I am a Computer Science student.  My question is, besides accidentally passing the Ω or kΩ settings while hooked up to a power source, what other things should I avoid doing to prevent the fuse blowing or any other damage to the meter or myself?</p>
","<blockquote>
  <p>Multimeter:  ... besides accidentally passing the Ω or kΩ settings while hooked up to a power source, what other things should I avoid doing to prevent the fuse blowing or any other damage to the meter or myself?</p>
</blockquote>

<p>Stating meter brand and model will probably allow us to provide some model specific advice.</p>

<p><strong>AC mains</strong> use is important and is covered at length below.<br>
 Do not use on 230 VAC mains before considering material in main section below.</p>

<p><strong>Make every effort to not overload the mA ranges past fuse capability.</strong> Low current range (500 mA and less) will usually be fused and share a common fuse. If overloaded by say 1A this fuse will go open circuit essentially instantaneously. This can be very annoying [tm]. </p>

<p>Multiple probe sockets:</p>

<p>Chris mentioned this. It's worth repeating.<br>
 some meters have two hard wired leads.<br>
 Some meters have two probe sockets - +ve &amp; -ve.
 BUT many meters hav e3 probe sockets - 1 x common, 1 x high current +ve, 1 x other +ve.<br>
 Sometimes other functions may share the high current positive but usually not.<br>
 Having a high current positive input allows use of a VERY low resistance unfused unswitched shunt for current measurements of 10A or higher.<br>
 NO MATTER WHAT RANGE THE METER IS SET TO, the shunt will be present from common to high current +ve. If you set the meter to AC volts and attempt to measure mains voltages the shunt will be placed across the high voltage source. This can be <strong>VERY</strong> exciting. As there is usually no fuse in this arrangement it's something you REALLY want to avoid doing. I've done it and lived. If the shunt has more hair on its chest than your mains fuse then it may live too, but YCMV. (your calibration may vary) subsequently. </p>

<p>Some meters have <strong>very low voltage ranges</strong> - some have 200 mV and a few have 20 mV = 10 uV resolution. These low current ranges may use the basic digital meter IC with little or no external attenuator. Try not to apply stupidly high voltages.</p>

<p>If you have a <strong>low ohms range</strong>  (often 200 Ohms) be sure to short the probes together before measuring to determine the zero point - this is at least the lead resistance plus any contact resistance in the problem plugs and sockets. Twisting the plugs to and from and ensuring they are fully seated can substantially reduce and stabilise zero resistance. </p>

<p>Be aware that the apparent <strong>resolution and repeatability</strong> of most meters is substantially higher than the <strong>accuracy.</strong> DC accuracies may be 1% or 2% and AC may be 5% and sometimes worse (+/- in each case). </p>

<p>Some meters have a <strong>low battery indicator</strong>. Some don't.<br>
Some meters get very inaccurate when the battery voltage is too low. Some stay stable.<br>
 If your meter has no low battery indicator and is badly affected by low battery state then you need to be either properly aware of effects and state of battery etc. or to check it's accuracy every time you use it - a fairly impractical choice except, perhaps, if the meter is an especially useful one.  This is such an insidious trap and hard enough to remember in practice that it may be worth not using a meter that has no warning and/or that fails under low battery.</p>

<hr>

<p><strong>Current range resistance:</strong>  When measuring current the resistance of the meter results in an Imeasured x Rmeter current drop. On eg the 200 mA range most meters have a resistance of 1 Ohm or less so that at 200 mA the meter drops 0.2V (0.A x 1 Ohm = 0.2 V). This is usually (but not always) low enough to not be too important and can usually be allowed for. However, some meters have much higher resistances - I have one with 17 Ohms resistance on the 200 mA range, meaning that it drops a massive 3.4 Volts across the meter at 200 mA. This is entirely unacceptable and the ""designer"" of the meter needs a severe talking to (before or after tar &amp; feathering as desired). In my case I clearly labelled the meter as not to be used for current measurements but in a situation where many people may use it it may be best to discard it. 
 . </p>

<hr>

<p><strong>Mains use:</strong></p>

<p>You don't say what country you are in.<br>
<strong>If your mains is 110 VAC the meter should be OK for AC mains use.</strong>   </p>

<p><strong>If mains is ~= 230 VAC per phase then you should be wary of using it on 230 VAC mains.</strong>  Mains peak voltage is ~= 230 x 1.414 (sine wave RMS to peak factor) = 325V peak. 500  V (meter rating in this case) is more than 50% above this BUT spikes, interesting waveforms and Murphy can make meters not specifically rated for 230 VAC operation erupt in colourful smoke and flames.  Worst case, and, thankfully, rare, is that people also die when the meter does. This can happen if the meter draws an arc from a high energy source and the meter fuse and mains fuse or breaker both do not interrupt it. Household mains supplies are capable of perhaps 100A (say 25 kW at 230 VAC) and in some cases much more if fuses etc do not get in the way </p>

<p>Ideally, test equipment designed for use with high voltage high energy sources will use HRC (High rupture capacity) fuses which are able to blow and stay blown when the initial current surge vastly exceeds their rated fusing capacity. Non HRC fuses may sustain an arc of hundreds of amp after the eg 500 mA fuse vanishes. But, using an HRC fuse is pointless if the equipment is not also designed to break such an arc. Most cheap meters are unlikely to have this capability.</p>

<p>In most cases all that will happen if a meter fails under high voltage break down will be a plesant arcing sound from within, a curl of smoke from various orifices and a bad and lingering smell. In most cases the user will not be directly affected. If using such meters on AC mains pray for high values of ""most"".</p>

<p>More anon maybe ...</p>
","34234"
"Calculating current load for a switch?","40499","","<p>This <a href=""http://www.radioshack.com/product/index.jsp?productId=2062523"" rel=""noreferrer"">SPST switch</a> is labelled on the box as ""Rated 10A at 125VAC or 6A at 250VAC"".</p>

<p>Is there a calculation as to the amperage it will handle at 12V DC?</p>

<p><img src=""https://i.stack.imgur.com/9PnUf.jpg"" alt=""enter image description here""></p>

<p><strong>(update)</strong> As JYelton points out, a naive assumption would be that the switch capacity would be a simple function of current flow, implying that the switch would handle 100A or so.  Why is this not the case?</p>
","<p>To err on the side of safety, read the specifications thus:</p>

<p>Rated <em>to allow up to</em> 10A at <em>up to</em> 125VAC or <em>up to</em> 6A at <em>up to</em> 250VAC. <em>Not actually rated for DC, so you're on your own</em>.</p>

<p>In other words, if at all there is a choice, opt for a DC-rated switch, so you know you are within rated parameters. If, however, that is not an option, read on...</p>

<p>Some of the factors that affect a switch contact rating:</p>

<ol>
<li>Voltage at which breaking the contact will not cause unacceptable arcing / pitting</li>
<li>Voltage at which the isolation provided by the switch housing starts getting unsafe</li>
<li>Current at which the contacts will not overheat enough to melt or damage the housing</li>
<li>AC or DC voltage: AC signals are easier to break, i.e. less contact pitting or arcing, since the potential difference falls to zero twice per cycle.</li>
</ol>

<p>Thus, when used for DC, I prefer to assume 10% of the highest rated AC voltage, while keeping the current rating the same as the lowest rated current for the AC specifications.</p>

<p>For this particular switch, <strong>6 Amperes at 12.5 Volts DC</strong> would not trigger a paranoia attack.</p>

<hr>

<p>To address the <strong>update</strong> to the question:</p>

<p>The heat generated within the switch is a function of the current flowing through it, and the sum of its contact resistance and any other resistance (solder junctions, oxide build-up <em>et cetera</em>). Calculating the wattage by <code>P = V x I</code> for the voltage rating of the switch is invalid, since that voltage is not seen up across the contacts of the switch (except momentarily during making / breaking of contact). </p>

<p>A better computation basis would be <strong>P = I<sup>^2</sup> x R</strong>.</p>

<p>As the power dissipated for a given current through a given resistance is equal for two currents of equal RMS value, and AC voltage is typically expressed as its RMS value, the heat generated within the switch would be equal for AC and DC cases at the same current.</p>

<p>However, contact resistance over the expected lifetime of a switch will increase, more so for DC than for AC: The contacts tend to show an effect somewhat like electroplating / metal sputtering, as electricity flows through them. With AC, this electroplating-like effect is reversed at each half-cycle, so the deterioration over time is less than for DC, where one of the contacts will build up a deposit.</p>

<p>Other factors increasing contact resistance, such as oxidation, humidity related effects and airborne contaminants, are nominally equal in AC and DC cases - Actually AC will marginally reduce such effects as well.</p>

<p>One last factor to keep in mind: Plasma formation during contact breakage may cause ""spot welding"" like effects to bond the contacts closed (shorted); this is more prevalent in DC, since AC has those two zero-crossings per cycle which break the arc.</p>

<p>For reference here is an example of the ratings for a switch...
Arcolectric  1350 High Inrush Rocker Switch</p>

<p><img src=""https://i.stack.imgur.com/xGoXV.png"" alt=""Example of ratings of a switch""></p>

<p><a href=""http://www.arcolectric.com/pdfs/catalogue/pages/P028-031%7C1550+1350-High-Inrush-Switches.pdf"" rel=""noreferrer"">http://www.arcolectric.com/pdfs/catalogue/pages/P028-031%7C1550+1350-High-Inrush-Switches.pdf</a></p>

<p>These can help choose the right switch for your application. 
(the ""hp"" refers to Horse Power for a motor switch)</p>
","53314"
"Does a 230 V (240 V) single-phase motor technically draw twice as much current as the label states?","40466","","<p>I've always thought P = U * I (units watt, volt and ampere, respectively), but I ran across this discussion on a forum:</p>

<blockquote>
  <p>If you look in your panel there are 2 “hot wires coming in from the
  pole”. 1 is the 120v A phase and 1 is the 120v B phase. you need a hot
  leg from each one to make 240V. if you have a machine drawing 20 amps
  on 120V it is drawing it from 1 phase. If you have the same machine
  drawing 10 amps on 240V it is drawing 10 from the A phase and 10 from
  the B phase.</p>
  
  <p>The easiest motor for me to read the name plate on is a 1.5 HP 3450
  rpm Baldor motor. It was on the shelf.  It states at 115V it draws
  13.2 amps.  next it states 230V it draws 6.6 amps.</p>
  
  <p>“amps x volts = watts”</p>
  
  <p>13.2×115 = 1518</p>
  
  <p>6.6 x 230 = 1518</p>
  
  <p>no matter what you do it will draw the same amperage total.</p>
</blockquote>

<p>To me this explanation contradicts itself since it says that the motor draws both the same current and the same power. Is the motor <em>actually</em> drawing 6.6&nbsp;A from each hot wire (for a total of 13.2&nbsp;A), or is it drawing 3.3&nbsp;A from each hot wire? If it's 6.6&nbsp;A from each hot wire, it seems the classic ""current x voltage = power"" equation is misleading for 240&nbsp;V ""single-phase"" circuits.</p>

<p>Update: to clarify, this question applies to 120&nbsp;V and 240&nbsp;V current in the US.</p>
","<p>A 240 volt motor will only be connected to the two live wires, not to neutral, so your example draws 6.6 amps at 240 volts.  If it is connected to operate at 120 volts, it will be connected between one live wire and neutral, and will draw 13.2 amps at 120 volts.</p>

<p>I think it is misleading to say that, in the 240 volt case, the motor draws 6.6 amps from each live wire.  A more correct description would be that it draws 6.6 amps from one live wire, and returns that 6.6 amps through the other live wire.</p>

<p>Using the same terminology, in the 120 volt case, the motor will draw 13.2 amps from the live wire, and return that 13.2 amps through the neutral wire.</p>
","108935"
"how to use a 3v output to control a 5v relay","40370","","<p>I have some circuit where my board (Electric imp) can output up to 3.3v, 
and i need to control a relay with atleast 5v in order to effect the coil and close the circuit.
i have a power supply of 5v, so i was thinking maybe using a transistor with gate connected to my 3.3v signal, and somehow to control the transistor to push the 5v power supply to the relay.</p>

<p>but how? the only idea i had is making an inverter, wiring 5v to pmos, pmos drain to vout, and also nmos to drain and from there to GND.
and then when 3.3v -> vout = 0, and when 0v -> vout = 5v.
not exactly 5v, because i i need to know Vsd </p>
","<p>Surely you can just low-side switch the relay with a regular transistor?</p>

<p><em>Edited for the hard of goggling:</em></p>

<p><img src=""https://i.stack.imgur.com/iRzKO.gif"" alt=""Low-side switching circuit""></p>

<p>Transistor can be 2n2222, 2n3904, etc.</p>
","56097"
"What does common mode voltage stand for in an instrumentation amplifier?","40340","","<p><img src=""https://i.stack.imgur.com/orhxJ.jpg"" alt=""enter image description here""></p>

<p>I was reading a text about instrumentation amplifiers. I couldn't find any easy explanation what really common mode voltage means and its importance.</p>
","<p>The common mode voltage is a voltage offset that is ""common"" to both the inverting and noninverting (i.e. ""+"" and ""-"") inputs of the instrumentation amp. An instrumentation amplifier is set up as a difference amplifier, so it measures the difference between these two inputs and so rejects any voltage that is <strong>common</strong> to the two. In other words, if you have two signals v1(t) and v2(t) on the two inputs:</p>

<p>v1(t) = f1(t) + Vcm(t)</p>

<p>v2(t) = f2(t) + Vcm(t)</p>

<p>what the instrumentation amp will measure is:</p>

<p><strong>vo(t) = v1(t) - v2(t)</strong> = (f1(t) + Vcm(t)) - (f2(t) + Vcm(t)) = <strong>f1(t) - f2(t)</strong></p>

<p>Note that Vcm(t) (the common mode voltage that appears in both input signals) is cancelled out. Also note that this doesn't have to be a DC signal, but can vary with time.</p>

<p>Now why do we care about common mode voltage when selecting a difference amplifier? As other folks have said, there are two key characteristics of the amplifier to consider, the common-mode rejection ratio (CMRR) and the common mode range.</p>

<p>The CMRR is important because the instrumentation amplifier is not an ideal difference amplifier. An ideal difference amplifier would reject 100% of the common mode voltage in the input signals, and would only measure the difference between the two signals. In a real-world instrument amp, this is not the case, and there is a measurable (although typically very very small) amount of the common-mode voltage on the input that gets into the output.</p>

<p>The common-mode range is important, because it limits how far away from ground the measured input signals can be. This is a limit because typically you can't measure signals outside the supply voltages (often referred to as ""rails) of the amplifier. There are exceptions to this, but in general the voltage of each input signal must remain within the supply rails of the amplifier. So if you are supplying your amplifier with rails of +/-12V, you may be unable to measure the difference between two signals with a common-mode offset of 15V, even if the difference between the two signals is only 20mV. For example, if your two signals are completely DC and are:</p>

<p>V1 = 15 + 0.010</p>

<p>V2 = 15 - 0.010</p>

<p>Vo = V1 - V2 = 0.020</p>

<p>You would not be able to measure these if your instrumentation amplifier had a common-mode range of +/-12V.</p>
","91764"
"Beginner's logic analyzer?","40284","","<p>Can anyone recommend a low cost or DIY buildable logic analyzer?</p>

<p>Mostly, it would be for debugging serial protocols (SPI, I2C, RS232) at low voltages.</p>
","<p>The Bus Pirate is probably your best bet - open source software and hardware, easy to build if you don't mind SMT, cheap if you buy it assembled ($30 shipped worldwide).</p>

<p><a href=""http://code.google.com/p/the-bus-pirate/"" rel=""nofollow"">http://code.google.com/p/the-bus-pirate/</a></p>

<p>Lots of variants, with a lot of people supporting it:</p>

<p><a href=""http://www.google.com/search?q=bus+pirate"" rel=""nofollow"">http://www.google.com/search?q=bus+pirate</a></p>

<p>The bus pirate is mostly useful for serial work, though it can do some small amount of simple logic analyzer functions.  If you need to do a lot of logic analyzer work, this product looks very nice:</p>

<p><a href=""http://dangerousprototypes.com/open-logic-sniffer/"" rel=""nofollow"">http://dangerousprototypes.com/open-logic-sniffer/</a></p>

<p>Open source, but has very good capabilities. Very inexpensive, though.</p>
","2037"
"How to design an RC snubber for a solenoid relay driving an inductive load?","40149","","<p>I read up that switches driving inductive loads need to be snubbed and an RC pair seems to be the best (cheapest?) option. I have a large-ish AC induction motor (for a refrigerant compressor) that is being switched by a solenoid relay (about once every 30 minutes). Motor specs are like this:</p>

<p>Power:1500W (Input power. As read out on a watt meter.)<br>
Max. Current: 10A<br>
Rated Voltage: 230VAC/50Hz.  </p>

<p>I came across a solution like this:
<img src=""https://i.stack.imgur.com/i7DqY.jpg"" alt=""enter image description here""></p>

<ol>
<li>How do I select a suitable snubber? A very common combo seems to be 0.1uF - 120Ohm. But I couldn't justify it.</li>
<li>Should it be in parallel to the switch or the load?</li>
</ol>
","<p>The values used will often be OK.<br>
A larger than usual motor inductance may cause problems. </p>

<p>The snubber's job is to protect the switch contacts from inductive turnoff transients from the motor. Stopping the transient at source (across the motor) or at destination (across the contacts) both work. Arguably, having it at the switch is better as it deals with the energy that will do damage, as opposed to energy that may do damage, so it is more focused and it also then deals with other spikes that may happen along.</p>

<p>If you look at your circuit you'll note that in both cases the snubber connects from the motor-switch connection point to one leg of the mains. If the mains impedance is low at the spike frequency (-ies) then both are about equivalent. </p>

<p>The circuit current continues instantaneously at switch off. If it all flows through the snubber then it will pass through the 120 ohm resistor, so the voltage spike will <em>initially</em> will be \$V=IR = 10\mathrm{A} \times 120\mathrm{\Omega} = 1200\mathrm{V}\$. While that is a lot it is usually within the switch break capability (or else), and there are usually other impedances present which will also help to damp it.</p>

<p>The snubbing current will flow only until the capacitor charges to the driving voltage. If the motor inductance is large the capacitor may charge to a higher or much higher voltage. </p>

<p>The capacitor needs to be large enough to not be charged to the point where current decays through charging of the cap before the resistor dissipates the energy. To be sure that the component values present will do the job, you need to know motor inductance.</p>

<p>Energy in inductor is \$E=\frac{1}{2}LI^2\$  </p>

<p>Capacitor will ""ring"" with an energy of \$E=\frac{1}{2}CV^2\$</p>

<p>The resistor needs to dissipate this energy.</p>

<p>Energy = \begin{align}\frac{1}{2}Li^2 &amp;= \frac{1}{2}CV^2 \\ 
\\
\Rightarrow V &amp;= \sqrt{\frac{Li^2}{C}}
\end{align}</p>

<p>Then there is some \$L/R\$ time constant as well and ...</p>

<p>You can start to calculate this (if you know L) or simulate it, <em>but</em> in most cases the values shown are OK for typical equipment. </p>

<p>Place a scope across the contacts. What peak V do you see (use a suitable probe!). Do the contacts spark? They shouldn't.</p>

<p>Note that increasing C improves snubbing action <em>but</em> also increases losses from the mains in normal operation. Note also that a capacitor across a mains switch may be frowned at in some contexts.</p>

<hr>

<p>Added:</p>

<blockquote>
  <p>Dario said: One problem with placing the RS across the switch is that now you have some current in the circuit in the switched off mode. ...</p>
  
  <p>User_long_gone responded: I'm absolutely certain that the 4-5 MILLIAMPS of current flowing through a 0.1 microfarad capacitor at 60 Hz will present no problem to a motor circuit. Wasteful of energy? It's less than 1/2 watt. </p>
</blockquote>

<p>It's worth noting that </p>

<ol>
<li>The snubber across the motor may not bother the motor itself but may well severely bother anyone silly enough to think that the switch being off means that the circuit is ""safe"" or ""dead"". If the switch is in the phase/live lead the motor side of the switch may be near ground due to relative impedances. But there is no certainty that this will always be the way the connection is made - even if regulations say that it should be. </li>
</ol>

<p>2 ""Even"" 1/2 a Watt of pointlessly wasted energy in an appliance is frowned on in modern scenarios. </p>
","42142"
"MOSFET symbol - what is the correct symbol","40120","","<p>I've been on this site now a couple of months and I notice various symbols used for MOSFETs. What is the preferred symbol for an N Channel MOSFET and why?</p>
","<p>It is likely that you saw a Circuit Lab sysmbol and that this caused you to ask this question. The Circuit Lab N Channel MOSFET symbol is both unusual and illogical.<br>
I'd avoid using them if at all possible.<br>
Read on ...</p>

<p>Acceptable [tm] N Channel MOSFET symbol tends to have these characteristics.  </p>

<p>Gate symbol on one side.  </p>

<p>3 ""contacts"" on other side vertically.<br>
Top of these is drain.
Bottom of these 3 is source.<br>
Middle has an arrow pointing INTO the FET and the outside end is connected to source.<br>
This indicates that there is a connected body diode and that it is non conducting when the source is more negative than the drain (arrow is same as would be for a discrete diode).</p>

<p>Any symbol which obeys these guidelines should be ""clear enough"" and OK to use.<br>
I have very occasionally seen people use a symbol which does not comply with these guidelines but which is still recognisable as an N Channel MOSFET. </p>

<p>SO. Any of these are OK, and you can see the differences for the unmarked P Channels.</p>

<p><a href=""https://www.google.co.nz/search?q=mosfet+n+channel&amp;hl=en&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ei=a7CSUdCBC87HlQWrr4DADQ&amp;sqi=2&amp;ved=0CEAQsAQ&amp;biw=2133&amp;bih=1153"" rel=""noreferrer"">Many more examples here</a></p>

<p><img src=""https://i.stack.imgur.com/X59DS.jpg"" alt=""enter image description here""></p>

<hr>

<p>But!!!</p>

<p>Jippie's example shows the rogue version.<br>
[Note: See below - this is in fact intended to be a P Channel sysmbol].<br>
Truly horrible. I'd have to wonder if this was a P Channel symbol or an N Channel one.<br>
Even the discussion it is taken from has people expressing uncertainty re arrow direction. As shown IF that is an N Channel then it is implying body diode polarity and NOT current flow in source.  </p>

<p>Thusly</p>

<p><img src=""https://i.stack.imgur.com/jq4k4.jpg"" alt=""enter image description here""></p>

<p>________________'</p>

<p>Circuit Lab is apparently the (or a) culprit.<br>
This is their symbol for an N Channel MOSFET.<br>
A nasty piece of work, alas. 
Arrow shows <strong>usual</strong> drain-source conduction direction BUT as a MOSFET is a 2 quadrant device and will provide a true resistive on channel with \$V_{gs}\$ positive BUT \$V_{ds}\$ negative, the arrow is meaningless and, as it is in the opposite direction to most N Channel MOSFET sysmbols it is misleading to most. (Note the proper use of this symbol in table below). </p>

<p><img src=""https://i.stack.imgur.com/QhJfR.jpg"" alt=""enter image description here""></p>

<hr>

<p>USER23909 helpfully pointed out this page -  <a href=""http://en.wikipedia.org/wiki/MOSFET#Circuit_symbols"" rel=""noreferrer"">Wikipedia -  MOSFET </a>. This page includes the following symbols. User xxx says these may be IPC standards, but Wikipedia is silent re their source.</p>

<p><strong>Wikipedia MOSFET symbols</strong></p>

<p><img src=""https://i.stack.imgur.com/UD5KS.jpg"" alt=""enter image description here""></p>

<p><a href=""http://en.wikipedia.org/wiki/MOSFET#Circuit_symbols"" rel=""noreferrer"">http://en.wikipedia.org/wiki/MOSFET#Circuit_symbols</a></p>
","69321"
"Reliability of the Arduino platform for industrial use","40093","","<p>I'm no electrical engineer (just mechanical) but I would like to apply some of my hobbyist experience to my job and implement various automated systems in an industrial (manufacturing) environment. </p>

<p>Traditionally, automation in the industrial setting consists of either engineered systems or PLCs. Engineered systems are too expensive and PLCs lack flexibility (and they can get pretty expensive as well).</p>

<p>I would like to replace traditional PLCs with more flexible, powerful, and cheaper Arduinos but I'm concerned about the Arduino's reliability. PLCs evolved in the industrial setting and are thus very rugged and reliable but how does the Arduino platform compare?</p>

<p>Assuming that proper measures are taken to protect the Arduino from mechanical and electrical damage, how reliable is the platform? Would you trust it to replace a traditional PLC that controls say a machine's safety interlock system to prevent people from getting too close to a machine in operation?</p>

<p>Edit: What about non safety critical systems? For example, introducing intelligence into say a fixture which a PLC would not be capable of?</p>
","<p>PLC manufacturers would like you to believe that their software is more reliable and more thoroughly tested. My impression is that the core OS components of PLCs are usually quite well designed and tested, but the drivers for external hardware (motion systems and the like) are often libraries hacked together by applications engineers and then passed around the company. The hardware in PLCs is often antiquated-- a lot of them are running old, hot Geode processors.</p>

<p>When you buy a PLC from Allen-Bradley, B&amp;R, Siemens, or any of the other big players, you're mostly paying for support when things go wrong. Their hardware is made with the same manufacturing processes as Arduinos, and there's nothing magical about the real-time operating systems running on PLCs that makes them bug-free. But, I think that support is often worth paying for. If it's a machine that costs the company $1M every day it's not operating, I'd be damn sure that when something went wrong, there was a team of professionals who could help fix it, not just me and Google. For the specific case of light curtains or other safety interlocks, I would want to make sure that the manufacturer had a hefty insurance policy in place, rather than a statement that tries to disclaim all merchantability for any particular purpose.</p>

<p>Even so, if I were designing (for example) a bit of simple pneumatic actuation for some fixture, and I was willing to shoulder the support burden of fixing the machine when it broke (or if I wasn't able to get the resources allocated to pay for the PLC), and safety wasn't an issue, I'd happily use an Arduino.</p>

<p>I'd probably prototype the system with an Arduino and then rewrite the code in pure C once it was working, so that my code was the only code on the microcontroller.</p>
","15538"
"A quick way to remember NAND & NOR logic?","40009","","<p>I'm frequently asked in class to create a logic circuit based on some specifications. Building the circuit and deriving the equations is the easy part. We are usually told to implement our circuit using only NAND or only NOR gates (akin to a real-life scenario).</p>

<p>I find myself consulting pages like <a href=""http://en.wikipedia.org/wiki/NAND_logic"">this</a> once I have my equations an am about to draw the circuit. If memorizing these combinations are the only way to make a NAND or NOR exclusive circuit, then I will. But there ought to be a better way of converting everything quickly and neatly.</p>

<p>Anyone?</p>
","<p>If you have an existing schematic consisting of Inverters, AND, and OR Gates, then there is a simple, three step process that you can follow to convert the circuit to all NAND (you can modify the process slightly for NOR).  You can use ""Bubble Logic"".</p>

<p>Let's assume you have three levels of logic.  The first level, closest to your inputs, consists of inverters.  The second level consists of AND gates.  And the final level consists of just a single OR gate.  Some textbooks may refer to this as being a ""sum of products"" Boolean Algebra expression.</p>

<ol>
<li>Convert all of your AND Gates to NAND Gates.</li>
<li>Wherever you added a bubble, you've actually inverted the Boolean Algebra function on that wire.  So, add another bubble to that wire and draw the bubble close to the OR gate on the output.</li>
<li>A NAND gate is equivalent to an OR Gate whose inputs are inverted.  So, if you're OR gate at the output has all of its inputs inverted, simply redraw it as a NAND gate.  If it does not, then make it so by adding a bubble near the input to the OR and another bubble (inverter) somewhere else on that particular wire.</li>
</ol>

<p>You could do a similar process for an all NOR implementation.  I hope that helps!</p>
","21644"
"Difference between Brushless Motor and Stepper Motor","39973","","<p>I think I understand the operating principles of a brushless motor and a stepper motor, but I'm a little confused about the difference.  Is a brushless DC motor a very basic stepper motor?  With proper controls, could a brushless DC motor be operated as a stepper motor? If not, how do they differ?</p>

<p>For an electronics newbie, can someone highlight the similarities and differences between stepper motors and DC brushless motors?</p>
","<p>The two are largely the same, fundamentally. However, they differer in intended application. A stepper motor is intended to be operated in, well, steps. A BLDC motor is intended to be operated to provide smooth motion.</p>

<p>Since stepper motors are used for motion control, repeatability of the steps is desirable. That is, if you start at one step, then to another, then back to the first, it should ideally return to exactly where it was previously. Various things can mess this up; slop in the bearings, friction, etc. BLDC motors are optimized for smooth torque between steps, not repeatability.</p>

<p>Stepper motors are designed to maximize <em>holding torque</em>, the stepper's ability to hold the mechanical load at one of the steps. This is accomplished by keeping the winding current high even though the rotor is aligned with the stator. This wastes a lot of energy, because it generates no torque unless the load tries to turn out of position, but it does avoid the need for any feedback mechanism.</p>

<p>On the other hand, BLDCs are typically operated with the rotor lagging the stator so that applied current always generates maximum torque, which is what a brushed motor would do. If less torque is desired, then the current is decreased. This is more efficient, but one must sense the position of the load to know how much torque to apply. Consequently, stepper motors are usually bigger to accommodate the additional heat of operating the motor at maximum current all the time.</p>

<p>Also, for most applications, people expect a stepper to be capable of small steps for precise motion control. This means a large number of magnetic poles. A stepper motor typically has hundreds of steps per revolution. A BLDC will usually have many less. For example, recently I was playing with a BLDC from a hard drive, and it has four ""steps"" per revolution.</p>

<p>Stepper motors are usually designed for maximum holding torque first, and speed second. This usually means windings of very many turns, which creates a stronger magnetic field, and thus more torque, per unit of current. However, this comes at the expense of increased back-EMF, thus reducing the speed per unit voltage.</p>

<p>Also, stepper motors are usually driven by two phases 90 degrees apart, while BLDCs typically have three phases, 120 degrees part (though there are exceptions in both cases):</p>

<p><strong>stepper motor</strong><br/>
<a href=""http://en.wikipedia.org/wiki/Stepper_motor"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zr7Vg.png"" alt=""stepper windings""></a></p>

<p><strong>BLDC</strong><br/>
<a href=""http://en.wikipedia.org/wiki/Brushless_DC_electric_motor"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YkojZ.png"" alt=""BLDC windings""></a></p>

<p>Despite these differences, a stepper can be operated like a BLDC, or a BLDC like a stepper. However, given the conflicting design intentions, the result is likely to be less than optimal.</p>
","79511"
"How to use a capacitive touch screen without a human hand","39970","","<p>I'm a programmer, and I usually hang out over on stack overflow, but I have a electricity question.  </p>

<p>I'm trying to interact with an APP on my phone by indirectly touching the the screen.  Modern touchscreens, as I'm sure everyone here knows are capacitive rather than resistive, so that means that I should be able to interact with it as long as I can bring a small current to the screen where I want to touch.  </p>

<p>I'm experimenting with using some speaker cable and a couple other wires I have laying around the house to see how far away I can be and still pass enough current through the wire to register a touch on the screen, based on my distance and the size and quality of the wire.  </p>

<p>What I'm finding though is that touching wire to the screen seems to register a touch even without me touching the wire.  So is there already a current inside wire? Is it the type of wire I am using? I was under the impression that a wire on its own had no current and only passes electricity when there is an outside source.  </p>

<p>Is there anything I can do to decharge the wire, or block it somehow?</p>

<hr>

<p>Thanks for everyone for letting me know how exactly capacitive touchscreens work.  I had it wrong in my head.  </p>

<p>The problem that I'm trying to solve is that I want to interact with my phone through its touchscreen from a distance.  Is there any material I can use to attach to my phones screen that will essentially extend the touchscreen to where I am?  I will only be a few feet out of reach, and it doesn't need to be fancy, just basically detect a touch event.  </p>

<p>I realize it might be a strange question, so if I don't get any answers to this I will still choose an answer below, I've learned a lot from this question already.</p>
","<p><i>so that means that I should be able to interact with it as long as I can bring a small current to the screen where I want to touch.</i></p>

<p>No.  You don't ""bring"" current to the device.  These devices measure capacitance, not current or voltage.  The additional capacitance thru your body back to ambient or circuit ground is detected by looking at how the capacitive pad responds to some specifically chosen signals.</p>
","60393"
"What is the simplest way to generate PWM without a Microcontroller?","39904","","<p>What is the fast and elegant way to generate PWM without a Microcontroller to control a servo motor? With potentiometer or other ways to control the duty cycle with fix period.</p>

<ul>
<li>sorry about the mess, I want to control a hobby servo.</li>
</ul>
","<p>I recommend the (GASP!) <a href=""http://en.wikipedia.org/wiki/555_timer_IC#Astable"">555 Timer in ""astable"" mode</a>. You'll find everything you need in the link, but I copied them here just for you!</p>

<p>Astable mode gives you a variable PWM frequency, and allows for an adjustable duty cycle as well (high-time and low-time equations in the link).</p>

<p>The circuit:</p>

<p><img src=""https://i.stack.imgur.com/5GAHB.png"" alt=""555 Timer, astable mode""></p>

<p>Note: I'd add an electrolytic cap across Vcc (positive lead) and GND (negative lead) to reduce the effect of dips in power supply voltage.</p>

<p>The PWM frequency:</p>

<p><img src=""https://i.stack.imgur.com/34vbs.png"" alt=""Output frequency of 555 Timer in astable mode""></p>

<p>Some defense for my answer compared to others in this post. Most other answers require an intermediate waveform to generate a variable PWM signal, such as the common triangle wave/comparator method. I don't see much point in constructing triangle wave generator (a significant circuit in-and-of itself) just as an intermediate step to solve your problem.</p>

<p>The 555 is a great analog chip and does just what you need. I wish people didn't hate on them as much.</p>
","32535"
"Starting with I2C on PIC18s","39785","","<p>For a project I'd like three PICs (two slaves PIC18F4620, one master PIC18F46K22) to communicate over the I2C bus. Later on, more slaves may be added (like EEPROM, SRAM, ...). I'm writing the code for these PICs in C using the C18 compiler. I've looked around on the internet a lot, but couldn't find libraries to handle the (M)SSP peripheral. I've read the datasheet of both PICs on the (M)SSP peripheral in I2C mode but couldn't find out how to interface the bus.</p>

<p>So I need master <em>and</em> slave libraries.</p>

<p>What do you recommend? Do you have such a library somewhere? Is it built-in in the compiler and if yes, where? Is there a good tutorial somewhere on the net? </p>
","<p>Microchip wrote application notes about this:</p>

<ul>
<li><a href=""http://ww1.microchip.com/downloads/en/appnotes/00734b.pdf"" rel=""nofollow noreferrer"">AN734</a> on implementing an I2C slave</li>
<li><a href=""http://ww1.microchip.com/downloads/en/appnotes/00735a.pdf"" rel=""nofollow noreferrer"">AN735</a> on implementing an I2C master</li>
<li>There's also a more theoretical <a href=""http://ww1.microchip.com/downloads/en/appnotes/00736a.pdf"" rel=""nofollow noreferrer"">AN736</a> on setting up a network protocol for environmental monitoring, but it isn't needed for this project.</li>
</ul>

<p>The application notes are working with ASM but that can be ported to C easily. </p>

<p>Microchip's free C18 and XC8 compilers have I2C functions. You can read more about them in the <a href=""http://ww1.microchip.com/downloads/en/devicedoc/mplab_c18_libraries_51297f.pdf"" rel=""nofollow noreferrer"">Compiler libraries documentation</a>, section 2.4. Here's some quick start info:</p>

<h1>Setting up</h1>

<p>You already have Microchip's C18 or XC8 compiler. They both have built-in I2C functions. To use them, you need to include <code>i2c.h</code>:</p>

<pre><code>#include i2c.h
</code></pre>

<p>If you want to have a look at the source code, you can find it here:</p>

<ul>
<li>C18 header: <em><code>installation_path</code></em><code>/v</code><em><code>x.xx</code></em><code>/h/i2c.h</code></li>
<li>C18 source: <em><code>installation_path</code></em><code>/v</code><em><code>x.xx</code></em><code>/src/pmc_common/i2c/</code></li>
<li>XC8 header: <em><code>installation_path</code></em><code>/v</code><em><code>x.xx</code></em><code>/include/plib/i2c.h</code></li>
<li>XC8 source: <em><code>installation_path</code></em><code>/v</code><em><code>x.xx</code></em><code>/sources/pic18/plib/i2c/</code></li>
</ul>

<p>In the documentation, you can find in which file in the <code>/i2c/</code> folder a function is located.</p>

<h2>Opening the connection</h2>

<p>If you're familiar with Microchip's MSSP modules, you'll know they first have to be initialized. You can open an I2C connection on a MSSP port using the <code>OpenI2C</code> function. This is how it's defined:</p>

<pre><code>void OpenI2C (unsigned char sync_mode, unsigned char slew);
</code></pre>

<p>With <code>sync_mode</code>, you can select if the device is master or slave,and, if it's a slave, whether it should use a 10-bit or 7-bit address. Most of the time, 7-bits is used, especially in small applications. The options for <code>sync_mode</code> are:</p>

<ul>
<li><code>SLAVE_7</code> - Slave mode, 7-bit address</li>
<li><code>SLAVE_10</code> - Slave mode, 10-bit address</li>
<li><code>MASTER</code> - Master mode</li>
</ul>

<p>With <code>slew</code>, you can select if the device should use slew rate. More about what it is here: <a href=""https://electronics.stackexchange.com/q/65531/17592"">What is slew rate for I2C?</a></p>

<h2>Two MSSP modules</h2>

<p>There's something special about devices with two MSSP modules, like the <a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en547757"" rel=""nofollow noreferrer"">PIC18F46K22</a>. They have two sets of functions, one for module 1 and one for module 2. For example, instead of <code>OpenI2C()</code>, they have <code>OpenI2C1()</code> and <code>openI2C2()</code>.</p>

<p>Okay, so you've set it all up and opened the connection. Now let's do some examples:</p>

<h1>Examples</h1>

<h2>Master write example</h2>

<p>If you're familiar with the I2C protocol, you'll know a typical master write sequence looks like this:</p>

<pre class=""lang-none prettyprint-override""><code>Master : START | ADDR+W |     | DATA |     | DATA |     | ... | DATA |     | STOP
Slave  :       |        | ACK |      | ACK |      | ACK | ... |      | ACK |
</code></pre>

<p>At first, we send a START condition. Consider this picking up the phone. Then, the address with a Write bit - dialing the number. At this point, the slave with the sent address knows he's being called. He sends an Acknowledgement (""Hello""). Now, the master device can go send data - he starts talking. He sends any amount of bytes. After each byte, the slave should ACK the received data (""yes, I hear you""). When the master device has finished talking, he hangs up with the STOP condition.</p>

<p>In C, the master write sequence would look like this for the master:</p>

<pre><code>IdleI2C();                         // Wait until the bus is idle
StartI2C();                        // Send START condition
IdleI2C();                         // Wait for the end of the START condition
WriteI2C( slave_address &amp; 0xfe );  // Send address with R/W cleared for write
IdleI2C();                         // Wait for ACK
WriteI2C( data[0] );               // Write first byte of data
IdleI2C();                         // Wait for ACK
// ...
WriteI2C( data[n] );               // Write nth byte of data
IdleI2C();                         // Wait for ACK
StopI2C();                         // Hang up, send STOP condition
</code></pre>

<h2>Master read example</h2>

<p>The master read sequence is slightly different from the write sequence:</p>

<pre class=""lang-none prettyprint-override""><code>Master : START | ADDR+R |     |      | ACK |      | ACK | ... |      | NACK | STOP
Slave  :       |        | ACK | DATA |     | DATA |     | ... | DATA |      |
</code></pre>

<p>Again, the master initiates the call and dials the number. However, he now wants to get information. The slave first answers the call, then starts talking (sending data). The master acknowledges every byte until he has enough information. Then he sends a Not-ACK and hangs up with a STOP condition. </p>

<p>In C, this would look like this for the master part:</p>

<pre><code>IdleI2C();                         // Wait until the bus is idle
StartI2C();                        // Send START condition
IdleI2C();                         // Wait for the end of the START condition
WriteI2C( slave_address | 0x01 );  // Send address with R/W set for read
IdleI2C();                         // Wait for ACK
data[0] = ReadI2C();               // Read first byte of data
AckI2C();                          // Send ACK
// ...
data[n] = ReadI2C();               // Read nth byte of data
NotAckI2C();                       // Send NACK
StopI2C();                         // Hang up, send STOP condition
</code></pre>

<h2>Slave code</h2>

<p>For the slave, it's best to use an Interrupt Service Routine or ISR. You can setup your microcontroller to receive an interrupt when your address is called. That way you don't have to check the bus constantly. </p>

<p>First, let's set up the basics for the interrupts. You'll have to enable interrupts, and add an ISR. It's important that PIC18s have two levels of interrupts: high and low. We're going to set I2C as a high priority interrupt, because it's very important to reply to an I2C call. What we're going to do is the following:</p>

<ul>
<li>Write an SSP ISR, for when the interrupt is an SSP interrupt (and not another interrupt)</li>
<li>Write a general high-priority ISR, for when the interrupt is high priority. This function has to check what kind of interrupt was fired, and call the right sub-ISR (for example, the SSP ISR)</li>
<li>Add a <code>GOTO</code> instruction to the general ISR on the high priority interrupt vector. We can't put the general ISR directly on the vector because it's too large in many cases.</li>
</ul>

<p>Here's a code example:</p>

<pre><code>// Function prototypes for the high priority ISRs
void highPriorityISR(void);

// Function prototype for the SSP ISR
void SSPISR(void);

// This is the code for at the high priority vector
#pragma code high_vector=0x08
void interrupt_at_high_vector(void) { _asm GOTO highPriorityISR _endasm }
#pragma code

// The actual high priority ISR
#pragma interrupt highPriorityISR
void highPriorityISR() {
    if (PIR1bits.SSPIF) {        // Check for SSP interrupt
        SSPISR();            // It is an SSP interrupt, call the SSP ISR
        PIR1bits.SSPIF = 0;  // Clear the interrupt flag
    }
    return;
}

// This is the actual SSP ISR
void SSPISR(void) {
    // We'll add code later on
}
</code></pre>

<p>Next thing to do is to enable the high priority interrupt when the chip initializes. This can be done by some simple register manipulations:</p>

<pre><code>RCONbits.IPEN = 1;          // Enable interrupt priorities
INTCON &amp;= 0x3f;             // Globally enable interrupts
PIE1bits.SSPIE = 1;         // Enable SSP interrupt
IPR1bits.SSPIP = 1;         // Set SSP interrupt priority to high
</code></pre>

<p>Now, we have interrupts working. If you're implementing this, I'd check it now. Write a basic <code>SSPISR()</code> to start blinking an LED when an SSP interrupt occurs.</p>

<p>Okay, so you got your interrupts working. Now let's write some real code for the <code>SSPISR()</code> function. But first some theory. We distinguish five different I2C interrupt types:</p>

<ol>
<li>Master writes, last byte was address</li>
<li>Master writes, last byte was data</li>
<li>Master reads, last byte was address</li>
<li>Master reads, last byte was data</li>
<li>NACK: end of transmission</li>
</ol>

<p>You can check at what state you are by checking the bits in the <code>SSPSTAT</code> register. This register is as follows in I2C mode (unused or irrelevant bits are omitted):</p>

<ul>
<li>Bit 5: D/NOT A: Data/Not address: set if the last byte was data, cleared if the last byte was an address</li>
<li>Bit 4: P: Stop bit: set if a STOP condition occurred last (there's no active operation)</li>
<li>Bit 3: S: Start bit: set if a START condition occurred last (there's an active operation)</li>
<li>Bit 2: R/NOT W: Read/Not write: set if the operation is a Master Read, cleared if the operation is a Master Write</li>
<li>Bit 0: BF: Buffer Full: set if there's data in the SSPBUFF register, cleared if not</li>
</ul>

<p>With this data, it's easy to see how to see what state the I2C module is in:</p>

<pre class=""lang-none prettyprint-override""><code>State | Operation | Last byte | Bit 5 | Bit 4 | Bit 3 | Bit 2 | Bit 0
------+-----------+-----------+-------+-------+-------+-------+-------
1     | M write   | address   |   0   |   0   |   1   |   0   |   1
2     | M write   | data      |   1   |   0   |   1   |   0   |   1
3     | M read    | address   |   0   |   0   |   1   |   1   |   0
4     | M read    | data      |   1   |   0   |   1   |   1   |   0
5     | none      | -         |   ?   |   ?   |   ?   |   ?   |   ?
</code></pre>

<p>In software, it's best to use state 5 as the default, which is assumed when the requirements for the other states aren't met. That way, you don't reply when you don't know what's going on, because the slave doesn't respond to a NACK.</p>

<p>Anyway, let's have a look at the code:</p>

<pre><code>void SSPISR(void) {
    unsigned char temp, data;

    temp = SSPSTAT &amp; 0x2d;
    if ((temp ^ 0x09) == 0x00) {            // 1: write operation, last byte was address
        data = ReadI2C();
        // Do something with data, or just return
    } else if ((temp ^ 0x29) == 0x00) {     // 2: write operation, last byte was data
        data = ReadI2C();
        // Do something with data, or just return
    } else if ((temp ^ 0x0c) == 0x00) {     // 3: read operation, last byte was address
        // Do something, then write something to I2C
        WriteI2C(0x00);
    } else if ((temp ^ 0x2c) == 0x00) {     // 4: read operation, last byte was data
        // Do something, then write something to I2C
        WriteI2C(0x00);
    } else {                                // 5: slave logic reset by NACK from master
        // Don't do anything, clear a buffer, reset, whatever
    }
}
</code></pre>

<p>You can see how you can check the <code>SSPSTAT</code> register (first ANDed with <code>0x2d</code> so that we only have the useful bits) using bitmasks in order to see what interrupt type we have.</p>

<p>It's your job to find out what you have to send or do when you respond to an interrupt: it depends on your application.</p>

<h1>References</h1>

<p>Again, I'd like to mention the application notes Microchip wrote about I2C:</p>

<ul>
<li><a href=""http://ww1.microchip.com/downloads/en/appnotes/00734b.pdf"" rel=""nofollow noreferrer"">AN734</a> on implementing an I2C slave</li>
<li><a href=""http://ww1.microchip.com/downloads/en/appnotes/00735a.pdf"" rel=""nofollow noreferrer"">AN735</a> on implementing an I2C master</li>
<li><a href=""http://ww1.microchip.com/downloads/en/appnotes/00736a.pdf"" rel=""nofollow noreferrer"">AN736</a> on setting up a network protocol for environmental monitoring</li>
</ul>

<p>There's documentation for the compiler libraries: <a href=""http://ww1.microchip.com/downloads/en/devicedoc/mplab_c18_libraries_51297f.pdf"" rel=""nofollow noreferrer"">Compiler libraries documentation</a></p>

<p>When setting up something yourself, check the datasheet of your chip on the (M)SSP section for I2C communication. I used the <a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en547757"" rel=""nofollow noreferrer"">PIC18F46K22</a> for the master part and the <a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en010304"" rel=""nofollow noreferrer"">PIC18F4620</a> for the slave part.</p>
","55554"
"How do I correct the offset voltage of op-amps which have no explicit offset-null pins?","39783","","<p>Not all op-amps have explicit offset-null support, but all op-amps have an offset voltage.</p>

<p>This is exactly my practical circuit:</p>

<p><img src=""https://i.imgur.com/nv59w.png"" alt=""Non-inverting amplifier with TL084""></p>

<p>How do I correct the offset voltage of TL084 in this circuit?</p>

<p>(Datasheet: <a href=""http://www.ti.com/lit/ds/symlink/tl084.pdf"" rel=""nofollow noreferrer"">TL084</a>)</p>
","<p>There are a range of methods which can be used to provide offset voltage compensation.</p>

<p>The best method to use varies with the application circuit, but all either</p>

<ul>
<li><p>apply a variable current to a circuit node</p></li>
<li><p>or vary the voltage of a node which a circuit element connects to.</p></li>
</ul>

<p>The methods described below can easily be applied to your circuit by</p>

<ul>
<li><p>Adding a divider and potentiometer at the ground end of your R2. <br/>The ease of use of this method is improved by adding one two-resistor divider to the potentiometer voltage, as explained below.</p></li>
<li><p>Or a say 100 kohm resistor from the op-amp inverting input can be fed by a 10&nbsp;kohm potentiometer connected to +/- 15&nbsp;V. This injects a small current into the node which causes an offset voltage.</p></li>
</ul>

<p>Current injection effectively occurs at a high impedance point and voltage adjustment at a low impedance point, but both methods are functionally equivalent. That is, injecting a current causes it to flow in related circuitry and causes a voltage change, and adjusting voltage causes current flows to alter.</p>

<p>To compensate for an offset voltage by injecting a current you can apply an adjustable voltage from a potentiometer via a high-value resistor to an appropriate circuit node. To adjust a ""ground"" voltage that a resistor connects to, you can connect it to a potentiometer which is able to vary either side of ground.</p>

<p>The diagram below shows one method. Here Rf would usually connect to ground.</p>

<p><img src=""https://i.stack.imgur.com/uIltZ.gif"" alt=""enter image description here""></p>

<p>If R1 is a short circuit and R2 an open circuit the whole change in potentiometer voltage is applied to the end of Rf. This causes two problems.</p>

<ul>
<li><p>The equivalent resistance of Rf (equal to Rf/4) will add to Rf and cause gain errors. For a small error the potentiometer value would need to be small or Rf would need to be reduced by an equal amount.</p></li>
<li><p>For small offset voltage adjustments the adjustment of the potentiometer becomes difficult and most of the potentiometer range is not used...</p></li>
</ul>

<p>Adding R1 and R2 overcomes both these problems.</p>

<p>R1 and R2 divide down changes in potentiometer voltage by the ratio R2/(R1+R2). If, for example, a +/- 15&nbsp;mV change is required then the ratio of R1:R2 can be about 15&nbsp;V:15&nbsp;mV = 1000:1.</p>

<p>The effective resistance of the R1, R2 divider is R1 and R2 in parallel or about = R2 for large division ratios.</p>

<p>If the resistance of R2 is small relative to Rf then minimal errors are caused.</p>

<p>If Rf is, say, 10&nbsp;kohm then a value of R2 = 10 ohm causes an error of 10/10,000 = 0.1%.</p>

<p>Maxim manage to say this in fewer words in the diagram below.</p>

<p><img src=""https://i.stack.imgur.com/Hr1HE.gif"" alt=""enter image description here""></p>

<p>If R1 and R2 form a ~~ 1000:1 divider then R1 will be about 10 ohm x 1000 = 10&nbsp;kohm.</p>

<p>Use of a, say, 50&nbsp;kohm potentiometer will result in an equivalent resistance of about 12.5&nbsp;kohm at the mid point and this can be used in place of R1.</p>

<p>The circuit becomes: R2 = 10&nbsp;ohm, R1 = short circuit, potentiometer = 10&nbsp;kohm linear.</p>

<p>The above circuit is taken from the useful <em><a href=""http://www.maxim-ic.com/app-notes/index.mvp/id/803"" rel=""noreferrer"">Maxim Application note 803 - EPOT Applications: Offset Adjustment in Op-Amp Circuits</a></em> which contains much other applicable information.</p>

<hr>

<p>In his answer miceuz referred to <a href=""http://www.ti.com/ww/en/bobpease/assets/AN-31.pdf"" rel=""noreferrer"">NatSemi's AN-31 pages 6 &amp; 7</a>.</p>

<p>Not surprisngly, <strong>the circuits there apply the identical methods to what I describe above and to those in the Maxim app note</strong>, but the diagrams are more explanatory, so I've copied them here.</p>

<p><img src=""https://i.stack.imgur.com/hDTgB.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/HVu9q.jpg"" alt=""enter image description here""></p>
","34091"
"How to determine appropriate speaker cable gauge?","39766","","<p>When wiring speakers to a 100W consumer-grade amplifier, how do I select an appropriate gauge cable (for 8-ohm speakers)?</p>

<p>Also, if 14 gauge cable is sufficient, what harm is there in using a heavier cable such as 12 or 10 (other than inconvenience and cost)?</p>

<p><em>Related: <a href=""https://electronics.stackexchange.com/q/9671/2028"">What&#39;s the best cable to transfer audio signal?</a></em></p>

<p><em>Semi-related: <a href=""https://electronics.stackexchange.com/q/13924/2028"">Any truth behind &quot;multipole&quot; technology in audio signal transmission?</a></em></p>
","<p>The #1 issue with speaker cables is that they have a fixed resistance, and the speaker has a impedance that varies with frequency.  (Note:  you can almost use the terms resistance and impedance interchangeably in this context.)  When you combine the wires resistance with the speakers impedance you'll get, basically, a voltage divider.  The net effect of this is that the resistance of the wire will change the frequency response of the speaker.</p>

<p>Here's a <a href=""http://www.qscaudio.com/products/speakers/acoustic_design/ad_s52/ads52_freq.htm"" rel=""nofollow"">graph that shows the speaker impedance and frequency response</a>.  Notice that the average impedance is 8 ohms, but really varies between 4 and 33 ohms.  Now, let's say that your wire has a resistance of 10 ohms (that's super high, but I'm illustrating a point).  At 500 Hz the speaker has a 5 ohm impedance.  This effectively makes a voltage divider that cuts the power going to the speaker by 5:15, or 1:3.  So if the amp is spitting out 100 watts, only 33 watts is making it to the speaker.  But at 2 KHz the speaker impedance is about 30 ohms.  That means that the voltage divider is more like 30:40, or 75 watts from the 100 watt amp output is making it to the speaker.</p>

<p>The end result of this is that the higher the resistance of the cable, the more the frequency response of the cable is going to be affected.  When you size the gauge of the cable to minimize this resistance, odds are that the cable is going to work fine for whatever current you actually need to move-- unless you're doing pro-audio and have several kilowatt amps.</p>

<p>A really rough rule of thumb is that you want the cable resistance to be less than 10% of the nominal speaker impedance.  So for an 8 ohm speaker you'd want less than 0.8 ohms in the cable.  Of course, if you want to know for sure then you have to look up the impedance graph on the speaker and start calculating.</p>

<p>When this is all distilled down, you'll find that 16 gauge wire works for most home applications unless you have your amp a long way from the speakers (which you shouldn't do anyway).  </p>
","13936"
"What is the purpose of the Motor Run Capacitor?","39611","","<p>Looking at a control box for a marine Air Conditioner and it has a HUGE capacitor in it.  The schematics label it a ""Motor Run Capacitor"", but I always thought it was just used to start the motor.</p>

<p>What function does a huge cap like this have in running the motor?</p>

<p>The Air Conditioner is being run off AC power from a generator, no DC involved.</p>
","<p>It's more than likely a single phase induction motor. </p>

<p>Unlike a 3 phase motor that can automatically generate a rotating magnetic field, a single phase induction motor has to manufacture one by using 4 stator poles. Two of them are fed with the regular AC voltage and the other two are fed AC via a capacitor. If the value of the capacitor and winding inductance is chosen to electrically be a low Q resonant circuit at the AC frequency supplied, the voltage phase difference between the two sets of stator coils will be approximately 90 degrees and this will set the motor spinning. <a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/9.html#02486.png"" rel=""noreferrer"">Here</a> is a decent link and below is a snapshot: -</p>

<p><img src=""https://i.stack.imgur.com/EhjLs.jpg"" alt=""enter image description here""></p>
","101410"
"FPGA programming, where to begin","39503","","<p>I'm a software developer (C, C++, objective-c, java ...) and I am interested in learning to program FPGAs. Now the question may appear simple to you but please do take time to help me on this one as I'm kind of stuck right now. My company has asked me to get familiar with the technology and work on a lattice product. My question is where to start? After some research I found that I could choose between VHDL and Verilog, I have never used any of them. Is there any specialist who could suggest me where should I begin? Learn a language, learn about the hardware components and then lattice product? Or directly start with Lattice product (as I read that programming methods are very different between FPGA vendors)?</p>
","<p>Digital design does not have a lot in common with software development (maybe except that Verilog syntax looks a bit like C language but it just looks). Thus it is very hard to answer this type of question adequately. But as a guy who walked a path from software development to hardware design I'll give it a shot. Looking back at myself, here is how I would have advised myself back then if I knew what I know now:</p>

<h1>Start from scratch</h1>

<p>Forget everything about software development. Especially programming languages. Those principles do not apply in digital design. It probably would be easy for a guy who designed a CPU to program it in assembler or even C, but an assembler programmer won't be able to design a CPU.</p>

<p>On your learning path do not tend to solve what seem to be an easy problem with your existing knowledge from software. One of the classic examples is a ""for loop"". Even though you can write a for loop in, say, verilog — it serves a different purposes. It is mainly used for code generation. It may also be a for loop as software developers see it, but it won't be good for anything but simulation (i.e. you won't be able to program FPGA like that).</p>

<p>So for every task you want to tackle, don't think you know how to do it, do a research instead — check books, examples, ask more experienced people etc.</p>

<h1>Learn hardware and HDL language</h1>

<p>The most popular HDL languages are Verilog and VHDL. There are also vendor-specific ones like AHDL (Altera HDL). Since those languages are used to describe hardware components, they are all pretty much used to express the same thing in a similar fashions but with a different syntax.</p>

<p>Some people recommend learning Verilog because it looks like C. Yes, its syntax is a mix of C and Ada but it doesn't make it easy for a software developer to lean. In fact, I think it may  even make it worse because there will be a temptation to write C in Verilog. That's a good recipe for having a very bad time.</p>

<p>Having that in mind, I'd recommend staring from the VHDL. Though Verilog is also OK as long as the above is taken into account.</p>

<p>One important thing to keep in mind is that you must understand what you are expressing with that language. What kind of hardware is being ""described"" and how it works.</p>

<p>For that reason, I'd recommend you get yourself some book on electronics in general and a good book like this one — <a href=""http://rads.stackoverflow.com/amzn/click/0965193438"">HDL Chip Design</a> (aka as a blue book).</p>

<h1>Get a simulator</h1>

<p>Before you start doing anything in hardware and use any Vendor-specific features etc., get yourself a simulator. I was starting with a Verilog, and used Icarus Verilog along with GTK Wave. Those are free open-source projects. Run examples you see in books, practice by designing your own circuits to get some taste of it.</p>

<h1>Get a development board</h1>

<p>When you feel like going forward, get a development board. If you know that your employer wants to go with Lattice, then get Lattice board.</p>

<p>The programming methods are very similar, but there are details that are different. For example, different tools, different options, different interfaces. Usually, if you have experience with one vendor, it is not hard to switch. But you probably want to avoid this extra learning curve.</p>

<p>I'd also make sure that the board comes with components that you are planning to use or is extendable. For example, if you want to do design a network device like a router, make sure the board has Ethernet PHY or it can be extended through, say, HSMC connector, etc. </p>

<p>Boards usually come with a good reference, user guide and design examples. Study them.</p>

<h1>Read books</h1>

<p>You will need to read books. In my case, I had no friends who knew digital design, and this site wasn't very helpful either because of one simple thing — I didn't even know how to phrase my question. All I could come up with was like ""Uhm, guys, there is a thing dcfifo and I heard something about clock domain crossing challenges, what is it and why my design doesn't work?"".</p>

<p>I personally started with these:</p>

<ul>
<li><a href=""http://rads.stackoverflow.com/amzn/click/0131678442"">Advanced Digital Design with the Verilog HDL</a>.</li>
<li><a href=""http://rads.stackoverflow.com/amzn/click/1461186293"">100 Power Tips for FPGA Developers</a></li>
<li><a href=""http://rads.stackoverflow.com/amzn/click/0470054379"">Advanced FPGA Design - Architecture, Implementation and Optimization</a>.</li>
</ul>

<p>FPGA vendors have a lot of cookbooks with best practices. Study them along with reference designs. <a href=""http://www.altera.com/literature/manual/stx_cookbook.pdf"">Here</a> is one from Altera, for example.</p>

<h1>Come back with more specific questions</h1>

<p>While you go through your books, simulate a design, blink some LEDs on your development board, you would, most likely, have a lot of questions. Make sure you don't see an answer to those on the next page of the book or online (i.e. in the Lattice-specific forum) before asking them here.</p>
","41531"
"Transmitting a video stream through a microcontroller","39498","","<p>I'm working a a project that currently works well but this year we want to expand it by collecting data from it, independent of its current functions.  We have set up an iPad App to control an Arduino through Bluetooth.  The next step is transmitting video through Bluetooth to the iPad.</p>

<p>With this question I would like to focus on how a microcontroller can send a video stream through Bluetooth.  I can't seem to find any way to even start this project.  </p>

<p>How do you interface the camera with the microcontroller?</p>

<p>How do you then send that stream over Bluetooth?</p>
","<p>Unfortunately in my experience what you'll quickly find is that video is obnoxiously difficult to manipulate without a lot of cpu power.  Let's start from the beginning: how much video do you want?</p>

<p>There are a lot of choices here, but start small.  Let's say that, for simplicities sake, you wanted a 640x480 frame of 8-bit black and white video, at 24 frames per second.</p>

<p>That's 640*480 pixels = 307,200 * 8 bits per pixel = 307,200 kilobytes per frame * 24 frames per second = 7,372,800 bytes per second or ~7.37 megabytes per second</p>

<p>So that is a baseline for data throughput for a camera outputting raw frames, and that's not including sound or color.  Now you have a few paths you can take: you can start encoding the video stream, or you can get a lot of bandwidth.  I don't know the throughput of bluetooth, so I can't help you there.</p>

<p>Encoding unfortunately takes one of three things: a lot of processing power, or specialized hardware, or (possibly) FPGA knowledge that I also don't have.  Encoding will reduce bandwidth concerns, but at a pretty hefty cost. You would need to research compression and whatnot to figure out whether you could even get this over your interface and still have the arduino do useful work.</p>

<p>If you want to connect a camera to a microcontroller you'll find that even simply taking stills can be a pain based on how the still frames are delivered.  There was a sparkfun camera which gave jpeg frames but didn't have a fixed period for how long the encoding took, and then would suddenly start spitting out the encoded frame as fast as it could, and since the frames were too big to fit in RAM on the microcontroller it had to spend all it's time getting the frame and spitting it out over whatever interface they were using to transmit.</p>

<p>tl;dr: you should establish what you need and probably try and and figure out whether using the microcontroller as the go-between is the best choice.</p>

<p>Good luck! I hope that helps.</p>
","48994"
"Standard wire colors","39487","","<p>I am fairly new to ""electrical"" engineering as a hobby/ past time.  I have always loved electricity and have made simple circuits since I was a little baby.  </p>

<p>I am now working on one of my first arduino projects and I started thinking about what color wires I should use for the different I/O and serial communication.  </p>

<p>I know it doesn't matter, but I am curious: are there standard wire colors for things such as Tx and Rx, Digital IO, analogue IO?</p>

<p>It is very common that Red is ""Positive"" and Black is ""Negative.""  I have also noticed that USB data wires are usually green and white.  Are there other standards that are commonly used for other applications?  Can someone give me a list please?</p>
","<p>Obligatory link to the XKCD comic about standards:</p>

<p><img src=""https://i.stack.imgur.com/eY4it.png"" alt=""Fortunately, the charging one has been solved now that we&#39;ve all standardized on mini-USB. Or is it micro-USB? Shit.""></p>

<p>So yeah, there are standards. There are so many of them that it's effectively the same as having no standard, as every possible wire arrangement likely has a standard that describes it.</p>
","36373"
"AC adapter: Input power vs Output power","39458","","<p>When I look at, let's say an iPad AC adapter, the input/output rating on the charger states:</p>

<pre><code>Input: 100-240V 0.45A (AC)
Output: 5.1V 2.1A (DC)
</code></pre>

<p>I know that the input and output ratings are maximum. The AC voltage in my country is 230V. Through a simple calculation, I can deduce the following (correct me if I am wrong):</p>

<pre><code>Input power: 103.5W
Output Power: 10.71W
</code></pre>

<p>Now, my question is this: what is the true power drawn from the wall socket? Is it 103.5W or 10.71W? If it is 103.5W, then I presume the iPad adapter is 10% efficient?</p>
","<p>Undoubtedly the charger you have is a switching regulator. I say this because that is what all modern chargers appear to be and the input voltage range is wide enough to make this assumption valid. It's not a big charger - roughly 10 watt output means it is small in my book and more than likely it will be based around the following: -</p>

<ul>
<li>Raw AC voltage is rectified to DC (peak will be about 338V DC on 240 Vac input and about 140V DC on a 100 Vac input)</li>
<li>This gets smoothed by a capacitor - probably in region of 220 uF (rated at 450V)</li>
<li>A switching circuit will convert this high dc voltage to 5.1 Vdc</li>
</ul>

<p>As a thought experiment, if you connected the AC input of the charger to a 140V DC supply and the charger's output to a load resistor that took 2.1 Adc (10.71 watt load) and assumed the power conversion efficiency in the charger was 80%, you would expect to see about 14 watts taken from the input DC supply of 140V. This means a current of about 100mA.</p>

<p>Input power = 140 Vdc x 0.1 Adc = 14 watt</p>

<p>Output power = 5.1 Vdc x 2.1 Adc = 10.7 watt</p>

<p>So, when you connect it to an AC supply of 100V AC RMS, why could a current of 0.45 A flow? To understand this you have to recognize that this device's AC input current (as measured through an RMS measuring ammeter) is not representative of real power into the device. Unlike DC circuits (where it would be representative of real power), AC circuits like this can draw very non-linear (non sinusoidal) currents whose RMS value could be quite high compared to the ""useful"" current.</p>

<p>This means you can't make the assumption that input power into the device is Vac x Iac. The device has (more than likely) a bridge rectifier and smoothing capacitor and the current drawn will almost be like a spike of a few milliseconds every 10ms (50Hz supply). This, without doing the maths could mean that the input RMS current is twice the ""useful"" current: -</p>

<p><img src=""https://i.stack.imgur.com/56AVg.png"" alt=""enter image description here""></p>

<p>This would take your ""useful"" and needed input current of 100 mA to 200 mA - a bit closer to the 450 mA stated.</p>

<p>Also to consider is the inrush current - the manufacturer's rating of 0.45A may include some measure of inrush current into this figure but we don't really know.</p>

<p>Remember also that the rating will be most valid when the input AC voltage is at 100 VAC and not when the voltage is much higher (as per your calculation).</p>
","102999"
"MOSFET as a voltage controlled resistor","39402","","<p>This question might be too localized, but I try.</p>

<p>Is it possible to replace a variable resistor by a MOSFET, under conditions shown in the following schematic?</p>

<p>If yes, can someone propose a MOSFET type or the required MOSFET parameters.</p>



<p><img src=""https://i.stack.imgur.com/xuQSX.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fxuQSX.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p><strong>Update</strong></p>

<p>What I am actually trying to accomplish is to replace R2a by something simple that I can control with a microcontroller (DAC).</p>

<p>I am hacking an existing device and can not replace the resistor R1.</p>
","<p>Technically the MOSFET can operate as a variable resistor, but there are two main issues:</p>

<ol>
<li><p>In the ohmic region (which is quite narrow, speaking of output voltages) the linearity is poor, and also depends on the input voltage. It won't be very easy to tune it to behave like a proper resistor.</p></li>
<li><p>MOSFETs output resistance is not usually an accurate value, and it will be hard to get the exact value from the datasheet. What you can do is to measure it for various input and output voltages, and create a table with the values. But if you don't need it to be accurate, you can use the graphs in the datasheet.</p></li>
</ol>

<p>Another choice can be to use an integrated <a href=""http://www.linearsystems.com/assets/media/file/datasheets/VCR11N.pdf"">VCR</a>.</p>
","72273"
"What limits CPU speed?","39394","","<p>I've recently talked with a friend about LaTeX compilation. LaTeX can use only one core to compile. So for the speed of LaTeX compiliation, the clock speed of the CPU is most important (see <a href=""https://tex.stackexchange.com/questions/103565/tips-for-choosing-hardware-for-best-latex-compile-performance"">Tips for choosing hardware for best LaTeX compile performance</a>)</p>

<p>Out of curiosity, I've looked for CPUs with the highest clock speeds. I think it was Intel Xeon X5698 with 4.4 GHz (<a href=""http://www.cpu-world.com/CPUs/Xeon/Intel-Xeon%20X5698%20-%20AT80614007314AA.html"" rel=""noreferrer"">source</a>) which had the highest clock speed.</p>

<p>But this question is not about CPUs that get sold. I would like to know how fast it can get if you don't care about the price.</p>

<p>So one question is: <strong>Is there a physical limit to CPU speed?</strong> How high is it?</p>

<p>And the other question is: <strong>What is the highest CPU speed reached so far?</strong></p>

<p>I've always thought that CPU speed was limited because cooling (so <strong>heat</strong>) gets so difficult. But my friend doubts that this is the reason (when you don't have to use traditional / cheap cooling systems, e.g. in a scientific experiment).</p>

<p>In [2] I've read that <strong>transmission delays</strong> cause another limitation in CPU speed. However, they don't mention how fast it can get.</p>

<h2>What I've found</h2>

<ul>
<li>[1] <a href=""http://www.popsci.com/gadgets/article/2009-10/scientists-say-moores-law-will-diein-75-years"" rel=""noreferrer"">Scientists Find Fundamental Maximum Limit for Processor Speeds</a>: Seems to be only about quantuum computers, but this question is about ""traditional"" CPUs.</li>
<li>[2] <a href=""http://computer.howstuffworks.com/question307.htm"" rel=""noreferrer"">Why are there limits on CPU speed?</a></li>
</ul>

<h2>About me</h2>

<p>I am a computer science student. I know something about the CPU, but not too much. And even less about the physics that might be important for this question. So please keep that in mind for your answers, if it's possible.</p>
","<p>Practically, what limits CPU speed is both the heat generated and the gate delays, but usually, the heat becomes a far greater issue before the latter kicks in.</p>

<p>Recent processors are manufactured using CMOS technology. Every time there is a clock cycle, power is dissipated. Therefore, higher processor speeds means more heat dissipation.</p>

<p><a href=""http://en.wikipedia.org/wiki/CMOS"" rel=""noreferrer"">http://en.wikipedia.org/wiki/CMOS</a></p>

<p>Here are some figures:</p>

<pre><code>Core i7-860   (45 nm)        2.8 GHz     95 W
Core i7-965   (45 nm)        3.2 GHz    130 W
Core i7-3970X (32 nm)        3.5 GHz    150 W
</code></pre>

<p><img src=""https://i.stack.imgur.com/daciI.png"" alt=""enter image description here""></p>

<p>You can really see how the CPU transition power increases (exponentially!).</p>

<p>Also, there are some quantum effects which kick in as the size of transistors shrink. At nanometer levels, transistor gates actually become ""leaky"".</p>

<p><a href=""http://computer.howstuffworks.com/small-cpu2.htm"" rel=""noreferrer"">http://computer.howstuffworks.com/small-cpu2.htm</a></p>

<p>I won't get into how this technology works here, but I'm sure you can use Google to look up these topics.</p>

<p>Okay, now, for the transmission delays.</p>

<p>Each ""wire"" inside the CPU acts as a small capacitor. Also, the base of the transistor or the gate of the MOSFET act as small capacitors. In order to change the voltage on a connection, you must either charge the wire or remove the charge. As transistors shrink, it becomes more difficult to do that. This is why SRAM needs amplification transistors, because the actually memory array transistors are so small and weak.</p>

<blockquote>
  <p>In typical IC designs, where density is very important, the bit-cells have very small transistors. Additionally, they are typically built into large arrays, which have very large bit-line capacitances. This results in a very slow (relatively) discharge of the bit-line by the bit-cell. </p>
</blockquote>

<p>From: <a href=""https://electronics.stackexchange.com/questions/12780/how-to-implement-sram-sense-amplifier"">How to implement SRAM sense amplifier?</a></p>

<p>Basically, the point is that it is harder for small transistors have to drive the interconnects.</p>

<p>Also, there are gate delays. Modern CPUs have more than ten pipeline stages, perhaps up to twenty.</p>

<p><a href=""http://www.cs.iastate.edu/~prabhu/Tutorial/PIPELINE/perform.html"" rel=""noreferrer"">Performance Issues in Pipelining</a></p>

<p>There are also inductive effects. At microwave frequencies, they become quite significant. You can look up crosstalk and that kind of stuff.</p>

<p>Now, even if you do manage to get a 3265810 THz processor working, another practical limit is how fast the rest of the system can support it. You either must have RAM, storage, glue logic, and other interconnects that perform just as fast, or you need a immense cache.</p>

<p>Hope this helps.</p>
","122060"
"How do filament LED bulbs work, looking very similar to incandescent bulbs?","39294","","<p>Filament LED bulbs use very narrow strips containing the LED,
which look similar to filaments of an old incandescent bulb:</p>

<p>They look like a normal bulb with large ""old-style"" coal filaments, and are of about the same size and shape as the common standart E27 socket bulb.</p>

<p><img src=""https://i.stack.imgur.com/Lr6ik.jpg"" alt=""filament bulb switched off, on wood - 2""></p>

<p>There are two basic variants of these bulbs:  </p>

<ul>
<li>One ""plain"" as described, looking impressively similar to a classic bulb</li>
<li>The other has a white coating on the glass, about 15mm wide next to the metal socket.</li>
</ul>

<p>How are these filaments build?
I could imagine the it's ""pretty normal"" LEDs, but lots of them,
directly bonded to something? (There are references to COB)</p>

<p>How does the heat management work?
Ii have seen speculations about filling the bulb with either helium
or ""some patented organic gas"" -
could that be enough for cooling?</p>

<p>How does the driver - which seems to be very small - work?</p>

<p>In the variant with white coating - hiding some components, I assume - is already not that much space, and in the plain variant, there seems to be almost no space for something nontrivial.</p>

<p>Below you see some bulbs of the white coating variant, switched on:</p>

<p><img src=""https://i.stack.imgur.com/5q4A8.jpg"" alt=""three filament bulbs switched on""><br>
<sub>(Images with the permission of this <a href=""http://www.alibaba.com/product-detail/China-professional-LED-lamp-3-6W_1627675449.html"" rel=""noreferrer"">supplier at Alibaba</a>)</sub></p>

<p><br></p>

<p>Note how the LED filament bulbs are not so much similar to the tungsten filament bulbs recently being phased out - they are more resembling the long outdated carbon filament bulbs:</p>

<p><img src=""https://i.stack.imgur.com/rQUSh.jpg"" alt=""Real retro - carbon fiber bulb""><br>
<sub><a href=""http://www.amazon.de/Antike-220V-240V-Vintage-Industry-Gl%C3%BChbirne/dp/B00J4KAD4U/ref=pd_sim_201_8?ie=UTF8&amp;refRID=1DW5FZC9Z5BH10CSF49B"" rel=""noreferrer"">bd® Antike Edison 220V-240V 40W Retro Vintage Industry Style Deko Glühbirne (kl)</a></sub></p>
","<p>To understand how these devices function, it helps to understand how traditional LEDs function. An LED is a Light Emitting Diode, so basically you can think of it as a simple <a href=""http://en.wikipedia.org/wiki/Pn_junction"" rel=""nofollow noreferrer"">PN junction</a> that would be used in a <a href=""http://en.wikipedia.org/wiki/Pn_junction"" rel=""nofollow noreferrer"">diode</a> (although in actuality the structure of LEDs is more complicated, often a <a href=""http://en.wikipedia.org/wiki/Double_heterostructure"" rel=""nofollow noreferrer"">double heterojunction structure</a>).</p>

<p><a href=""http://hyperphysics.phy-astr.gsu.edu/hbase/electronic/ietron2/ledst1.gif"" rel=""nofollow noreferrer"">led device structure http://hyperphysics.phy-astr.gsu.edu/hbase/electronic/ietron2/ledst1.gif</a></p>

<p>Based on images of a similar LED ""filament"" bulb on Amazon <a href=""http://ecx.images-amazon.com/images/I/71n8piGOTHL._SL1500_.jpg"" rel=""nofollow noreferrer"">image1</a>, <a href=""http://ecx.images-amazon.com/images/I/71JRmDB%2BRNL._SL1500_.jpg"" rel=""nofollow noreferrer"">image2</a><br>
<img src=""https://i.imgur.com/znYZLXj.jpg"" alt=""closeup""><br>
It seems that each ""filament"" is a single LED with a <strong>radial</strong> structure, that is using radial layers rather than the traditional planar layers. So the core layer (cathode for example) would be composed of a conductor/metal, then the next outer layer would be n-type material, then the next outer layer would be p-type material, and finally the outermost layer would be a transparent conductor (to let light pass through it) such as ITO (Indium-Tin-Oxide).</p>

<p>It looks as though the LEDs in the bulb are arranged as two lines in parallel, each with two LEDs in series.</p>

<p>The driver would depend on the specs of the particular LED ""filaments"", but a driver could be as simple as <a href=""http://en.wikipedia.org/wiki/Diode_bridge"" rel=""nofollow noreferrer"">diode bridge</a> if the LEDs have a high enough forward voltage. </p>

<p>Because these LED ""filaments"" are so long and thin, they have a large amount of surface-area per volume, so that the heat is more dissipated than in a traditional LED.</p>
","110218"
"Arduino: String to char Array","39182","","<p>I get a <code>String</code> like: XXXXXXXXX</p>

<p>Its length is <em>fixed</em> and 9.</p>

<p>I need to get an char array like:</p>

<pre><code>char array[9] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
</code></pre>

<p>... from there on my sketch processes this array.</p>

<p>Maybe someone has an idea on how to achieve this. I thought about a for-statement to store every single letter in a string array. Then another for-statement to build an char array with the hex presentation of each string. Seems to be a bit complicated though I think.</p>

<p>Really appreciate your help.</p>

<p><strong>EDIT:</strong></p>

<p>What I need to do:</p>

<ol>
<li>Separate the string into letters / figures.</li>
<li>Change every single letter to its HEX representation.</li>
<li>Build a char Array out of the HEX values.</li>
</ol>

<p><em>Example:</em></p>

<ol>
<li>123 (String)</li>
<li>0x310x320x33 (String or whatever ...)</li>
<li>{0x31,0x32,0x33} (Char-Array)</li>
</ol>

<p>This is what I need!</p>
","<p>Sounds like the following <a href=""http://arduino.cc/en/Reference/StringToCharArray"" rel=""nofollow noreferrer"">string.toCharArray(buf, len)</a> is what you want. as <a href=""https://stackoverflow.com/questions/7383606/converting-an-int-or-string-to-a-char-array-on-arduino"">exampled</a></p>

<pre><code>String stringOne = ""123456789"";
char charBuf[50];
stringOne.toCharArray(charBuf, 50) ;
Serial.println(stringOne);
for (int i = 0; i &lt; 9; i++) {
  Serial.print("" 0x"");
  Serial.print(charBuf[i], HEX);
}
Serial.println();
</code></pre>

<p>yields:</p>

<pre><code>123456789
0x31 0x32 0x33 0x34 0x35 0x36 0x37 0x38 0x39
</code></pre>

<p>as each contents of charBuf is an uint8_t, regardless of how it is printed. </p>

<p>Unless you are asking for each element of the array to be another string of the ASCII representation of the HEX. or are you asking to have a char array of ""0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39""</p>
","57451"
"STM32 USART Rx Interrupts","39073","","<p>I'm trying to setup UART communication with the STM32F0 Discovery Board but I am having difficulty adapting the Rx side of things to my needs.</p>

<p>The STM32 will be receiving a message (4-6 bytes with no end character) from the UART device every few seconds and then must send a reply.</p>

<p>How should I be handling receiving messages so that I'm not limited to a fixed message size, so that I don't need to look for an end character (maybe using a timer) and so that glitches don't throw off my entire communications?</p>

<p>I'm debugging the below code with an FTDI USB-UART cable right now and the interrupt only triggers for the first character I send through terminal and then wont trigger again.</p>

<pre><code>//This function handles USART1 global interrupt request.
void USART1_IRQHandler(void)
{
  if( USART_GetITStatus(PMIC_COM1, USART_IT_RXNE))
  {
    char t = USART_ReceiveData(PMIC_COM1);

    //Check if received character is end character
    if( (t != 'x') &amp;&amp; (cnt &lt; MAX_STRLEN) ){
      received_string[cnt] = t;
      cnt++;
    }
    else{ // otherwise reset the character counter and print the received string
      cnt = 0;
      printf(""UART Message: %c"", received_string);
    }
  }
}
</code></pre>
","<p>Did you clear the interrupt bit? Try calling <code>void USART_ClearITPendingBit(USART_TypeDef* USARTx, uint16_t USART_IT)</code> after you've processed the event.</p>

<p>If I were you I'd just include line feeds as the command separator, but you certainly could set a timer.</p>
","100079"
"What happens to excess energy fed into the power grid?","39054","","<p>The closest question to this is <a href=""https://electronics.stackexchange.com/questions/69369/linear-useage-of-excess-power-generation"">Linear useage of excess power generation</a>. </p>

<p>I'm no engineer so I may not be able to phrase this correctly and would appreciate an answer which assumes minimal background knowledge (I have only a basic understanding of voltage, transformers, etc). The question arises from all this talk of the variable wind and power potentially disrupting the grid. </p>

<p>For example see the 2012 Electrical Connection article <a href=""http://electricalconnection.com.au/article/10014811/rapid-increase-solar-installations-potentially-overloading-grid"" rel=""nofollow noreferrer"">Rapid increase in solar installations potentially overloading the grid</a> which discusses the potential for ""reverse power flow"" and also talks about some sort of ""network protector"" device. Also there is a or similar article about Hawaii <a href=""http://www.renewableenergyworld.com/rea/news/article/2014/02/the-interconnection-nightmare-in-hawaii-and-why-it-matters-to-the-u-s-residential-pv-industry"" rel=""nofollow noreferrer"">The Interconnection Nightmare in Hawaii and Why It Matters to the US Residential PV Industry</a> , which says the only ""concrete concern identified by the Hawaii experience is the potential for transient overvoltage on the feeder – essentially a short duration voltage spike"".</p>

<p>I'm curious about what happens here both with regard to a large grid and in a micro environment. For example, let's say I have a fully charged battery and I keep flowing electricity into it. What happens? Are there devices which will divert or dissipate the electricity as heat without damaging anything? I found a few similar questions online but the answers weren't too clear.</p>
","<p>The most simple and direct answers to the main question depend on how ""excessive"" it is. Since most equipment is designed to operate within +/- 5% of nominal, the ""extra energy"" usually gets <strong>dissipated as heat,</strong> in the device itself. In the case of a light bulb (for example), it produces more light and heat. If the excess energy goes beyond the tolerance of the devices, they will overheat and/or burn (<strong>cause damage</strong>).  These results will be obtained regardless of what causes the ""excess energy"" on the grid (lightning, solar installations, wind power, etc.).</p>

<p>For the last two questions, if you are charging a 12v battery with a 13v source, the extra 1v will keep the battery ""warm"" after it is charged to 12v.  If you are charging it with an 24v unregulated supply, the battery will overheat, burn up, and possibly explode.  If you charge it with an over-voltage and current-limited supply, the battery will be charged to 12v and the extra energy will be dissipated as heat in the supply regulators.  One way you can make ""efficient"" use of any ""extra energy,"" would be to use a bank of batteries and a ""smart"" charger, which would switch the charging to another battery when one is charged, and shut off (disconnect) when all the batteries in the bank are charged. If there is no interest in saving the extra energy, it can be ""dumped"" into an appropriate load and converted to heat.   </p>
","118111"
"Arduino serial.read to int","38998","","<p>I am trying to read a serial string which comes through as ""R0123"" for example then I need the 0123 to be in an int. to send out through another method</p>

<p>Here is my code it is not working the way that I think it should</p>

<pre><code>void loop()
{
  if(Serial.available())
  {
    delay(100);
    if(Serial.read() == 'R')
      {
        int r1 = Serial.read();
        int r2 = Serial.read();
        int r3 = Serial.read();
        int r4 = Serial.read();
        int red = ((int)r1 * 1000) + ((int)r2 * 100) + ((int)r3 * 10) + (int)r4;

        sb.sendColour(red,0,0);

        Serial.print(r1,0);
        Serial.print(r2,0);
        Serial.print(r3,0);
        Serial.print(r4,0);
        Serial.print(red);
      }
  }
}
</code></pre>

<p>`</p>
","<p>What about using atoi()?
You will still need to trim of the 'R', and you might have to pad it with a NULL character at the end ('\0').
But then it should work as:</p>

<pre><code>int rInteger = atoi(s);
</code></pre>

<p>when s is a pointer to a null terminated string.</p>
","38848"
"How bad is it to undervoltage a 12-volt lead-acid battery?","38969","","<p>I had a heated discussion with a few colleagues today revolving around how low of a voltage was alright for 12 volt lead-acid battery; they were in the opinion that the low voltage warning buzzer and ultimate automatic shutoff was annoying and a safety risk.</p>

<ul>
<li>I had one guy insisting that the batteries were 'fine' even when they had been seriously undervoltaged and you can throw pretty much anything at them.</li>
<li>Another guy insisted his car battery had at some point been as low as 2 (!) volts and hey, he had no problems with it.</li>
</ul>

<p>I've always thought when boating that you never let your 12 volt battery drop under around 11 volts, so this very passive stance has confused me a bit. <strong>Is there data available to quantify a loss in lead-acid battery quality from low-voltage events?</strong>  How much do I lose capacity-wise from a low-voltage event? I'm fairly certain I'm right but I need some data.</p>
","<p>Your point can be very easily made differently.</p>

<p>If you look at the discharge curve for a Lead-Acid Battery with a 12V or 6V rating:</p>

<p><img src=""https://wayback.archive.org/web/20150912161025/http://www.yuasaeurope.com/images/uploads/uk/images/charts/NP/np-discharge-characteristic.jpg"" alt=""Lead-Acid Battery Discharge curve - Yuasa""></p>

<p>This comes from Yuasa. They make the things. It's either reliable or optimistic, certainly not pessimistic.</p>

<p>Let's look at the 12V one and optimistically assume that you are only interested in 0.2C discharge, any other rate the same arguments can be made with a different line.</p>

<p>At its 12V mark, you can see there is a ""tipping point"" where the voltage goes from relatively constant to plummeting.</p>

<p>At 11V it is almost going straight down.</p>

<p>At 9V it will drop right away under the same loading current.</p>

<p>This means that at the 12V point you have essentially used 60% of its capacity. At 11V you are at effectively 93%. At 9V you're at 99.5%.</p>

<p>Now adding that a battery with 0V across it has no chemical initiative any more, of any chemistry type, you will need to motivate it re-create the chemical imbalance that causes the apparent voltage and potential for current to flow. This is hard in any battery (which is why almost all batteries are built with electrodes already chemically built of the right materials to create the cell potential). </p>

<p>With SLA a lot of energy goes in chemical recombination of Sulphates and Sulphites, wasting a lot of energy. This results in needing excessive power to re-engage a cell that is left at 0V. Excessive power = heat. Heat = gassing. Gassing = moisture loss. Moisture loss = bad. Not to mention the higher voltage usually required makes many, many by-products on the plates, next to by-products already generated by neutering it in the first place and you're left with a AA battery with the weight and size of a 6Ah SLA.</p>

<p>Now, if you go near 9V, it will become 0V very quickly. You'll easily be too late.</p>

<p>Many manufacturers tell us ""Consider your battery empty at 11.8V"", some people (me included) assume 11V. Those who use 11V often (but not always) take care to know that this is <em>the</em> <em><strong>lower</strong></em> limit. This is exactly for that reason.</p>

<p>If they will not accept that 100's of manufacturers, countless experts in the field and users alike say ""at 11.8V you're not going to get much more out of it and it'll be risky to try"", then just convince them with the fact that at 11V there won't be much to get any more anyway. Done. All other points moot.</p>

<p>The reason a car battery can be dropped to 2V and then keep working, is because that battery was at 2V very shortly, because the idiot leaving his lights on realised after a while. And because they are usually over dimensioned by a factor of 2 to 5, depending on the type and brand of a car, so a crippled one will work for a couple more years.</p>

<p>And let's be honest, are we really going to put hours and hours of work and research into convincing someone who can't even manage to mind his car lights of agreed fact shared between thousands of electrical engineers worldwide?</p>
","177036"
"Can't get a precise reading with PT100 temperature sensor","38900","","<p>I am trying to get more precise temperature value from PT100 ( 2 wire ) sensor with Arduino.</p>

<p>Here's how my circuit looks like :</p>

<p><img src=""https://i.stack.imgur.com/L7FRY.png"" alt=""Circuit""></p>

<p>When the sensor is about 20 °C I get a value on A5 pin that is 432 and when the sensor is about 30 °C I get a value on A5 pin that is 440. As you can see this is a very small range ( 432 - 440 ) and I can't get a precise reading on my temperature sensor. </p>

<p><strong>What can I do with my circuit to get a more precise reading ?</strong> ( i.e. larger analog signal range  like from 100 to 1000 ) </p>

<p><strong>Maybe I could somehow obtain the resistance of PT100 and with some math formula get the temperature?</strong></p>

<p>Thank you.</p>
","<p>You can use an external IC that takes care of reading the sensor and then get the result digitally, for example <a href=""http://www.maximintegrated.com/datasheet/index.mvp/id/7900"" rel=""nofollow"">MAX31865</a></p>

<blockquote>
  <p>Maybe I could somehow obtain the resistance of PT100 and with some math formula get the temperature?</p>
</blockquote>

<p>You can find <a href=""http://totem-dcs.web.cern.ch/totem-dcs/index.php?dir=E.03.05.03&amp;file=02.pt100din.pdf"" rel=""nofollow"">resistance tables</a> in internet , you can create a table in flash and use interpolation to calculate the temperature based on the resistance you get.</p>
","93248"
"Fans: suck or blow?","38707","","<p>For a fan, should air be sucked in, or should it blow air out?</p>

<p>I'm talking about an enclosure mounted fan.</p>
","<p>Airflow is the key. Any direction will do. Just keep in mind where the hot components inside your enclosure is.</p>

<p>However, if you blow into the enclosure, you have the option of putting a dust filter on your fan. Whereas if you have your fan blowing out, air will enter your enclosure through all sorts of holes, and lots of dust may eventually accumulate.</p>
","6382"
"How to find the Thévenin voltage?","38687","","<p>How do I find the Thévenin voltage in this diagram? </p>

<p>In parallel the voltage remains the same, so should it be 10 volts across AB?</p>

<p>I am given that since \$R_3\$ and \$R_4\$ are not connected on one end, they do not carry current. Therefore, they cannot have a voltage drop. The voltage present between points A and B is the voltage drop across \$R_2\$.</p>

<p><img src=""https://i.stack.imgur.com/V9aWS.png"" alt=""enter image description here""></p>
","<p>The Thévenin equivalent consists of a single voltage source in series with a single resistor, together between points A and B. To find the voltage of the voltage source and the resistor value you consider two different load situations.</p>

<p><strong>1.</strong><br>
<strong>No load</strong> at all, like it's drawn. The circuit consists of voltage source, R1, R2 and R5. There's no current through R3 or R4. We calculate the current: \$\dfrac{V+}{R1+R2+R5}=\dfrac{10V}{3k + 4k + 3k}=1mA\$. Then the voltage over R2 is 1mA * 4k = 4V, and since there's no voltage drop over R3 or R4 that's also the voltage between A and B.<br>
In the Thévenin equivalent, when A-B is open there won't flow any current, so no voltage drop over the internal resistor. If we want 4V between A and B, the voltage source has to be 4V.  </p>

<p><strong>2.</strong><br>
<strong>Short-circuit</strong> A and B. Now R2 is parallel to the series resistance of R3 and R4. We need to know the equivalent of these (call it R6): \$\dfrac{1}{R6}=\dfrac{1}{R2}+\dfrac{1}{R3+R4}=\dfrac{1}{4k}+\dfrac{1}{6k}=\dfrac{0.417}{1k}\$ so \$R6=\dfrac{1k}{0.417}=2k4\$.<br>
Again we calculate the current: \$\dfrac{V+}{R1+R6+R5}=\dfrac{10V}{3k + 2k4 + 3k}=1.19mA\$. The voltage over R6 is \$10V - 1.19mA \times (R1 + R5) = 2.85V\$, hence the current through R3 and R4 (and the short-circuit A-B) is \$\dfrac{2.85V}{R3 + R4}=\dfrac{2.85V}{6k}=476\mu A\$.<br>
Our Thévenin circuit had a voltage source of 4V. To have 476\$\mu\$A through a short-circuited A-B the internal resistance has to be \$\dfrac{4V}{476\mu A}=8k4\$.  </p>

<p>And that's our solution:  </p>

<blockquote>
  <p>Equivalent voltage = 4V,<br>
  Equivalent series resistance = 8k4</p>
</blockquote>
","16040"
"What is the purpose of an IO shield on a computer case?","38680","","<p>What purpose does the IO shield on computers serve?  I have been reading a lot of articles (mostly forums) on the internet and can't seem to find a definitive answer.</p>
","<p>I/O shield:  </p>

<p><img src=""https://i.stack.imgur.com/k4GrD.jpg"" alt=""enter image description here""></p>

<p>1) Shield to keep electro-magnetic radiation inside of the case</p>

<p>2) Dust Cover / Air circulation director: The fan in the power supply shall draw air throughout the entire case and not just along the short way from the I/O area to the power supply that's usually right above.</p>

<p>3) Aesthetics: No ugly hole.</p>
","9852"
"Choosing resistor values for non-inverting amplifier and why?","38636","","<p><img src=""https://upload.wikimedia.org/wikipedia/commons/4/41/Op-Amp_Inverting_Amplifier.svg"" alt=""inverting""></p>

<p>The gain here is A = -R<sub>f</sub>/Rin. However, lets say I want a gain of 10 V/V. Which resistor value would you choose and why?</p>

<p>I know that you could have infinite number of combinations for these resistors but why would some one use specific value. i.e R<sub>f</sub> = 100Mohm, R<sub>in</sub> = 10Mohm gives a gain of 10V/V but also R<sub>f</sub> = 10 ohm and R<sub>in</sub> = 1 ohm gives the gain of 10V/V. What difference would it make to the design?</p>

<p>My thoughts say that higher value resistors are not precise so it wouldn't give you precise gain and using lower value resistors sink higher current from the source (V<sub>in</sub>). Are there any other reasons? Also, let me know If I am right or wrong as well.</p>
","<p>There are downfalls with choosing very large resistors and very small resistors. These usually deal with the non-ideal behavior of components (namely Op-Amps), or other design requirements such as power and heat.</p>

<p>Small resistors means that you need a much higher current to provide the appropriate voltage drops for the Op-amp to work. Most op amps are able to provide 10's of mA's (see Op-amp datasheet for exact details). Even if the op-amp can provide many amps, there will be a lot of heat generated in the resistors, which may be problematic.</p>

<p>On the other hand large resistors run into two problems dealing with non-ideal behavior of the Op-Amp input terminals. Namely, the assumption is made that an ideal op-amp has infinite input impedance. Physics doesn't like infinities, and in reality there is some finite current flowing into the input terminals. It could be kind of large (few micro amps), or small (few picoamps), but it's not 0. This is called the Op-amps <strong>input bias current</strong>.</p>

<p>The problem is compounded because there are two input terminals, and there's nothing forcing these to have exactly the same input bias current. The difference is known as <strong>input offset current</strong>, and this is typically quite small compared to the input bias current. However, it will become problematic with very large resistance in a more annoying way than input bias currents (explained below).</p>

<p>Here's a circuit re-drawn to include these two effects. The op-amp here is assumed to be ""ideal"" (there are other non-ideal behaviors I'm ignoring here), and these non-ideal behaviors have been modeled with ideal sources.</p>



<p><img src=""https://i.stack.imgur.com/RjyVL.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fRjyVL.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Notice that there is an additional resistor R2. In your case, R2 is very small (approaching zero), so a small resistance times a small bias current I2 is a very small voltage across R2.</p>

<p>However, notice that if R1 and R3 are very large, the current flowing into the inverting input is very small, on the same order as (or worse, smaller than) I1. This will throw off the gain your circuit will provide (I'll leave the mathematical derivation as an exercise to the reader :D)</p>

<p>All's not lost just because there's a large bias current though! Look what happens if you make R2 equal to R1||R3 (parallel combination): if I1 and I2 are very close to each other (low input offset current), you can negate out the effect of input bias current! However, this doesn't solve the issue with input offset current, and there are even more issues with how to handle drift.</p>

<p>There's not really a good way to counteract input offset current. You could measure individual parts, but parts drift with time. You're probably better off using a better part to begin with, and/or smaller resistors.</p>

<p>In summary: pick values in the middle-ish range. What this means is somewhat vague, you'll need to actually start picking parts, looking at datasheets, and deciding what is ""good enough"" for you. 10's of kohms might be a good starting place, but this is by no means universal. And there probably won't be 1 ideal value to pick usually. More than likely there will be a range of values which will all provide acceptable results. Then you'll have to decide which values to use based off of other parameters (for example, if you're using another value already, that might be a good choice so you can order in bulk and make it cheaper).</p>
","102514"
"How can I implement regenerative braking of a DC motor?","38514","","<p>I know that many electric cars are able to convert the momentum of the car into stored energy in batteries, rather than convert it to useless heat at the brake pads. How does this work? How can I implement it myself?</p>
","<p>Probably you already have it, and just didn't know it. If you are driving a motor with a half-bridge or H-bridge and PWM or similar, you have regenerative braking. Let's consider a half-bridge, since for this analysis we will run the motor in only one direction:</p>

<p><img src=""https://i.stack.imgur.com/EYfFf.png"" alt=""simple half-bridge""></p>

<p>First, let's consider non-regenerative braking. If the bridge output is high (S1 closed, S2 open), the motor will accelerate to full speed. If the bridge is now switched low, the motor won't just gently coast to a stop. It will <em>slam</em> to a stop, as if someone but a brake on it. Why?</p>

<p>A motor can be modelled as a series inductor and voltage source. The motor torque is proportional to current. The voltage source is called <em>back-EMF</em>, and it's proportional to the speed of the motor. This is why a motor draws more current when it is loaded (or worst, stalled): with the speed decreased, the back-EMF is decreased, and it opposes the supply voltage less, resulting in higher current. Let's redraw our schematic with that model, with values as if our motor is spinning at high speed:</p>

<p><img src=""https://i.stack.imgur.com/Mpe5z.png"" alt=""motor running forward""></p>

<p>This motor is running at full speed. We have a small current to overcome the friction in the motor, and the back-EMF is the supply voltage, less the voltage drop over R1. Not much current flows because the back-EMF cancels most of the supply voltage, so L1 and R1 see only 100mV. Now what happens when we switch the bridge to the low side?</p>

<p><img src=""https://i.stack.imgur.com/aMzg4.png"" alt=""just switched bridge""></p>

<p>At first, nothing. L1 prevents an immediate change in current. However, this doesn't last long, and very soon (defined by the time constant of \$L_1 / R_1\$, not more than a couple \$ms\$ typically) the back-emf (V1) has reversed the current, and now it's going in the other direction. It's also pretty huge, since now L1 and R1 don't see the small difference of \$V_{B1}-V_1\$ (it was \$100mV\$), but now they see the full 9.9V from V1 alone:</p>

<p><img src=""https://i.stack.imgur.com/mqusE.png"" alt=""braking current""></p>

<p>We now have a <em>large</em> current flowing in the <em>opposite</em> direction. Torque is proportional to current, so now instead of applying a gentle clockwise force, just enough to overcome friction, we are applying a hard counterclockwise force, and the mechanical load is rapidly decelerated. As the speed of the motor decreases, so does V1, and consequently so does the current, and the torque with it, until the load is no longer spinning.</p>

<p><em>Where did the energy go? The kinetic energy of the mechanical load is energy. It can't just disappear, right?</em></p>

<p>Right. If you look at the circuit again, we have 9.9A flowing through R1. \$P_{R1} = (9.9A)^2 1\Omega = 98.01W\$. The kinetic energy of the load was converted into heat in the motor's winding resistance (and in a practical circuit, also the H-bridge transistors). Some motors will be destroyed by this high power. Others may not. The current generated by the back-EMF is about as strong as the stall current of the motor, so if your motor can run stalled without overheating, it can brake like this all day.</p>

<p><em>So how do I store the energy, instead of converting it to heat?</em></p>

<p>Let's look at what's happening a bit after we have started braking, but before we have stopped:</p>

<p><img src=""https://i.stack.imgur.com/rDSwZ.png"" alt=""braking mid-way""></p>

<p>The motor has slowed significantly (back-emf is 1V), and the current has decreased with it. Now what if we switch the bridge to the high side?</p>

<p><img src=""https://i.stack.imgur.com/c5YZl.png"" alt=""battery charging""></p>

<p>Ah ha! We are charging the battery! Of course, if we stay like this very long (again, defined by time constant \$L_1 / R_1\$) then the current direction will reverse, and we will be uncharging our battery, and accelerating our motor, not braking it.</p>

<p><em>So don't do that</em>. As long as we remain in this state, the current is decreasing. So, we switch back to the other state, with the bridge low, so the back-emf can build the current back up. Then we switch again, and shoot some of it into the battery. Repeat, fast.</p>

<p>If this sounds like what one ordinarily does for PWM motor control, it's because it is. This is why <em>probably you already have it, and just didn't know it.</em></p>

<p>Once you understand the principle of operation, you can make some simplifications. When a motor is being driven by PWM, the inductance of the motor (L1) works like a flywheel, averaging the voltage you apply to the motor. It's as if you had a real flywheel, and spun it by striking it with a hammer repeatedly. So in this example our supply voltage is 10V. If our PWM duty cycle is 80%, we are effectively driving the motor with 8V (\$80\% \cdot 10V = 8V\$).</p>

<p><img src=""https://i.stack.imgur.com/CImU0.png"" alt=""simplified model""></p>

<p><em>Whenever the back-EMF is greater than this voltage, you get regenerative braking.</em> This will happen whenever the PWM duty cycle decreases faster than external forces (friction, for example) will slow the motor. Any resistance in the circuit reduces the energy you can recover from the mechanical load. In the most extreme case where the PWM duty cycle is decreased to 0% and the motor terminals are shorted together, the current is so high that losses reach 100%. (\$P = I^2 R\$)</p>

<p>You can also open <em>all</em> the transistors on the bridge, and the inductor current will die out through the diodes in the bridge. Then neither the back-EMF nor the battery will have a path to drive a current, and the motor will freewheel. Unless of course, some external force accelerates the motor enough to push the back-EMF higher than the supply voltage. A vehicle rolling down a hill is a good example.</p>

<p>In all other cases, you get regenerative braking.</p>

<h1>practical consequence</h1>

<p>You <em>must</em> consider what you will do with the mechanical energy from the motor. Batteries can absorb energy, but there's a limit to how much, and how fast, that varies on the type of battery. Some power supplies (linear voltage regulators, for example) can't absorb energy at all.</p>

<p>If you don't provide a place for the energy to go, either a battery, or some other load in the circuit, it will go into the power supply decoupling capacitors. If you have enough energy returned from the motor and not enough capacitance, the power supply rail voltage will increase until something breaks.</p>

<p>You must design your circuit so it can't happen. In an electric car, there are complex battery controllers that will apply the conventional brakes if the batteries can't absorb any more of the car's kinetic energy. You can also switch on a power resistor across the supply rails, or design your motor controller to back off on the braking if it gets to be too much.</p>

<h1>related questions</h1>

<ul>
<li><p><a href=""https://electronics.stackexchange.com/questions/56170/how-can-suddenly-stopping-a-spinning-motor-cause-my-supply-voltage-to-shoot-up-w"">Why should I worry about a motor causing my supply voltage to shoot up when the back-EMF can&#39;t exceed the supply voltage?</a></p></li>
<li><p><a href=""https://electronics.stackexchange.com/questions/54997/how-can-i-measure-back-emf-to-infer-the-speed-of-a-dc-motor"">How can I measure back-EMF to infer the speed of a DC motor?</a></p></li>
<li><p><a href=""https://electronics.stackexchange.com/a/53859/17608"">supercat's answer to a largely unrelated question</a></p></li>
</ul>

<h1>mind blowing related rhetorical question</h1>

<p>What happens if we have a motor with no winding resistance, and we have a way to drive it without adding any additional resistance (ideal transistors and wires)? It's more efficient, obviously. But how does the speed of the motor vary with applied voltage and mechanical load? Hint: if you try to change the speed of the motor by increasing or decreasing the mechanical load, what does the back-emf do to the current?</p>
","56187"
"How do you determine the input impedance for an inverting amplifier?","38461","","<p>Essentially I am getting confused trying to do the sums for an op amp with a gain of 10dB and an input impedance of 1kohm. </p>

<p>I worked out that \$\frac{V_{out}}{V_{in}}=-\frac{R_{2}}{R_{1}}\$ because \$V_{+}\$was going to ground, \$=&gt;V_{-}=0\$.</p>

<p>I know that the output impedance of the amplifier itself is very high. </p>

<p>I know that the compensation resistance \$R_{3}=\frac{R_1R_2}{(R_1+R_2)}\$ but I am not certain why. </p>

<p>I had thought the input impedance would be the \$R_1||R_2\$ (or whatever else would go to the node for \$V_-\$ which in this case is just \$R_1\$ and \$R_2\$) but I am doubting myself. </p>

<p>Can anyone clarify what this input impedance is actually referring to?</p>

<p><img src=""https://3.bp.blogspot.com/-_PfUL7SyuSM/UI3Xs8JEoOI/AAAAAAAAAGQ/oycCdaA02Ck/s1600/invertingopAMP.png"" alt=""inverting op amp picture""></p>

<p>I should also perhaps add that I am going to construct this for real out of a 741 amplifier so I am trying to figure out what resistances to pick to get my 1000 \$\Omega\$. I can't believe that \$R_2\$ wouldn't matter in this, so if anyone can clarify that, it would be useful.</p>
","<p>@DaveTweed wrote a good verbal proof for \$R_{3}=\dfrac{R_1R_2}{R_1+R_2}=R_1||R_2\$.  <br>
Here's an algebraic version.</p>

<p>Let's drop the ideal OpAmp assumption that OpAmp input impedances are infinite.  Then input bias currents are nonzero.  </p>

<p>\$I_b=I_{b+}=I_{b-}\neq0\$</p>

<p>In practice, <em>I<sub>b</sub></em> can vary between different batches of ICs.  <em>I<sub>b</sub></em> isn't known.  Let's assume that it's fixed.</p>

<p><img src=""https://i.stack.imgur.com/KsEGF.jpg"" alt=""enter image description here""></p>

<p><strong>First</strong>, consider the case without compensation resistor,  \$R_3=0\$.</p>

<p>\$\dfrac{V_{in}}{R_1}+\dfrac{V_{out}}{R_2}+I_b =0\$,</p>

<p>\$V_{out}=-V_{in}\dfrac{R_2}{R_1}-I_bR_2\$</p>

<p>notice the \$I_bR_2\$ nuisance.</p>

<p><strong>Second</strong>, consider \$R_3\neq0\$.  Let's find \$R_3\$ such that \$V_{out}\$ is closest to \$-V_{in}\dfrac{R_2}{R_1}\$</p>

<p>Voltage at the positive input:    \$V_{(+)}=I_bR_3\$</p>

<p>\$\dfrac{V_{in}-I_bR_3}{R_1}+\dfrac{V_{out}-I_bR_3}{R_2}+I_b=0\$</p>

<p>\$\dfrac{V_{in}}{R_1}+\dfrac{V_{out}}{R_2}+I_b\left(\dfrac{R_3}{R_1}+\dfrac{R_3}{R_2}-1 \right)=0\$</p>

<p>\$I_b\left(\dfrac{R_3}{R_1}+\dfrac{R_3}{R_2}-1 \right)=0\$, when \$\dfrac{R_3}{R_1}+\dfrac{R_3}{R_2}=1\$</p>

<p>which can be solved for \$R_{3}=\dfrac{R_1R_2}{R_1+R_2}=R_1||R_2\$</p>
","45723"
"What is the origin of on and off power switch symbol?","38359","","<p>I know I (line) and O (circle) symbols are used to specify a switch that turn on and off the power supply.</p>

<p>My question is <strong>What is its origin?</strong></p>

<p>Because I thought that it represent a power line that can be plugged (on symbol) and a closed line (and thus without power supply) but seen that in Wikipedia said that it can come from 1 and 0 used in binary to represent on and off bits, I don't know what is the correct answer.</p>

<p>Note: In Wikipedia, it didn't have verified sources, so I need other source.</p>
","<p>I'm pretty sure it comes from the binary 1 (on) and 0 (off) </p>

<p>It's an IEC standard symbol, the on symbol is IEC-5007 and the off symbol is IEC-5008 </p>

<p>The full standard document they come from is IEC 60417, which you have to pay for, but here is a small <a href=""http://energy.lbl.gov/controls/overview/docs/symbols1.pdf"">reference document</a> with just the power symbols reproduced.</p>
","43283"
"What material are the thin, colored wires in my headphone cable?","38125","","<p>My broken headphones have different colored wires. Are the red, green and blue wires all copper? The colored wire is wrapped around a white thread.</p>
","<p>Yes, all of the conductive stuff inside the cable is copper. However, the copper wires are coated with a very thin insulating layer called enamel.</p>

<p><img src=""https://i.stack.imgur.com/JjCNF.jpg"" alt=""Headphone wire""></p>

<p>The enamel can sometimes be removed by rubbing molten solder on it.</p>

<p><img src=""https://i.stack.imgur.com/noRrz.jpg"" alt=""Tinning enamelled wire""></p>

<p>If this doesn't work, then you might have some luck rubbing some fine emery paper on it.</p>

<p><img src=""https://i.stack.imgur.com/CelAk.jpg"" alt=""sanding enamelled wire""></p>

<p>As you can see, you don't need to clean your fingernails before you do this.</p>

<p>But one of the problems with headphone cable specifically is that it often contains some thread to reinforce it. </p>

<p><img src=""https://i.stack.imgur.com/Fdi3D.jpg"" alt=""Headphone cables with thread""></p>

<p>The thread makes soldering the cable pretty difficult. Usually, if I find threads in my cable, I just throw it away.</p>
","60053"
"How long will it take to completely run out of power for two A23 batties(12volt each) on a serial circuit with 6 leds?","38120","","<p>I'm connecting 6 LEDs serially with two 12volt batteries. Each LED needs 3.2 volt and takes 20mA of current.</p>

<p>I'm using two alkaline max 12 volt batteries(A23 LR23) and ATC is their manufacturer.</p>

<p>I tried to calculate the batteries' lifetime like below(taken from a website):</p>

<p>To find out how much energy I'm going to use I multiplied the Watts times the number of hours to get Watt-hours. So 12v battery rated(?google search) 1.2Ampere-hour then the energy is:</p>

<p>12 volt * 1.2 Ampere-hour(battery) * 2 batteries  = 28.8 Watt-hours   </p>

<p>The LEDs run at 3.2v and uses 20mA each. So</p>

<p>3.2 volt  * 6 leds(each needs 3.2 volt and current 20mA) * (20 / 1000)Amp = 0.384 Watt </p>

<p>And finally the battery lasts:</p>

<p>28.8 watt-hour/0.384 watt = 37.5 hours</p>

<p>Is this calculation correct? If not is it possible to help me correct my mistake?</p>
","<p>The setup in your answer is a bad one.  </p>

<p>First you parallel two batteries, which you shouldn't, because their voltages are never exactly the same. Their low internal resistance will cause a current from one battery to the other. So feed three LEDs from 1 battery, and the other three from the other. </p>

<p>Then you place all LEDs parallel, which means that you lose (12 V - 3.2 V) x 20 mA = 176 mW per LED in its series resistor, while the LED itself uses only 64 mW. Total power loss is more than 1 W. That's because the large voltage difference between battery and LED. The best way to get a longer endurance is to keep losses in the series resistors as low as possible. So better place two times three LEDs in series, so that their total current is 40 mA instead of 120 mA. The power loss in the series resistors is then (12 V - 3 x 3.2 V) x 20 mA = 45 mW per 3 LEDs, or 96 mW in total. That's less than 10 % of the power loss for all LEDs in parallel.  </p>

<p>Then your batteries will last 100 mAh / 40 mA = 2.5 hours or 150 minutes. This is pretty optimal. The batteries' capacity is 1200 mWh, and the LEDs consume 384 mW, so with an ideal conversion you can get a little over 3 hours out of them. But the most efficient conversion using a switching current regulator will get you maybe 85 % efficiency, and then you only gain 9 extra minutes.  </p>

<p><strong>edit</strong> re comments<br>
An alkaline battery's voltage quickly drops by 10-15 %, and then remains more constant for a great part of the discharge cycle. So either you calculate the resistors for a larger current at the start, and 20 mA for the rest, or for 20 mA at the start, and a lower current later on. The latter solution will give you a longer battery life, but a bit less brightness.  </p>

<p><em>jippie</em> suggests to use a switcher anyway to get more out of the batteries, and it's a thought. You'll have to place the batteries in series to get 24 V to allow a voltage drop as high as possible. The larger Vin/Vout ratio of the switcher will make it less efficient, but overall you should get some extra time from the batteries.</p>
","34888"
"What is the advantage of the inverting opamp circuit over non-inverting one?","38113","","<p>Op amp circuits are designed to achieve a specific gain regardless of the differences between individual op amps.  One very common circuit has a gain of -R2/R1.  Here's a (corrected) schematic:</p>

<p><img src=""https://i.stack.imgur.com/O9YXs.png"" alt=""inverting op amp schematic""></p>

<p>Another common configuration has a gain of R2/R1+1 and is non-inverting:</p>

<p><img src=""https://i.stack.imgur.com/OjY8K.png"" alt=""non-inverting schematic""></p>

<p>What I can't see is why on earth anyone would use the inverting one, except for the odd case where you actually want inversion. The non-inverting one has high input impedance without an extra input stage, and almost the same gain. Is there any advantage to the first example?</p>

<p>Also, since the first example does not have high input impedance, it can take significant current to drive.  So, often a source follower is placed before the amplifier.  For the second configuration, is there any reason why a source follower would ever be necessary?</p>
","<p>The inverting configuration is capable of gains less that 1, and can be used as a mixer. Here is a good primer.</p>

<p><a href=""http://chrisgammell.com/2008/08/02/how-does-an-op-amp-work-part-1/"">http://chrisgammell.com/2008/08/02/how-does-an-op-amp-work-part-1/</a></p>

<p>I don't know exactly why (anyone feel free to chime in), but the fact that negative feedback is holding the negative input terminal at 0v means that node is a proper place to sum currents, making the mixer circuit viable (although inverting). Op amps are also cheap and come in packages with more than one, so you can usually just invert something again if it's ""upside down"" </p>
","37247"
"Easy way to figure out a LED's Vf in order to pick an appropriate resistor","38020","","<p>I was wondering what the easiest way to figure out a LED's forward voltage is, using measurement tools.  I know we can assume red LEDs to be around 1.8V - 2.2V, and that we have similar information for other LED colors, but I was wondering if there's a way to figure out without assuming that.</p>

<p>I purchased several LEDs that don't have a data-sheet with their specifications - so as an exercise I would like to write that information down. (I'm learning)</p>

<p>Most answers I see start by connecting the LED in series to a resistor, but I want to make sure the resistor is right before connecting it.</p>
","<p>I agree with some of the others here... you're trying too hard.</p>

<p>As others have mentioned, the forward drop of an LED varies with its bias current, but for almost every application a hobbyist will get in to this isn't something you have to spend a great deal of time worrying about.</p>

<p>Almost every handheld multimeter has a diode setting. It will tell you the forward voltage of a diode at the meter's testing bias level (usually a few mA). This will put you in the right ballpark very quickly.</p>

<p><strong>Determining LED Forward Drop (easy way)</strong></p>

<ol>
<li>Set meter to diode setting (#14 in <img src=""https://i.stack.imgur.com/YjOht.jpg"" alt=""this picture"">)</li>
<li>connect the LED to the meter leads, verifying correct polarity</li>
<li>Meter will indicate forward drop (usually 1V-3V for most LEDs.) Note that the LED may glow.</li>
</ol>

<p>Now that you have the LED's forward voltage drop you can figure out how much voltage everything else in the ""chain"" will need to drop. For very simple circuits it may just be a limiting resistor. For more complex circuits it may be a bipolar or field-effect transistor, or maybe even something more esoteric. Either way: The voltage through a series circuit will be distributed through all the elements in the circuit.  Let's assume a very simple circuit with a red LED, a resistor and the supply. </p>

<p>If the meter indicated 1.2V Vf for the LED, you know your resistor will have to drop 5V - 1.2V or 3.8V. Assuming you want about 10mA through the LED it's now a simple matter of applying Ohm's law. We know that in a series circuit the current through all elements must be identical, so 10mA through the resistor means 10mA through the LED. So: </p>

<pre><code>R = V / I
R = 3.8V / 10mA
R = 380 ohms
</code></pre>

<p>If you connect your LED to your 5V supply with a 380 ohm resistor in series, you will find the LED glowing brightly as you intended.  Now can your resistor handle the power dissipation? Let's see:</p>

<pre><code>P = V * I
P = 3.8V * 10mA
P = 38mW
</code></pre>

<p>38mW is well within the dissipation spec for any 1/4 or 1/8W resistor. Generally speaking, you want to stay well under the power rating for a device unless you know what you're doing. It's important to realize that a resistor that is rated for 1/4W will not necessarily be cool to the touch when dissipating 1/4W!</p>

<p>What if you wanted to drive that same LED with a 24V supply?  Ohm's law to the rescue again:</p>

<pre><code>R = V / I
R = (24V - 1.2V) / 10mA
R = 22.8V / 10mA
R = 2280 ohms (let's use 2.4k since it's a standard E24 stock value):
</code></pre>

<p>And a power check (using an alternate power equation just to change things up):</p>

<pre><code>P = V^2 / R
P = 22.8V * 22.8V / 2400 ohms
P = 217mW
</code></pre>

<p>Now you'll notice that by driving the applied voltage up we have driven the voltage across the resistor up, and that in turn causes the total power dissipated by the resistor to go up  considerably. While 217mW is technically under the 250mW a quarter-Watt resistor can handle, it will get <em>HOT</em>. I'd suggest moving to a 1/2W resistor.  (My rule of thumb for resistors is to keep their dissipation to under half their rating unless you're actively cooling them or have specific needs laid out in the specification).</p>
","173481"
"What does ""load"" mean and what are the different types?","38004","","<p>What are all the different types of ""load"" and what are the key important facts to know about each?</p>
","<p>According to Merriam Webster's dictionary (definition 8b), a ""load"" is:</p>

<blockquote>
  <p>a device to which power is delivered</p>
</blockquote>

<p>This may be a circuit, a test device (""dummy"" load), or a larger machine or device comprised of many sub-circuits.</p>

<p>The <em>types</em> of electrical loads are typically divided into three categories:</p>

<ul>
<li>Resistive</li>
<li>Inductive</li>
<li>Capacitive</li>
</ul>

<p>And of course there are devices which contain a combination of these.</p>

<ul>
<li><p><strong>Resistive</strong> loads: Resist current flow linearly and cause heat and light (potentially desirable or undesirable). For example, an incandescent light bulb produces light (desirable) but also heat (undesirable). A space heater's element produces heat (desirable) but may also glow. Resistance is measured in ohms for resistive loads, and power is measured in watts.</p></li>
<li><p><strong>Inductive</strong> loads: Resist <em>changes</em> in current and as such, when you measure the current, it lags (is behind) the voltage. Electromagnetic fields are the key to inductive loads, and as such all motors (fans, pumps, etc), solenoids, and relays are inductive in nature. Inductance is measured in Henrys. The important thing to remember about inductive loads is that they have <em>two</em> types of power, <strong>real</strong> power and <strong>reactive</strong> power. The real power is based on the work done by the device (such as what a motor is spinning). The reactive power is that which is drawn from the source to produce magnetic fields. The total power consumed is real and reactive power combined, which is measured in VAR (volts-amps-reactive). It's rather a complicated topic, so check out terms like <a href=""http://en.wikipedia.org/wiki/Power_factor"">Power Factor</a> and <a href=""http://en.wikipedia.org/wiki/AC_power#Real.2C_reactive.2C_and_apparent_power"">Real, Reactive and Apparent Power</a> (under AC power).</p></li>
<li><p><strong>Capacitive</strong> loads: Are for many purposes, the opposite of inductive loads. They resist <em>changes</em> in voltage, and as you'd expect, the voltage lags the current (or more commonly said ""current leads voltage""). A capacitor is two conductive surfaces separated by a insulator, which store charge. When power is first applied, current is very high, but drops as the voltage of the charge reaches that of the applied voltage. Capacitance is measured in farads. Like inductive loads, capacitive loads also have <strong>reactive</strong> power, but it's opposite the polarity of an inductive load. Therefore, a capacitive load has a negative VAR. Capacitive loads are not very common, but things like a flashbulb or a heart defibrillator might be considered a capacitive load (probably a combination load, but you get the idea).</p></li>
</ul>
","91976"
"Why V rms instead of V average?","37724","","<p>I'm looking at an equation for average power in a signal</p>

<p>$$
p_{avg} = \frac{1}{R} v_{rms}^2
$$</p>

<p>and wondering why it isn't</p>

<p>$$
p_{avg} = \frac{1}{R} |v|_{avg}^2
$$</p>
","<p>Simple: the average of a sine is zero. </p>

<p>Power is proportional to voltage squared:  </p>

<p>\$ P = \dfrac{V^2}{R}  \$</p>

<p>so to get average power you calculate average voltage squared. That's what the RMS refers to: Root Mean Square: take the square root of the average (mean) of the squared voltage. You have to take the square root to get the dimension of a voltage again, since you first squared it.</p>

<p><img src=""https://i.stack.imgur.com/a9LfE.png"" alt=""enter image description here""></p>

<p>This graph shows the difference between the two. The purple curve is the sine squared, the yellowish line the absolute value. The RMS value is \$\sqrt{2}/2\$, or about 0.71, the average value is \$2/\pi\$, or about 0.64, a difference of 10 %.  </p>

<p>RMS gives you the equivalent DC voltage for the same power. If you would measure the resistor's temperature as a measure of dissipated energy you'll see that it's the same as for a DC voltage of 0.71 V, not 0.64 V. </p>

<p><strong>edit</strong><br>
Measuring average voltage is cheaper than measuring RMS voltage however, and that's what cheaper DMMs do. They presume the signal is a sine wave, measure the rectified average and multiply the result by 1.11 (0.71/0.64) to get the RMS value. But the factor 1.11 is only valid for sinewaves. For other signals the ratio will be different. That ratio got a name: it's called the signal's <strong>form factor</strong>. For a 10 % duty cycle PWM signal the form factor will be \$1/\sqrt{10}\$, or about 0.316. That's <em>a lot</em> less than the sine's 1.11. DMMs which are not ""True RMS"" will give <em>large</em> errors for non-sinusoidal waveforms.</p>
","40342"
"How to find a faulty bulb in a Christmas lights string","37722","","<p>I have a LED Christmas lights string, which consists of two circuits of LEDs connected serially. It is working directly on 110V AC. Most LED sockets have 2 wires connected to them, some have three. There is a 110V socket on the other end of the string, so these can be chained together. </p>

<p>One half of the string went dark, so I suppose one of the LEDs on that circuit is bad, or its connection is faulty.</p>

<p>LEDs are non-removable (molded plastic socket with lens), and I hope I can trace the string somehow and find where the fault is. Obviously cutting insulation in 50 places in order to test each LED separately is not an option...</p>

<p>If there any sane way to find the fault, either by buying some equipment or building DIY one, or do I need to just replace 100 LEDs string because one went bad?</p>
","<p>I just saw a great and simple project that does just this:</p>

<p><a href=""http://www.youtube.com/watch?list=PLFA57ACAC0F0DE0D1&amp;feature=player_detailpage&amp;v=cwiLQWJq2LQ"" rel=""nofollow noreferrer"">http://www.youtube.com/watch?list=PLFA57ACAC0F0DE0D1&amp;feature=player_detailpage&amp;v=cwiLQWJq2LQ</a></p>

<p><img src=""https://i.stack.imgur.com/R7qjn.jpg"" alt=""enter image description here""></p>

<p>The project is by Alan Yates:
<a href=""http://www.vk2zay.net/"" rel=""nofollow noreferrer"">http://www.vk2zay.net/</a></p>

<p>As I understand it, it uses a high impedance gate of a JFET to detect fluctuations in the E-field in the wires due to noise on the mains. The signal is amplified using a BJT to make sound on a piezoelectric speaker. If a light is burned out it the E-field will exist on the wire going into the light, but, not on its exit wire. Using this principal it is easy to locate the burned light. He applies this to incandescent light string, but, the same principal would apply to an LED string.</p>
","23913"
"Is soldering wires directly on a NiMh battery safe?","37718","","<p>I'd like to know if soldering two wires directly on a <code>NiMh</code> battery is considered as safe or not.</p>

<p><img src=""https://i.stack.imgur.com/rdcQ4.jpg"" alt=""enter image description here""></p>

<p>My fear is that battery would explode (right in my face) because of excessive heat caused by the <code>soldering iron</code>. Other possibility would be the battery slowly inflating and then spreading toxic fumes (or corrosive materials) trough a hole (like a <code>capacitor</code> under excessive voltage).</p>

<p>The battery I want to use is made of 10 units of 1.2V (thus generating <code>12V</code>)</p>
","<p>It's probably safe enough from your point of view, but not from the battery's.  You really shouldn't solder to batteries unless they explicitly have solder tabs for that purpose.  Most batteries, and NiMH are no exception, are damaged by soldering temperatures.</p>

<p>The way to make a permanent connection to a battery that doesn't have solder tabs is to use spot welding.  This presses the battery terminal and the contact together, then zaps them by discharging a capacitor thru this connection.  That heats the two parts enough for a little metal to melt and bond.  However, the zap is very short and localized, so the total energy is low and high temperatures diffuse well before they get to sensitive parts of the battery.</p>

<p>Note that no solder is evident in the picture you show.  That is because the tabs were spot welded, not soldered.</p>
","75063"
"When to use Capacitors?","37641","","<p>This is probably the dumbest question ever, but I am an electronics nublet.
I understand what capacitors do, and I've been reading beginner Electronics books and such, but I don't quite understand <em>when</em> to use them? Sometimes in these books they just seem kind of thrown in. I understand they are meant to <em>smooth out</em> current, but I still am not sure I understand <em>when</em> to use them.</p>

<p>Like I said, this is probably a nublet question to the max. But most information I find is more about <em>what</em> they are rather than <em>when</em> to use them.</p>

<p>Edit: For clarity, I mean in SMALL electronic applications. Think simple circuits and such.</p>
","<p>When I first started out in electronics I struggled with the same question. The problem is that capacitors are used in a vast number of different ways.</p>

<p>However, as you're just starting out in electronics you probably only need to know about a few of these to start with. The most widely used and basic of these are:</p>

<p><strong><a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+10.20027730826997+50+5.0+48%0Av+144+368+144+80+0+1+40.0+5.0+0.0+0.0+0.5%0Aw+144+80+272+80+0%0Aw+272+80+272+144+0%0Ad+272+144+336+208+1+0.805904783%0Ad+272+272+336+208+1+0.805904783%0Ad+208+208+272+144+1+0.805904783%0Ad+208+208+272+272+1+0.805904783%0Aw+272+272+272+368+0%0Aw+272+368+144+368+0%0Aw+208+208+208+304+0%0Aw+336+208+384+208+0%0Aw+208+304+384+304+0%0Ac+384+208+384+304+0+1.02E-4+3.3850691902835575%0Aw+384+208+464+208+0%0Aw+384+304+464+304+0%0Ar+464+208+464+304+0+430.0%0Ax+499+264+529+268+0+16+load%0Ao+0+32+0+34+5.0+0.05+0+-1%0Ao+15+32+0+35+5.0+0.0125+1+-1%0A"">Power Supply Smoothing</a></strong></p>

<p>This is the easiest and very widely used application of a capacitor. If you stick a big beefy electrolytic capacitor (the bigger the better), it will fill in all the gaps created by rectifying an AC waveform, to create a relatively smooth DC. It works by repeatedly charging during the peaks, and discharging during the gaps. However, the more load you put on it, the quicker it will drain the capacitor and the more ripple you'll get.</p>

<p><strong><a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+10.20027730826997+50+5.0+50%0Ac+336+224+336+320+0+1.9999999999999998E-4+0.0010%0Ar+336+224+336+144+0+100.0%0As+240+144+336+144+0+1+false%0Aw+240+224+240+144+0%0As+416+320+416+224+0+1+true%0A162+336+320+240+320+1+2.1024259+1.0+0.0+0.0%0Aw+336+224+416+224+0%0Aw+336+320+416+320+0%0Av+240+320+240+224+0+0+40.0+5.0+0.0+0.0+0.5%0Ax+431+282+484+288+0+24+reset%0Ax+264+115+311+121+0+24+start%0A"">Timing</a></strong></p>

<p>If you supply power to a capacitor through a resistor, it will take time to charge. If you connect a resistive load to a capacitor, it will take time to discharge. The key thing to understand here about timing circuits is that capacitors appear as though they are short circuit <em>while</em> they are charging, but as soon as they are charged, they appear to be open circuit.</p>

<p><strong><a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+6.450009306485578+50+5.0+50%0Ac+208+144+368+144+0+1.0E-5+-1.5422100174719175%0Ar+368+144+368+272+0+35.0%0AO+368+144+480+144+0%0Ag+368+272+368+304+0%0A170+208+144+176+144+3+20.0+1000.0+5.0+0.1%0Ao+4+16+0+34+5.0+0.025+0+-1+in%0Ao+2+16+0+34+5.0+9.765625E-5+1+-1+out%0Ah+3+1+0%0A"">Filtering</a></strong></p>

<p>If you pass DC through a capacitor, it will charge and then block any further current from flowing. However, if you pass AC through a capacitor, it will flow. How much current flows depends on the frequency of the AC, and the value of the capacitor.</p>

<hr>
","12544"
"Why we use a standard of 4-20 mA","37641","","<p>I was asked by my professor that why the standard of 4-20 mA is set for measurement of current in measurements circuit. Is there any reason why this level is used ? I mean why the value of 4 ? Can't it be 5-25 mA or anything ?</p>

<p>Please note that I know why we dont use a non-zero starting point fpr measurement.</p>
","<p>A 4-10mA corresponds to a 1-5V analog voltage across a 250 Ohm resistor, making it easy to adapt the 4-20mA current loop to a 1-5VDC analog input voltage (common on many controllers using TTL inputs) to by simply placing a 250 Ohm resistor across the analog input terminals of the controller.</p>

<p>The industry specification for Compatibility of Analog Signal for Electronic Industrial Process Instruments is ISA 50.00.01-1975 (R2012).  The pre-1972 version of this standard specified 10-50mA for analog current loops because the technology at the time used magnetic amplifiers which required a minimum of 10mA to operate.</p>

<p>Since transistor circuits have become more stable and accurate, the 4-20mA analog current loop has become the standard, requiring less power and allowing greater distances.</p>

<p>Of course, if you aren't already aware, one of the main advantages of current loop over voltage driven analogue signals is that a current driven loop allows greater distances to be achieved - typically lengths up to 1000m are possible.</p>

<p>Any signal sent over a long distance produces a voltage drop which is in proportion to the length of the cable (cable resistance), however when a 4-20mA signal is used to transmit the analog signal (as opposed to a 1-5VDC signal), the voltage drop is irrelevant, since the same current has to pass through the circuit loop (it has no where else to go!) provided the power supply can handle it. For example, for a 24VDC powered transmitters, 7-15VDC is typically used by the transmitter circuit, leaving a budget of at least 9VDC for the loop voltage drop.</p>

<p>You may already be aware that having a non-zero current (4mA) for representing the ""zero value"" of the analog signal allows the controller to detect a broken wire (0mA) as well as allowing loop-powered transmitter design.</p>

<p>Having the 20mA correspond to the 'maximum value' of the analog signal is practical for industrial process instruments, since having larger currents would result in larger voltage drop for the same size cabling, thereby limiting the cable length. </p>

<p>Also, limiting the power of signals in the transmitter is better for 'intrinsically safe design' by limiting the energy available for igniting explosive dust or vapors in hazardous areas (as per ANSI/ISA-RP12.06.01-2003 Recommended Practice for Wiring Methods for Hazardous (Classified) Locations Instrumentation Part 1: Intrinsic Safety).</p>
","47214"
"How do you simulate voltage noise with LTSpice?","37604","","<p>Is there a way to setup a voltage supply with voltage jitter/noise? I want to experiment with filtering out noise on various voltages etc. but not sure how to configure LTSpice to create a noisy voltage supply.</p>
","<p>Yes, you can inject noise using the arbitrary voltage (or current) source, then use things like the <code>random</code> or <code>white</code> function to create some noise. </p>

<p>Here is an example circuit (I separated the noise from the signal just to make things clearer - obviously you can combine them together in one function if you wish):</p>

<p><img src=""https://i.stack.imgur.com/GH3r6.png"" alt=""Noise Circuit""></p>

<p>Simulation:</p>

<p><img src=""https://i.stack.imgur.com/spuUn.png"" alt=""Noise Circuit Simulation""></p>

<p>All the functions are detailed in the help under <code>circuit elements -&gt; arbitrary behavioral voltage or current sources</code>. </p>

<p><strong>Noise simulation mode</strong></p>

<p>Also, just in case you were not aware, SPICE has a noise simulation mode, to quote from the help files:</p>

<pre><code>.NOISE -- Perform a Noise Analysis
This is a frequency domain analysis that computes the noise due to
Johnson, shot and flicker noise. The output data is noise spectral 
density per unit square root bandwidth.

Syntax: .noise V(&lt;out&gt;[,&lt;ref&gt;]) &lt;src&gt; &lt;oct, dec, lin&gt; &lt;Nsteps&gt; &lt;StartFreq&gt; &lt;EndFreq&gt;
</code></pre>

<p>Basic example:</p>

<p><img src=""https://i.stack.imgur.com/Oh2JZ.png"" alt=""Noise mode""></p>

<p>Simulation:</p>

<p><img src=""https://i.stack.imgur.com/KKBjy.png"" alt=""Noise mode sim""></p>

<p>The above is rather boring as it only models the resistor noise (I stepped the resistor through various values to show how the <a href=""http://en.wikipedia.org/wiki/Johnson%E2%80%93Nyquist_noise"">Johnson noise</a> increases with resistance). But it can be very useful with more complex circuits containing diodes/transistors/opamps/etc.</p>
","55256"
"How to calculate battery capacity required for home applications?","37568","","<p>The issue I'm facing is calculating current draw from different household items. Like, if a fan is rated at 75 Watts, its current draw would be A = W/V so A = 75/220 and A = .34 amperes.</p>

<p>That doesn't sound right to me, because I have two 150 A-h batteries connected in series to an inverter/charger. Assuming that I use up only 60% of the batteries' capacity to prolong their life, I have 180 A-h of battery capacity. And also if the inverter is only 80% efficient, I have 144 A-h of usable battery capacity.  If the fan does indeed draw .34 amperes of current, that would mean that this battery setup should run the fan for around 424 hours.</p>

<p>I know I'm doing something wrong, I just don't know what it is. Could you guys help me out here? What's the backup time for a 75 watt load drawing power from an inverter connected to two 150 A-h batteries in series?</p>
","<p>Your 75W fan required 220 Volts, it will not operate at typical battery voltages such as 12V. </p>

<p>A 75W fan operating (indirectly) from a 12V supply would draw 6.25 A not 0.34 A. </p>

<p>Even with a theoretical 100% efficient invertor, the current on the 12V side is greater than the current on the 220V side to deliver the same power across the system from battery to Fan. </p>

<p>Note that the reason that power is delivered through the grid at high voltage is to keep currents low. losses and cable sizes are proportional to (a function of) current. High V are used to keep currents low. </p>

<p>You convert 12V DC into 220 V AC using your inverter. Depending on capacity and utilisation the efficiency of an inverter might be the 80% you estimate or it may be worse - 50% <a href=""http://www.solar-facts.com/inverters/inverter-efficiency.php"" rel=""nofollow noreferrer"">Ref</a> So your 6.25A may become 13A drawn from the 12V battery.</p>

<p>Therefore your 300 Ah battery-set might power a 75W fan for less than 24 hours.</p>

<hr>

<p>Update: for 2 x nominal 12V SLA battery, the following diagram may clarify what is happening.</p>



<p><img src=""https://i.stack.imgur.com/oaOM7.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2foaOM7.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","69794"
"What's the difference between a microprocessor and a CPU?","37465","","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/1092/whats-the-difference-between-a-microcontroller-and-a-microprocessor"">What’s the difference between a microcontroller and a microprocessor?</a>  </p>
</blockquote>



<p>Please inform me of the difference, if any. </p>
","<p>A CPU (central processing unit) is the part of a computer that executes instructions. This can be implemented using a single IC, a number of ICs, discrete transistors or a room full of vacuum tubes.</p>

<p>A microprocessor is a single-chip implementation of a CPU.</p>

<p>Nowadays pretty much all CPUs for general use are microprocessors, causing the two terms to be practically synonymous.</p>
","44741"
"Transmitting a video stream through a microcontroller's wifi","37382","","<p>I'm working a a project that currently works well but this year we want to expand it by collecting data from it, independent of its current functions. We have set up an iPad App to control an Arduino through Wifi. The next step is transmitting video through Wifi to the iPad.</p>

<p>With this question I would like to focus on how a microcontroller can send a video stream through Wifi. I can't seem to find any way to even start this project.</p>

<p>How do you interface the camera with the microcontroller?</p>

<p>How do you then send that stream over Wifi?</p>
","<blockquote>
  <p>I understand that it's a lot to transmit, but let's focus on how to
  interface the arduino with the camera</p>
</blockquote>

<p>Arduinos are not suited for video streaming at all. Here are some of the reasons: </p>

<ul>
<li>At their best, they can only do 20 <a href=""http://en.wikipedia.org/wiki/Instructions_per_second"" rel=""noreferrer"">MIPS</a></li>
<li>Don't have nearly enough ram</li>
<li>They're only an 8bit processor</li>
<li>The don't come close to having enough bandwidth to stream video</li>
<li>They have a limited flash memory</li>
<li>The Arduino programming language is not efficient</li>
</ul>

<p>For those reasons and more, Arduinos and other 8bit MCU's are not able to accomplish what you want. A 32bit ARM processor would be better suited to the task and still very cheap.</p>

<p><strong>Nevertheless here is your answer</strong></p>

<p>If you <strong>MUST</strong> use an Arduino, the best you could probably accomplish is streaming jpeg at a slow rate. You can add a TTL camera to an Arduino so the Arduino is able to take a picture (there are camera shields that can connect a camera to an Arduino.) The max baud rate on an Arduino is 115200bps (I think) so after a picture is taken it could be saved to a SD card and/or sent via an <a href=""http://arduino.cc/en/Main/ArduinoWirelessShield"" rel=""noreferrer"">wireless SD network shield</a>. There is also a <a href=""https://www.google.com/search?q=Eye-Fi%20card&amp;oq=Eye-Fi%20card&amp;aqs=chrome.0.57&amp;sugexp=chrome,mod=6&amp;sourceid=chrome&amp;ie=UTF-8"" rel=""noreferrer"">Eye-Fi unit</a> that is a SD card that has a built in wireless network. </p>

<p>Keep in mind that this will not be video streaming, at the <strong>best</strong> it will be streaming a couple low quality pictures a second.</p>

<p><img src=""https://i.stack.imgur.com/7e52B.jpg"" alt=""enter image description here""></p>

<blockquote>
  <p>Remote monitoring using the Eye-Fi wireless SD card and Adafruit Data
  Logging Shield for Arduino. The Eye-Fi card is a tiny wireless memory
  card. It stores photos and fits inside a camera just like a regular SD
  card, but also has built-in WiFi transceiver that can upload images to
  your computer, smartphone or to various photo-sharing sites. Can the
  Eye-Fi card work in an Arduino SD card adapter? You bet! Adding a TTL
  Serial JPEG camera, together with some minimal prep work, we can then
  create a self-contained wireless monitoring camera with motion-sensing
  capabilities.
  <a href=""http://boingboing.net/2012/03/13/howto-make-an-internet-of-thin.html"" rel=""noreferrer"">HOWTO Make an Internet of Things Camera</a></p>
</blockquote>

<p><strong>This is what I recommend</strong></p>

<p>The easiest way to stream media from a MCU would be to use a MCU that can run an embedded OS, like the <a href=""http://www.raspberrypi.org/"" rel=""noreferrer"">Raspberry Pi</a>. Basically the Raspberry Pi is just like a computer running linux with usb ports etc. And it has the processing power and memory to stream video in real time. </p>

<p>So for your project, you should use a USB camera, like a web cam, and a USB wireless networking adapter (since the RP only has wired network by default.) The OS will handle the networking side of things, all you need to do is to stream the USB video to the network and there is plenty of software and tutorials for that.</p>

<p>They even have a OS specifically made for doing this called <a href=""http://xbmc.org/"" rel=""noreferrer"">XBMC</a>. See <a href=""http://reviews.cnet.co.uk/desktops/how-to-turn-your-raspberry-pi-into-an-xbmc-media-centre-50008599/"" rel=""noreferrer"">How to turn your Raspberry Pi into an XBMC media centre</a>. There is a good amount of documentation on how to stream video from a unit like that, take a look at <a href=""http://wolfpaulus.com/journal/embedded/raspberrypi_webcam"" rel=""noreferrer"">Streaming Your Webcam w/ Raspberry Pi</a>. </p>

<p>For the software, I personally have used <a href=""http://mediatomb.cc/"" rel=""noreferrer"">Media Tomb (a UPnP MediaServer)</a> and it works very good. So a search for <a href=""https://www.google.com/search?q=linux%20streaming%20video%20to%20playstation&amp;oq=linux%20streaming%20video%20to%20playstation&amp;aqs=chrome.0.57j62.15779&amp;sugexp=chrome,mod=6&amp;sourceid=chrome&amp;ie=UTF-8#hl=en&amp;safe=off&amp;tbo=d&amp;sclient=psy-ab&amp;q=raspberry%20pi%20mediatomb%20streaming%20video&amp;oq=raspberry%20pi%20mediatomb%20streaming%20video&amp;gs_l=serp.3...6219.7562.1.7725.6.6.0.0.0.0.133.768.0j6.6.0.les;..0.0...1c.1.R-1ELNu1K2g&amp;pbx=1&amp;bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&amp;fp=c5a2c8ae253ecf99&amp;bpcl=38897761&amp;biw=1125&amp;bih=782"" rel=""noreferrer"">raspberry pi mediatomb streaming video</a> or <a href=""https://www.google.com/search?q=linux%20streaming%20video%20to%20playstation&amp;oq=linux%20streaming%20video%20to%20playstation&amp;aqs=chrome.0.57j62.15779&amp;sugexp=chrome,mod=6&amp;sourceid=chrome&amp;ie=UTF-8#hl=en&amp;safe=off&amp;tbo=d&amp;sclient=psy-ab&amp;q=raspberry%20pi%20media%20server&amp;oq=raspberry%20pi%20media%20server&amp;gs_l=serp.3...116758.116758.2.116875.1.1.0.0.0.0.0.0..0.0.les;..0.0...1c.1.UIewqsg_wJ4&amp;pbx=1&amp;bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&amp;fp=c5a2c8ae253ecf99&amp;bpcl=38897761&amp;biw=1125&amp;bih=782"" rel=""noreferrer"">raspberry pi media server</a> would probably get you set and going.</p>
","50038"
"Why is mains power sometimes 110V and other times 120V?","37164","","<p>(The same question can apply to locations with 220/240V mains, if I am not mistaken.)</p>

<p>Frequently I see mixed ratings indicating that something is suitable for 110, 115, 118 or 120V (in the US). I've always referred to mains power as 120V but with the understanding that it varies because of:</p>

<ul>
<li>Different means of generation (number of phases, etc.)</li>
<li>Line losses and imperfect conditions</li>
</ul>

<p>When designing something, should one always test using the lowest expected voltage (110)? What reasons are there for the differences in mains voltage?</p>
","<p>In the US, the electric utilities are supposed to deliver power to residential customers at anywhere between 110 and 125 VAC RMS. The value 117 (or 117.5 or 118) is often seen on products, because that is the middle of the specified range.</p>

<p>If you're developing a product for general sale, it would be prudent to add a testing margin that's at least 5% or even 10% beyond the nominal range &mdash; perhaps 100 to 140 VAC RMS.</p>
","57751"
"Level shifting a +/- 2.5V signal to 0 - 5V","37159","","<p>I have a front end module that generates an (ECG) signal that varies from +/-2.5 V. I want to shift this signal to 0 - 5V. What is the best way to do this? Would a summing amplifier like the below circuit good enough? With R1 = R2 and V1 = 2.5V, V2 = my signal, V3 = V4 = GND</p>

<p><img src=""https://i.stack.imgur.com/ll6pV.png"" alt=""Summing Amp""></p>
","<p>First thing to try is a simple resistor adder, without opamp. But it's clear that this won't work here: a resistor adder always attenuates the signal, and we need a \$\times\$1 amplification.  </p>

<p><img src=""https://i.stack.imgur.com/L3TXb.png"" alt=""enter image description here""></p>

<p>This is a non-inverting summing amplifier. You would think that we simply have to add 2.5 V, but do you have that? I'm assuming you have 5 V, so let's use that and see where it gets us. If we have -2.5 V on the Vin input the non-inverting input should be zero if you want 0 V out, regardless of the values of R3 and R4. So R1 and R2 form a voltage divider, and R2 should be twice R1 to get the 0 V.  </p>

<p>Next we have to find the amplification, which is determined by R3 and R4:</p>

<p>\$ A_V = \dfrac{R3 + R4}{R3} \$</p>

<p>If we have 2.5 V on the Vin input and with R2 = 2 \$\times\$R1 we get 3.33 V on the non-inverting input of the opamp. To make that 5 V out we have to amplify by 1.5, so R3 must be twice R4.</p>

<p>We could use the following values:  </p>

<blockquote>
  <p>R1 = 10 k&Omega;<br>
  R2 = 20 k&Omega;<br>
  R3 = 20 k&Omega;<br>
  R4 = 10 k&Omega;  </p>
</blockquote>

<p>You'll need an RRIO (Rail-to-Rail I/O) opamp if you want to power if from a single 5 V supply.</p>
","37102"
"Single Bit Error Correction & Double Bit Error Detection","37136","","<p>Can someone explain, in their own words, what Double Bit Error Detection is and how to derive it? An example of corrupted data and how to detect the double bit would be appreciated. </p>

<p>I can do Single Bit Error Correction using parity bits as well as correct the flipped bit. Now when I reach Double Bit Error Detection I understand there is an extra DED bit, which is somehow related to the even or odd parity of the bit sequence. However, I am lost.</p>

<p>What I read:
<a href=""http://en.wikipedia.org/wiki/Error_detection_and_correction"" rel=""nofollow"">http://en.wikipedia.org/wiki/Error_detection_and_correction</a></p>

<p>Video on Hamming Code:
<a href=""http://www.youtube.com/watch?v=JAMLuxdHH8o"" rel=""nofollow"">http://www.youtube.com/watch?v=JAMLuxdHH8o</a></p>
","<p>A Hamming code is a particular kind of error-correcting code (ECC) that allows single-bit errors in code words to be corrected. Such codes are used in data transmission or data storage systems in which it is not feasible to use retry mechanisms to recover the data when errors are detected. This type of error recovery is also known as forward error correction (FEC).</p>

<p><strong>Constructing a Hamming code to protect, say, a 4-bit data word</strong></p>

<p>Hamming codes are relatively easy to construct because they're based on parity logic. Each check bit is a parity bit for a particular subset of the data bits, and they're arranged so that the pattern of parity errors directly indicates the position of the bit error.</p>

<p>It takes three check bits to protect four data bits (the reason for this will become apparent shortly), giving a total of 7 bits in the encoded word. If you number the bit positions of an 8-bit word in binary, you see that there is one position that has no ""1""s in its column, three positions that have a single ""1"" each, and four positions that have two or more ""1""s.</p>

<p>If the four data bits are called A, B, C and D, and our three check bits are X, Y and Z, we place them in the columns such that the check bits are in the columns with one ""1"" and the data bits are in the columns with more than one ""1"". The bit in position 0 is not used.</p>

<pre><code>Bit position:  7  6  5  4  3  2  1  0
   in binary:  1  1  1  1  0  0  0  0
               1  1  0  0  1  1  0  0
               1  0  1  0  1  0  1  0
         Bit:  A  B  C  X  D  Y  Z  -
</code></pre>

<p>The check bit X is set or cleared so that all of the bits with a ""1"" in the top row — A, B C and X — have even parity. Similarly, the check bit Y is the parity bit for all of the bits with a ""1"" in the second row (A, B and D), and the check bit Z is the parity bit for all of the bits with a ""1"" in the third row (A, C and D).</p>

<p>Now all seven bits — the codeword — are transmitted (or stored), usually reordered so that the data bits appear in their original sequence: A B C D X Y Z. When they're received (or retrieved) later, the data bits are put through the same encoding process as before, producing three new check bits X', Y' and Z'. If the new check bits are XOR'd with the received check bits, an interesting thing occurs. If there's no error in the received bits, the result of the XOR is all zeros. But if there's a single bit error in any of the seven received bits, the result of the XOR is a nonzero three-bit number called the ""syndrome"" that directly indicates the position of the bit error as defined in the table above. If the bit in this position is flipped, then the original 7-bit codeword is perfectly reconstructed.</p>

<p>A couple of examples will illustrate this. Let's assume that the data bits are all zero, which also means that all of the check bits are zero as well. If bit ""B"" is set in the received word, then the recomputed check bits X'Y'Z' (and the syndrome) will be 110, which is the bit position for B. If bit ""Y"" is set in the received word, then the recomputed check bits will be ""000"", and the syndrome will be ""010"", which is the bit position for Y.</p>

<p>Hamming codes get more efficient with larger codewords. Basically, you need enough check bits to enumerate all of the data bits plus the check bits plus one. Therefore, four check bits can protect up to 11 data bits, five check bits can protect up to 26 data bits, and so on. Eventually you get to the point where if you have 8 bytes of data (64 bits) with a parity bit on each byte, you have enough parity bits to do ECC on the 64 bits of data instead.</p>

<p><strong>Different (but equivalent) Hamming codes</strong></p>

<p>Given a specific number N of check bits, there are 2<sup>N</sup> equivalent Hamming codes that can be constructed by arbitrarily choosing each check bit to have either ""even"" or ""odd"" parity within its group of data bits. As long as the encoder and the decoder use the same definitions for the check bits, all of the properties of the Hamming code are preserved.</p>

<p>Sometimes it's useful to define the check bits so that an encoded word of all-zeros or all-ones is always detected as an error.</p>

<p><strong>What happens when multiple bits get flipped in a Hamming codeword</strong></p>

<p>Multible bit errors in a Hamming code cause trouble. Two bit errors will always be detected as an error, but the wrong bit will get flipped by the correction logic, resulting in gibberish. If there are more than two bits in error, the received codeword may appear to be a valid one (but different from the original), which means that the error may or may not be detected.</p>

<p>In any case, the error-correcting logic can't tell the difference between single bit errors and multiple bit errors, and so the corrected output can't be relied on.</p>

<p><strong>Extending a Hamming code to detect double-bit errors</strong></p>

<p>Any single-error correcting Hamming code can be extended to reliably detect double bit errors by adding one more parity bit over the entire encoded word. This type of code is called a SECDED (single-error correcting, double-error detecting) code. It can always distinguish a double bit error from a single bit error, and it detects more types of multiple bit errors than a bare Hamming code does.</p>

<p>It works like this: All valid code words are (a minimum of) Hamming distance 3 apart. The ""Hamming distance"" between two words is defined as the number of bits in corresponding positions that are different. Any single-bit error is distance one from a valid word, and the correction algorithm converts the received word to the nearest valid one.</p>

<p>If a double error occurs, the parity of the word is not affected, but the correction algorithm still corrects the received word, which is distance two from the original valid word, but distance one from some other valid (but wrong) word. It does this by flipping one bit, which may or may not be one of the erroneous bits. Now the word has either one or three bits flipped, and the original double error is now detected by the parity checker.</p>

<p>Note that this works even when the parity bit itself is involved in a single-bit or double-bit error. It isn't hard to work out all the combinations.</p>
","71417"
"What are different types of computer architectures?","37107","","<p>I am going through the book ""Elements of computing systems"". This book teaches how to build a whole computer from scratch. While I was just browsing the chapters on computer architecture, I noticed that it all focused on the Von Neumann architecture. I was just curious as to what are the other architectures and when &amp; where they are used.</p>

<p>I know about only two, one is Von Neumann and the second is Harvard. Also I know about RISC which is used in uC of AVR.</p>
","<p>There are many different kinds of computer architectures.</p>

<p>One way of categorizing computer architectures is by number of instructions executed per clock.
Many computing machines read one instruction at a time and execute it (or they put a lot of effort into acting <em>as if</em> they do that, even if internally they do fancy superscalar and out-of-order stuff).
I call such machines ""von Neumann"" machines, because all of them have a von Neumann bottleneck.
Such machines include CISC, RISC, MISC, TTA, and DSP architectures.
Such machines include accumulator machines, register machines, and stack machines.
Other machines read and execute several instructions at a time (VLIW, super-scalar), which break the one-instruction-per-clock limit, but still hit the von Neumann bottleneck at some slightly larger number of instructions-per-clock.
Yet other machines are not limited by the von Neumann bottleneck, because they pre-load all their operations once at power-up and then process data with no further instructions.
Such non-Von-Neumann machines include dataflow architectures, such as systolic architectures and cellular automata, often implemented with FPGAs, and the NON-VON supercomputer.</p>

<p>Another way of categorizing computer architectures is by the connection(s) between the CPU and memory.
Some machines have a unified memory, such that a single address corresponds to a single place in memory, and when that memory is RAM, one can use that address to read and write data, or load that address into the program counter to execute code. I call these machines Princeton machines.
Other machines have several separate memory spaces, such that the program counter always refers to ""program memory"" no matter what address is loaded into it, and normal reads and writes always go to ""data memory"", which is a separate location usually containing different information even when the bits of the data address happen to be identical to the bits of the program memory address.
Those machines are ""pure Harvard"" or ""modified Harvard"" machines.
Most DSPs have 3 separate memory areas -- the X ram, the Y ram, and the program memory.
The DSP, Princeton, and 2-memory Harvard machines are three different kinds of von Neumann machines.
A few machines take advantage of the extremely wide connection between memory and computation that is possible when they are both on the same chip -- computational ram or iRAM or CAM RAM -- which can be seen as a kind of non-von Neumann machine.</p>

<p>A few people use a narrow definition of ""von Neumann machine"" that does not include Harvard machines. If you are one of those people, then what term would you use for the more general concept of ""a machine that has a von Neumann bottleneck"", which includes both Harvard and Princeton machines, and excludes NON-VON?</p>

<p>Most embedded systems use Harvard architecture.
A few CPUs are ""pure Harvard"", which is perhaps the simplest arrangement to build in hardware: the address bus to the read-only program memory is exclusively is connected to the program counter, such as many early Microchip PICmicros.
Some modified Harvard machines, in addition, also put constants in program memory, which can be read with a special ""read constant data from program memory"" instruction (different from the ""read from data memory"" instruction).
The software running in the above kinds of Harvard machines cannot change the program memory, which is effectively ROM to that software.
Some embedded systems are ""self-programmable"", typically with program memory in flash memory and a special ""erase block of flash memory"" instruction and a special ""write block of flash memory"" instruction (different from the normal ""write to data memory"" instruction), in addition to the ""read data from program memory"" instruction.
Several more recent Microchip PICmicros and Atmel AVRs are self-programmable modified Harvard machines.</p>

<p>Another way to categorize CPUs is by their clock.
Most computers are synchronous -- they have a single global clock.
A few CPUs are asynchronous -- they don't have a clock -- including the ILLIAC I and ILLIAC II, which at one time were the fastest supercomputers on earth.</p>

<p>Please help improve the description of all kinds of computer architectures at
<a href=""http://en.wikibooks.org/wiki/Microprocessor_Design/Computer_Architecture"">http://en.wikibooks.org/wiki/Microprocessor_Design/Computer_Architecture</a>
.</p>
","4270"
"What is a pull up and pull down?","37001","","<p><br>
Can some one explain this terminology please I think I understand it but not completely sure. </p>

<p>I think pull down is where you place a resistor between +V and the other component and pull up is where you place the resistor between 0v and the component.  </p>

<p>If I am completely wrong then let me know!</p>
","<p>It's the other way around.</p>

<p>Pull up is where you place a resistor between a signal and +V, pull down is pulling it to ground.</p>

<p><img src=""https://i.stack.imgur.com/gQcoz.png"" alt=""Image of pull up pull down.""><br>
(from <a href=""http://roguescience.org/wordpress/?page_id=11"" rel=""nofollow noreferrer"">http://roguescience.org/wordpress/?page_id=11</a>)</p>

<p>Here, you can see that when the switch is open, in the pullup scenario the input pin will read high, but for pull down it will read low.</p>
","7425"
"How do I identify which point is Live and which point is Neutral of a 2-pin plug?","36977","","<p>I have a 2-pin plug that was not label which is Live and which is Neutral. I do not want to damage the electrical device and was wondering what should I do in order to test and find which point is Live and which point is Neutral?</p>

<p>The 2-pin plug look something like the following:
<img src=""https://i.stack.imgur.com/KlB6W.jpg"" alt=""enter image description here""></p>
","<p>A plug doesn't have polarity, it completely depends on the wiring of the socket. To check the socket all you need is this two dollar tester:  </p>

<p><img src=""https://i.stack.imgur.com/PgjQk.jpg"" alt=""enter image description here"">  </p>

<p>It has a neon light inside which connects via a high resistance to the contact at the end. If you insert in in the live pin and touch the metal dingus on the back of the tester, there will flow a very small, safe, leakage current to ground which is enough to light the neon light. If you try it on the neutral it won't light because the neutral is at the same potential as ground.  </p>

<p><strong>edit</strong><br>
Well, that's how the classical tester works. <em>Cybergibbons</em> points out that this one is probably a non-contact tester (because it doesn't go deep enough in the socket?). Anyway, those detect the electrical field emitted by the phase's voltage. They're battery operated to power the LED.</p>
","33925"
"How to connect load cell to arduino?","36935","","<p>I got this 200KG Load Cell, it has 4 wires:</p>

<pre><code>Red:   +EXC  12V
Black: -EXC  0V

Green: +IN
White: -IN

Sens. 2.000mV/V
</code></pre>

<p>According to tech support I have on Green/White:</p>

<pre><code>200Kg  -&gt; 2.4V
100Kg  -&gt; 1.2V
</code></pre>

<p>I want to connect it to the arduino to measure, for example, 3Kg, but the signal is too low for the Analog in.
Can somebody post what parts and schematic I need to have it done?</p>

<p>I saw mentions to these parts:</p>

<pre><code>AD 620
INA 125P
MAX4208
OP07
</code></pre>

<p>but also:</p>

<pre><code>ADS1234
</code></pre>

<p>I am confused and where I live there are none of those parts, so I need some assured part list to buy over internet and wait then arrive by mail. </p>

<p>Will be happy for some light.</p>

<p><img src=""https://i.stack.imgur.com/D95wn.jpg"" alt=""Arduino Load Cell""></p>
","<p><strong>First, some basic concepts:</strong></p>

<p>Loadcells (and in general, Strain gage setups) have three important parameters:</p>

<ul>
<li>Capacity: The maximum (full-scale) amount of weight that can be
applied to the loadcell without damage</li>
<li>Recommended excitation
voltage: Voltage to be applied to generate an output voltage
difference in the <a href=""http://en.wikipedia.org/wiki/Wheatstone_bridge"">Wheatstone
bridge</a> of the load
cell</li>
<li>Sensitivity: When you apply a load equal to the Maximum
capacity, the Sensitivity spec tells you what voltage the loadcell
will output for EACH volt of excitation voltage that you apply</li>
</ul>

<p>So, once you measure the output signal voltage of the load cell, you can use the above specs and easily infer your load measurement in kg.</p>

<p><strong>For your setup:</strong></p>

<p>In your load cell's case, it appears you would have to apply an excitation voltage of 12 V across Red (12V) and Black (GND). But now, suppose you were to directly connect the output wires as follows:</p>

<p>Green to an input of the Arduino (and White either to GND or to another input for a differential measurement).
Then, based on your load cell's sensitivty spec, you can see that, for even the maximum capacity load, the output voltage would be on the order of only a few millivolts.</p>

<p>Thus you will notice from your Arduino readings that the output voltage across Green and White is way too small to be measured with any meaningful precision by the Arduino. This is because the Arduino has an ADC that has only 10-bit resolution.</p>

<p>Thus it is clear that you either need to (Option 1) Make the small signal bigger or (Option 2) Use a more precise way of reading the small signal.</p>

<p><strong>Two solutions/approaches for the load cell measurement problem:</strong></p>

<p>So with the above in mind, I suggest you approach your project using one of two options (these are among the standard methods used with load cells/strain gages):</p>

<ul>
<li><p>You can amplify the load cell's output voltage signal, THEN feed it into the Arduino's ADC. You can use a pre-packaged instrumentation-amp IC like the INA125. To get much clearer understanding of how you might interface the load cell, the INA125, and an Arduino, check out <a href=""http://cerulean.dk/words/?page_id=42"">this Arduino project</a>, as well as <a href=""http://www.hw2sw.com/2011/10/24/liquid-filling-machine-part-2/"">this one</a></p></li>
<li><p>Or instead, you can skip the whole amplification stage, and simply measure with a High-resolution ADC, which you then interface with your Arduino. Here are three options for a 24-bit sigma-delta ADC, or lower resolution of you don't need that much precision: (1) the LTC2400 for 24-bit single-ended measurements, or (2) the LTC2440 for 24-bit differential measurements, or (3) the MCP3422/MCP3424 for 18-bit differential measurements. All of those three ADC options are fairly straightforward to use and interface with the Arduino, especially if you use existing libraries/code. For example, you can check out <a href=""http://interface.khm.de/index.php/lab/experiments/connect-a-ltc2400-high-precision-24-bit-analog-to-digital-converter/"">this tutorial for LTC2400</a>, or instead <a href=""http://dangerousprototypes.com/forum/viewtopic.php?f=2&amp;t=4247&amp;p=42051"">this tutorial for LTC2440</a>, or lastly <a href=""http://forums.adafruit.com/viewtopic.php?f=31&amp;t=12269"">this tutorial for MCP3422/MCP3424</a>.</p></li>
</ul>

<p><strong>A couple of related notes:</strong></p>

<ul>
<li>Be sure to choose/apply an excitation voltage that is small enough that the final output signal won't damage your amplifier, your ADC, or your Arduino. Be sure to measure voltages with a DMM at various points along the stages the signal goes through to ensure that the signals are within the safe region.</li>
<li>For either of the above approaches that I mentioned, note that in order to get high precision in your measurement, you will want to use what is called a ""Precision voltage reference"" when you apply the excitation voltage. There are several options available for Voltage references; let me know if you have trouble finding one for your desired voltage.</li>
</ul>
","38690"
"How do I measure the voltage coming out of a USB port?","36892","","<p>If I attach a USB cable to a USB port, and then strip the wire at the end, then how do I connect a multimeter to it to measure the voltage?</p>
","<p>The standard pin numbers and colours in a USB cable are shown below.</p>

<pre><code>Pin Number   Cable Colour   Function
     1          Red         VBUS (5 volts)
     2          White       D-
     3          Green       D+
     4          Black       Ground
</code></pre>

<p>If there is no device connected to the USB port then the maximum current that the port can support may be quite low.  Once a device has enumerated itself on the port then it can negotiate for up to 500mA from the host controller.</p>

<p>To measure the voltage then you either touch the meter probes onto the stripped ends of the wires or, if your cable end is a large connector, then touch the probes (without shorting them together) onto pins 1 and 4 of the connector.  The power pins on the USB connector are easy to identify as they are longer than the data pins.  This is so that they mate first and ensures that the power is connected before the data.</p>
","5439"
"Why am I receiving ""error 'Serial' was not declared in this scope"" when building my Arduino sketch?","36771","","<p>FOllowing on from <a href=""https://electronics.stackexchange.com/questions/4814/my-atmega328-seems-to-be-overkill-what-should-i-use-instead"">this question</a>, I'm following the tutorial for <a href=""http://hlt.media.mit.edu/wiki/pmwiki.php?n=Main.ArduinoATtiny4585"" rel=""nofollow noreferrer"">programming an ATtiny45 using an arduino</a>.</p>

<p>Using v0021 of the Arduino IDE, with a Duemilanove which i've replaced the 168 chip with a 328, I'm able to upload the ArduinoISP sketch correctly. However, trying to upload the blink sketch to the Attiny results in the following error:</p>

<pre><code>ArduinoISP.cpp: In function 'void setup()':
ArduinoISP.cpp:79: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void loop()':
ArduinoISP.cpp:136: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'uint8_t getch()':
ArduinoISP.cpp:142: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:143: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void readbytes(int)':
ArduinoISP.cpp:147: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void spi_init()':
ArduinoISP.cpp:164: error: 'SPCR' was not declared in this scope
ArduinoISP.cpp:165: error: 'SPSR' was not declared in this scope
ArduinoISP.cpp:166: error: 'SPDR' was not declared in this scope
ArduinoISP.cpp: In function 'void spi_wait()':
ArduinoISP.cpp:172: error: 'SPSR' was not declared in this scope
ArduinoISP.cpp:172: error: 'SPIF' was not declared in this scope
ArduinoISP.cpp: In function 'uint8_t spi_send(uint8_t)':
ArduinoISP.cpp:177: error: 'SPDR' was not declared in this scope
ArduinoISP.cpp: In function 'void empty_reply()':
ArduinoISP.cpp:194: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:198: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void breply(uint8_t)':
ArduinoISP.cpp:204: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:209: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void start_pmode()':
ArduinoISP.cpp:263: error: 'SS' was not declared in this scope
ArduinoISP.cpp:265: error: 'SCK' was not declared in this scope
ArduinoISP.cpp:270: error: 'MISO' was not declared in this scope
ArduinoISP.cpp:271: error: 'MOSI' was not declared in this scope
ArduinoISP.cpp: In function 'void end_pmode()':
ArduinoISP.cpp:277: error: 'MISO' was not declared in this scope
ArduinoISP.cpp:278: error: 'MOSI' was not declared in this scope
ArduinoISP.cpp:279: error: 'SCK' was not declared in this scope
ArduinoISP.cpp:280: error: 'SS' was not declared in this scope
ArduinoISP.cpp: In function 'void program_page()':
ArduinoISP.cpp:348: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:356: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:362: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'char flash_read_page(int)':
ArduinoISP.cpp:375: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'char eeprom_read_page(int)':
ArduinoISP.cpp:387: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void read_page()':
ArduinoISP.cpp:397: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:400: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'void read_signature()':
ArduinoISP.cpp:409: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:412: error: 'Serial' was not declared in this scope
ArduinoISP.cpp: In function 'int avrisp()':
ArduinoISP.cpp:436: error: 'Serial' was not declared in this scope
ArduinoISP.cpp:497: error: 'Serial' was not declared in this scope
</code></pre>

<p>How can I fix this please? Or does anyone know if it works with a previous version of the IDE?</p>
","<p>Doh fixed it myself.
Needed to include the SoftwareSerial library in the updated blink sketch. That piece of info is missing from the tutorial linked above.</p>
","4991"
"How to make traces on an universal PCB?","36757","","<p>I hope this question won't be closed as too subjective. I'd like to know best practice - how to make traces on universal PCB's with individual holes without traces (like the following image). My idea is to bend the ends of discrete components and use them to make traces to other components. Is this approach acceptable, or nasty? Although this is called ""prototype"" PCB, I'd like to use it for my simple final circuits (low frequency, low current applications), because I hope it will save time.</p>

<p><img src=""https://i.stack.imgur.com/vLw1M.jpg"" alt=""Universal PCB""></p>
","<p>Protoboards are up to you how to use, if it works, it works.</p>

<p>The three common methods of using them is using jumper wire, solder bridges, or using leads. Or all three, depending on your needs.</p>

<p>Solder bridges take a lot of solder, especially long ones. They are good for two or three adjacent points.</p>

<p>Using the leads, or bare wire, is great for straight lines and buses, using less solder than solder bridges.</p>

<p>And jumper wire is best for when you can't/don't want to go around an existing solder joint.</p>

<p>It all really boils down to what you need. Of course, solder bridges can be very sloppy if you don't have practice at them. And using too many jumper wires or bare leads looks ugly and not well thought out. But this is your project, you can figure out how to mount them, and what's acceptable or not.</p>

<p>If you need much of either, what you really want to do is think about the placement of your components, move stuff around to minimize the need to use jumpers or long bridges.</p>

<p><img src=""https://i.stack.imgur.com/0Zuf8.jpg"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/RSc3h.jpg"" alt=""enter image description here""></p>
","55245"
"What's the best way to protect a board from corrosion in a hot/moist environment?","36625","","<p>Some of my projects need to live outside for long periods.  Sometimes, moisture gets into the enclosures.  That means that a circuit board might be sitting around in contact with water for hours on end at upwards of 100F.</p>

<p>I've noticed that solder joints can start to corrode, and recently moisture made it under the solder mask on a board and actually ate through one of the traces, breaking the circuit.  I know the ideal answer is to make a perfectly sealed enclosure, but I'd like to toughen the boards up a bit as a second level of defense.</p>

<p>Can anyone suggest some tips and tricks for making PCBs more corrosion resistant?  Does scrubbing off excess flux help?  What about spray acrylic sealant?  Special solder?</p>
","<p>Sounds like your boards are in a very tough environment, but anyway, it is common practise (and an accepted industry standard) to use so-called <a href=""http://en.wikipedia.org/wiki/Conformal_coating"">Conformal Coating</a>.</p>

<p>I know from experience at one of my previous companies that it does help.</p>

<p>Material varies, but the article in the above link explains a lot and internet searches for ""Conformal Coating"" will yield many products. I have used brushes to apply the coating after reworking PCBs, but in volume production, spray or dipping are used.</p>
","5101"
"Safe current limit for human contact?","36614","","<p>What's the point below which electrical current is generally considered safe for ""casual"" human contact?</p>

<p>Is either voltage or amperage more ""dangerous"" (e.g. high voltage / low amperage vs. low voltage / high amperage), or is the only consideration the total current?</p>
","<p>As rules of thumb, I've generally thought of myself as a 70 kΩ resistor to ground that feels pain at around 1 mA, which can be driven by 70 V or so. In my experience, the pain threshold is slightly above 48 V.</p>

<p>I can't say that I have any good medical science to back this up, but there are a few empirically obtained data points in that I'm not dead yet.</p>
","9252"
"How does current flow through a voltage source?","36563","","<p>Im going back to electricity 101 to understand several things Im missing. One of them is exactly how does current flow through a DC source.</p>

<p>Heres my understanding: A voltage source is one which has an excess of electrons in one side of its terminals, and a lack of electrons in the other, when connected together via a resistance or cable, electrons will flow from the side with an excess of electrons, to the side with a lack of electrons. </p>

<p>Inside the source itself theres no current flow, only ""around the supply"", meaning if I have say a battery, the only way that electrons will go from one side to the other, is by connecting a cable from its + to - side, the electrons will flow through the cable all the way to the other side. When both sides have reached an equilibrium in which both have the same amount of electrons, theres no voltage potential (dead battery), thus no current flow.</p>

<p>Very often a textbook will substitue components for DC sources, for example if we have a voltage source connected to a diode in series with a 2 resistances, the equivalent circuit  will substitute a 0.7V DC source for the diode, and add the 2 resistance in series with it such as this:</p>

<p>Lets take this circuit:</p>

<p><img src=""https://i.stack.imgur.com/vmEh8.jpg"" alt=""Diode circuit 1""></p>

<p>The equivalent circuit is the following, where V2 equals the diode:</p>

<p><img src=""https://i.stack.imgur.com/CBsLC.jpg"" alt=""Duide equivalent""></p>

<p>So the way I understand it, in the circuit above, replacing the diode with say a 0.7V battery or 0.7V DC power supply would be the same as having the diode, yet, how is it possible that current will flow from the positive terminal of V1, through the resistor, <strong>THROUGH</strong> the 0.7V battery (or dc supply), through the second resistor into the negative terminal? I thought that no current could flow through a battery or dc source.</p>

<p>I used a diode to make an example but there are several places in which Ive seen multiple voltage sources in a circuit, yet I dont understand how can current go through them.</p>
","<p>My favorite educator, Bill Beaty, often rants at the many misconceptions that all too many people have been infected with.
One of the many common misconceptions involves batteries.</p>

<p><a href=""http://amasci.com/elect/elefaq1.html#ap"" rel=""noreferrer"">""Frequently-Asked Electricity Questions""</a>:
""THE LIQUID BETWEEN A BATTERY'S PLATES IS A GOOD CONDUCTOR.
SO WHY DOESN'T IT SHORT OUT THE BATTERY?""</p>

<p><a href=""http://amasci.com/miscon/whyhard1.html"" rel=""noreferrer"">""Why is electricity so hard to understand?""</a>
""...mistaken belief that no charge flows through batteries. ...
This leads to the traditional incorrect flashlight-current explanation (current comes out of battery, flows...etc.)
It also leads to the misconception that batteries
SUPPLY CHARGE, and have a storage place for ""used"" charge.
This might make sense if we believe that there's no path for charge through the
battery.
But it's wrong, because there is a path, a path provided by
flowing charged atoms.
Charge must flow around and around a circuit, 
passing THROUGH the battery over and over.""</p>

<p><a href=""http://amasci.com/miscon/elteach.html"" rel=""noreferrer"">""But how SHOULD we teach kids about 'electricity'?""</a>
""A battery is a chemically-fueled charge pump. Like any other pump, a battery takes charges in through one connection and spits them out through the other. A battery is not a source of the ""stuff"" being pumped. When a battery runs down, it's because its chemical fuel is exhausted, not because any charges have been lost. ...
When you ""recharge"" a battery, you are pumping charges through it backwards, which reverses the chemical reactions and converts the waste products back again into chemical fuel.""</p>

<p><a href=""http://amasci.com/amateur/elecdir.html"" rel=""noreferrer"">'Which way does the ""electricity"" really flow?'</a>
""When you connect a lightbulb to a battery, you form a complete circuit, and the path of the flowing charge is through the inside of the battery, as well as through the light bulb filament. Battery electrolyte is very conductive.""</p>
","49325"
"Why is PWM used to control DC motor speed instead of using a variable resistance?","36485","","<p>My question is at the end (to change the speed) we are controlling the input voltage of a DC motor in both PWM (pulse width modulation) and variable resistance cases. Is the only reason for choosing PWM to obtain a better precision or not consuming extra power? If it is the only reason it seems odd to use PWM equipment for simple demonstrations.</p>
","<p><strong>Power efficiency</strong>
The induction of the motor will cause the current to average. At the same time the transistors in PWM mode have very low impedance and therefore a low voltage drop and low power dissipation. In case of a series resistor a lot of power is dissipated in the series resistor.</p>

<p><strong>Speed control behavior</strong>
With PWM the motor will 'see' a very low power supply impedance, even though the power supply is constantly switching between high and low voltages. The result is that the motor has a much higher torque. With a series resistance the motor will experience a very weak power supply and it will be easy to stall the rotor.</p>

<p><strong>Control circuit</strong>
For a control electronics (eg. a microcontroller) it is very easy to switch on/off transistors. Outputting an analog voltage or controlling a series resistor requires much more expensive circuitry and in turn will cause more power dissipation.</p>
","87150"
"What is a safe max. discharge rate for a 12V lead acid battery?","36367","","<p>I've got a 12V 2.4Ah lead acid battery which I plan to connect a water pump to. I've looked at various pumps, but the one I'm most interested in draws 2.2A. </p>

<p>I'm not so interested in how long the pump can run, as it only will need to run for about 5 - 10 minutes/day. So, I'm assuming the battery is plenty for that. The battery will be charged via solar cell panels.</p>

<p>However, I'm more concerned about the discharge rate. I've read that lead acid battery not should be discharged too quickly, as this might result in overheating the battery (and cause damage to it).</p>

<p>How do I figure out what a safe maximum discharge rate is for a 12V lead acid battery?</p>
","<p>An easy <strong>rule-of-thumb</strong> for determining the <strong>slow/intermediate/fast</strong> rates for <strong>charging/discharging</strong> a rechargeable chemical battery, <em>mostly</em> independent of the actual manufacturing technology: lead acid, NiCd, NiMH, Li...</p>

<ul>
<li><strong>We will call C (unitless) to the numerical value of the capacity of our battery</strong>, <em>measured in A.h</em> (Ampere-hour).
<ul>
<li>In your question, the capacity of the battery is 2.4Ah, hence, C=2.4 (unitless).</li>
</ul></li>
<li><strong>Most of the batteries in the market will happily charge/discharge at a rate of less than 1C Amperes</strong>.
<ul>
<li>In an ideal world, this would translate into a 1 hour charge/discharge process. <em>In practice, the charging/discharging process may require/reduce up to twice/half the time</em>.</li>
<li>Without further information (datasheet), I would personally not charge/discharge any battery at a rate higher than 1C, for safety and endurance reasons.</li>
<li>In your question, less than 2.4A would be a nice charge/discharge rate, as the manufacturer datasheet confirms.</li>
</ul></li>
<li><strong>By applying a charge/discharge rate much less than 1C</strong>, for instance, &lt;0.1C, you may considerably extend the life of a chemical battery.
<ul>
<li>Rates &lt;&lt; 1C are commonly known as ""Slow"" rates: 0.5C, 0.2C, 0.1C...</li>
</ul></li>
<li><strong>Charge/discharge rates higher than 1C</strong> are best avoided unless working with a properly known battery.
<ul>
<li>Rates >> 1C rates are commonly known as ""Fast"" rates: 2C, 3C...</li>
<li>In the past, batteries designed for rates >1C were usually marketed as ""high current"" batteries, because not all batteries were capable of sustaining such rates safely or without compromising its endurance.</li>
<li>Nowadays, most batteries can safely be used at rates >1C, up to the rating specified by the manufacturer. However, a reduction in the battery life is surely expected.</li>
<li>Forcing a battery to rates >5-10C involves serious risks.</li>
</ul></li>
</ul>

<p><strong>Disclaimer</strong>: this is a simple rule-of-thumb, <em>useful as an starting point</em>, when the datasheet is not available or when dealing with a no-brand/unknown battery.</p>
","130954"
"How long does it take to recharge a car battery after starting?","36332","","<p>Assuming a typical lead-acid, 12 V car battery (typically at 13 V or so fully charged), and that it takes roughly 500 A over 3 seconds to start an engine, how long will it take to recharge the battery at any given charge rate?</p>

<p>Here's my attempt from what I remember about physics:</p>

<p>12.8 V * 500 A = 6400 W</p>

<p>Over 3 seconds that's 19,200 joules.</p>

<p>So, in a perfect world where all the current goes right back in to the battery and whatnot, how long does it take to regain all my joules and put them back in my battery?</p>

<p>Given a 2A charge rate:</p>

<p>14 V (output of charger?) * 2 A = 28 watts</p>

<p>Here's where I'm a little shaky. What's next? Divide the joules by the wattage to get time? Seems like it:</p>

<p>19,200 joules / 28 watts = 11.4 minutes.</p>

<p>That's it? 11.4 minutes at 2 A and all 19,200 joules are back? Seems hard to believe. My charger also has a 10A setting. So that means in about 2.5 minutes, it'll be ""recharged"".</p>

<p>So, are my assumptions correct? Do you really just use the charging voltage to calculate this, it seems like you would need to put the charging voltage in relation to the battery's capacity/voltage/whatever.</p>
","<p>No, it isn't Joules in = Joules out. To a first approximation, it's Coulombs in = Coulombs out. It's the electrons flowing through the circuit that participate in the chemical reaction inside the battery (but not at 100% efficiency).</p>

<p>Forget about the energy/power/voltage calculation and just make the ampere-seconds for charging equal to the ampere-seconds for discharging, and then multiply by a fudge factor to account for the inefficiencies.</p>

<p>500A &times; 3s =1500 A-s = 2A &times; 750s = 10A &times; 150s</p>

<p>750s = 12.5 minutes</p>

<p>Figure about 90% efficiency, so the 12.5 minutes / 0.90 = about 14 minutes.</p>
","57643"
"Is it really OK to supply more current than what the component is rated for?","36308","","<p>In this <a href=""https://electronics.stackexchange.com/a/34746/52532"">heavily upvoted answer</a> the answerer states that it is okay to supply a component with more current than what it's rated for. The analogy is that (paraphrasing here) ""If Johnny wants to eat two apples, he'll only eat two regardless of whether you give him three or five, etc.""</p>

<p>However, one of the most basic circuits you can possibly make is to power an LED from some power supply. Since most power supplies provide a current that is higher than what most LEDs can handle, you <em>must</em> put a resistor in front of the LED in order to not burn it out.</p>

<p><strong>So which is it?!?</strong> Can someone explain to me when/where/how it is/isn't okay to provide higher (and lower, for that matter) current than what a component is rated for?</p>
","<p>To answer the title of your question, the answer is no. It is not ok to supply more current to a component than its rated value.</p>

<p>However, it is ok to have a voltage power supply rated for more current than the components rated value because the component will draw as much as it needs. If you are pushing more current into (forcefully) the component, then the component will exceed its rated value, heat up and be destroyed. Such as if you use a constant current source or you use a large voltage (which will cause more current to flow). But if you use the rated voltage, then the load will only take what is required, regardless of how much current is available to be drawn from the source.</p>

<p>The difference is in how you word your question. </p>
","175229"
"How to read serial data from oscilloscope","36297","","<p>I have a microcontroller (PICAXE 20X2) and a pot meter. I programmed the micro so that it sends any change of pot meter to serial port of PC. Obviously it is a 8bit ADC. Now the interesting thing for me is being able to decode this serial data on the oscilloscope.</p>

<p>Here are two pictures, the first is when the micro is sending ""0"" to PC and the next one is when it sends ""255"". The data is being transmitted using 9600 buad and I can receive them at the PC terminal.</p>

<p><strong>First Pic</strong>
<img src=""https://i.stack.imgur.com/QWe8m.jpg"" alt=""enter image description here""></p>

<p><strong>Second pic</strong>
<img src=""https://i.stack.imgur.com/lVdYl.jpg"" alt=""enter image description here""></p>

<p>So my question is, did I capture the right data on my scope, and second how one can read and decode this pulses into a hex or ascii format. I mean how to read this rising and falling pulses (0/1).</p>

<p>Thanks.</p>
","<p>First something Olin noticed as well: the levels are the reverse of what a microcontoller usually outputs:  </p>

<p><img src=""https://i.stack.imgur.com/B24RC.png"" alt=""enter image description here"">  </p>

<p>Nothing to worry, we'll see that we can read it this way too. We just have to remember that on the scope a start bit will be a <code>1</code> and the stop bit <code>0</code>.  </p>

<p>Next, you have the wrong time base to read this properly. 9600 bits per second (more appropriate units than Baud, though the latter isn't wrong per sé) is 104\$\mu\$s per bit, which is 1/10th of a division in your current setting. Zoom in, and set a vertical cursor at the first edge. That's the start of your start bit. Move the second cursor to each of the next edges. The difference between the cursors should be multiples of 104\$\mu\$s. Each 104\$\mu\$s is one bit, first the start bit (<code>1</code>), then 8 data bits, total time 832\$\mu\$s, and a stop bit (<code>0</code>).  </p>

<p>It doesn't look like the screen data matches the sent <code>0x00</code>. You should see a narrow <code>1</code> bit (the start bit) followed by a longer low level (936\$\mu\$s, 8 zero databits + a stop bit).<br>
Same for the <code>0xFF</code> you're sending; you should see a long high level (again 936\$\mu\$s, this time  the start bit + 8 data bits). So that should be nearly 1 division with your current setting, but that's not what I see.<br>
It looks more like in the first screenshot you're sending two bytes, and in the second four, with the 2nd and 3rd the same value.  </p>

<p>guesstimates:  </p>

<blockquote>
  <p>0b11001111 = 0xCF<br>
  0b11110010 = 0xF2  </p>
  
  <p>0b11001101 = 0xCD<br>
  0b11001010 = 0xCA<br>
  0b11001010 = 0xCA<br>
  0b11110010 = 0xF2</p>
</blockquote>

<p><strong>edit</strong><br>
Olin is absolutely right, this is something like ASCII. As a matter of fact it's <strong>1's complement</strong> of ASCII.  </p>

<blockquote>
  <p>0xCF  ~ 0x30 = '0'<br>
  0xCE  ~ 0x31 = '1'<br>
  0xCD  ~ 0x32 = '2'<br>
  0xCC  ~ 0x33 = '3'<br>
  0xCB  ~ 0x34 = '4'<br>
  0xCA  ~ 0x35 = '5'  </p>
  
  <p>0xF2  ~ 0x0D = [CR] </p>
</blockquote>

<p>This confirms that my interpretation of the screenshots is correct.</p>

<hr>

<p><strong>edit 2</strong> (how I interpret the data, upon popular request :-))<br>
<em>Warning: this is a long story, because it's a transcript of what happens in my head when I try to decode a thing like this. Only read it if you want to learn one way to tackle it.</em></p>

<p>Example: the second byte on the 1st screenshot, starting with the 2 narrow pulses. I start with the second byte on purpose because there are more edges than in the first byte, so it will be easier to get it right. Each of the narrow pulses is about 1/10th of a division, so that might be 1 bit high each, with a low bit in between. I also don't see anything narrower than this, so I guess it's a single bit. That's our reference.<br>
Then, after <code>101</code> there's a longer period at low level. Looks about twice as wide as the previous ones, so that could be <code>00</code>. The high following that is again twice as wide, so that will be <code>1111</code>. We now have 9 bits: a start bit (<code>1</code>) plus 8 data bits. So the next bit will be the stop bit, but because it's <code>0</code> it's not immediately visible. So putting it all together we have <code>1010011110</code>, including start and stop bit. If the stop bit wouldn't be zero, I would have made a bad assumption somewhere!<br>
Remember that a UART sends the LSB (least significant bit) first, so we'll have to reverse the 8 data bits: <code>11110010</code> = <code>0xF2</code>.  </p>

<p>We now know the width of a single bit, a double bit and a 4 bit sequence, and we have a look at the first byte. The first high period (the wide pulse) is slightly wider than the <code>1111</code> in the second byte, so that will be 5 bits wide. The low and the high period following it each are as wide as the double bit in the other byte, so we get <code>111110011</code>. Again 9 bits, so the next one should be a low bit, the stop bit. That's OK, so if our guesstimating is correct we can again reverse the data bits: <code>11001111</code> = <code>0xCF</code>.  </p>

<p>Then we got a hint from Olin. The first communication is 2 bytes long, 2 bytes shorter than the second. And ""0"" is also 2 bytes shorter than ""255"". So it's probably something like ASCII, though not exactly. I also note that the second and third byte of the ""255"" are the same. Great, that will be the double ""5"". We're doing fine! (You have to encourage yourself from time to time.) After decoding the ""0"", ""2"" and ""5"" I notice that there's a difference of 2 between the codes for the first two, and a difference of 3 between the last two. And finally I notice that <code>0xC_</code> is the complement of <code>0x3_</code>, which is the pattern for digits in ASCII.</p>
","17563"
"How much can I safely plug into a light socket converted to a standard outlet?","36275","","<p>I just moved my office desk from our extra bedroom on to our stairway landing.  The tricky thing was that there was no wall outlet to plug anything into.  However, there was a nearby light socket, which I converted into a standard outlet using a <a href=""http://www.walmart.com/ip/GE-Polarized-Handy-Outlet-Brown-2pk/16644761#Specifications"" rel=""nofollow"">GE polarized handy outlet</a>. 
Upon reading the label on the packaging, it says there is a 125VAC 660W max.  It also said on the back to not exceed electrical ratings in order to avoid the risk of fire.  I also had to use a <a href=""http://www.walmart.com/ip/GE-Non-Grounded-to-Grounded-Plug-Adapter-Gray-2pk/16644747"" rel=""nofollow"">Non-grounded to grounded plug converter</a> to be able to plug my power strip in.</p>

<p>I'm not an electrician and I don't know too much about this beyond my high school electronics class.  Am I going to be safe if the only things I have plugged in to it are my Macbook Pro and my flatscreen LED LCD monitor?  I have done some research for my macbook to see how much power it uses and found that it rarely will ever go above 45 watts.  Assuming my LCD monitor also doesn't exceed much more than that it seems to reason that I would be safe.  ~100 watts is far less than the 660 watt limit. Am I making some correct assumptions here?  What else do I need to consider?  Would I also be safe to plug in a printer and possibly more appliances?</p>
","<p>And I am concerned about the poor light socket.  Most standard light sockets say something like</p>

<blockquote>
  <p>100W max</p>
</blockquote>

<p>This refers to the lamp that you can safely use in that socket. The main variable that goes into that calculation, I believe, is the heat dissipation: most of the energy produced by an incandescent light bulb is in the form of heat, and the lamp fixture+socket has to be able to withstand the heat put out by the bulb.</p>

<p>However, there are other factors, namely, the current rating the wires leading to the light socket and the electrical connections inside the socket itself. If the wires and connections are safe for under 1 Amp, then you can't use a larger than 100W bulb (given 120V AC). In the end you cannot know what part which factors play in the power rating of the socket, and so I would advise to find out the power rating of the light socket itself, and not exceed that either.</p>

<p>Bottom line: the ""Handy Hutlet"" might allow 660W, but the light socket is unlikely to, and you'd be wise not to exceed the power rating of the weakest link in the chain.</p>
","63897"
"How to slow down a 220V fan?","36237","","<blockquote>
  <p><strong>Possible Duplicates:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/23962/what-do-i-need-to-make-230v-ac-fan-spin-slower"">what do I need to make 230V AC fan spin slower?</a><br>
  <a href=""https://electronics.stackexchange.com/questions/10805/220v-ac-fan-regulator"">220v AC Fan regulator</a></p>
</blockquote>

<p>I have an old fan with a relay made for 4 different speeds. Currently, they are all shorted together, so actually it works in the fastest speed only, no matter what I select on the relay.</p>

<p>What should I do to make the other speeds work right without making fire?</p>

<p>At <a href=""https://electronics.stackexchange.com/questions/23962/what-do-i-need-to-make-230v-ac-fan-spin-slower"">this post</a> I saw that probably the answer is connecting a capacitor in series. What does ""in series"" mean in this case? What parameters of capacitors should I choose?</p>

<p>Motor params are: 220V 0.6A 75w</p>
","<p>Ok, when you slow down a motor in generally draws more current. At stall most motor types draw maximum current... which they generally are not designed to do for any significant length of time.</p>

<p>side note: If the motor is a 2 phase AC induction motor a then one phase must be 180 degree's out of phase. All 1 phase motors actually are 2 phase and the 2nd phase acts as a small ""Starter"". The second phase is hooked up to a capacitor to provide a voltage 180 degrees out of phase with the original and it provides a sort of ""kick start"" to the motor. If you don't hook up this phase then the motor just vibrates back and forth and you have to turn it to get it to start(once it gets going it's own momentum keeps it going).</p>

<p>The post you refer to says use a capacitor because at ac a capacitor has impedance. This can reduce the voltage to the motor. This also causes a phase shift. This is a not a great way to do it but is quick and efficient. A resistor will do the exact same thing except it will waste power and reduce the overall torque since it will reduce current(of course for a simple fan it doesn't matter that much).</p>

<p>Your motor has an effective resistance of 220/0.6 ~= 350ohms.</p>

<p>If you add a resistor of 50 ohms then you will have an effective load of 400 ohms which will reduce the current by 220/400 = 0.55 and the voltage across the fan will be 190V. The resistor will dissipate 0.55*50 = 25W. I'm not sure how slow the fan will go though.</p>

<p>But notice that you are wasting 15W of power. </p>

<p>A capacitor has an impedance to ac of 1/2pifC. f = 60(or 50). </p>

<p>If </p>

<p>C = 1/2/pi/60/50 = 50uF</p>

<p>then if you use a 50uF cap you'll have the same effective resistance as a resistor but dissipate 0W(wel, almost) in it. It is much more efficient to do this. A 50uF in series with the fan(220V---Cap--- + fan () fan - ----GND) will have an impedance of 50Ohms. That is, it will reduce the voltage across the fan to 190V and the current through it to 0.55A.</p>

<p>The cap has to be rated for the appropriate voltage of a few hundred V's. If you increase the capacitance you reduce the impedance. A 150uF cap will have 1/3 the impedance and a 5uF cap will have 10 times. </p>

<p>i.e., a 5uF cap will have 500Ohm impedance and will drop the voltage and current to over 1/2(since the fan was about 350ohms).</p>

<p>Note that a motor is a non-linear load so it is not possible to calculate exactly what it will be without knowing the exact behavior of the load.</p>

<p>It looks like you want to play around capacitors of about 50uF, 30uF, 15uF, and 5uF. Just make sure they are probably rated for the voltage or they may go poof. You should be able to find starter caps(used for the things in the side note) that will work fine and come in these ranges and voltage ratings.</p>

<p>Just in case you don't know:</p>

<p><strong>Impedance</strong> is like a frequency dependent resistance. It is measured in ohms. Since our frequency is fixed, we can treat all impedances like resistances mentally. Capacitors and Inductors have non-constant impedance curves. A cap's ""resistance"" is 1/(2*pi*freq*C). So, you can think of a cap like a resistor but it doesn't reduce the voltage of all frequencies evenly. Since we are only dealing with a single frequency here that doesn't matter and 1/C is like R(but we have a proportionality factor of 1/2pif = 0.0026 in front of it).</p>

<p>So 1uF cap is like the same as a 0.0026*1/10^(-6) = 2.6kOhm resistor(@ 60hz AC). </p>

<p>The other big difference is that capacitors and inductors do not dissipate power(because a cap has infinite ""resistance"" at DC and an inductor has 0 ""resistance"" at DC),</p>

<p>So if you stuck a 1uF cap in series with something that has 60Hz AC flowing through it then it would be identical to using a 2.6kOhm resistor EXCEPT that the cap will dissipate no power(ideally of course).</p>

<p><strong>Cap Networks</strong></p>

<p>Suppose you do not have the right capacitors to do the job.</p>

<p>There are two configurations to use</p>

<ol>
<li><p>Parallel: combing caps in parallel adds there voltage but does not change the voltage rating. Two 10uf caps rated at 100V in parallel is equivalent to one 20uF cap @ 100V.</p></li>
<li><p>Series: combing caps in series divides the voltage but adds the voltage rating. Two 10uF caps in series rated at 100V is equivalent to one 5uF cap @ 200V.</p></li>
</ol>

<p>BUT! There is a caveat to series caps. You have to put a resistor in parallel with each cap(across it's terminals) so that the cap can discharge or drain. If you don't do that strange things can happen do to capacitor leakage and ESR and your capacitors could prematurely fail(basically each cap won't have 100V across it but maybe 120V and 80V or something else). </p>

<p>The resistors need to be small enough to prevent this unbalancing and it depends on the cap size and is hard to define accurately. A few k each is probably ok. Another way to think about it is that you have a resistive voltage divider and capacitor voltage divider but you use the resistive voltage divider to make sure the capacitive voltage divider is actually dividing the voltage in half.</p>

<pre><code> R C 
 | |
 +-+ 
 | | 
 R C
</code></pre>

<p>The +'s should be Vcc/2 but without the resistors across the caps it may slowly drift off to something not even close. The resistors, if they are low enough resistance, prevents this.</p>
","27294"
"Interpreting the power rating of the refrigerator","36110","","<p>My refrigerator is rated as 130W of power. I need to know how to interpret this. Does that mean if the compressor works for a whole hour then only it consumes 130W? Or is 130W the average power considering that the compressor will be sleeping for most of the time? The refrigerator is from LG electronics.</p>
","<p>130W continuous power draw would be a huge fridge (if it is any good at its job). For example, my fridge does 25W on average over 24hr and has a capacity of approx. 200 liters cooling area + 94 liters fridge area.</p>

<p>A fridge in Europe comes with an energy label that specifies its consumption / power-hungry'ness, if you search for your exact type on Internet you'll find these specs for your fridge too.</p>

<p><img src=""https://i.stack.imgur.com/djtgX.jpg"" alt=""enter image description here""></p>

<p>Amongst other things the label will specify the power use per year. In my case 219kWh/year. So if there are:</p>

<ul>
<li>1000 Wh in a 1kWh</li>
<li>365 days in a year</li>
<li>24 hours in a day</li>
</ul>

<p>Then the average power equals:</p>

<p>\$P_{avg} = \dfrac{219 × 1000}{365×24} = \boxed{25\text{W}}\$</p>

<p>The type plate however states 90W. This is maximum power when the compressor is running and probably when the lighting is turned on. </p>

<p>The type plate also states 0.7A, which would come to 230V × 0.7A = 161VA. Notice these are VA, not W! The higher current probably be drawn during compressor start up, and probably has some safety headroom too.</p>
","68876"
"Is it safe to run and charge a deep cycle battery in an enclosed space like a bedroom?","36048","","<p>I'd like to experiment with running a small server (5.5 watts) / 85AH deep cycle battery / charged via 30 watt solar panel from my bedroom. </p>

<p>I generally keep the window open, but want to make sure it's relatively safe for me to keep the battery inside and out of the sun. I hear the recharge process can release fumes which, if concentrated in a small area, can be toxic, but want to know if discharging also creates fumes and, in either case, if keeping the window open is preventative enough to prevent a build up.</p>

<p>Thanks for your response.</p>
","<p>Not ""safe"" without extra care. Death unlikely but likely possible if you ""just do it"". </p>

<p>Can be made ""safe""</p>

<p>Discharge will not release 'fumes' in general use.</p>

<p>Risk from ""gassing"" (Gargoyle knows) can be kept small but not zero when charging with a panel of that relative size. ie 12v say &amp; 30 Watt = 2.5A. 24V = 1.25 A. + say 3% and 1.5% ~ of bat 1 hour rate.</p>

<p>Small but non zero chance of Hydrogen and sulphuric acid fumes if battery not designed to vent unless 100% sealed with full recombination control. Ventilation would be an extremely good idea. </p>

<p>More if required ...</p>

<p>Long long long ago I charged a truck battery at a moderately high rate in a small closed room where I was sleeping :-). Took many weeks for my throat and nasal linings to ""recover"".</p>

<hr>

<p>Data point: Just came across this [here](http://www.vonwentzel.net/Battery/00.Glossary/
) while looking for something else: </p>

<ul>
<li><p>Gassing: This is a very dangerous condition that can occur if batteries are charged too fast. One of the byproducts of Gassing are Oxygen and Hydrogen. As the battery heats up, the gassing rate increases as well and it becomes increasingly likely that the Hydrogen around it will explode.<br>
The danger posed by high Hydrogen concentrations is one of the reasons that <strong>the American Boat and Yachting Council (ABYC) requires that batteries be installed in separate, well-ventilated areas.</strong></p></li>
<li><p>"" ... As the battery heats up, the gassing rate increases as well and it becomes increasingly likely that the Hydrogen around it will explode. The danger posed by high Hydrogen concentrations <strong>is one of the reasons that the American Boat and Yachting Council (ABYC) requires that batteries be installed in separate, well-ventilated areas</strong>."" | <a href=""http://www.vonwentzel.net/Battery/00.Glossary/"" rel=""nofollow"">From here</a> | And <a href=""http://www.abycinc.org/"" rel=""nofollow"">ABYC site here</a></p></li>
</ul>

<p>American boat and Yachting council <a href=""http://www.abycinc.org/"" rel=""nofollow"">website here</a><br>
  <a href=""http://www.abycinc.org/"" rel=""nofollow"">http://www.abycinc.org/</a></p>

<p>No open access data available on AYBC site - you have to be a member to read about how to be safe.</p>
","23414"
"Whats this white stuff on my board?","36024","","<p>I'm not an engineer, but my monitor stopped working yesterday (it just wouldn't display anything but still gets power) so I figured I'd like to take it apart and see what went wrong.  At the very least I'd get to see what the inside of a monitor looks like :).  Anyway, I took it apart, and also read around about my issue and it seems the capacitors have gone bad, at least some of them.  However, I also noticed some white elastic stuff all over the board.  Some of them are sticking two capacitors together and to the board, but I also see some from where power socket connects to the board.</p>

<p>My question is, what is the white stuff?  Should I replace all capacitors that have white stuff around it, and should I also replace the power socket part?  Or should I just replace the bulging capacitors and leave it at that?</p>

<p>UPDATE:
<img src=""https://i.stack.imgur.com/ZBGj6.jpg"" alt=""white stuff""></p>
","<p>It's very likely to be fastening material for bigger components. Does it look very close to whats on the big capacitor <a href=""http://3430.online.fr/out_of_order/photos/100504_benq_t705/original/Board_power_supply_and_inverter_A.jpg"">in the middle of this photo</a>, and also at the bottom of this picture, on the blue components.
<em>Edit:</em> yes that very clearly looks like fixating material to me. They may have used it as a strain relief in this case for the mains wiring.</p>

<p>This is used to prevent any vibrations getting bad for the solder joints. The big component has a relative large weight and must therefore be fixated down more properly.</p>

<p>If you want to try and fix the monitor you could look for:</p>

<ul>
<li><a href=""http://www.hardwarecanucks.com/forum/attachments/troubleshooting/13631d1302878796-my-monitor-toast-caps.jpg"">Dodgy capacitors</a>, their tops are bulged. Replace with equal or higher voltage and preferably same capacitance (amount of uF's). 
Try to keep it as 'original' as possible, a capacitor that has a much higher voltage is larger, and less likely to fit (also consider the height, monitors are space constrained).</li>
<li><p>Burnt components.. well you should smell and see them. Usually black, toasted and not good. If so you may need to google around a bit to see if there is any information on what the component was (like forums, schematics..)</p></li>
<li><p>Dodgy transistors or soldering joints. I've fixed a monitor 2 years ago that had dodgy solder joints on the transformers (I just reheated them and added some new solder, didn't even had to remove anything at all) and 4 broken transistors. I was able to get 4 replacement transistors for 5-10$ and it worked for another 1.5 years.. it finally died, this time probably the video controller board (couldn't be bothered now, it's an old 17"" slow monitor)</p></li>
</ul>

<p>Usually I look for forums and other 'fix guides' on the internet to see what they are attempting and see if there is anything I haven't done yet. Usually one or a combination of these three faults are the most likely ones.</p>
","29795"
"How do I test a bridge rectifier?","36004","","<p>I got a mess of components at an auction a couple weeks ago, including an unmarked box of unmarked bridge rectifiers. They're about 1"" square &amp; 1/4"" high if that makes a difference in terms of an input voltage for testing. I don't know if there are ANY inferences that can be made from size, shape or color. The bottom has the typical one blade that's oriented perpendicular to the other three.</p>

<p>What is the best way to figure out what I've got? I'm not a big fan of the ""if it smokes, that's too much voltage...back off a titch and see if the next one smokes"" method.</p>

<p>UPDATE: I found a scribbled note in a box of capacitors marked ""40/50v Rect"", and sure enough, they all test in that range. Now I've just gotta figure out what to do with 'em. Amperage experiments coming up next, but I'm at least confident that I'm starting from a place where nothing will explode. Too much. :)</p>
","<p>Apply current from an N amp variable supply across 1 diode.<br>
 Plot voltage drop against current.<br>
 A reasonable guide should be gained.<br>
 A say 5A device should have Vdiode &lt; 1 Volt and maybe &lt; 0.8V.<br>
 Once you get a 1st estimate try the same with a diode of known rating and see how it compares.<br>
 eg if 1V at 5A try a 5A diode and see what Vf is at 5A.</p>

<p>Run at various currents and note steady state temperature. </p>

<p>Use variable voltage supply in series with largish resistor applied in non conduction direction.<br>
 Increase voltage and note rectifier leakage current.<br>
As you approach rated value it should get uncomfortable.</p>

<p>From voltage drop under current, and heating with current and leakage with reverse voltage you should be able to establish a safe operating zone. \</p>

<p>Please provide photo &amp; exact dimensions.</p>
","36669"
"How do I power a LCD Backlight inverter (got from a disasembled LCD screen)","35912","","<p>I have two LCD Backlight Inverters lying around here and I want them to powerup without using any laptop part / motherboards. </p>

<p>I want to power it by using a simple power source, I have both AC and DC transformers available in the 5V to 24V range.</p>

<p><img src=""https://i.stack.imgur.com/nmG75.jpg"" alt=""enter image description here""></p>

<p>Here are more pictures of the CCFL's I got: <a href=""http://gz.pxf24.pl/inverter.html"" rel=""nofollow noreferrer"">http://gz.pxf24.pl/inverter.html</a></p>

<p>Thanks in advance for your time, effort and help!</p>

<p>If anyone knows how to do the wiring/connecting I will be really happy.</p>

<hr>

<p>Edit:</p>

<p>Here are 2 HQ photos:</p>

<p><img src=""https://i.stack.imgur.com/s9ArL.jpg"" alt=""side 1"">
<a href=""https://i.stack.imgur.com/s9ArL.jpg"" rel=""nofollow noreferrer"">Click to enlarge</a></p>

<p><img src=""https://i.stack.imgur.com/21Egt.jpg"" alt=""side 2"">
<a href=""https://i.stack.imgur.com/21Egt.jpg"" rel=""nofollow noreferrer"">Click to enlarge</a></p>

<hr>

<p>Finally got it working thanks to the answer below, here is a picture:</p>

<p><img src=""https://i.stack.imgur.com/JMTtV.jpg"" alt=""enter image description here""></p>

<p>If you want to connect it acording to the picture in the answer, you need to look at the BACK of the inverter and connect the following together:</p>

<p>1,2,6 to + , all others to -, take an adapter which is exactly 4.5 volts DC.</p>

<p>UPDATE 2:</p>

<p>I experimented a bit and only 2 needs to be connected to the + and 4,5 need to be connected to - and that's enough to get this running!</p>

<p>However no joy for the other inverter, maybe it's broken.</p>
","<p>You need the find the specs for that particular P/N. They are not universal.
You can buy CFL tubes from Digikey for $5 or so. 1.5mm or 2mm probably by x mm long.</p>

<p>For example here is a <a href=""http://www.datasheetarchive.com/indexer.php?file=DSA0035425.pdf&amp;dir=Datasheet-02&amp;keywords=cfl%20inverter%20%20circuit"" rel=""nofollow noreferrer"">T-Y interface spec.</a> click image to open PDF file.</p>

<p>That looks like this.
<img src=""https://i.stack.imgur.com/3deDK.jpg"" alt=""enter image description here""></p>
","44973"
"Why do we connect a resistor before a Zener diode?","35766","","<p>Why do we need a resistor in a Zener diode circuit, like in the diagram below?</p>

<p><img src=""https://i.stack.imgur.com/fFeME.jpg"" alt=""Zener circuit""></p>

<p>I understand it is to limit the current but how so, and why do we need it for a Zener diode?</p>

<p>Does selecting different values of resistors affect the circuit performance? So when we are selecting a Zener diode we look in the specifications at different reverse currents that can flow through them. But if those can be changed through resistors, can we select any Zener diaode at a voltage, without looking at the maximum current?</p>
","<p>Rather than going to 'no resistor' consider what happens if we just use resistors of different (lower) values and look at the pattern. As we reduce the resistor value the current through the zener will rise. Even if the voltage source is not perfect the power dissipated by the zener will cause it to fail due to overheating. </p>

<p><img src=""https://i.stack.imgur.com/FFhhZ.png"" alt=""enter image description here""></p>
","81431"
"How can I find a replacement for a transistor?","35709","","<p>I have a circuit that uses BC106 and 2N3634, which can't find in store (where I live).
Is there any website which could help me find an equivalent transistor?</p>

<p>For instance I want to replace BC106 and 2N3634 with others that act the same. Any suggestions would be appreciated.</p>
","<p>Note that a BC106 quite possibly never existed - see ""BC106 where are you?"" note at end of this answer.</p>

<p>The most important parameters of small bipolar transistors (like your two) are</p>

<ul>
<li>Maximum allowed Collector Voltage ( Vc or Vce or Vceo)</li>
<li>Maximum allowed collector current (Ic or Ic or ...)</li>
<li>Minimum and typical current gain figures (= ""Beta"")</li>
<li>NPN or PNP</li>
<li>Package may matter</li>
<li>Power dissipation may matter. </li>
</ul>

<p>If you use a part that has at least the same Vc max or higher, at least the same Ic max or higher and an equal or greater typical current gain then the transistor will work acceptably in the majority of circuits. There are special requirements that are affected by a number of other parameters, but in most cases you will not need to worry about them.</p>

<p>You can find many of <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Cat=1376376&amp;k=transistor"" rel=""nofollow noreferrer"">Digikey's transistors here</a><br>
or you can start at the top and search <a href=""http://search.digikey.com"" rel=""nofollow noreferrer"">Digikey's whole website</a>with <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00003228.pdf"" rel=""nofollow noreferrer"">BC107 data sheet here</a>.</p>

<p>You can use the same method for your 2N3634 once you know its parameters.</p>

<p>It's worth noting how the above transistor search was arrived at.<br>
I just entered ""transistor"" (without quotes) in the search box at the top level,    then clicked on ""Transistors (BJT) - Single (13,797 items)"" and it took me to <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Cat=1376376&amp;k=transistor"" rel=""nofollow noreferrer"">the transistor search page above</a></p>

<p>The next most important parameter is possible ""Ft"" - the effective maximum operating frequency (although the transistor is of no use at that frequency). If you need to care about Ft then chances are that you should be showing us your circuit and telling us what you are ring to do and then asking for advice. </p>

<p>A good source (one of quite a few) of information on US available transistors can be had from Digikeys online catalog. It allows you to select Vc, Ic, Beta, Ft etc. Whether the parts there are of use to you depends what country you are in.</p>

<p>A useful site that allows you to search 20+ suppliers catalogs at once is <a href=""http://www.findchips.com/"" rel=""nofollow noreferrer"">www.findchips.com</a>. Searching that site for BC106 returns </p>

<p><img src=""https://i.stack.imgur.com/7JZvm.jpg"" alt=""enter image description here""></p>

<p>showing that 7 suppliers (probably) have it in stock - BUT it turns out that none of the stock are the transistor you want - the code BC106 appears in other parts numbers as well :-(.</p>

<p>Rather than try and track one down at this stage I'll note that<br>
<a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Cat=1376376&amp;k=bc107"" rel=""nofollow noreferrer"">Digikey sells the BC107 = 45V, 100 mA, NPN, Beta = 200, 300 mA dissipation, Beta = ?  here</a><br>
It uses an old style metal TO18 case but the dissipation is lower than for most plastic cased leaded devices.</p>

<p>Using Digikeys transistor selector page as mentioned above and selecting transistors with specs at least as good as listed above and using either a TO18 or TO92 (plastic) leaded case, returned 51 choices. Of these the cheapest in stock in 1's is a  BC337-40, NPN, 45V, 800 mA, Beta=250, FT=100 MHz, TO92 case, 625 mW dissipation. It is likely to be an excellent substitute for a BC107 in most cases.<br>
Also suitable are versions of the MPSA18, ZTX692, ZTX694 &amp; 2SC29250.</p>

<hr>

<p>Note that in the above I've left out some details which are more liable to confuse than help at this stage.<br>
eg Beta is usually specified at a stated current. </p>

<hr>

<p><strong>BC106 where are you?:</strong></p>

<p>It seems possible that the BC106 has never existed. A BC100 did and BC107 on did.
 Some circuits refer to BC106 but that does not guarantee it's existence.</p>

<p>It is very likely that if you use the BC337-40 or similar that it will do very well in the original circuit BUT seeing the circuit would be even better.</p>

<p>As an example of brain-fade and BC106's, <a href=""http://forum.allaboutcircuits.com/archive/index.php/t-20904.html"" rel=""nofollow noreferrer"">this discussion from 2009</a> refers to a BC106 allegedly <a href=""http://www.circuitstoday.com/wp-content/uploads/2008/04/light-activated-switch-circuit.jpg"" rel=""nofollow noreferrer"">in a circuit diagram here</a> <strong>BUT</strong> when I look, I find the circuit uses a BC107.</p>

<p><strong>SO</strong> BC106 probably (but not certainly) does not exist. Some circuits refer to it but no locateable (so far) data sheets and an early 1970's selector guide (book) of mine does not have it. Circuit references are most probably in error. </p>

<p>For <a href=""http://www.datasheetcatalog.org/datasheet/philips/BC107_108_109_4.pdf"" rel=""nofollow noreferrer"">For venerable Phillips 1977 BC107-BC109 datasheet see</a>.    </p>

<p><a href=""http://discoverbd.net/~cytium/hobby/bc107.pdf"" rel=""nofollow noreferrer"">1989 SGS Thomson datasheet here</a></p>
","18697"
"When to use a 1/4 Watt resistor vs 1/2 Watt resistor","35623","","<p>I have never understood the difference between 1/4 &amp; 1/2 watt resistors, and in all of my EE lab courses I have always just used 1/4 Watt resistors. When does one use 1/2 Watt resistors and what is the difference between 1/4 &amp; 1/2 Watt resistors?</p>

<p>Would using 2- 20 ohm 1/4 watt resistors in parallel, be the same as using 1 - 10 ohm 1/2 watt resistor?</p>
","<p>The watt rating tells you how much current you can run through the resistor before it overheats and burns up. Power is given by:</p>

<p>$$P = I^2R$$</p>

<p>So the maximum current through a 1/4 watt resistor is:</p>

<p>$$I_{1/4W} = \sqrt{\frac {1} {4R}}$$</p>

<p>while the maximum current through a 1/2 watt resistor is:</p>

<p>$$I_{1/2W} = \sqrt{\frac {1} {2R}}$$</p>

<p>You can also use voltage instead of current:</p>

<p>$$P = \frac {V^2} {R}$$</p>

<p>$$V_{1/4W} = \sqrt{\frac R 4}$$</p>

<p>$$V_{1/2W} = \sqrt{\frac R 2}$$</p>

<p>For example, if you have a 100-ohm resistor:</p>

<p>$$I_{1/4W} = \sqrt{\frac 1 {4 \cdot 100\ \Omega}} = 50\ \mathrm{mA}$$</p>

<p>$$V_{1/4W} = \sqrt{\frac {100\ \Omega} {4}} = 5\ \mathrm V$$</p>

<p>Try putting 10 volts across a 100 ohm 1/4 watt resistor. You'll quickly see it start to smoke. The smell is very distinctive. Just don't hold the resistor in your hand while you do this!</p>
","172859"
"How do I model an LED with SPICE?","35592","","<p><strong><em>What diode modifiers are used in practice to model LEDs with SPICE (Berkeley v.3f5)?</em></strong> <a href=""http://www.macspice.com/ug/sec3.html#3.4.2"" rel=""noreferrer"">These</a> are available to me:</p>

<pre><code>#       Name    Parameter                    Units      Default Example  Area
1       IS      Saturation current             A         1e-14   1e-14    *
2       RS      Ohmic resistance               Ω         0       10       *
3       N       Emission coefficient           -         1       1.0
4       TT      Transit-time                   s         0       0.1ns
5       CJO     Zero-bias junction capacitance F         0       2pF      *
6       VJ      Junction potential             V         1       0.6
7       M       Grading coefficient            -         0.5     0.5
8       EG      Activation energy              eV        1.11    1.11 Si
                                                                 0.69 Sbd
                                                                 0.67 Ge
9       XTI     Saturation-current temperature exponent  3.0     3.0 jn
                                                                 2.0 Sbd
10      KF      Flicker noise coefficient      -         0
11    AF      Flicker noise exponent         -         1
12    FC      Coeff. for for.-bias dep. cap. formula   0.5
13    BV      Reverse breakdown voltage      V         ∞       40.0
14    IBV     Current at breakdown voltage   A         1.0e-3
15    TNOM    Parameter measurement temp.    °C        27      50
</code></pre>

<blockquote>
  <p><strong><a href=""http://www.macspice.com/ug/sec3.html#3.4.2"" rel=""noreferrer"">3.4.2 Diode Model (D)</a></strong><br>
  The dc characteristics of the diode are determined by the parameters IS and N. An ohmic resistance, RS, is included. Charge storage effects are modeled by a transit time, TT, and a nonlinear depletion layer capacitance which is determined by the parameters CJO, VJ, and M. The temperature dependence of the saturation current is defined by the parameters EG, the energy and XTI, the saturation current temperature exponent. The nominal temperature at which these parameters were measured is TNOM, which defaults to the circuit-wide value specified on the .OPTIONS control line. Reverse breakdown is modeled by an exponential increase in the reverse diode current and is determined by the parameters BV and IBV (both of which are positive numbers).</p>
</blockquote>

<p>For example, using this basic, cheap red: <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=475-1416-1-ND"" rel=""noreferrer"">http://www.digikey.com/Web%20Export/Common/header/digikey_logo.jpg</a> <a href=""http://catalog.osram-os.com/jsp/download.jsp?name=LH_N974.pdf&amp;url=/media/_en/Graphics/00042065_0.pdf"" rel=""noreferrer"">http://www.virtualvisiontech.com/system/customcores/VVTStorefront/storefrontimages/PDF_logo.gif</a></p>

<p>I don't care much about high-frequency characteristics -- just would like to be able to match it's IV-curve within its operating specs (-10uA/-5V leakage to +100mA/+2.2<sup>'ish</sup>V forward):
<img src=""https://i.stack.imgur.com/SJVLd.png"" alt=""enter image description here""></p>
","<p>As you stated, there are 3 parameters that dictate the DC response of a diode. Those are the saturation current (<strong>IS</strong>), the emission coefficient (<strong>N</strong>), and the ohmic resistance (<strong>RS</strong>). I was able to fit the curve with a fairly high accuracy, so I'll document my model procedure.</p>

<p>The SPICE model for the diode closely matches the Schokley diode equation:</p>

<pre><code>If = IS(e^(Vf/(N*Vt)) - 1)
</code></pre>

<p>where <code>Vt = kT/q = 26mV</code> at room temperature.</p>

<ol>
<li><p>Get actual values from the graphs provided in the datasheet to use for comparison. The more points the better, and the more accurate the better. Below is a table that I estimated from the figure you provided:</p>

<pre><code>Vf  If (mA)
1.3 0.001
1.4 0.010
1.5 0.080
1.6 0.700
1.7 5.000
1.8 20.000
1.9 40.000
2.0 65.000
2.1 80.000
</code></pre></li>
<li><p>Plug the values into Excel, and change the y-axis to a log scale. You should get a graph that looks identical to the original graph from the datasheet. Add another column for your graph, with <strong>If</strong> calculated from the forward voltage and the constants <strong>IS</strong> and <strong>N</strong>. We can use this configuration to iteratively find <strong>IS</strong> and <strong>N</strong>.</p></li>
<li><p>Solve for <strong>IS</strong> and <strong>N</strong>. We are trying to match the linear part of the graph (1.3 &lt;= <strong>Vf</strong> &lt;= 1.7). Adjusting <strong>IS</strong> will move the curve in the y-axis. Get the calculated graph to the same order of magnitude. The next step is to find the emission coefficient (<strong>N</strong>). <strong>N</strong> affects both the amplitude and the slope, so some adjustment of <strong>IS</strong> may be necessary to keep the curve in the same ballpark. Once the slopes match (the lines are parallel), trim <strong>IS</strong> so that the calculated data matches the datasheet values. I got <code>IS = 1e-18</code>, and <code>N=1.8</code> for the diode you listed.
<img src=""https://i.stack.imgur.com/nwNWf.png"" alt=""enter image description here""></p></li>
<li><p>Identify <strong>RS</strong>. This is a bit tricky. <strong>RS</strong> is responsible for the curving of the current from 1.7V and above. Consider modeling the ohmic resistance as a resistor in series with the diode. As the current through the diode increases, the voltage drop across the ohmic resistance causes the forward diode voltage <strong>Vf</strong> to increase slower. At small currents, this effect is negligible. </p></li>
</ol>

<p>The first thing to do is to get a ballpark estimate of RS to use in the more accurate solutions. You can calculate the effective value of <strong>RS</strong> from the datasheet values by back-calculating for <strong>Vf</strong> using the measured <strong>If</strong>. The voltage difference between the input value and the calculated Vf can be used with the forward current to generate a resistance. At the higher currents, this will be a good starting value.</p>

<p>To plot the diode current using <strong>RS</strong>, you need to first calculate the diode <strong>Vf</strong> given a voltage for the resistor-diode series combination. Wikipedia lists an <a href=""http://en.wikipedia.org/wiki/Diode_modelling#Iterative_solution"">iterative function</a> - it converges easily if the resistor voltage drop is significant. This function was easy enough to set up in Excel. For <strong>Vf</strong> values below 1.8, I hard-coded the input value because the iterative function did not converge. Then take this <strong>Vf</strong> value to calculate the If of the ideal diode. I plotted this with the original datasheet graph.</p>

<p>Using trial and error, you should be able to get a <strong>RS</strong> value that gets pretty good overlap with the datasheet values. All that's left is to throw the model together in SPICE to verify your work. </p>

<p>Below is my diode model that I verified using HSPICE. The simulation data is almost a perfect overlay for the datasheet graph.</p>

<pre><code>.model Dled_test D (IS=1a RS=3.3 N=1.8)
</code></pre>

<p>I used <a href=""http://www.allaboutcircuits.com/vol_3/chpt_3/14.html"">this article</a>, which helped a lot with the diode spice parameters.</p>

<p>I cleaned up my spreadsheet, and tyblu has made it available for download <a href=""http://www.tyblu.ca/misc/diode_modeling.xlsx"">here</a>. Use at your own risk, results not guaranteed, etc... etc... </p>
","9543"
"How are bridge rectifiers rated?","35567","","<p>So I'm getting ready to build a power supply, and it calls for a bridge rectifier. However, I can't find any information about HOW rectifiers are rated, except for a note that (and I don't have it in front of me) reverse voltage should be three times normal to protect against spikes...or some such.</p>

<p>My input voltage is 110VAC, with a transformer converting it to 18VDC/1A. </p>

<p>Is the rectifier voltage the MAXIMUM it can take? or something else?
What about amperage? Same deal? or, in my instance, do I need to have a 1A rectifier?</p>

<p>I have a choice between a 35V/10A, 50V/2A and 60V/4A rectifier, and I'm leaning toward the 60V/4A, guided ONLY by the fact that it's the only one that meets the 18V*3 note that I read.</p>

<p>Will I encounter a blue smoke demon? or is this a good way of thinking about it? How do I interpret rectifier ratings against a schematic when there's no specification beyond ""bridge rectifier"" in the parts list?</p>

<p>Crappy camera phone image. If it's illegible let me know, I can upload a scan in a couple hours.   </p>

<p><img src=""https://i.stack.imgur.com/SPQbk.jpg"" alt=""enter image description here""></p>
","<p>I guess the \$\times\$3 rule of thumb refers to the transformer's secondary voltage, the AC voltage before rectifying. If your output is 18 V DC then the transformer will be a 14 V type. That 14 V is the RMS value, peak value is \$\sqrt{2}\$ times higher, or 20 V. Subtract 2 diode drops and you arrive at 18 V.  </p>

<p>So applying the \$\times\$3 rule to the 14 V already gives you 100 % headroom, applying it to the 18 V gives you almost 200 % headroom, which is overly cautious IMO. Since 20 V is the highest voltage to expect all three will do fine.  </p>

<p>The current is a different story.  </p>

<p><img src=""https://i.stack.imgur.com/GFPOu.png"" alt=""enter image description here""></p>

<p>If the smoothing capacitor is charged the input voltage will be too low for the greatest part of the cycle to make the diode conduct. Only for a short period you'll have a current that recharges the capacitor. So you can expect a large current peak there, several times the average of 1 A. A 1A diode like the 1N4001 can handle this current, though it's a good idea to have some headroom here as well. For a 1 A output a 2 A diode is a good idea, so 
also for current all three rectifiers will do.</p>
","37405"
"W/L Ratio of a MOSFET","35509","","<p>In the schematic builder that calculates voltages/currents/transient analysis that we have been provided for the electrical engineering course, MOSFETs have the parameter ""W/L Ratio"".</p>

<p>I figured that it was probably Width:Length, but how does that affect the constant K, and the voltage threshold? I realise that there is not enough information for absolute values, but really I'm looking for a formula that relates the variables.</p>

<p>So my question is, what is the relationship between W/L, K, and the threshold voltage of the MOSFET?</p>
","<p>The K constant you refer to (more specifically \$K_n\$) is called the conduction parameter of the n-channel device.</p>

<p>\$K_n\$ is given by:</p>

<p>$$K_n = \frac{k_n&#39;}{2}\cdot\frac{W}{L}$$</p>

<p>Where</p>

<p>$$k_n&#39; = \mu_nC_{ox}$$</p>

<p>\$\mu_n\$ is the mobility of the electrons in the inversion layer and \$C_{ox}\$ is the oxide capacitance per unit area. According to Neamen the \$k_n&#39;\$ parameter is called the ""process conduction parameter"" and is considered to be a constant for a fabrication technology. Therefore the ratio \$\frac{W}{L}\$ is the transistor design variable.</p>

<p>Neamen goes on to say that the design variable is used to design MOSFETS to produce specific current-voltage characteristics in MOSFET circuits.</p>

<p>EDIT:</p>

<p>Yes w refers to width and L to length. It relates to the geometry of the semiconductor.</p>
","29906"
"How do I calculate the necessary resistance for a voltage divider?","35435","","<p>I’m self-taught, and this is a little bit of a thought experiment for me to understand Ohm’s Law better. </p>

<p>I have a very simple voltage divider. Given a 15V DC input, each of three 4.7KΩ resistors cuts the voltage by 33%. I started doing some experimentation, and discovered that no matter what voltage I applied to the circuit, the resistors always cut the voltage and amperage by 33% each. 
<img src=""https://i.stack.imgur.com/7FkZ2.jpg"" alt=""enter image description here""></p>

<p>But let’s say I wanted to create the same circuit and didn’t know the necessary resistance?</p>

<p>Given a 15V input and desired outputs of 10V, 5V and 0V, how would I calculate the necessary resistance to use? Is it possible to create a voltage divder that does not have proportional drops (e.g., let's say that from this same circuit, I want 14V, 12V, 5V and 0V)? And how does that math work? I think where I’m getting stuck is whether to use input voltage, output voltage, or change in voltage as the V value.  </p>
","<p>Here is one way of understanding the problem and thus arriving at the solutions you seek:</p>

<ol>
<li>You have a voltage V applied across a ""black box"", consisting of a series of resistors R1, R2 and R3 in this case. The resistances are in series so they add up, thus the Black Box has a cumulative resistance of R = R1 + R2 + R3.</li>
<li>A voltage applied across a resistance causes a current I to flow, thus: I = V / R.</li>
<li>Since the constituent resistors are in series, the SAME amount of current must flow through each of them. There is no alternative path for current to flow from V+ to ground.</li>
<li>A current across a resistance implies a voltage across said resistance, by the same formula as above, thus: V(r1) = I * R1. That is the potential difference between the two ends of resistor R1.</li>
<li>Similarly, V(r2) = I * R2, and so on. </li>
<li>Evidently, one of these resistors, R3, has one end at ground potential, i.e. 0 volts. Thus, the voltage from there to the other end of that resistor is V(r3). The voltage at the next higher measurement point is V(r3) + V(r2), since the voltages add up, and as stated above, reference to ground.</li>
</ol>

<p>By following this process, the voltages at each of the points of any series resistance network can be computed if either the applied voltage V (15 volts in this case) or the flowing current due to it, is known. </p>

<p>Now, how does one decide what resistances to use? Well, make the total resistance too small, and the current will be high, potentially burning out the resistors or the power supply, or causing the supplied voltage to droop, depending on how ideal we are assuming things to be. Similarly, use too high a resistance, and too little current will flow, thus the readings will be swamped by other noise effects that exist in practical electronics from various causes.</p>

<p>So pick a number that you like, and divide it in the ratio you want the test-point voltages to be. The resistances need not be equal, just as the voltages need not be at 33% each - calculate for any ratio you want.</p>

<p>I hope this helped.</p>
","47070"
"How do I convert 9 V DC to 5 V?","35365","","<p>What's a good way to reduce the output from a 9V battery to the 1.8V to 5V required by an ATmega328 controller? The context is a small robotics platform with low power requirements (very slow movement).</p>
","<p>I would use a 7805 to get 5 volts simple circuit. Here is a image:
<img src=""https://i.stack.imgur.com/MApBh.gif"" alt=""7805""></p>

<p>idea: please make sure that caps are ceramic/polymer caps. The ceramic caps only have 
      low ESR value. specially the right hand one. </p>
","8114"
"How to choose wire size for an air conditioner?","35258","","<p>There is a difference between my calculations and what electricians say. Am I missing something?</p>

<p>If I need to install a 3 horsepower air conditioner. Electricians always choose wires that are more than 4 sq mm. They say that air conditioners consume high current. </p>

<p>My calculations tell me that I can use 1.5 sq mm only. Am I right?</p>

<p>3 horsepower = 2237.1 watt</p>

<p>I = Power / voltage = 2237.1 / 220 = 10.16 Amps</p>

<p>According to the following table, I will choose 1.5 sq mm.
<a href=""http://www.elsewedyelectric.com/BE/ImageFiles/SubProducts/Pdf/Single%20Core%20Cables%20with%20Solid%20or%20Stranded%20Copper%20Conductors%20&amp;%20PVC%20Insulated%20450-750%20V.pdf"" rel=""nofollow"">http://www.elsewedyelectric.com/BE/ImageFiles/SubProducts/Pdf/Single%20Core%20Cables%20with%20Solid%20or%20Stranded%20Copper%20Conductors%20&amp;%20PVC%20Insulated%20450-750%20V.pdf</a></p>

<p>So, Why does electricians choose that thick cables?</p>
","<p>You do not indicate so I wonder if you have considered the cable run length.</p>

<p>Why would you like a thinner cable, if it is to save cost then the length is likely subtantial and therefore more of a reason to use thicker conductors.</p>

<p>Also the electricians are aware that compressor devices have very large inrush currents that are supported by thicker cables. </p>

<p><strong>EDIT:</strong><br>
I found this mentioned in an <a href=""http://www.jaycar.com.au/medias/TECH-PAPER-Understanding-Your-Power-Requirements.pdf?context=bWFzdGVyfHJvb3R8MTU1Nzk0MXxhcHBsaWNhdGlvbi9wZGZ8aDY1L2hmMi84ODIzMDIzNzk2MjU0LnBkZnw3ODVjMTQ2NDM3ODY1ZjMzMzEwYjcyZWYzOTVmYzQwMDM2YzIzYWE5YjI0MWZmYjdhOTBhMDhjMGQ5ZTI5YTY2"" rel=""nofollow"">Off grid guide</a> by JayCar.<br>
<em>Australian Standard AS4509.2 states a surge factor of 7x the continuous power should be used for electric motors, water pumps, fridges, air conditioner, and washing machines. A surge factor of 3x should be used for kitchen appliances and other electronics equipment, and surge factor of 1x for resistive loads.</em> </p>

<p>Another more interesting document on <a href=""http://www.pes-psrc.org/Reports/Cold_Load_Pickup_Issues_Report.pdf"" rel=""nofollow"">Cold Load Pickup Issues</a> also shows similar inrush current figures.<br>
<em>Similar tests were conducted with on a ¼ HP refrigerator motor.  The test results showed an average inrush current of 15 amperes and a maximum of 18 amperes.  The average inrush was 7.5 times the steady state run current of 2 amperes.  It took 483 milliseconds to reach the steady state condition.   The test after a 25 cycle interruption produced lower inrush current and shorter times to reach steady state, 6 – 17 amperes and with 217 milliseconds to reach steady state.</em>      </p>

<p><em>Also tested was a 3 ton air conditioner.  The momentary interruption test and the cold load pickup test showed an average inrush current of 90 amperes which lasted for 117 milliseconds.  The inrush current was 7.26 times the steady state run current of 12.4 amperes.  The steady state value was reached in 267 milliseconds.</em> </p>
","205382"
"How can I fix an AVRdude not-in-sync error when programming Arduino via USB-to-serial cable?","35255","","<p>I'm trying to build <a href=""http://siliconrepublic.blogspot.in/2011/02/arduino-based-pc-ambient-lighting.html"" rel=""nofollow noreferrer"">this</a> Ambient lighting for PC. This worked flawlessly on my Arduino Uno. My next step was to make it using <a href=""http://arduino.cc/en/Main/Standalone"" rel=""nofollow noreferrer"">""Arduino on a breadboard""</a>. So I bought a blank ATmega328 chip and burned the Arduino bootloader (for the board ""Arduino Duemilanove w/ ATmega328"") onto it using the Arduino IDE and USBasp; and I know this has been loaded properly as this ATmega chip works fine on the Uno.</p>

<p>Then I made the USB-to-serial converter using <a href=""http://sparkfun.com/tutorials/108"" rel=""nofollow noreferrer"">FT232RL</a> ; but its drivers didn't install on my PC (Windows 7 x64). I suspect I overheated the surface-mount FTDI chip and killed it while hand-soldering it.</p>

<p>So, I've kept it aside, and got <a href=""https://imgur.com/a/lfExC"" rel=""nofollow noreferrer"">this</a> USB-to-serial converter bridge:
(Sorry for the crappy pics)
I used an additional ST232CN on my breadboard, to convert the voltage levels from RS232 to TTL, as shown in <a href=""http://sigma-shop.com/manuals/max232_manual.pdf"" rel=""nofollow noreferrer"">this page</a>. And this works fine, as I verified from a loopback test. And I've connected pin 9 of ST232 to pin 2 of ATmega, and pin 10 to pin 3.</p>

<p>When I tried to upload a <em>blink</em> example from Arduino IDE, I get this error:</p>

<pre><code>Binary sketch size: 1026 bytes (of a 30720 byte maximum)
avrdude: stk500_getsync(): not in sync: resp=0x00
</code></pre>

<p>When I do the <em>verbose upload</em> (Shift+Upload), I get this error/message:</p>

<pre><code>avrdude: usbdev_open(): did not find any USB device ""usb""
</code></pre>

<p>Also, I tried adding 1k pull-up resistors at pins 2 and 3 of ATmega, but didn't help.
So I guess the problem now is in the serial communication from the ST232 to ATmega?
And is there any special connection to the Reset pin of ATmega? I've pulled it up to 5V with a 10k resistor.</p>
","<p>Whenever I've gotten the 'not in sync' error, it was related to my just missing the reset timing (or forgetting the reset entirely!). For my breadboard, and Eclipse/AVRDude, un-grounding the reset pin just before or at the same time as I click the upload button is the right timing. But also check that your PC really does see the adapter when you plug it in.</p>

<p>Later arduino boards are built to reset whenever a serial connection gets made, and programmatically by the bootloader.  <a href=""http://www.neufeld.newton.ks.us/electronics/?p=205"" rel=""noreferrer"">This blog article</a> describes how it works, and even more interestingly, how to hack it onto earlier boards. It shouldn't be too hard to put it on a breadboard if you wanted to.  The chip needs to have a compatible bootloader, of course (which you've already put into yours).  For breadboards, I just do the reset-button / mouse-click dance.</p>
","31088"
"Boost 433 MHz receiver module receiving signal (XY-MK-5V)","35182","","<p>I am using some ""no-name"" (in fact ""XY-MK-5V"" stands on the board) 433&nbsp;MHz receiver (and transmitter) on an Arduino project. I can receive the signals sent from my other Arduino very good (it sends with 12&nbsp;V as mentioned in another question).</p>

<p>The problem is: I want to receive signals from other parts - such as simple power outlets wireless switches, too. When they are sitting next to my Arduino, everything is fine. When they are ~ 3-4&nbsp;m away, the Arduino gets no signal (or more times doesn't get the right signal).</p>

<p>At that time I am using a simple ~17&nbsp;cm long wire that is curly to save space soldered to the ""antenna port"".</p>

<p>What can I change in order to get a better signal?</p>
","<p>Are you sure that your module works well to 12&nbsp;V?</p>

<p>Since it is the ""XY-MK-5V"" model I think it has the voltage up to 5&nbsp;V as ideal.</p>

<p>For all I know, these modules work well between 3.3&nbsp;V and 5&nbsp;V, maybe saturating the circuit.</p>

<p>Really, the transmitter work with up to 12&nbsp;V.</p>

<p>But I suspect that it does not work at the frequency in question. See, there are a lot of bad information on the Internet about them.</p>

<p><img src=""https://i.stack.imgur.com/1Bbrx.jpg"" alt=""Transmitter XY-MK-5V""></p>

<ol>
<li>Product Model: MX-FS-03V</li>
<li>Launch distance: 20-200 meters (different voltage, different results)</li>
<li>Operating voltage: 3.5-12&nbsp;V</li>
<li>Dimensions: 19 * 19&nbsp;mm</li>
<li>Operating mode: AM</li>
<li>Transfer rate: 4&nbsp;KB/s</li>
<li>Transmitting power: 10&nbsp;mW</li>
<li>Transmitting frequency: 315&nbsp;MHz</li>
<li>An external antenna: 25&nbsp;cm ordinary multi-core or single-core line</li>
</ol>

<p><img src=""https://i.stack.imgur.com/Yi586.jpg"" alt=""Receiver: XY-MK-5V""></p>

<ol>
<li>Product Model: MX-05V</li>
<li>Operating voltage: DC5V</li>
<li>Quiescent Current: 4&nbsp;mA</li>
<li>Receiving frequency:315&nbsp;MHz</li>
<li>Receiver sensitivity:-105&nbsp;dB</li>
</ol>

<p>See more at: <em><a href=""http://www.buildcircuit.com/how-to-use-rf-module-with-arduino/#sthash.u2AxOcew.dpuf"" rel=""nofollow noreferrer"">How to use 315 MHz RF transmitter and receiver modules with an Arduino</a></em></p>
","109783"
"Calculating the pulldown resistance for a given MOSFET's gate","35026","","<p>I searched and read many similar questions, but did not find a specific answer for how to calculate the correct value for a pulldown resistor for a MOSFET's floating gate. It seems like everyone dodges the question with a 1K, 10K, or 100K ""ought to work"".</p>

<p>If I had an N-Channel <a href=""http://www.jameco.com/Jameco/Products/ProdDS/209234FSC.pdf"">IRF510</a> and I was going to run the gate from 9V to switch a \$V_{DS}\$ of 24V at 500mA, what value should I use for the gate's pulldown resistor and how did you calculate that value?</p>
","<p>Here is a quantitative way to determine the boundaries of acceptable gate termination resistance \$R_g\$ for power MOSFETs .  </p>

<p>This will be a lazy lazy lazy (\$L^3\$) approach.  So:  </p>

<ul>
<li>Very simple FET model, just \$C_{\text{gd}}\$, \$C_{\text{gs}}\$, and \$R_g\$ included.  </li>
<li>FET capacitors regarded as linear only.  </li>
<li>FET gate has been pulled down to the source through \$R_g\$.</li>
<li>\$V_{\text{ds}}\$ forcing voltage no more complicated than a linear ramp will be used.  </li>
</ul>

<p>The intent of a (\$L^3\$) approach is get maximum insight/usefulness with minimum effort, by using a model that is simple as possible but still meaningful.  </p>

<p><img src=""https://i.stack.imgur.com/yFYjl.jpg"" alt=""enter image description here""></p>

<p>Model is a simple capacitive divider with resistive pull down.  \$V_{\text{gs}}\$ was solved for in the frequency domain, and then inverse Laplace transformed for time domain.  </p>

<p>Three operating conditions are analyzed using this model:  </p>

<ol>
<li>A voltage appears on the drain to source while \$R_g\$ = \$\infty\$.
This is a condition that should never occur in a real circuit, but
is instructive to think about.  </li>
<li>The gate is terminated to the source through \$R_g\$ with some
finite value, while any change to \$V_{\text{ds}}\$ slow and
infrequent.  Every FET in use spends some time in this condition. 
For example during startup all FETs go through a period where they
should be off and any change of \$V_{\text{ds}}\$ happens over
milli-seconds.  During this type of operation, the FET is
essentially a passive device.  </li>
<li>Frequent short rise and fall time switching with \$R_g\$ having some
finite value.  Most FETs end up spending extended time in this
condition.  </li>
</ol>

<h2>1. The Unterminated Gate: \$R_g\$ = \$\infty\$</h2>

<p>After setting \$R_g\$ = \$\infty\$:  </p>

<p>\$V_{\text{gs}}\$ = \$\frac{C_{\text{gd}} V_{\text{ds}}}{C_{\text{gd}}+C_{\text{gs}}}\$  </p>

<p>So, in this case, \$V_{\text{gs}}\$ is just a scaled version of \$V_{\text{ds}}\$, and the scale factor is the capacitive divider of \$C_{\text{gd}}\$ and \$C_{\text{gs}}\$.  For the IRF510:  </p>

<p>\$V_{\text{ds-max}}\$ = 100V<br>
    \$C_{\text{gd}}\$ = \$C_{\text{rss}}\$ = 20pF<br>
    \$C_{\text{gs}}\$ = \$C_{\text{ciss}}\$ - \$C_{\text{gd}}\$ = 135pF - 20pF = 115pF<br>
    \$V_{\text{gth-min}}\$ = 2V  </p>

<p>For a drain to source voltage greater than 14V, \$V_{\text{gs}}\$ will be greater than the 2V threshold and the part will start to conduct.  It doesn't matter how the voltage appears on the drain, just that it is there.  Pretty obvious why nobody ever leaves a FET gate unterminated.  </p>

<h2>2. FET off During System Startup: \$R_g\$ = Some Finite Value</h2>

<p>Allowing \$R_g\$ to be a variable finite value:  </p>

<p>\$V_{\text{gs}}\$ = \$C_{\text{gd}} V_{\text{dsSlp}} R_g \left(1-e^{-\frac{t}{R_g \left(C_{\text{gd}}+C_{\text{gs}}\right)}}\right)\$  </p>

<p>\$V_{\text{dsSlp}}\$ is the slope or linear ramp forcing voltage (in volts/second) across the drain to source.  If \$V_{\text{ds}}\$ rises from 0 to 25V in 2 milli-seconds, \$R_g\$ will need to be less than 11 MOhms for \$V_{\text{gs}}\$ to remain below the 2V threshold and remain off.  </p>

<p>Such slow rates of change (in the 1 to 10 milli-second range) for \$V_{\text{ds}}\$ are why Olin Lathrop can correctly say \$R_g\$ values of 1kOhm, 10kOhm, or 100kOhm ought to work.  So, yes for a passive pull down to keep a FET off during system startup or other seldom switched low dV/dt application, almost any kilo-Ohm resistor will do.</p>

<p>Why even waste time looking at this?  If that's all there is we can all just roll over, go back to sleep, and be happy.  But, there's a lot more to it, so let's look at a little of that next.  </p>

<h2>3. \$R_g\$ Requirements With High dV/dt at Drain to Source -- The dV/dt Issue</h2>

<p>Nearly all FETs end up being frequently switched, between 10KHz and 500KHz, with short rise and fall time \$V_{\text{ds}}\$ transitions.  Most FETs will be turned off in 20 to 100 nano-seconds, and this is where gate termination becomes important.  Let's look at the IRF510 with \$V_{\text{ds}}\$ rising linearly from 0 to 25V in 50 nano-seconds.  Using the equation in conditon 2 above:  </p>

<p>\$V_{\text{gs}}\$ = \$ \text{(20pF) }\text{(25V/50nsec) }\text{Rg} \left(1-e^{-\frac{\text{50 nsec}}{\text{(20pF + 115pF)}
   \text{ Rg}}}\right)\$  </p>

<p>So, plugging in a value of 270 Ohms for \$R_g\$ gives \$V_{\text{gs}}\$ ~ 2V.  That would be the highest value of \$R_g\$ that could be used without the FET possibly turning back on.  </p>

<p>\$R_g\$ greater than this maximum value allows the FET to be turned on a little or a lot, depending on the energy forcing \$V_{\text{ds}}\$.  FET could turn on just enough to leak current and dissipate power, but showing no real effect on \$V_{\text{ds}}\$, or could turn on enough to cause \$V_{\text{ds}}\$ to drop, which in the right conditions can cause oscillation.  </p>

<p>Clearly, the higher the peak value or transition rate of \$V_{\text{ds}}\$ the lower the gate circuit resistance must be.  </p>

<h2>Finding the Minimum Value for \$R_g\$</h2>

<p>Why not just make \$R_g\$ zero, or as small as possible?  </p>

<p>So far in this analysis, the gate circuit is dominated by resistance, but there is also inductance in the gate circuit.  If gate resistance is minimized, gate inductance becomes dominant in circuit dynamics, and with \$C_{\text{gs}}\$ forms an LC resonant circuit.  LCR circuits with Q > 1 become increasingly ringy, which is a problem for FET gate control if charge is injected through \$C_{\text{gd}}\$ from \$V_{\text{ds}}\$ or also from switching waveform from the gate drive .  For example, an LCR circuit with a Q of 2 will ring to about 1.5 times its driving voltage.  For a gate drive with a 14 V source, a Q of 2 would be enough to damage the gate of most FETs. </p>

<p>For a series LC resonant circuit :</p>

<p>Q = \$\frac {Z_o} {R}\$  and \$Z_o\$ = \$\sqrt {\frac {L} {C}}\$</p>

<p>Let's look a a specific case with the IRF510.  Including routing and package inductance, the gate circuit could easily have 11 or 12 nH of inductance.  Recall that the IRF510 has a \$C_{\text{gs}}\$ of 115pF, so \$Z_o\$ would be about 10 Ohms.  Matching  \$R_g\$ to \$Z_o\$ would give a Q of 1, which would be the maximum Q for non-overshoot of drive waveform.  Minimum \$R_g\$ should be greater than \$Z_o\$.</p>

<h2>Some Things to Keep in Mind</h2>

<ul>
<li>\$R_g\$ is the total series resistance between the gate and source of the FET.  This includes driver output resistance, resistance in the connection from drive to FET gate, resistance in the FET structure (physical gate and package).  </li>
<li>Useable values for \$R_g\$ fall into a range, not too high and not too low.  \$R_g\$ > \$R_{g-\max }\$ or \$R_g\$ &lt; \$R_{g-\min }\$ can cause the FET to oscillate.</li>
<li>All FETs show dV/dt effects, especially older technology parts.  </li>
</ul>

<p>Consider this to be the minimum knowledge needed about gate circuit resistance in MOSFETs.</p>
","66555"
"Should chassis ground be attached to digital ground?","34995","","<p>I'm working on a PCB that has shielded RJ45 (ethernet), RS232, and USB connectors, and is powered by a 12V AC/DC brick power adapter (I do the 5V and 3.3V step down on board).  The entire design is enclosed in a metal chassis.  </p>

<p>The shields of the I/O connectors are connected to a CHASSIS_GND plane on the periphery of the PCB and also make contact with the front panel of the metal chassis.  The CHASSIS_GND is isolated from digital GND by a moat (void).</p>

<p>Here's the question: <strong>Should the CHASSIS_GND be tied to the digital GND plane in any way?</strong>  I've read countless app notes and layout guides, but it seems that everybody has differing (and sometimes seemingly contradictory) advice about how these two planes should be coupled together.</p>

<p>So far I've seen:</p>

<ul>
<li>Tie them together at a single point with a 0 Ohm resistor near the power supply</li>
<li>Tie them together with a single 0.01uF/2kV capacitor at near the power supply</li>
<li>Tie them together with a 1M resistor and a 0.1uF capacitor in parallel</li>
<li>Short them together with a 0 Ohm resistor and a 0.1uF capacitor in parallel</li>
<li>Tie them together with multiple 0.01uF capacitors in parallel near the I/O</li>
<li>Short them together directly via the mounting holes on the PCB</li>
<li>Tie them together with capacitors between digital GND and the mounting holes</li>
<li>Tie them together via multiple low inductance connections near the I/O connectors</li>
<li>Leave them totally isolated (not connected together anywhere)</li>
</ul>

<p>I found this article by Henry Ott (<a href=""http://www.hottconsultants.com/questions/chassis_to_circuit_ground_connection.html"">http://www.hottconsultants.com/questions/chassis_to_circuit_ground_connection.html</a>) which states:</p>

<blockquote>
  <p>First I will tell you what you should not do, that is to make a single point connection between the circuit ground and the chassis ground at the power supply...circuit ground should be connected to the chassis with a low inductance connection in the I/O area of the board</p>
</blockquote>

<p>Anybody able to explain practically what a ""low inductance connection"" looks like on a board like this?</p>

<p>It seems that there are many EMI and ESD reasons for shorting or decoupling these planes to/from each other, and they are sometimes at odds with each other.  Does anybody have a good source of understanding how to tie these planes together?</p>
","<p>This is a very complex issue, since it deals with EMI/RFI, ESD, and safety stuff.  As you've noticed, there are many ways do handle chassis and digital grounds-- everybody has an opinion and everybody thinks that the other people are wrong.  Just so you know, they are all wrong and I'm right.  Honest!  :)</p>

<p>I've done it several ways, but the way that seems to work best for me is the same way that PC motherboards do it.  Every mounting hole on the PCB connects signal gnd (a.k.a. digital ground) directly to the metal chassis through a screw and metal stand-off.  </p>

<p>For connectors with a shield, that shield is connected to the metal chassis through as short of a connection as possible.  Ideally the connector shield would be touching the chassis, otherwise there would be a mounting screw on the PCB as close to the connector as possible.  The idea here is that any noise or static discharge would stay on the shield/chassis and never make it inside the box or onto the PCB.  Sometimes that's not possible, so if it does make it to the PCB you want to get it off of the PCB as quickly as possible.</p>

<p>Let me make this clear:  For a PCB with connectors, signal GND is connected to the metal case using mounting holes.  Chassis GND is connected to the metal case using mounting holes.  Chassis GND and Signal GND are <em>NOT</em> connected together on the PCB, but instead use the metal case for that connection.</p>

<p>The metal chassis is then eventually connected to the GND pin on the 3-prong AC power connector, <em>NOT</em> the neutral pin.  There are more safety issues when we're talking about 2-prong AC power connectors-- and you'll have to look those up as I'm not as well versed in those regulations/laws.</p>

<p><strong>Tie them together at a single point with a 0 Ohm resistor near the power supply</strong></p>

<p>Don't do that.  Doing this would assure that any noise on the cable has to travel THROUGH your circuit to get to GND.  This could disrupt your circuit.  The reason for the 0-Ohm resistor is because this doesn't always work and having the resistor there gives you an easy way to remove the connection or replace the resistor with a cap.</p>

<p><strong>Tie them together with a single 0.01uF/2kV capacitor at near the power supply</strong></p>

<p>Don't do that.  This is a variation of the 0-ohm resistor thing.  Same idea, but the thought is that the cap will allow AC signals to pass but not DC.  Seems silly to me, as you want DC (or at least 60 Hz) signals to pass so that the circuit breaker will pop if there was a bad failure.</p>

<p><strong>Tie them together with a 1M resistor and a 0.1uF capacitor in parallel</strong></p>

<p>Don't do that.  The problem with the previous ""solution"" is that the chassis is now floating, relative to GND, and could collect a charge enough to cause minor issues.  The 1M ohm resistor is supposed to prevent that.  Otherwise this is identical to the previous solution.</p>

<p><strong>Short them together with a 0 Ohm resistor and a 0.1uF capacitor in parallel</strong></p>

<p>Don't do that.  If there is a 0 Ohm resistor, why bother with the cap?  This is just a variation on the others, but with more things on the PCB to allow you to change things up until it works.  </p>

<p><strong>Tie them together with multiple 0.01uF capacitors in parallel near the I/O</strong></p>

<p>Closer.  Near the I/O is better than near the power connector, as noise wouldn't travel through the circuit.  Multiple caps are used to reduce the impedance and to connect things where it counts.  But this is not as good as what I do.</p>

<p><strong>Short them together directly via the mounting holes on the PCB</strong></p>

<p>As mentioned, I like this approach.  Very low impedance, everywhere.</p>

<p><strong>Tie them together with capacitors between digital GND and the mounting holes</strong></p>

<p>Not as good as just shorting them together, since the impedance is higher and you're blocking DC.</p>

<p><strong>Tie them together via multiple low inductance connections near the I/O connectors</strong></p>

<p>Variations on the same thing.  Might as well call the ""multiple low inductance connections"" things like ""ground planes"" and ""mounting holes""</p>

<p><strong>Leave them totally isolated (not connected together anywhere)</strong></p>

<p>This is basically what is done when you don't have a metal chassis (like, an all plastic enclosure).  This gets tricky and requires careful circuit design and PCB layout to do right, and still pass all EMI regulatory testing.  It can be done, but as I said, it's tricky.</p>
","19564"
"Fixing/Replacing Conductor Ribbon Cable","34951","","<p>I tried to fix a keyboard that was having some intermittent issues by cleaning the conductors on the ribbon cable. I used an emery-board to rub off the rust and patina on the pins at the end of the ribbon, but it turns out that the pins are really soft metal and I ended up rubbing off the conductors themselves.</p>

<p>The ribbon had a little bit of slack so, I trimmed it to where the first break in the conductors were so that I could insert the remainder into the slot. Unfortunately there was not enough metal left exposed to make the connection (&lt;1mm on some of the pins).</p>

<p>I thought about different ways I might be able to expose more of the metal but considering how fragile it already was, I figured that scraping or rubbing the plastic covering was out of the question. I considered using a chemical to dissolve some of the plastic, but I have no idea (or way of finding out) what to use or moreover, how to control it precisely enough. I figured that using a soldering iron to soften the plastic and push it away would work because I could more easily control the heat (more or less).</p>

<p>Unfortunately, the metal seems to have been <em>extremely</em> fragile (maybe it’s <strong>solder</strong>‽). Not only did the plastic warp a little bit and not soften easily to be pushed out of the way, but one of the lines even got a hole in it right through the metal.</p>

<p>Now I’m left with a ribbon cable (as seen below) and wondering how I can fix it. Is there a way to fix it as is or perhaps attach an extension?</p>

<p><img src=""https://i.stack.imgur.com/YXUIL.jpg"" alt=""Photo of damaged ribbon cable""></p>
","<p>I think this is the type of membrane keyboard where the metal is <em>extremely thin</em>. It's often not copper foil as you might expect, rather I think it's printed silver paste. Basically, it has no structural integrity of its own, relying on the plastic for that. If you rub away the surface of the metal, you quickly discover that the surface is all there is to it.</p>

<p>If your ribbon cable consists of two layers of plastic, with the tacks printed onto the inside surface of one, then you may have some success. Try to peel the two layers apart, and cut the non-track layer a few mm shorter.</p>

<p>Alternatively, you might try repairing the broken tracks with some wire glue.</p>

<p><img src=""https://i.stack.imgur.com/ReTdt.jpg"" alt=""Wire Glue""></p>

<p>Follow the instructions on <a href=""http://grope.thruhere.net/qube/projects/repairmembrane.html"" rel=""nofollow noreferrer"">Repair the Keyboard Membrane</a>.</p>
","42974"
"analogRead(0) or analogRead(A0)","34898","","<p>The arduino reference <a href=""http://arduino.cc/en/Reference/analogRead"">states</a> that you would use the following code to read the value from analog pin #5:</p>

<pre><code>int val1 = analogRead(5);
</code></pre>

<p>However to read from digital pin #5, you would pass the same pin number to <code>digitalRead</code>:</p>

<pre><code>int val2 = digitalRead(5);
</code></pre>

<p>Shouldn't you use <code>analogRead(A5)</code> instead of <code>analogRead(5)</code>?</p>

<p>If not, what does the following code do:</p>

<pre><code>int val3 = analogRead(A5);
</code></pre>
","<p><strong>To answer Tyilo's specific questions:</strong></p>

<p><code>analogRead(5)</code> and <code>digitalRead(5)</code> will read from two different places. The former will read from analog channel <code>5</code> or <code>A5</code> and the latter will read from pin 5 which <em>happens</em> to be a digital pin. So yes, if you want to read an analog pin with <code>digitalRead</code> you should be using <code>A5</code>.</p>

<p><strong>Why?</strong></p>

<p><code>analogRead</code> requires a channel number internally but it will allow you to give it a pin number too. If you do give it a pin number it will convert it to its corresponding channel number. As far as I can tell <code>analogRead</code> is the only function which uses a channel number internally, is the only one to allow a channel number, and is the only function with this undocumented pin-to-channel conversion. To understand this let's start off with some examples.</p>

<p>If you want to use <code>analogRead</code> on the first analog pin <code>A0</code> you can do <code>analogRead(0)</code> which uses the channel number or <code>analogRead(A0)</code> which uses the pin number. If you were to use the pin number variant, <code>analogRead</code> would convert the pin number <code>A0</code> to its proper channel number <code>0</code>.</p>

<p>If you want to use <code>digitalWrite</code> on the first analog pin <code>A0</code> you can <em>only</em> do <code>digitalWrite(A0, x)</code>. <code>digitalWrite</code> doesn't use analog channels internally and does not let you pass it a channel number. Well, it'll <em>let</em> you but you'll select the wrong pin. The same applies to <code>digitalRead</code> and even <code>analogWrite</code>.</p>

<p>What about the pin-to-channel conversions done by <code>analogRead</code>? The source for that function can be found in <code>hardware/arduino/avr/cores/arduino/wiring_analog.c</code> You'll see that it does some simple subtraction based on the board type. The <code>A0</code>/<code>A1</code>/<code>A2</code>/etc. constants represent the pin number of the analog channels and can be used everywhere you need to refer to the analog inputs. For that reason they are the best option to use in your Arduino code because it's very obvious that you're using the same physical port even when you're using different functions. The definitions of those constants depend on your board.</p>

<p>For example, here's the analog pin definition code for the Arduino Uno in <code>hardware/arduino/avr/variants/standard/pins_arduino.h</code></p>

<pre><code>static const uint8_t A0 = 14;
static const uint8_t A1 = 15;
static const uint8_t A2 = 16;
static const uint8_t A3 = 17;
static const uint8_t A4 = 18;
static const uint8_t A5 = 19;
static const uint8_t A6 = 20;
static const uint8_t A7 = 21;
</code></pre>

<p>For comparaison here is the analog pin definition code for the Arduino Mega: </p>

<pre><code>static const uint8_t A0 = 54;
static const uint8_t A1 = 55;
static const uint8_t A2 = 56;
[...]
static const uint8_t A13 = 67;
static const uint8_t A14 = 68;
static const uint8_t A15 = 69;
</code></pre>

<p>Further EE discussion on analog pins: <a href=""https://electronics.stackexchange.com/q/67103/3353"">Can I use the analog pins on the Arduino for my project as digital?</a></p>
","67088"
"What is dual/quad I/O?","34898","","<p>Reading an <a href=""http://www.micron.com/parts/nor-flash/serial-nor-flash/~/media/Documents/Products/Data%20Sheet/NOR%20Flash/Serial%20NOR/N25Q/5989n25q_256mb_3v_65nm.ashx"">SPI Flash datasheet</a>, I encountered the concepts of ""dual I/O"" and ""quad I/O"". At first I thought that ""dual I/O"" was synonymous to ""full duplex"", but then what is ""quad I/O""?</p>

<p>What is dual I/O and quad I/O, and how do they compare do duplex and full duplex?</p>
","<p>A <strong>multi I/O</strong> SPI device is capable of supporting increased bandwidth or throughput from a single device. A <strong>dual I/O</strong> (two-bit data bus) interface enables transfer rates to double compared to the standard serial Flash memory devices. A <strong>quad I/O</strong> (four-bit data bus) interface improves throughput four times.</p>

<p><img src=""https://i.stack.imgur.com/qzNow.png"" alt=""enter image description here""></p>
","28794"
"How to control a 12V solenoid valve with a mosfet?","34797","","<p>I'm trying to control a 12V DC solenoid valve through a MOSFET (BS170), which receives its control signal (5V) from an Arduino microcontroller.
This is the basic schematic:
<img src=""https://i.stack.imgur.com/LpyLH.jpg"" alt=""enter image description here""></p>

<p>When I test the MOSFET, putting a LED with a 1.5k ohm resistor as Load (see picture), it works fine and I can control the 12V current with the 5V signal, without problem.</p>

<p>But then I connect my solenoid valve instead of the LED. It works for a few seconds, then it stops working and the MOSFET ends up permanently conducting current, regardless the state of the 5V control pin.</p>

<p>The MOSFET is permanently damaged, because when I connect the LED again, it doesn't work anymore.</p>

<p>Too much current? But when I add a resistor before the valve, it doesn't operate anymore...
Maybe I need a heavier MOSFET/transistor?</p>
","<p>Read my blog entry <a href=""http://embeddedrelated.com/showarticle/77.php"">""Byte and Switch""</a> -- it covers this exact scenario.</p>

<p>The short answer is that you need a freewheeling diode to conduct the current when the MOSFET turns off; the solenoid has inductance that stores energy in the magnetic field, and when you turn the MOSFET off the inductance will generate however much voltage is necessary to continue flow of that current. The resulting voltage pulse will cause breakdown in the MOSFET which causes the damage you are seeing.</p>

<p>You should also add a couple of resistors, one from microcontroller output to ground, to make sure it's off when your microcontroller is in reset, and the other from the microcontroller to the MOSFET gate, to add some resistive isolation between your power switch and your microcontroller.</p>

<p><img src=""https://i.stack.imgur.com/42cXL.jpg"" alt=""enter image description here""></p>

<hr>

<p>edit: I just noticed you're using a BS170 MOSFET. Have you looked at the datasheet? This is a poor choice for a MOSFET used as a power switch from a microcontroller.</p>

<p>First of all, the MOSFET is specified at 10V Vgs. You're supplying it from a 5V microcontroller. You need to make sure you use MOSFETs that are ""logic level"" and have on-resistance specified at 4.5V or 3.3V Vgs. (I suggest you not use ultra-low voltage MOSFETs as there's a possibility of it turning on weakly when you think it is off.)</p>

<p>More importantly, it's a small TO-92 MOSFET specified at 5 ohms max Rdson at 10V Vgs. This MOSFET is fine for very small loads like LEDs drawing a few milliamps. But solenoids generally draw tens or hundreds of milliamps, and you need to calculate I2R loss in your MOSFET for the current load it draws, and make sure that it doesn't cause your transistor to overheat. Look at the thermal resistance R theta J-A on the datasheet and you can estimate how much temperature rise there is in the part.</p>

<p>Use a MOSFET in the 20V-60V range that has a lower on-resistance -- as I said in my comment, we need to know how much current your solenoid draws if we're going to help you. </p>
","29066"
"How do I determine the maximum current for charging a li-ion battery?","34750","","<p>I have a cell phone that has a 1500 mAh 3.7 V battery.  It comes with a 700 mA charger but I've sucessfully used a 1 A charger with no problems.  I'm now trying to make my own multi-device charging station and my first problem if figuring out the maximum amount of current I can use at 5V?</p>
","<p>If you are charging the battery through the phone then this will have the charge controller circuitry between the 5V charge supply and the battery.  You CANNOT/MUST NOT just connect a battery pack to a power supply and expect it to charge without fire and or explosion.  </p>

<p>The charge controller in the phone will limit the current supplied to the battery pack to be within the limits specified by the battery manufacturer to ensure that the battery is not damaged.  Supplying the phone from a 5V source that has a higher current capability will not make the battery charge any faster.  If it did then you would run the risk of damaging the connector on the phone or even melting the tracks on the PCB within the phone.  Small USB connectors that I have used have a contact rating of up to 1A on the power lines.</p>

<p>If you want to build a charging station to charge multiple phones at a time then you need to have a power source that can supply up to the maximum charge current taken by the phone down each of the charging leads.  These can all be in parallel but I would place a diode in each of the positive supply lines to prevent the possibility of any current flowing from the battery back to the charger.</p>
","12282"
"How does a Crystal work?","34682","","<p>Specifically, a 2pin and 4pin quartz crystal oscillator. </p>

<p>What I know: current is applied and the crystal oscillates in order to provide an oscillating signal. </p>

<p>What I want to know: How does the vibration cause an oscillating current? How are 2/4pin crystals different? Lastly, why can a 4pin run alone and a 2pin needs capacitors. </p>
","<p>The <a href=""http://www.ecsxtal.com/store/pdf/CSM-3X.pdf"" rel=""noreferrer"">devices with two pins</a> are not oscillators, they are resonators (crystals), which can be used in an oscillator circuit (such as a <a href=""http://en.wikipedia.org/wiki/Pierce_oscillator"" rel=""noreferrer"">Pierce oscillato</a>r), and if used with the correct circuit will oscillate at (or near) the marked frequency. The Pierce oscillator circuit, shown below, uses two capacitors (load capacitors, C1/C2), the crystal (X1), and an amplifier (U1).</p>

<p><img src=""https://i.stack.imgur.com/1RzRf.png"" alt=""enter image description here""></p>

<p>The <a href=""http://www.ecsxtal.com/store/pdf/ecs-3951m_3953m.pdf"" rel=""noreferrer"">devices with four pins</a> are complete circuits including a resonator and an active circuit that oscillates. They require power and output a square wave or sine wave output at (or near) the marked frequency. </p>

<p>There are also (ceramic) <a href=""http://www.murata.com/products/catalog/pdf/p16e.pdf"" rel=""noreferrer"">resonators with three</a> pins that act like crystals with capacitors. </p>

<p>The way crystals (and ceramic resonators) work is that they are made of a piezoelectric material that produces a voltage when they are distorted in shape. A voltage applied will cause a distortion in shape. The crystal is made into a shape that will <em>physically</em> resonate (like a tuning fork or a cymbal) at the desired frequency. That means that the crystal will act like a filter- when you apply the desired frequency it will appear like a high impedance once it gets vibrating, and to frequencies a bit different, it will be more lossy. When put in the feedback circuit of an amplifier, the oscillation will be self-sustaining. Much more, and some math, <a href=""http://en.wikipedia.org/wiki/Crystal_oscillator"" rel=""noreferrer"">here</a>. </p>
","117627"
"Is it true that a SD/MMC Card does wear levelling with its own controller?","34523","","<p>I can't find any reliable information about this. I don't have the full specification of the SD/MMC Card hardware.</p>

<p>Is it true? My high-level application doesn't need to be concerned with wear leveling when working with these cards?</p>

<p><strong>EDIT</strong></p>

<p>Could someone confirm that <em>wear leveling</em> is guaranteed by the SD specification? I want to be sure, because it looks like most vendors do it, but it is not required by the specification.</p>
","<p>I work for a company that used to be a member of the SD association, we are familiar with the 2.0 (SDHC) spec.  The SD card spec has NO entry for wear leveling.  That is completely dependent on the SD manufacturer to handle that if they so choose.  We have seen that some likely do, while others very much do not (beware the super cheap knock-off SD cards).  SDXC may have changed that to include wear leveling, but I am unsure of that.  Unfortunately the only way to really show that is to get your hands on the official spec.  You can find it online most likely, but the SD association really wants you to pay for it.</p>

<p>As a side note, taking a 2GB card and writing it beginning to end over and over again averages about 10TB before the card is dead and no longer is writable.  Also, SD cards will not let you know when data is bad, i.e. wont return an I/O error like a PC harddrive will.  This might not be an issue for embedded designs as 10TB is a LOT of data, but it could be a factor for someone.</p>
","27626"
"Current flow in batteries?","34515","","<p>I am reading a basic electronics book: ""There are no Electrons: Electronics for Earthlings"" and I came across a clever passage about the fact that you need a closed circuit in order for current to flow.  Here is the passage I am curious about:</p>

<blockquote>
  <p>""This has always bothered me: If the negative terminals of batteries have excess electrons (a negative charge) and the positive terminals of batteries have too few electrons (a positive charge) and opposites attract, why can't I hook a wire between the negative side of one battery and the positive side of a different battery and get any current?  This truth is it won't work. No current will flow.  Had someone been able to explain that to me, I probably would never have written this book.""</p>
</blockquote>

<p>Does anyone have a straight-forward answer to this question?</p>
","<p>The confusion here is from the initial poor description of how a battery works.</p>

<p>A battery consists of three things: a positive electrode, a negative electrode, and an electrolyte in between. The electrodes are made of materials that strongly want to react with each other; they are kept apart by the electrolyte.</p>

<p>The electrolyte acts like a filter that blocks the flow of electrons, but allows ions (positively charged atoms from the electrodes) to pass through. If the battery is not connected to anything, the chemical force is pulling on the ions, trying to draw them across the electrolyte to complete the reaction, but this is balanced by the electrostatic force-- the voltage between the electrodes. Remember-- a voltage between two points means there is an electric field between those points which pushes charged particles in one direction.</p>

<p>When you add a wire between the ends of the batteries, electrons can pass through the wire, driven by the voltage. This reduces the electrostatic force, so ions can pass through the electrolyte. As the battery is discharged, ions move from one electrode to the other, and the chemical reaction proceeds until one of the electrodes is used up.</p>

<p>Thinking about two batteries next to each other, linked by one wire-- there is no voltage between the two batteries, so there is no force to drive electrons. In each battery, the electrostatic force balances the chemical force, and the battery stays at steady state.</p>

<p>(I kind of glossed over what it means for two materials to ""want"" to react with each other.  Google ""Gibbs free energy"" for more details on that. You might also google ""Nernst equation."")</p>
","2442"
"What happens if I omit the pullup resistors on I2C lines?","34463","","<p>Just now I realized that the I<sup>2</sup>C data and clock lines (SDA and SCL) must have pullup resistors. </p>

<p>Well, I've built a couple of clocks using the DS1307 RTC (see <a href=""http://datasheets.maximintegrated.com/en/ds/DS1307.pdf"" rel=""noreferrer"">datasheet</a>) according to the schematic below. Notice that I have omitted both pullup resistors.</p>

<p><img src=""https://i.stack.imgur.com/SJfqm.png"" alt=""Schematic of my clock without pullup resistors on I2C lines""></p>

<p>Both clocks work fine, one of them is working for more than 3 months now. How is that possible? In any case, I wanted to know:</p>

<ol>
<li><p><strong>What happens when the I<sup>2</sup>C pullups are omitted?</strong></p></li>
<li><p><strong>Is the lack of pullups likely to damage any of those two ICs in my board?</strong></p></li>
</ol>

<p>I'm after answers that address my specific case of connecting ATmega328P to a DS1307 RTC like in the schematics I provided, but if the question doesn't get too broad, it would be helpful to know what happens when the pullups are omitted in general, i.e., in other scenarios of I<sup>2</sup>C operation.</p>

<p>PS. I did search the Net to find the answer, but could just find articles about dimensioning the pullups.</p>

<p><strong>Update:</strong> I'm using Arduino IDE 1.03 and my firmware handles the RTC using the <a href=""https://www.pjrc.com/teensy/td_libs_DS1307RTC.html"" rel=""noreferrer"">DS1307RTC Arduino lib</a> (through its functions <code>RTC.read()</code> and <code>RTC.write()</code>). That lib in turn uses <code>Wire.h</code> to talk to the RTC.</p>

<p><strong>Update 2:</strong> Below are a series of scope shots I took to help explain how the I<sup>2</sup>C is working without the external pullups.</p>

<p><img src=""https://i.stack.imgur.com/VZaDX.png"" alt=""Scope shot 1"">
<img src=""https://i.stack.imgur.com/wzlWt.png"" alt=""Scope shot 2""></p>

<p><strong>Update 3 (after I<sup>2</sup>C pullups added):</strong> Below is another series of scope shots I took <strong>after adding proper (4K7) pullup resistors</strong> to the I<sup>2</sup>C lines (on the same board). Rise times dropped from about 5 &#181;s to 290 ns. I<sup>2</sup>C is much happier now.</p>

<p><img src=""https://i.stack.imgur.com/jYP4C.png"" alt=""Scope shot 3"">
<img src=""https://i.stack.imgur.com/h1jsQ.png"" alt=""Scope shot 4""></p>
","<blockquote>
  <p>1) What happens when the I2C pullups are omitted?</p>
</blockquote>

<p>There will be no communication on the I<sup>2</sup>C bus. At all. The MCU will not be able to generate the I<sup>2</sup>C start condition. The MCU will not be able to transmit the I<sup>2</sup>C address.</p>

<p><em>Wondering why it worked for 3 months? Read on.</em></p>

<blockquote>
  <p>2) The lack of pullups is likely to damage any of those two ICs in my board?</p>
</blockquote>

<p>Probably not. In this particular case (MCU, RTC, nothing else), definitely not.</p>

<blockquote>
  <p>3) Why was the MCU able to communicate with the I<sup>2</sup>C slave device in the first place? I<sup>2</sup>C requires pull-up resistors. But they weren't included in the schematic.</p>
</blockquote>

<p>Probably, you have internal pull-ups enabled on the ATmega. From what I've read<sup>1</sup>, ATmega have 20kΩ internal pull-ups, which can be enabled or disabled from the firmware. 20kΩ is way too weak for the I<sup>2</sup>C pull-up. But if the bus has a low capacitance (physically small) and communication is slow enough, then 20kΩ can still make the bus work. However, this is not a good reliable design, compared to using discrete pull-up resistors.</p>

<p><sup>1</sup>Not an ATmega guy myself.</p>

<p><strong>update:</strong> In response I<sup>2</sup>C waveforms, which were added to the O.P.<br>
The waveforms in the O.P. have a very long rise time constant.  Here's what I<sup>2</sup>C waveforms usually look like  </p>

<p><img src=""https://i.stack.imgur.com/YEbvX.png"" alt=""enter image description here""></p>

<p>PIC18F4550, Vcc=+5V, 2.2kΩ pull ups.  Waveform shows SCL.  The rise time on SDA is about the same.  The physical size of the bus is moderate: 2 slave devices, PCB length ≈100mm.</p>
","102616"
"Why do we need 3 phase power supply?","34435","","<p>Why do we need 3 phase?
For the reason that voltage will never be zero in 3 phase? OR we need high voltage?</p>
","<p>There are several reasons 3-phase is desirable over 1-phase power. One advantage of 3-ph over 1-ph has to do with instantaneous power (i.e. power generated or consumed at any instant in time within the power cycle). </p>

<p>For example, consider a heating element (power resistor) in a 1-phase circuit. Voltage and current are in phase. Both cross zero twice during a cycle as they go positive and then negative. </p>

<p>Their product is power which is a sinusoid at 2x the fundamental frequency (multiply two sine waves and you get a new sine wave with twice the frequency). The power dissipated by the heating element has a sinusoidal waveshape that sits above the zero line (because the two V &amp; I sinusoids, when multiplied together, always give a positive value). </p>

<p>The power sinusoid also reaches zero twice during the fundamental cycle at the same time V or I cross zero. The resistor doesn't produce heat (consume power) at these zero-crossing instants in time (resistor remains hot due to its thermal mass). Now replace the resistor with a 1-ph induction motor. </p>

<p>For similar reasons, despite V &amp; I being out of phase, there are times in its power cycle when the motor doesn't produce mechanical power (it remains spinning due to its own and its load's inertia). In a 3-ph system, the phases are staggered by 120 electrical degrees. If a 3-ph heating element is connected (Y or delta; doesn't matter for the purpose of this discussion), each individual resistor ""sees"" a zero crossing but collectively the three are producing heat at all times. There is no instant in time when heat is not being produced. </p>

<p>Similarly, with a running 3-ph motor, there is no instant in time when it isn't producing mechanical power. The result is a simplified motor (no starting winding needed as is the case with a 1-phase motor), smaller frame for same horse-power because instantaneous power is never zero. Unlike the 1-ph motor, the 3-ph motor doesn't need the larger bulk to ""coast through"" a zero crossing.</p>
","134855"
"Increase Amperage With Capacitors without any change in voltage","34177","","<p>I want to know how to increase the current/amperage without changing the amount of 
voltage. I found this  formula:
<strong>I (t) = 
Vs/R * e^-t/RC</strong>  </p>

<p>from this website:<a href=""http://www.ehow.com/how_8780713_increase-amperage-capacitors-diodes.html"" rel=""nofollow"">http://www.ehow.com/how_8780713_increase-amperage-capacitors-diodes.html</a></p>

<p>but i don't unserstand how <strong>t</strong> is found, because it set to: <strong>t  = 3 microseconds</strong> how did they calculate that <strong>t</strong> is 3 microseconds? can anyone give me sample and how  (e^-2) = 0.8, becouse i'm getting it to be: <strong>0.13533528323</strong></p>
","<p>Unfortunately, a lot of information on eHow is of very low quality. The eHow article defines <em>""t is the elapsed time since the power supply was turned on""</em> </p>

<p>If you connect a source of electricity with a fixed voltage (constant voltage supply) to a capacitor through a resistor, the capacitor will charge, the current that flows will be initially large but will decrease over time. The formula describes that.</p>



<p><img src=""https://i.stack.imgur.com/oJe0i.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2foJe0i.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>$$I = \frac{V}{R}e^{-t/RC} $$</p>

<p>Note that the exponent of \$e\$ is \$\frac{-t}{RC}\$</p>

<p>See <a href=""http://hyperphysics.phy-astr.gsu.edu/hbase/electric/capchg.html"" rel=""nofollow noreferrer"">http://hyperphysics.phy-astr.gsu.edu/hbase/electric/capchg.html</a></p>

<hr>

<blockquote>
  <p><b>I want to know how to increase the current/amperage without changing the amount of voltage.</b></p>
</blockquote>

<p>A capacitor can act as a short-term store of energy that can be released in a short burst over a small amount of time if your load occasionally requires more power than your power supply can deliver.</p>

<p>A capacitor cannot make a 12V DC 1A power supply into a 12V DC 2A power supply.</p>
","96967"
"How to shift left/right a STD_LOGIC_VECTOR value within a WHEN statement?","34173","","<p>I'm attempting to create a parametrizable ALU which handles N-Bit signed data. However the methods I know of shifting left/right, either won't work because the values are defined as STD_LOGIC_VECTOR:</p>

<pre><code>--Declaration
A, B, X : in  STD_LOGIC_VECTOR(N downto 0);
--Usage
OUTPUT &lt;= (A sra X) WHEN OPERATION = ""0000"" ELSE
</code></pre>

<p>Or because it's within a WHEN statement:</p>

<pre><code>OUTPUT &lt;= (A &lt;= X(N) &amp; X(N downto 1)) WHEN OPERATION = ""1001"" ELSE
--This causes Type of OUTPUT is incompatible with type of &lt;= error
</code></pre>

<p>To reiterate, I need to  shift left/right A by X bits. Could anyone point me in the right direction?</p>

<p>Full code: </p>

<pre><code>library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use work.DigEng.ALL;

-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
use IEEE.NUMERIC_STD.ALL;

-- Uncomment the following library declaration if instantiating
-- any Xilinx primitives in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity core is
    Generic (
           N : INTEGER);
    Port ( CLK : in  STD_LOGIC;
           A, B, X : in  STD_LOGIC_VECTOR(N downto 0);
              OPERATION : in STD_LOGIC_VECTOR(3 downto 0); --Allows us up to 16 operations
              FLAGS : in STD_LOGIC_VECTOR(7 downto 0);
           ALU_OUTPUT : out  STD_LOGIC_VECTOR(N downto 0));
end core;

architecture Behavioral of core is
    signal TEMP_OUTPUT : STD_LOGIC_VECTOR(N downto 0);
begin
    TEMP_OUTPUT &lt;= (A) WHEN OPERATION = ""0000"" ELSE
                --Bit-wise Logic
                 (A AND B) WHEN OPERATION = ""0001"" ELSE
                 (A OR B) WHEN OPERATION = ""0010"" ELSE
                 (A XOR B) WHEN OPERATION = ""0011"" ELSE
                 (NOT A) WHEN OPERATION = ""0100"" ELSE
                --Arithmetic
                 STD_LOGIC_VECTOR(SIGNED(A) + 1) WHEN OPERATION = ""0101"" ELSE
                 STD_LOGIC_VECTOR(SIGNED(A) - 1) WHEN OPERATION = ""0110"" ELSE
                 STD_LOGIC_VECTOR(SIGNED(A) + SIGNED(B)) WHEN OPERATION = ""0111"" ELSE
                 STD_LOGIC_VECTOR(SIGNED(A) - SIGNED(B)) WHEN OPERATION = ""1000"" ELSE
                --Shift
                 --(A &lt;= X(N) &amp; X(N downto 1)) WHEN OPERATION = ""1001"" ELSE
                 ""1111"";

end Behavioral;
</code></pre>
","<p>There are a couple of ways to go with this. If you want to use <code>sra</code>, then you need to use the correct types. The left operand must be a <code>BIT_VECTOR</code> and the right must be an integer. It's output is a <code>BIT_VECTOR</code>. So you can define your inputs and outputs as <code>BIT_VECTOR</code> instead of <code>STD_LOGIC_VECTOR</code> and then use a cast to get just your <code>X</code> into an integer. I <em>think</em> the proper casts would be something like this (but you'll have to double check me as I don't have a VHDL compiler on this machine):</p>

<pre><code>--Declaration
A, B, X : in  BIT_VECTOR(N downto 0);
--Usage
OUTPUT &lt;= (A sra to_integer(unsigned(to_stdlogicvector(X)) WHEN OPERATION = ""1001"" ELSE
</code></pre>

<p>Or, if possible define <code>A</code> as a <code>BIT_VECTOR</code> and <code>X</code> as a <code>STD_LOGIC_VECTOR</code> to leave out the extra cast.</p>

<p>Alternatively, you could continue to use <code>STD_LOGIC_VECTOR</code> for your inputs and outputs. But you would then need to cast both operands to the appropriate types and then cast the output:</p>

<pre><code>--Declaration
A, B, X : in  STD_LOGIC_VECTOR(N downto 0);
--Usage
OUTPUT &lt;= to_stdlogicvector(to_bitvector(A) sra to_integer(unsigned(X)) WHEN OPERATION = ""1001"" ELSE
</code></pre>

<p>These should all be available in <code>ieee.numeric_std.ALL</code> and <code>IEEE.STD_LOGIC_1164</code>.</p>

<hr>

<p>The difference between <code>BIT_VECTOR</code> and <code>STD_LOGIC_VECTOR</code> is that <code>BIT_VECTOR</code> only has two values: <code>0</code> and <code>1</code>. Whereas <code>STD_LOGIC_VECTOR</code> has nine: <code>U</code>, <code>X</code>, <code>0</code>, <code>1</code>, <code>Z</code>, <code>W</code>, <code>L</code> ,<code>H</code> and <code>-</code>. Where:</p>

<p><code>U</code> = uninitialized<br>
<code>X</code> = unknown - a multisource line is driven '0' and '1' simultaneously (*)<br>
<code>0</code> = logic 0<br>
<code>1</code> = logic 1<br>
<code>Z</code> = high impedance (tri state)<br>
<code>W</code> = weak unknown<br>
<code>L</code> = weak ""0""<br>
<code>H</code> = weak ""1""<br>
<code>-</code>  = don't care</p>

<p>In general it is better to use <code>STD_LOGIC_VECTOR</code> as it is more flexible and a better model of real world signals.</p>

<hr>

<p>Looking at your code for the concatenation, I'm not entirely sure of what you're trying to do. It looks like you're trying to assign the MSB of <code>X</code> concatenated with the MSB down to the LSB + 1 of <code>X</code> to <code>A</code> and then assign that to <code>TEMP_OUTPUT</code>. I <em>think</em> it's the double <code>&lt;=</code> assignment that is causing the error.</p>

<p>What you want for an arithmetic right shift is to set the right most bits, less shift number of most significant bits of the output to the left most bits less shift number of least significant bits of the input. Then set all of the shift number of most significant bits of the output to the most significant bit of the input.</p>

<p>The first part is a bit tricky but the second part can easily be accomplished with the <code>others</code> keyword.</p>

<pre><code>--|right most - shift # * MSB of output|   |left most - shift # * LSB of input| |MSBs of output|  
((N - to_integer(unsigned(X))) downto 0 =&gt; A(N downto to_integer(unsigned(X))), others =&gt; A(N)) WHEN OPERATION = ""1001"" ELSE
</code></pre>

<p>The basic problem you are having is one of type conversions. So you will need to think about what signal needs to be of what type and what types of operands the functions you are using require and cast accordingly.</p>
","100160"
"Where is the Eagle component library for 0.1"" breakaway headers?","34140","","<p>I want to put some breakaway headers into my Eagle CAD file. By that, I mean these:</p>

<p><img src=""https://dlnmh9ip6v2uc.cloudfront.net/images/products/00116-02-L.jpg"" alt=""breakaway male headers""></p>

<p>Does Eagle come packaged with a library for these? If so, what is the part called, and which library is it in?</p>
","<p>Eagle does indeed. The library you will want to look for is called <code>pinhead</code>. It has various 2.54mm (0.1"") pitch pinheaders in it.</p>

<p>If it's not on the list, go to the Eagle control panel window, right click on <code>Libraries</code> and choose <code>Use all</code>. Then, in the schematic window, go to <code>Library &gt; Update all</code> to update the libraries list.</p>
","19183"
"How to clean a potentiometer?","34053","","<p>I have a couple of potentiometers that haven't been touched in quite some time. In fact, probably not in 15 years. So now they produce noisy output, presumably from oxides or some other crud that has built up on the contact surfaces. </p>

<p>Outright replacement might be an option, but these are quite large relative by current standards, they are in fact about the diameter of a quarter and are probably 1/4"" inch thick, real 1970's technology. Might be hard to get the same form factor.</p>

<p>Certain retailers used to carry this stuff that came in a can like wd-40, complete with a little red tube for injecting the stuff into exactly this kind of part. You'd squirt a tiny amount into the noisy pot, wiggle the knob 2-3 times, and no more noisy output. So there's the proof of concept that it can be done, but this magic stuff seems to have vanished from the shelves.</p>

<p>It had to just be some kind of solvent, like xylene or something. Any ideas on what would clean the corrosion (dust? dirt? <em>fungus</em>?) off a potentiometer, without damaging it?</p>
","<p>Just spray contact cleaner on it and wiggle it back and forth.  :)</p>

<p>It hasn't vanished:</p>

<p><a href=""http://www.caig.com/"">DeoxIT</a>
<a href=""http://www.google.com/products?q=contact+cleaner"">http://www.google.com/products?q=contact+cleaner</a></p>
","2536"
"Difference between a rectifier diode and signal diode","34026","","<p>Can somebody please explain to me the differences between a signal diode and rectifier diode in terms of their electrical characteristics and their Lissajous patterns? I know that Shockley's equation is used as the mathematical model for the general diode, but I can't seem to find any literature that sufficiently explains the characteristics of each type of diode. Any help would be welcomed. </p>
","<p>Both diodes work the same way by allowing current to flow in one direction. The differences have to do with power and frequency characteristics.  They are made from a p-n junction and are two lead devices. </p>

<p>Small signal diodes have much lower power and current ratings, around 150mA, 500mW maximum compared to rectifier diodes, they can also function better in high frequency applications or in clipping and switching applications with short-duration pulse waveforms.</p>

<p>Rectifier diodes are designed to handle much higher voltage and current and are typically found in power supplies.</p>

<p>As far as the Lissajous patterns look like, they can be modeled in practically any simulation software. Check out LTSpice from Linear Technologies. <a href=""http://www.linear.com/designtools/software/"">http://www.linear.com/designtools/software/</a> . Plenty of tutorials and a large model library. </p>
","27228"
"What are the best free schematic tools out there?","33877","","<p>I'm sure there are plenty of schematic tools available.  Which ones do you use/prefer?</p>

<p>Feel free to also list tools which aren't completely free but very popular.</p>
","<p>I use gEDA/PCB. The file formats are open and ASCII. The open file
formats make a wide variety of EDA automation tasks possible. The
ASCII format makes them easy.</p>

<p>I have switched from Eagle to gEDA/PCB. I have found gEDA to be a more
productive tool. The schematic capture is better but the PCB layout
seems more difficult. The scriptability is what has made the
difference. There are also tools for simulation.</p>

<p>Be careful of choosing a free version of an EDA tool that is crippled
or a tool that locks you in to a specific PCB vendor. There is a
learning curve associated with any EDA tool or other complex piece of
software. It will be very time consuming to switch tools.</p>

<p>The footprint library that I use is available at
<a href=""http://www.luciani.org"" rel=""nofollow"">http://www.luciani.org</a> Also I have a variety of EDA automation scripts
on my site.</p>

<p>As an example of gEDA/PCB I did a remix of the Drawdio circuit design
that ladyada did (CC 3.0 BY-SA). The remix includes the EDA files and
documentation. All of the files are at
<a href=""http://wiblocks.luciani.org/remix/index.html"" rel=""nofollow"">http://wiblocks.luciani.org/remix/index.html</a> </p>

<p><em>A couple of additions --</em></p>

<p>XCircuit <a href=""http://opencircuitdesign.com/xcircuit"" rel=""nofollow"">http://opencircuitdesign.com/xcircuit</a> is an open source
package that produces some very nice looking schematics. The
most extensive example would be the open textbook at <a href=""http://www.ibiblio.org/kuphaldt/electricCircuits"" rel=""nofollow"">http://www.ibiblio.org/kuphaldt/electricCircuits</a></p>

<p>If you use La/TeX you can create inline schematics using macros.
This could be useful for very simple schematics but I can see
this getting very cumbersome very quickly.</p>
","1756"
"What's the difference between INPUT and INPUT_PULLUP?","33817","","<p>On newer Arduinos, one can set pinMode to one of three states: <code>OUTPUT</code>,<code>INPUT</code>, and <code>INPUT_PULLUP</code>.</p>

<p><a href=""http://arduino.cc/en/Reference/Constants"">This page</a> says:</p>

<blockquote>
  <p>The Atmega chip on the Arduino has internal pull-up resistors (resistors that connect to power internally) that you can access. If you prefer to use these instead of external pull-down resistors, you can use the INPUT_PULLUP argument in pinMode(). This effectively inverts the behavior, where HIGH means the sensor is off, and LOW means the sensor is on.</p>
</blockquote>

<p>I'm  rather sure that inverting the behavior isn't the only thing that it does, though. </p>

<p>What does <code>INPUT_PULLUP</code> do? What makes it different from <code>INPUT</code>, and  how does one decide which one to use?</p>
","<p>The default is <code>INPUT</code> which sets up the pin as an <code>INPUT</code>.  If the pin is totally disconnected, it will randomly read <code>HIGH</code> and <code>LOW</code>.   If you tie it to +5V or 0V, it will obviously read <code>HIGH</code> or <code>LOW</code>.  </p>

<p>Internal to the Arduino are pullup resistors with a value around 50k-ohm.  These resistors can be optionally connected internally using <code>INPUT_PULLUP</code>.   This is functionally (and electrically) equivalent to connecting a 50k-ohm resistor between the pin and +5V, the only difference is that it requires no external components and you can turn it on and off in software during the execution of your program.</p>

<p>So why pull-ups and not pull-downs?  There are likely several reasons for it, but when wiring buttons or switches or anything ""normally open"", you only have to tie them to ground, you don't need to run +5V out to them.   Since most boards are going to be designed with large ground pours for shielding reasons anyway, tying to ground is practically reasons.  </p>

<p>Some more featured ICs like ARM chips have both pull ups and pull downs, but the 8-bit AVR line only comes with pull-ups.  You just have to remember that <code>HIGH</code> is ""open"" and <code>LOW</code> is ""closed"".</p>
","67008"
"Combining and Charging multiple Lithium Ion Battery Cells (3.6 V or 3.7 Volts)","33807","","<p><strong>1] Voltage: 3.6V or 3.7V</strong><br>
Are <em>all</em> 18650 lithium ion battery cells 3.6 or 3.7 voltsor or are there different voltage Lithium Ion cells in the market as well?</p>

<p><strong>2] Possible Voltage Shortage?</strong><br>
Do all 3.6/3.7V li ions work the same standard way with a <code>+</code> a <code>-</code> and a <code>T</code> or do they really differ? What does the <code>T</code> stand for? Temperature sensor?</p>

<p><strong>3] Physics Voltage Reason</strong><br>
Whats the reason for the 3.6/3.7 Volts per Li Ion Cell? I never saw a 3.0V or 5 Volts... Curious...</p>

<p><strong>4] Parallel Charging of many Li Ion Cells</strong><br>
I was thinking of putting two or four of those Panasonic/Sanyo 18650 Li Ion cells in parallel, soldering together from the instant the are new, that way giving me lots of mAhs. Can I use the same Li Ion charger that was made for charging just 1 cell, and let it be in the charger for longer time?</p>

<p><strong>5] Charging Wiring... How?</strong><br>
I found a nice small cheap charger about 30~40$ called Turnigy Accucel-6 (there is also an Accucel-8 for double price and double weight). Could I attach the + to + of all the cells and the - to all the - poles of the cells without needing any extra in-between-wiring?</p>
","<p><strong>1] VOLTAGE: 3.6V or 3.7V - 18650 Li Ion Batteries</strong></p>

<p>All single cell lithium ion batteries are going to be 3.6-3.7v. There are applications where multiple cells will be tied together in series. This will result in voltages that are multiples of 3.6-3.7v. So as long as you match the number of cells and approximate mAH you should be fine.</p>

<p><strong>2] Possible Voltage Shortage?</strong></p>

<p>The voltages and battery life responses for all batteries are going to have slight difference. For the most part this won't matter. Most projects that use batteries are not terribly voltage dependent. They will either boost or regulate their voltage to get the voltage they want out, or they will be able to run at a wide range.</p>

<p>As a note, ""Shortage"" in this context usually means you are creating a short across your battery. Might want to be careful with that terminology.</p>

<p><strong>3] Fundamental Reason for this Voltage Range</strong></p>

<p>I am not an expert on this, but I know it deals with the chemistry of the battery itself.</p>

<p><strong>4] Parallel Cell Charging - One BIG Li-Ion Battery Pack</strong></p>

<p>This can be done. There are some issues that can come up when doing it. This might be worthy of a question by itself. If you do ask, might want to ask if the same can be done for packs in series.</p>

<p><strong>5] Charging... How?</strong></p>

<p>Same as previous answer.</p>
","9327"
"Why should I use a logarithmic pot for audio applications?","33648","","<p>Just got really curious about it reading <a href=""https://electronics.stackexchange.com/a/101190/29792"">this answer from Spehro Pefhany</a>. There Spehro comments that one should use a logarithmic pot for audio applications. So I googled for it.</p>

<p>The best article I could find was one titled <em>""Difference between Audio and Linear Potentiometers""</em><sup>[1]</sup> which now seems to have been removed from the original website.</p>

<p>There they said this:</p>

<blockquote>
  <h2>Linear vs. Audio</h2>
  
  <p>Potentiometers, or ""pots"" to electronics enthusiasts, are differentiated by how quickly their resistance changes. In linear pots, the amount of resistance changes in a direct pattern. If you turn or slide it halfway, its resistance will be halfway between its minimum and maximum settings. That's ideal for controlling lights or a fan, but not for audio controls. Volume controls have to cater to the human ear, which isn't linear. Instead, logarithmic pots increase their resistance on a curve. At the halfway point volume will still be moderate, but it will increase sharply as you keep turning up the volume. This corresponds to how the human ear hears.</p>
</blockquote>

<p>Well, I'm not satisfied. </p>

<ul>
<li><strong>What does it mean that the human ear isn't linear?</strong></li>
<li><strong>How does the log changes in the pot resistance relates to sound waves and how the human ear works?</strong></li>
</ul>

<hr>

<p><sup>[1] <em>Original (now broken) link was <a href=""http://techchannel.radioshack.com/difference-audio-linear-potentiometers-2409.html"" rel=""nofollow noreferrer"">http://techchannel.radioshack.com/difference-audio-linear-potentiometers-2409.html</a>.</em></sup></p>
","<p>Consider this: -</p>

<p><img src=""https://i.stack.imgur.com/hw3Sf.jpg"" alt=""enter image description here""></p>

<p>Sound level is measured in dB and, a 10 dB increase/decrease in signal equates to a doubling/halving of loudness as perceived by the ear/brain.</p>

<p>Look at the picture above and ask yourself which is the better choice for smooth (coupled with extensive) volume controller. Below are the Fletcher Munson curves showing the full range of decibels that a human can comfortably hear. Note, that unless your stereo system is very powerful, a range of 100 dB is ""about right"" for volume control. The Fletcher Munson curves also relate loudness to the pitch of a sound. Note also that the curves are all normalized to 1kHz in 10 db steps: -</p>

<p><img src=""https://i.stack.imgur.com/I1Dn7.jpg"" alt=""enter image description here""></p>

<p>Approximately every 10% of travel of the wiper on the LOG potentiometer can reduce/increase the volume by 10 dB whereas a LIN pot will need to move all the way down to its middle position before it's reduced the volume by only 6 dB! When a linear pot is near the bottom end of its travel (sub 1% of movement left) it will be making massive jumps in dB attenuation for just a tiny movement hence it would become very difficult to set the volume accurately at a low level.</p>

<p>It's also worth pointing out that a LOG pot is only able to cope with so much dynamic range of adjustment before it does the same (below -100 dB) but, the point is, this will hardly be noticeable at the tiny, quiet end of its travel. </p>

<p>You might also note that the markings on a pot such as CW and CCW tell you which end of a pot is the ground end and the high-volume end. CW = clock wise and CCW is counter clock wise end points for the wiper.</p>
","101196"
"How are LED Christmas Lights Wired?","33589","","<p>I'm planning on building some dimmable lighting controller for Christmas lights, but with LEDs being all the rage nowadays, I was thinking that instead of using triacs and dimming at 60/120 Hz, rectify the AC to DC and use MOSFETs to reduce the strobing that is more evident in LEDs.  This might allow the controller to be smaller and/or cheaper.</p>

<p>This would depend on how the LED strings are actually wired up.  I don't currently have any to look at, and I could imagine a few different ways they might be connected, such as diodes that only conduct for half the cycle, which would axe the DC idea if true.</p>
","<p>LED Christmas lights are wired in series to ""gobble"" up the 110V applied to them.  A great site to read up on this is <a href=""http://www.ciphersbyritter.com/RADELECT/LITES/LEDLITES.HTM"">here</a>.</p>
","6879"
"Using a diode to ensure current flows in only one direction, without causing a voltage drop","33571","","<p>To power my microcontroller (ATmega8), I am using a ~5.4V voltage source. I want to ensure that I don't accidentally connect the voltage source in reverse, and figured a diode would be a nice way to accomplish this as from what I have learned so far, a diode allows current to flow in one direction, and <em>blocks</em> it in the other.</p>

<p>But what I also learned is that diodes create drops in voltage. I have a few of the typical diodes (1N4001, 1N4148, etc.), and would like to use them to achieve the aforementioned result without dropping the voltage as it would be too low to power the IC.</p>

<p>My question is, is there any way to do this with a diode? Or do I need some other component (if so, what would you recommend)?</p>
","<p>You do <strong>not</strong> want an as low as possible voltage drop. The ATmega8 is specified for 2.7 V to 5.5 V operation, and that 5.5 V is actually 5.0 V with some margin. In the datasheet you'll see many parameters specified at 5 V.  </p>

<p>Your supply voltage is ~5.4 V. What does the ""~"" mean? That it may vary by a few percent? 3 % higher gives you 5.56 V, which is out of spec. It won't cause the AVR to go up in flames, but it's a good habit to stick to the specs.  </p>

<p>So <em>let</em> the voltage drop. <em>Allow</em> a 500 mV drop. The ATmega will consume only a couple tens of mA. A 1N4148 will drop typically 900 mV at 50 mA, which I would accept gladly, but which you may find too high. In that case go for the <strong>Schottky</strong>, like also suggested in other answers. You don't want a Schottky diode with a <a href=""http://www2.microsemi.com/datasheets/msc1300.pdf"">100 mV drop</a>, go purposely for one with worse specs. <a href=""http://www.diodes.com/datasheets/ds30116.pdf"">This one</a> will drop 450 mV at 100 mA.</p>
","38784"
"What is Frequency in electronics?","33558","","<p>This has been floating in my mind for a while, everything has a frequency. Like a dc-dc converter, my scope is 100 MHz(i know that's a bandwidth but it has the unit of frequency). I understand that an Astable 555 has a frequency which is the mark and space time based on the values of the cap and resistors. And then you have the use of band-pass filter which can filter different frequencies so what is this all about? How does a direct current have a frequency? And the relationship between bandwidth and frequency as they have the same units. </p>
","<p>Frequency is the inverse of time for repeating events. If a single cycle of your mains is 1/50 of a second in duration (0.02 seconds), then there will be 50 cycles in a second (1 / 0.02). We say the frequency is 50 Hz.<br>
The unit for frequency is the Hertz (Hz). 1 Hz is equal to 1 cycle per second, an older name for it (cps). It's a convenient unit, even for very short cycles we use, with a prefix: MHz, GHz. For longer cycles (near or longer than 1 Hz) we sometimes use the minute as unit: a heart rate of 70 beats per minute (BPM), a metronome setting of 100 BPM.<br>
Still longer cycles are often expressed as a period of time (1 / frequency).  </p>

<p>Every system has its typical (range of) frequencies. A heartbeat will be around 1-2 Hz, and the resonance frequency of a trampoline is also in the order of 1 Hz. Radio waves have a broad range of frequencies: 30 kHz (for a corresponding wavelength of 10 km) is VLF (very low frequency), while the magnetron of a microwave oven ""transmits"" at 2.45 GHz. And while 30 kHz is low for radio, it's already well beyond what we acoustically can perceive.</p>

<p>A higher frequency (top track in the picture) of a signal will be shown on an oscilloscope as a faster repetition than a lower frequency (bottom track).</p>

<p><img src=""https://i.stack.imgur.com/QM26K.jpg"" alt=""different frequencies""></p>

<p>""Direct current"" (DC) as a constant voltage has a frequency of 0 Hz.  </p>

<p>Bandwidth indicates a range of frequencies, going from the lower limit to the higher. If your scope can handle signals from DC (0 Hz) up to 100 MHz, its bandwidth is 100 MHz - 0 Hz = 100 MHz.</p>
","13383"
"New eagle library: reuse standard package & symbol","33536","","<p>I need to make few components in Eagle, which are all in standard packages, and I can see them in ref-packages.lbr.</p>

<p>The problem is that when I am creating my library I don't see how I can reuse package/symbol from another library, so that I only need to give new names to the pins and that's it? Package list is just empty and I can only draw one from scratch.</p>

<p>Unfortunately, all tutorials I've found in the internets do everything from scratch...</p>
","<p>You can just copy a package from another library into your own library and edit it. 
Are you asking how to copy between libraries?</p>

<ol>
<li>Open your own library (the one you
want to copy to).</li>
<li>Then bring the Control Panel window
to the front (leaving your library
open in the background).</li>
<li>In the list to the left, expand
Libraries and expand the name of the
library you want to copy from.</li>
<li>Locate the package or footprint you
want to copy, right click it, and
select Copy to Library.</li>
<li>Bring the window with your own
library to the front, locate the
newly copied package and edit it.</li>
</ol>
","16031"
"How can I power my 6-pin PCI Express card without using an ATX power supply?","33438","","<p>One of my older computers has a 365-watt power supply that, for various reasons, cannot be replaced with a new power supply. I would like to upgrade the graphics card in that computer, but all the acceptable cards I can find demand the extra 6-pin PCI Express power connector. After using a few power supply calculators, I've come to the conclusion that the additional 6-pin power connector would push my little power supply over the edge (not to mention my PSU lacks a 6-pin connector anyway).</p>

<p>So, would it be possible to create my own 6-pin PCIe connector that plugs into a regular wall outlet? I assume it would be possible with some horrid freakshow of power adapters tangled together, but I don't know where to start.</p>

<p>Some Wikipedia background info about the power connector I'm referring to:</p>

<blockquote>
  <p><em>PCI Express cards are allowed a maximum power consumption of 25W (×1: 10W for power-up). Low profile cards are limited to 10W (×16 to 25W). PCI Express Graphics 1.0 (PEG) cards may increase power (from slot) to 75W after configuration (3.3V/3A + 12V/5.5A). PCI Express 2.1 increased the power output from an x16 slot to 150W so that some high-performance graphics cards can be run from the slot power alone. <strong>Optional connectors add 75W (6-pin)</strong> or 150W (8-pin) power for up to 300W total.</em></p>
</blockquote>
","<p>So far the three answers are:  Yes, No, and Maybe.  I feel like I need to chime in here and give a more pragmatic answer.  But before I do that, let me give you my credentials so you know who this is coming from.</p>

<p>I design PCB's for a living.  Large and complex PCB's.  Recently I have designed a custom motherboard based on an Intel CPU as well as several PCI Express boards.  One of those PCI Express boards is powered by a supply that is separate from the ATX supply that powers the motherboard.  These are embedded systems, which means that I can get away with things that you couldn't in a standard PC.</p>

<p>On to my answer:</p>

<p>Don't do it!  If you value your sanity, don't bother trying.  It might work, but probably not.  The problem is, if it doesn't work then what are you going to do?  Do you have the tools and knowledge to debug it?  I'm guessing that you do not have a PCI Bus Analyzer or a copy of the PCI Express specification so the answer to that would be no.</p>

<p>Some of the things that might not work correctly:  </p>

<p>Some PCIe cards might connect the +12v from the MoBo to the +12v from the PCIe Power connector.  This is fine if both come from the same power supply, but not if there is a second supply.  In my opinion, this is a bad design but that doesn't matter.  You should check the card before trying anything.</p>

<p>There are tight specs for the time from when the power supply comes up until the PCIe card has to respond to PCIe activity from the motherboard.  If the two power supplies take different amounts of time to come up then this spec could be violated.</p>

<p>Feeding a PCIe card with 100-200 watts of power is still non-trivial.  The supplies themselves are expensive, too.  It turns out that the cheapest power supplies available for this <em>are</em> ATX supplies!</p>

<p>There could be some power sequencing issues, where certain PCIe signals come up before the receiver is ready.  Although unlikely, this could result in a damaged motherboard and/or PCIe card.  If something is damaged, it is likely due to a bad design-- but bad design are out there.</p>

<p>In my opinion, you will be time, headache, and possibly money ahead to replace your current PC and simply get a new one that can handle the PCIe card you want to use.  Otherwise, you would likely spend a lot of money on a new PCIe card and a power supply to power it only to end up with something that doesn't actually work.  Or worse, you might damage your current PC.</p>
","33273"
"Time taken to charge the capacitor","33426","","<p>Which equation can be used to calculate the time taken to charge the capacitor at the given amount of current and voltage at a constant capacitance?</p>
","<p>If you want a ""simple"" equation, and it seems that you do, you could start with definition of current.</p>

<p>First, let's start with the farad. It is usually expanded as \$F=\frac {As}{V}\$.</p>

<p>Now let's write that with symbols for capacitance, current, voltage and time:</p>

<p>\$C=\frac {It}{U}\$</p>

<p>Since we have constant current and voltage and we need time, we'll divide the equation with current and multiply with voltage so that we can get time.</p>

<p>That gives us \$\frac{UC}{I}=t\$.</p>

<p>If this is just a school problem, then we have a solution.</p>

<p>In real life things will work differently. As the capacitor charges, the voltage on the capacitor will drop resulting in drop of current and the time will therefore be longer.</p>

<p>Here's an example:
 <img src=""https://i.stack.imgur.com/B3Hkx.png"" alt=""[capacitor charger"">
Let's assume that at the beginning, the capacitor is discharged.
First we have the voltage on the resistor which is \$U_r=Ri\$. Then we have voltage on the capacitor which is \$U_c=\frac{1}{C} \int {i \mbox{ }dt} \$.</p>

<p>So we know that \$E=Ri+\frac{1}{C} \int {i \mbox{ }dt}\$. To solve this, we need to turn it into differential equation.</p>

<p>\$(E=Ri+\frac{1}{C} \int {i \mbox{ }dt}) / \frac{d}{dt}\$</p>

<p>Since \$E\$ is constant, it will turn into zero. The integration and differentiation will cancel each-other out and we'll get:</p>

<p>\$R\frac{di}{dt}+\frac{i}{C}=0\$ Next we divide everything with \$R\$ and get<br>
\$\frac{di}{dt}+\frac{i}{RC}=0\$ </p>

<p>After that we move the \$\frac{1}{RC}i\$ to the other side and multiply everything with \$dt\$ and divide everything with \$i\$ and we get:</p>

<p>\$\frac{di}{i}=-\frac{1}{RC}dt\$</p>

<p>Now we integrate everything and get
\$\int {\frac{di}{i}} = -\int {\frac{1}{RC}dt}\$
As a result, we get:</p>

<p>\$\ln{i}=-\frac{t}{RC}+C_1\$</p>

<p>Now to get rid of the logarithm, we raise everything to \$e\$<br>
\$i=C_1 e^{-\frac{t}{RC}}\$</p>

<p>Now we have the general solution and we need to determine the constants. So first we look at what's happening when the time is equal to zero:</p>

<p>\$i=C_1 e^{-\frac{0}{RC}} = C_1\$.</p>

<p>We also know that the initial current is \$i_{(0)}=\frac{E}{R}\$. From that we can determine that \$C_1=\frac{E}{R}\$.</p>

<p>The complete equation for the current is:<br>
\$i_{(t)}=\frac{E}{R} e^{-\frac{t}{RC}}\$</p>

<p>This is a classical capacitor charging equation and it is available on many sources on the Internet.</p>

<p>The \$RC\$ is also called the time constant, so \$\tau=RC\$. It is usually considered that five time constants are enough to charge a capacitor.</p>
","22507"
"STM32: Performing a software reset","33417","","<p>I am trying to perform a software reset of my STM32F2. (Reference manual available <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/REFERENCE_MANUAL/CD00225773.pdf"">here</a>.) The relevant page of the reference manual (page 80) gives little information. Basically, the <code>SYSRESETREQ</code> bit of the <code>Application Interrupt and Reset Control Register</code> must be set.</p>

<p>Now <a href=""http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0552a/Cihehdge.html"">this page</a> explains that to be able to modify the <code>SYSRESETREQ</code>, a specific ""key"" needs to be written to the <code>VECTKEY</code> bits.</p>

<p>Neither document explains where this <code>Application Interrupt and Reset Control Register</code> is. What is its address, and how can I access it?</p>
","<p>Why don't you use the CMSIS library? There is a specific function for that.</p>

<p>Moreover, This is the Code taken from CMSIS Library for System Software Reset:</p>

<pre><code>/******************************************************************************
 * @file:    core_cm3.h
 * @purpose: CMSIS Cortex-M3 Core Peripheral Access Layer Header File
 * @version: V1.20
 * @date:    22. May 2009
 *----------------------------------------------------------------------------
 *
 * Copyright (C) 2009 ARM Limited. All rights reserved.
 *
 * ARM Limited (ARM) is supplying this software for use with Cortex-Mx 
 * processor based microcontrollers.  This file can be freely distributed 
 * within development tools that are supporting such ARM based processors. 
 *
 * THIS SOFTWARE IS PROVIDED ""AS IS"".  NO WARRANTIES, WHETHER EXPRESS, IMPLIED
 * OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE.
 * ARM SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL, OR
 * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.
 *
 ******************************************************************************/

/* memory mapping struct for System Control Block */
typedef struct
{
  __I  uint32_t CPUID;                        /*!&lt; CPU ID Base Register                                     */
  __IO uint32_t ICSR;                         /*!&lt; Interrupt Control State Register                         */
  __IO uint32_t VTOR;                         /*!&lt; Vector Table Offset Register                             */
  __IO uint32_t AIRCR;                        /*!&lt; Application Interrupt / Reset Control Register           */
  __IO uint32_t SCR;                          /*!&lt; System Control Register                                  */
  __IO uint32_t CCR;                          /*!&lt; Configuration Control Register                           */
  __IO uint8_t  SHP[12];                      /*!&lt; System Handlers Priority Registers (4-7, 8-11, 12-15)    */
  __IO uint32_t SHCSR;                        /*!&lt; System Handler Control and State Register                */
  __IO uint32_t CFSR;                         /*!&lt; Configurable Fault Status Register                       */
  __IO uint32_t HFSR;                         /*!&lt; Hard Fault Status Register                                       */
  __IO uint32_t DFSR;                         /*!&lt; Debug Fault Status Register                                          */
  __IO uint32_t MMFAR;                        /*!&lt; Mem Manage Address Register                                  */
  __IO uint32_t BFAR;                         /*!&lt; Bus Fault Address Register                                   */
  __IO uint32_t AFSR;                         /*!&lt; Auxiliary Fault Status Register                              */
  __I  uint32_t PFR[2];                       /*!&lt; Processor Feature Register                               */
  __I  uint32_t DFR;                          /*!&lt; Debug Feature Register                                   */
  __I  uint32_t ADR;                          /*!&lt; Auxiliary Feature Register                               */
  __I  uint32_t MMFR[4];                      /*!&lt; Memory Model Feature Register                            */
  __I  uint32_t ISAR[5];                      /*!&lt; ISA Feature Register                                     */
} SCB_Type;

#define SCS_BASE            (0xE000E000)                              /*!&lt; System Control Space Base Address    */
#define SCB_BASE            (SCS_BASE +  0x0D00)                      /*!&lt; System Control Block Base Address    */
#define SCB                 ((SCB_Type *)           SCB_BASE)         /*!&lt; SCB configuration struct             */

#define NVIC_AIRCR_VECTKEY    (0x5FA &lt;&lt; 16)   /*!&lt; AIRCR Key for write access   */
#define NVIC_SYSRESETREQ            2         /*!&lt; System Reset Request         */

/* ##################################    Reset function  ############################################ */
/**
 * @brief  Initiate a system reset request.
 *
 * @param   none
 * @return  none
 *
 * Initialize a system reset request to reset the MCU
 */
static __INLINE void NVIC_SystemReset(void)
{
  SCB-&gt;AIRCR  = (NVIC_AIRCR_VECTKEY | (SCB-&gt;AIRCR &amp; (0x700)) | (1&lt;&lt;NVIC_SYSRESETREQ)); /* Keep priority group unchanged */
  __DSB();                                                                                 /* Ensure completion of memory access */              
  while(1);                                                                                /* wait until reset */
}
</code></pre>
","31605"
"What is it that strips vocals from audio when a 1/8"" audio jack is partially unplugged?","33412","","<p>Every once in a while, my eighth-inch audio jack will slip loose and I'll seemingly lose only the voice part of a track -- leaving somewhat of a ""karaoke"" version. What I would guess about how audio plugs work suggests that I'd be making this up; however, I've asked and others tell me they've experienced this as well.</p>

<p>What causes this stripped vocals from audio when a 1/8"" audio jack is partially unplugged?</p>
","<p>When the plug starts to slip out of the jack, very often it's the ground contact (sleeve) that breaks its connection first, leaving the two ""hot"" leads (left and right, tip and ring) still connected.</p>

<p>With the ground open like this, both earpieces still get a signal, but now it's the ""difference"" signal between the left and right channels; any signal that is in-phase in both channels cancels out.</p>

<p>Recording engineers tend to place the lead vocal signal right in the middle of the stereo image, so that's just one example of an in-phase signal that disappears when you're listening to the difference signal.</p>
","42627"
"Calculating resistor value and power rating for LED driving","33346","","<p>I have seen many resistances with difference Wattage i.e 1/4W, 1/2 W, 1 W, 2 W ,3W etc.
If I have 3 W Load which is an (large 3W) LED in my case, which Resistance should I use?</p>

<p>Also The LED I am using needs 3.5V DC and 0.8 A current. I have a Battery which outputs 8V. How can I calculate the Value of the resistance which can drop 8V to 6V? </p>
","<p>This is a basic electronics calculation, do it a hundred times before you move on.  </p>

<p>It's Ohm's Law:  </p>

<p>\$ V = I \times R \$  </p>

<p>or, put differently:  </p>

<p>\$ R = \dfrac{V}{I} \$</p>

<p>The voltage is the remainder after the 3.5V drop caused by the LED, so that's 8V - 3.5V = 4.5V. The current seems to be 800mA (though I see also 350mA here and there).  </p>

<p>\$ R = \dfrac{4.5V}{0.8A} = 5.6\Omega  \$  </p>

<p>Don't just pick a common 1/4W resistor. You should always, but especially with high currents like this, check what power it will consume.</p>

<p>\$ P = V \times I = 4.5V \times 0.8A = 3.6W \$</p>

<p>So the answer is a 5.6\$\Omega\$/5W resistor.</p>

<p>That's much of a waste however. Both LED and resistor see the same current, then their power ratio is the same as their voltage ratio. And the efficiency is 3.5V/8V = 44%, excluding the LED's own efficiency.  </p>

<p>A linear voltage regulator to bring down the 8V is no solution; it will dissipate the 3.6W just the same as the resistor. A switching regulator would help, but you'll have to keep its output pretty close to the LED's 3.5V to be maximum efficient. There are switchers which output a current instead of a voltage however, and they're made for the job. The <a href=""http://cds.linear.com/docs/Datasheet/3474fd.pdf"">LT3474</a> needs only a couple of external components, can drive 1A and can handle input voltages up to 36V. Efficiency for 1 LED at 800mA is slightly above 80% (for two LEDs it achieves near 90%).</p>
","32483"
"Complete alternatives to the Arduino IDE?","33334","","<p>I'm not that big of a fan of the official Arduino IDE (in terms of visuals), so I've started looking for nicer alternatives. However, most of the projects I've found are in alpha/beta and are generally incomplete.</p>

<p>I'm 100% new to circuit board programming and I've never used an Arduino before, but from what I gather the Arduino IDE is just a wrapper for an avr library which does the actual writing to the board. Are other ""arduino-like device"" IDEs a possible option?</p>

<p>Again, I'm very new to this so user-friendly-ness would be nice.</p>
","<p>Warning, a long-winded explanation is forthcoming.  I'd like to clear some misconceptions that I think you're having.</p>

<p>The Arduino is really two things.  </p>

<ol>
<li>A collection of C/C++ libraries compiled with avr-gcc and</li>
<li>A small bootloader firmware program which was previously programmed onto the chip from the factory.</li>
</ol>

<p>Yes, the Arduino IDE basically wraps avr-gcc - the AVR C compiler.  Your projects, or ""sketches"", incorporate the mentioned Arduino libraries and is compiled with avr-gcc.  However, none of this has anything to do with how anything gets written to the board.  How these sketches are deployed is a bit different than usual. </p>

<p>The Arduino IDE communicates with your Arduino over the usb-to-serial chip on the board and it initializes a programming mode that the bootloader understands and sends your new program to the chip where the bootloader will place it in some known location and then run it.  There is no ""avr library which does the actual writing"" - it's just the Arduino IDE opening a serial port and talking with the bootloader - this is how your debug messages get printed to the IDE during runtime as well.</p>

<p>Any alternative IDE will have to be able to do this same serial communication with the bootloader.  Arduino is easy because of all the libraries they already provide you with and one-touch program-and-run from the IDE.  I honestly don't think it gets any easier, or more user friendly. They've abstracted all the details of the AVR micro-controller and the building/deploying process.</p>

<p>The alternative would be something like avr-studio (which also uses avr-gcc for its compiler) and an ICSP programmer (which is an additional piece of hardware that you have to buy). You aren't provided with much other than some register definition header files and some useful macros.  You also aren't provided with any bootloader on your AVR chip, its just a blank slate.  Anything you want to do with the microcontroller, you'll have to go in depth and learn about its hardware peripherals and registers and move bytes around in C.  Want to print a debug message back to the PC? Write the UART routine for print() first and open a terminal on your computer.</p>

<p>A step lower from this you're writing code in an text editor and calling avr-gcc and avr-dude (programming command line tool) from a Makefile or command-line.</p>

<p>A step lower from that and you're writing assembly in a text editor and calling the avr-assembler and avr-dude.</p>

<p>I'm not sure where I'm going with this, I just think that the existing IDE and Arduino is absolutely genius and perfect for a beginner - their claim to fame <em>is</em> user friendly-ness. Maybe not the answer you're looking for, learn the work flow and make something cool with it.</p>
","22019"
"What kind of generator do i need to run a 1.5 or 2 ton Air Conditioner?","33321","","<p>I am planning to purchase a single AC that would operate on my Diesel generator. My Generator is a 5kVA , 8 HP air cooled one. I want to know that If I have to run only one AC on the generator shall I install a 2 Ton Split AC or a 1.5 Ton Split AC?</p>

<p>Also I Want to know the diesel consumption by the generator per hour.</p>
","<p>The cooling capacity is not relevant. The power consumed is important, but you also need to know the current. AC motors need more current than the minimum required for the power consumption. You also need to make sure you have the right voltage and whether you need single-phase or three phase. The KVA for a motor that consumes 1438 watts will probably be between 1.7 and 2.6 KVA.</p>

<p>Watts = VA X Power Factor It is customary for engine generator sets to be designed for 0.8 maximum power factor so 5000 VA X 0.8 = 4000 W would be expected.</p>
","230484"
"How do I change the properties of several objects at once?","33246","","<p>I have several lines and arcs in an EAGLE footprint library I need to modify to make thicker.  In Altium it's straightforward to hold Ctrl, click on a bunch of objects, open up their properties and change them all at once.  In EAGLE I have no idea.</p>

<p>EAGLE's ""group"" paradigm seems a little far-flung from the standard, so my attempts to use that may be a dead end, but is there some better way?  Is there some magic command I could run to give every single line and arc in a library part on layer X a thickness of Y?  How about in a PCB, smashing all the parts and changing all their labels to font Z with size W?</p>
","<p>You probably need the <em>change</em> (""wrench"") tool available from the GUI. But it might also worth considering using some Eagle <em>commands</em> for that purpose.</p>

<p>Assuming for example you want to change the thickness of your wires to 30 mil,
first you have to select those tracks as usual, then you might issue the following commands:</p>

<pre><code>change width 30 mil
(&gt; 0 0)
</code></pre>

<p>The <code>(&gt; 0 0)</code> part simulate the right-click required to apply changes.</p>

<p>If you need to change the thickness of <em>all</em> the wires, this might be scripted even further:</p>

<pre><code>display none top
group all
change width 30 mil
(&gt; 0 0)
display last
</code></pre>
","116667"
"Single transistor level up shifter","33136","","<p>I need a simple, single directionnal level shifter for 3.3V -> 5V conversion.</p>

<p>There are many options on the internet, some using a logic ic and some using 2 NPN transistors (converter and inverter), but I never found an option using only a single transistor (and 2 resistors).</p>

<p>My understanding is that when input is at 3.3V, the transistor is blocking and R2 pulls output up ; while when input is 0V the transistor is passing and pulls output down to transistor VCE(sat). </p>

<p><img src=""https://i.stack.imgur.com/EUVMW.png"" alt=""single directional level up shifter""></p>

<p>So, why wouldn't such a converter work? There must be a reason...</p>
","<p>The single-BJT level shifter in the question would work: If the input impedance of the device on the 5 Volt side is significantly higher than the 6.8 k shown in the question, the expected <strong>~0.3 to ~5 Volt</strong> signal would be received (<em>taking a <a href=""http://www.fairchildsemi.com/ds/PN/PN2222A.pdf"">2n2222</a> as an example</em>). </p>

<p>However, for lower impedance inputs, the input would act as a voltage divider with the 6.8 k resistor, attenuating the high part of the signal significantly. </p>

<p>For instance, if the input impedance of the load on the 5 Volt side were, say, 100 k, the signal would top out at around 4.6-4.7 Volts. Still not too bad. </p>

<p>Any lower, and the level becomes problematic. This is when one needs an alternative, such as a two-transistor set-up mentioned in the question, to drive the output rail harder.</p>
","82108"
"What is CV & CC in power supplies?","33012","","<p>In many power supplies, there's CV &amp; CC indicators. What does they mean?</p>
","<p>They are acronyms and stand for ""Constant Voltage"" or ""Constant Current"".</p>

<p>They usually are associated with a LED or an indicator of some kind, as you suggest. When you use a power supply you usually set the desired voltage and the maximum current. When you connect the load two things can happen:</p>

<ul>
<li>The load requires more current than the maximum you set</li>
<li>The load requires at most the maximum current you set</li>
</ul>

<p>In the first case the PSU become a current source: the current is limited to what you set and voltage drops accordingly, that's CC for you. In the second case what is costant is the voltage, so that's CV.</p>

<p>As an example, consider this case: you set the voltage at 10V and set the maximum current at 1A, then you hook up a load that is over \$10\Omega\$ . As you know that requires at most 1A, so the voltage is constant while the current can vary between 0A and 1A. If you then hook up a lower impedance load it would require a higher current, but now the current protection kicks in so the current is limited to 1A, and it is constant, while voltage varies between 10V and 0V.</p>
","114917"
"Options for short range distance determination between two objects","32991","","<p>I have a project idea in mind, but it involves calculating the distance between two people. I've looked into Bluetooth, RFID, and NFC (unsure about this one), but none appear to offer the accuracy I would need (I am a novice at best, so I would welcome being corrected on this).</p>

<p>Bluetooth: seems to only be able to detect that someone is either in range or not in range. And although that range works well for what I want to do (~30 feet is common?), I would ideally be able to specify distances within that range at 5 foot intervals.</p>

<p>RFID: seems to only work with very short (sub-meter) distances.</p>

<p>NFC: Unsure</p>

<p>Would one of these options work, or are there others that could work? Or is GPS the only route?</p>

<p><strong>UPDATE:</strong> The idea is a child safety ""net"". A child would have some kind of beacon on them that only needs to send out a signal, and then the receiver would be on the parent. That way, if the child moved more than x distance away from the parent, the parent would be notified.</p>

<p>Ideally the parent would be able to set a different allowable distance depending on the environment they were in (crowded city street - small radius, park - large radius).</p>
","<p>This idea might be patented, so it might not be suitable for a commercial project, but you can actually measure the position and orientation of one electronic device relative to another, with reasonable accuracy, using magnetic fields. This is how <a href=""http://www.polhemus.com/"" rel=""nofollow noreferrer"">Polhemus</a> and <a href=""http://www.ascension-tech.com"" rel=""nofollow noreferrer"">Ascension</a> trackers work. They are used in VR motion tracking, and in surgery for tracking the position of surgical instruments during operations.</p>

<p><img src=""https://i.stack.imgur.com/NJoTk.png"" alt=""3 orthogonal coils""></p>

<p>The basic concept is to have one set of coils transmitting, and another receiving. The transmitter coils emit audio frequency alternating magnetic fields, and the receiver coils then measure the amplitude of the fields in the three receiver coils. </p>

<p>There is some <a href=""http://home.comcast.net/~traneus/emtrackertricoil.htm"" rel=""nofollow noreferrer"">code</a> available online for doing these calculations. You might also take a look at the guy's project page: <a href=""http://www.na-mic.org/Wiki/index.php/2012_Summer_Project_Week:Open_source_electromagnetic_trackers_using_OpenIGTLink"" rel=""nofollow noreferrer"">Open source electromagnetic trackers using OpenIGTLink</a>.</p>

<p>This may not be quite the system you're looking for, as it's fairly complex, and is giving you much more info than you wanted. However, a simpler algorithm could be used which just gave you distance.</p>

<p>A company called Sixense make a <a href=""http://sixense.com/razerhydrapage"" rel=""nofollow noreferrer"">gaming controller</a> with a 6DOF sensor in it. I don't know how easy it would be to integrate this technology into your project though.</p>

<h2>Update:</h2>

<p>Now that I know what your application is, I have been thinking of a very similar application. My suggestion would be this:</p>

<p>Use the three orthogonal coils approach. Both the mother and child have a set of coils. The child would be the transmitter. Every few seconds, the child module would transmit an acoustic frequency magnetic field on each coil in turn. The mother module would measure the amplitude of the voltage induced in its coils. If the amplitude was too low, or if no signal was heard for more than a few seconds, then the alarm sounds.</p>
","33111"
"Basic questions about transistor amplification","32976","","<p>Can anyone explain how a transistor can amplify voltage or current? According to me, amplification means - You send in something small, it comes out bigger. Say for example, I want to amplify a sound wave. I whisper to a sound amplifier, &amp; it comes out say, 5 times bigger(depending on the amplification factor)</p>

<p>But when I read about <a href=""http://books.google.co.in/books?id=VXIpwBYOjcgC&amp;lpg=PR7&amp;dq=boylestad%20nashelsky&amp;pg=PA138#v=onepage&amp;q=boylestad%20nashelsky&amp;f=false"">Transistor Amplifying action</a>, all text books say that since a small change in the Base current ΔIb but a corresponding large change in Emitter current ΔIe, there is amplification. But where is amplification? What is being amplified as I've defined it? Is my understanding of the term <em>amplification</em> wrong? And how is current being transferred from a low resistance area to a high resistance area?</p>

<p>I think I've understood how the transistor is constructed &amp; how the currents flow. So can anyone explain the transistor amplification action clearly &amp; relate it to what I understand about amplification.</p>
","<p>I'll start first with definition of amplification. In the most general way amplification is just a ratio between two values. It does not imply that the output value is greater than the input value (although that's the way it's most commonly used). It is also not important if the current change is big or small.</p>

<p>Now let's move to some common amplification values used:</p>

<p>The most important (and the one your question talks about) is \$ \beta\$. It is defined as \$ \beta= \frac {I_c} {I_b} \$, where \$I_c\$ is the current going into the collector and \$I_b\$ is the current into the base. If we rearrange the formula a bit, we'll get \$I_c=\beta I_b\$ which is the most commonly used formula. Because of that formula, some people say that the transistor ""amplifies"" the base current.</p>

<p>Now how does that relate to the emitter current? Well we also have the formula \$I_c+I_b+I_e=0\$ When we combine that formula with the second formula, we get \$\beta I_b + I_b + I_e=0\$. From that we can get the emitter current as \$-I_e=\beta I_b + I_b= I_b (\beta + 1)\$ (note that \$ I_e\$ is current going into the emitter, so it's negative). </p>

<p>From that you can see that using the \$ \beta \$ as a handy tool in calculations, we can see the relationship between the base current of the transistor and the emitter current of the transistor. Since in practice the \$ \beta \$ is in the hundreds to thousands range, we can say that the ""small"" base current is ""amplified"" into ""large"" collector current (which in turn makes ""large"" emitter current). Note that I didn't speak about any deltas until now. That's because the transistor as an element does not require current to change. You can simply connect the base to a constant DC current and the transistor will work fine. If the change in current is required, it's not because of the transistor but because of the rest of the circuit which could be blocking the DC part of the input current. </p>

<p>There is another value also used and it's name is \$ \alpha\$. Here's what it is: \$ \alpha = \frac {I_c} {I_e} \$. When we rearrange that, we can see that \$I_c= \alpha I_e\$. So \$ \alpha\$ is the value by which the emitter current is amplified in order to produce collector current. In this case, the amplification actually gives us a smaller output (although in practice \$ \alpha \$ is close to 1, something like 0.98 or higher), because as we know, the emitter current going out of the transistor is the sum of the base current and collector current which are going into the transistor. </p>

<p>Now I'll talk a  bit about how transistor amplifies the voltage and current. The secret is: It doesn't. The voltage or current amplifier does! The amplifier itself is a bit more complex circuit which is exploiting properties of a transistor. It also has input node and output node. The voltage amplification is the ratio of voltage between those nodes \$A_v = \frac {V_{out}}{V_{in}}\$. The current amplification is ratio of currents between those two nodes: \$ A_i=\frac {I_{out}}{I_{in}}\$. We also have power amplification which is the product of current and voltage amplification. Do note that the amplification can change depending on the nodes we chose to be input node and output node!</p>

<p>There are few more interesting values related to transistors which you can find <a href=""http://en.wikipedia.org/wiki/Transistor_beta#h-parameter_model"">here</a></p>

<p>So to sum this up: We have transistor which is doing something. In order to safely use transistor, we need to be able to represent what transistor is doing. One of the ways of representing processes happening in the transistor is to use the term ""amplification"". So using amplification, we can avoid actually understanding what is happening in transistor (if you have any semiconductor physics classes, you'll learn that there) and just have few equations which will be useful for a large number of practical problems. </p>
","24615"
"Can I output a HDMI signal with an Arduino?","32966","","<p>There's various articles online detailing how to use an Arduino to output a VGA signal, but can I use it to output a HDMI signal or is it simply not fast enough? It would only be used to display some basic text, nothing in the way of fancy graphics.</p>
","<p><strong>No, not directly.</strong> Arduinos just don't have the horsepower to do such a task. For this project, I would recommend using a Raspberry Pi. Take a look at this awesome blog post by Joonas Pihlajamaa on using a <a href=""http://codeandlife.com/2012/12/27/raspberry-pi-as-arduino-hdmi-shield/"">Raspberry Pi as a Arduino HDMI shield</a>.</p>
","67099"
"Is it possible to extract code from an arduino board?","32959","","<p>Is there a way to export code for an arduino even as a hex file?</p>
","<p>Perusing the source code of the Arduino bootloaders at <a href=""https://github.com/arduino/Arduino/tree/master/hardware/arduino/bootloaders"" rel=""nofollow"">https://github.com/arduino/Arduino/tree/master/hardware/arduino/bootloaders</a> it appears that they do in fact support the stk500 readback functionality for flash memory, such that you can accomplish your goal with a client program such as avrdude.   </p>

<p>So the answer to the question is that if you can access the bootloader, then yes you can read out the contents of the flash memory in a binary or hex format, <strong><em>without</em></strong> resorting to an external programmer.</p>

<p>If you cannot access the bootloader (reset troubles, or no intact bootloader present) then you may be able to do so with an external programmer, provided security fuse settings do not prevent this.</p>
","61159"
"Voltage and Current Limiting Circuit","32933","","<p>I'm a newbie to circuit design, so I think I'm either really lost or over thinking this (most likely the former).  I need a circuit that will act like a current limiting power supply, which I can design in a specific voltage (20mV) and current limit (100mA) across multiple independent outputs.  Each of my outputs will likely be shorted or see very low resistance.</p>

<p>So far, I've looked ICs that can provide a constant current source, but none are in the current range I need.  I've looked at voltage regulators, but I'm not sure how I could limit the current from them.  </p>

<p>The most promising thing I've seen so far is using a two transistor current limiter, like this:</p>

<p><a href=""http://upload.wikimedia.org/wikipedia/en/f/fd/Current_Limiter_NPN.PNG"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/p8rAB.png"" alt=""Current limiter""></a></p>

<p>Source: <a href=""http://upload.wikimedia.org/wikipedia/en/f/fd/Current_Limiter_NPN.PNG"" rel=""nofollow noreferrer"">Wikipedia</a></p>

<p>Is is likely to work?  If I have multiple circuits like this (connected to the same VCC and GND), would it still work as intended?  Is there a much better way to approach this problem?</p>
","<p>An assumption need to be made which you may wish to clarify. If you want 20 mV at UP TO 100 mA then none of the circuits will work without both a current control and voltage control function. The following circuits deal with current control. These can be used to feed a standard 20 mV voltage regulator circuit. If Iload is &lt; Icurrent_limit then the VR works as desired. If Iload tries to exceed  current limit then VR is starved of current. So ...</p>

<p>Your circuit will work but is relatively low quality - it depends on the Vbe of Q2 being well defined - which it tends not be be.Steven says that the top transistor needs more than 20 mV Vbe, which is true BUT if you set the current of choice and IF the load drops 20 mV at that current then Q1 will assume whatever Vce is required to drop 20 mV across the load. </p>

<p>Original circuit. Not marvellous - </p>

<p><img src=""https://i.stack.imgur.com/Yj14b.jpg"" alt=""enter image description here""></p>

<p>Much better are circuits similar to the one below <a href=""http://instrumentation.obs.carnegiescience.edu/ccd/base/heater.html"" rel=""nofollow noreferrer"">from here</a>.<br>
 I've modified this slightly but left their values in place as this is to give an idea only.<br>
 The system turns Q3 on until V_Rsense = Vref.<br>
 So I_constsnt-current = Vref/Rsense.<br>
 Vref can be divided from some input voltage as shown using a divide ratio to suit. . You can provide a variable voltage from a pot or a microcontroller etc if desired to vary the current. Note that this is a current sink with the load being supplied from some V+ of choice. Need not be the same V+ as Vcc = BPS+</p>

<p><img src=""https://i.stack.imgur.com/gAky2.jpg"" alt=""enter image description here""></p>

<p><a href=""https://www.google.co.nz/search?q=current+source&amp;hl=en&amp;safe=off&amp;prmd=imvns&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ei=K2P6T_iZEOijiAfU4JjlBg&amp;ved=0CGAQsAQ&amp;biw=1536&amp;bih=864"" rel=""nofollow noreferrer"">https://www.google.co.nz/search?q=current+source&amp;hl=en&amp;safe=off&amp;prmd=imvns&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ei=K2P6T_iZEOijiAfU4JjlBg&amp;ved=0CGAQsAQ&amp;biw=1536&amp;bih=864</a></p>

<p><a href=""http://www.analog.com/static/imported-files/images/verified_circuits/CN0151_01_1024.gif"" rel=""nofollow noreferrer"">Similar but with MOSFET and uC drive</a></p>

<hr>

<p>This is similar but uses the voltage across R1 to provide a high side current source. <a href=""http://www.eecs.tufts.edu/~dsculley/tutorial/opamps/opamps7.html"" rel=""nofollow noreferrer"">From here</a> but he says it's copied from ""The art of electronics"". Note again that Vref is the HIGH side voltage across R1.<br>
 ie Icc = Vref / R2 = [V+ x R1/(R1+R3)] / R2</p>

<p><img src=""https://i.stack.imgur.com/khMwE.jpg"" alt=""enter image description here""></p>

<hr>

<p>Some thoughts from Maxim <a href=""http://www.maxim-ic.com/app-notes/index.mvp/id/3869"" rel=""nofollow noreferrer"">from here</a>.</p>

<p><img src=""https://i.stack.imgur.com/J8f1x.gif"" alt=""enter image description here""></p>

<hr>

<p><a href=""https://www.google.co.nz/search?q=current+source&amp;hl=en&amp;safe=off&amp;prmd=imvns&amp;tbm=isch&amp;tbo=u&amp;source=univ&amp;sa=X&amp;ei=K2P6T_iZEOijiAfU4JjlBg&amp;ved=0CGAQsAQ&amp;biw=1536&amp;bih=864"" rel=""nofollow noreferrer"">Many related thoughts from all over </a></p>
","35337"
"What is the usage of Zero Ohm & MiliOhm Resistor?","32864","","<p>I am new to PCB design and I noticed that some schematics use 0Ω or 100mΩ resistors. What is their purpose and why do we need to use them in our PCB design?</p>

<p>Normally if we wish to probe how much current the load is taking, we put a jumper pin across the PCB trace (then measure current across the pin using a multimeter). Adding resistors for this purpose seems like it would waste a lot of PCB real-estate. Is this the sole reason why 100mΩ resistors are being placed (since I = V/0.1Ω) instead of a jumper pin? </p>

<p>If so, is there any consideration we should take when placing such a mΩ resistor on board so it doesn't affect the signal or behaviour of the circuit?</p>
","<p>Zero Ohm ""resistors"" are frequently used as links on single side boards because they can be placed by component insertion machines that can insert resistors.</p>

<p>High volume single sided board manufacturers often use a separate link inserting machine - whose frighteningly fast speeds need to be seen to be believed. </p>

<hr>

<p>A 1 Ohm resistor is ""just another component"".<br>
It may be used as a current sense resistor or for some other circuit function. </p>

<p><strong>If using resistors for current sensing for measurement purposes.</strong></p>

<p>Worst case voltage drop across them should be small compared to total circuit voltage so that they do not affect operation. eg if a circuit draws 1 amp and has a 5V supply then a 1ohm resistor would drop 1 Volt. This is 20% of total circuit voltage and would be excessive in essentially all real world cases.<br>
A 0.1 Ohm resistor would drop 0.1 V at 1A = 2% of supply and MAY be acceptable depending on circuit.<br>
A 0.01 Ohm resistor will drop 0.01V at 1A = 0.2% and would almost always be acceptable.</p>

<p>The 0.1 Ohm resistor will drop 100 mV per Amp so  1 mA will produce 100 uV.<br>
 Many low cost DMMs have a 200 mV range with a <strong>resolution</strong> (<strong>but not accuracy</strong>) of 0.1 mV = 100 uV, so they can read current in a 0.1 Ohm resistor to 1 mA <strong>resolution.</strong> Similarly they can read current in a 0.01 Ohm resistor to 10 mA resolution. </p>

<p>Placing the sense resistors with one side grounded allows ground referenced measurement which may be convenient. The Voltage drop must not affect circuit operation.</p>

<p>Sometimes bypassing the sense resistor with a capacitor - maybe 10 uF or 100 uF depending on circuit, will further reduce impact on the circuit.</p>

<p>Where high frequency noise is present use of a DMM or other meter to measure voltage so as to calculate current will give bad results die to noise entering the meter. In such a case use an eg 0.1 Ohm sense resistor, feed the voltage via a series 1k resistor to the meter and add a say 10 uF across the meter terminals.</p>
","42760"
"How many individual lights can an arduino control","32823","","<p>I want to use a regular Arduino board to control LEDs - what is the most lights I can control individually from the board?</p>

<p>Is there a tutorial on how to hook it up?</p>
","<p>I believe using Charlie-plexing N lines controls N*(N-1) LEDs.
There is a good article on Wikipedia.</p>

<p>A friend of mine, Jimmie P. Rodgers, fit 126 LEDs on an Arduino Shield. 
He uses charlie-plexing to control the LEDs.
Some information on his board is at -- 
<a href=""http://web.archive.org/web/20100621074401/http://jimmieprodgers.com/2009/12/my-development-process"" rel=""nofollow noreferrer"">jimmieprodgers.com/2009/12/my-development-process/</a> (archive.org copy)</p>

<hr>

<p>At the last Boston Arduino User Group meeting Jimmie P. Rodgers drew a
Charlie-plexing diagram as a matrix with labeled nets. Schematics drawn in this
manner seemed to do a good job of communicating the concept. I created
a couple of similar schematics -- See <a href=""http://wiblocks.luciani.org/FAQ/faq-charlie-plex.html"" rel=""nofollow noreferrer"">http://wiblocks.luciani.org/FAQ/faq-charlie-plex.html</a></p>
","1610"
"How to reduce voltage without using Transformer?","32819","","<p>Is there any way to reduce voltage without using transformer? I have a supply of 24 volts AC @ 1500mA (1.5A) and I want to convert it into 6 volts @ 500mA. Because I have to supply the 6 volts to the 7"" compact LCD screen via rectifier. Since, there is no enough space available in the LCD housing to use transformer and I think transformer may also cause screen to damage due to its magnetic fields.</p>

<p>Schematic will be highly appreciated.</p>
","<p><strong>External transformer</strong> will work well.
If you can find a mains to suitable multiple low voltage output windings transformer  you can make your own step down. eg a 12/12/6 can be arranged as a 24:6 which is about right.</p>

<hr>

<p><strong>SMPS is a good idea</strong> due to efficiency.<br>
 Slightly more dangerous load safety wise - see below. </p>

<p>eg ye olde <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00001232.pdf"" rel=""nofollow noreferrer"">MC34063</a></p>

<p>This would cost a few dollars.<br>
 Note that with <strong>ANY</strong> non isolated circuit protection should be provided that will blow a fuse if the converter fails shirt circuit. Running yuour LCD on 24V would be a bad idea. See fig 24 in the above datasheet that shows an isolated output converter. </p>

<p><img src=""https://i.stack.imgur.com/e9zo8.jpg"" alt=""enter image description here""></p>

<hr>

<p><strong>Resistor dropper + regulator Cheap and nasty solution that works OK</strong>   </p>

<p>Note that this is quick and easy and nasty. Not recommended but doable. </p>

<p>Rectify 24VAC to about 34 Volts (!)<br>
 Pass this through a 47 ohm 20 Watt resistor (can be several smaller resistors in suitable series / parallel arrangement) and then<br>
 connect this to a 5V, 1A regulator such as LM340, 7805 etc.</p>

<p>Resistor max drop = 0.5A x 47R =~ 24 V.<br>
 V into regulator = 34-24 = 10V max.</p>

<p>Power in resistor = I^2 x R = 0.25 x 48 = 12 Watt.<br>
 Use much larger rating eg 20W+</p>

<p>You can tailor R so that V in to regulator is about 8V. Less may cause troubles.<br>
 You need a cap at regulator input.</p>

<p>Heatsink regulator appropriately. </p>
","22261"
"How do I work out what temperature to use when desoldering?","32767","","<p>I have a temperature controlled soldering station, and know that I need to set the temperature appropriately for soldering based on the solder I use when soldering, but how do I determine what temperature to use when de-soldering components from a commercially manufactured PCB?</p>

<p>So far I have just been using 400&deg;C and been careful not to heat for too long, but searches here on electronics and on the wider web have not been able to tell me how to work out what the ideal temperature for de-soldering would be.</p>
","<p>Desoldering in theory should utilize the same temperatures as soldering. Flux present during soldering helps reduce the required temperature. The same is true for desoldering, apply some flux to remove contaminants.</p>

<p>The melting point (<a href=""http://www.astro.umd.edu/~harris/docs/WellerSoldering.pdf"" rel=""noreferrer"">per Weller</a>) for various solder compositions is as follows:</p>

<pre><code>Tin/Lead        Melting Point °C (°F)
--------        ---------------------
40/60           230 (460)
50/50           214 (418)
60/40           190 (374)
63/37           183 (364)
95/5            224 (434)
</code></pre>

<p>Please note, these temperatures are melting points, <strong><em>not</em></strong> recommended soldering or desoldering iron temperatures.</p>

<p>Most guides recommend starting with the lowest temperature that will work in a short amount of time. This is a matter of opinion, but generally no less than 260°C (500°F).</p>

<p>The following factors will greatly affect desoldering performance:</p>

<ul>
<li>The type of solder used (lead-free requires higher temperatures)</li>
<li>The age of the board and amount of contamination</li>
<li>The number of layers in the board</li>
<li>Size of ground/power/thermal planes connected to joint being desoldered</li>
<li>Mass of component, leads, heatsink, etc.</li>
</ul>

<p>For example, desoldering a small through-hole component with small traces on a 2-layer board is much easier than desoldering the same component on a multi-layer board with large copper pours connected to the component. A larger component with more mass will require more time or more heat.</p>

<p>Think of it this way, if you set your temperature to 370°C (700°F) (a starting temperature recommended by Weller), the mass of solder and copper closest to the iron tip will heat quickly, but it will take some time for that heat to spread. If you are desoldering something with a heat sink or a ground plane, the extra mass will conduct heat away from the area of interest, and you must either apply the iron for a longer duration, or increase the temperature. The danger is that you may damage components if you exceed their temperature tolerance.</p>

<p>The Hakko 808 desoldering gun (which I use) ranges from 380-480°C (715-895°F). It does a remarkable job for most things, but I've occasionally needed to preheat a board for stubborn components that have a lot of mass or are connected to a heatsink.</p>

<p>Your temperature selection of 400°C (750°F) seems good. You could start at a lower temperature since you have the option, depending on the above factors.</p>
","93072"
"How do LED light bulbs work?","32751","","<p>I have been using and making LED flashlights for years now and I am VERY familiar with all of the circuitry and technology inside of them, but I just got my first LED house light bulb that runs off of 110v AC electricity.  It is very similar to a flashlight - it has a large heatsink, and 1 or more LEDs inside of it (brand and specs of emitters, I do not know).  The part that I am most curious about is how the electricity from the socket gets to the emitter.  In a flashlight the power comes from a DC battery through a current regulator (LED driver) and into the LED itself.  This is not difficult because the voltage of common LED emitters is about the same voltage as Lithium batteries (3.7v, 7.4v, etc) which makes the current limiting relatively simple coming from a one or two cell light.</p>

<p>How does this work for a high voltage AC bulb?  Is there a transformer and rectifier inside of EVERY bulb (I sure hope not), or are the emitters manufactured to run off of 110v AC power and just use half of the wave cycle?</p>
","<p>There are several circuits on the internet from noatable sources that show how LEDs can be powered directly from an AC supply without a transformer. Here's one from ON semi: -</p>

<p><img src=""https://i.stack.imgur.com/ypfOJ.jpg"" alt=""enter image description here""></p>

<p>And <a href=""http://www.onsemi.com/pub_link/Collateral/AND8146-D.PDF"">here</a> is the document it came from. The document is entitled ""High Current LED - capacitive drop drive application note"".</p>

<p><a href=""http://www.edn.com/design/led/4363923/Flash-an-LED-from-ac-mains-power"">Here</a> is another interesting article, this time from EDN. It shows the following diagram, again transformerless: -</p>

<p><img src=""https://i.stack.imgur.com/cjtfA.png"" alt=""enter image description here""></p>

<p>And another article and circuit <a href=""http://www.eeweb.com/blog/extreme_circuits/mains-powered-white-led-lamp"">here</a>: -</p>

<p><img src=""https://i.stack.imgur.com/VnMcU.jpg"" alt=""enter image description here""></p>
","76895"
"Diode Logic Gates","32730","","<p>For some reason, I understand transistor logic gates, and I am able to solve problems, but for some reason I do not understand the and / or logic gates constructed by diodes. If someone can explain it to me using circuit analysis, I would appreciate that. 
<img src=""https://i.stack.imgur.com/ntAAj.gif"" alt=""enter image description here""></p>
","<p>All you have to remember, is that current flows through a diode in the direction of the arrow.</p>

<p>In the case of the OR gate, if there is no potential (i.e. logic 0, or ground) on <em>both</em> inputs, no current will pass through either diode, and the pull-down resistor R\$_{L}\$ will keep the output at ground (logic 0).</p>

<p>If <em>either</em> of the inputs has a positive (logic 1) voltage on its input (In 1 or 2), then current will pass through the diode(s) and appear on the output Out, less the forward voltage of the diode (aka diode drop). </p>

<p>The AND gate looks more challenging because of the reversed diodes, but its not.</p>

<p>If either input (In 1 or In 2) is at ground potential (logic 0), then due to the higher potential on the anode side due to the positive voltage from resistor R\$_{L}\$, current will flow through the diode(s) and the voltage on the output Out will be equal to the forward voltage of the diode, 0.7v.</p>

<p>If <em>both</em> inputs to the AND gate are high (logic 1), then no current will pass through either diode, and the positive voltage through R\$_{L}\$ will appear on the output Out.</p>

<p><strong>--------------------------------------------</strong></p>

<p>As an aside, diode logic by itself is not very practical.  As noted in the description of the OR gate for example, the voltage on the Out terminal when there is a logic high (1) on either of the inputs will be the voltage on the input minus a diode drop.  This voltage drop cannot be recovered using just passive circuits, so this severely limits the number of gates that can be cascaded.</p>

<p>With diode logic, it is also difficult to build any gates other than AND and OR.  NOT gates are not possible.</p>

<p>So enter DTL (diode transistor logic), which adds an NPN transistor to the output of the gates described above.   This turns them into <a href=""http://en.wikipedia.org/wiki/NAND_gate"" rel=""noreferrer"">NAND</a> and <a href=""http://en.wikipedia.org/wiki/NOR_gate"" rel=""noreferrer"">NOR</a> gates, either of which can be used to create any other kind of logic function. </p>

<p>Sometimes a combination of diode logic and DTL will be used together; diode logic for its simplicity, and DTL to provide negation and regeneration of signal levels.  The guidance computer for the <a href=""http://en.wikipedia.org/wiki/LGM-30_Minuteman"" rel=""noreferrer"">Minuteman II missile</a>, developed in the early 1960's, used a combination of diode logic and diode transistor logic contained in early integrated circuits made by Texas Instruments.</p>
","131863"
"Digital Dimmer With Microcontroller","32679","","<p>I want to build a digital dimmer for resistive Loads. 
I have found this circuit for that:</p>

<p><a href=""http://postimage.org/image/zec0pz0cd/"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VduhC.gif"" alt=""dimmer""></a></p>

<ul>
<li>The input voltage is 220VAC 50Hz.</li>
<li>The red box in the picture is for <code>Zero Crossing Detection</code>.</li>
</ul>

<p>When the AC voltage crosses the zero, the Microcontroller will be interrupted an therefore detects the zero crossing. so you can reach to the required voltage by triggering the <code>Triac</code> after a specific <code>Delay</code>.Do you recommend this circuit? if so, please let me know if there is any IC to replace with the <code>Red Box</code> (shown in the picture) to detect the zero points of AC voltage (as my circuit should be as small as possible)? </p>

<p>P.S. As I need this circuit to reduce the consumed energy of Loads, the circuit itself must dissipate at most 5 watts.</p>
","<p>In the answers to <a href=""https://electronics.stackexchange.com/questions/33042/how-do-i-select-the-accompanying-components-for-an-optocoupler/33043#33043"">this question</a> is explained how you can do that complete zero-crossing detection circuit with just U1, R12 and 2 series resistors on the 220 V side. One solution uses a common optocoupler, the other one a Darlington optocoupler, which needs less current to drive the optocoupler's LED, so that's less power in the series resistors (less than 200 mW for the complete zero-crossing detector).  </p>

<p><img src=""https://i.stack.imgur.com/WIHIr.png"" alt=""enter image description here""></p>

<p>This replaces the red box plus the rectifier at the left.  </p>

<p><strong>edit</strong> dd. 2012-07-14<br>
If an AC input optocoupler is too expensive, then you can use a common optocoupler with a 1N4148 in anti-parallel:  </p>

<p><img src=""https://i.stack.imgur.com/BartJ.png"" alt=""optocoupler"">  </p>

<p>You'll have the advantage of lower cost and wider offering. The <a href=""http://media.digikey.com/pdf/Data%20Sheets/Lite-On%20PDFs/LTV-817_827_847%28M,S,S_TA1%29.pdf"" rel=""nofollow noreferrer"">LTV-817</a> costs only 10 cent in 1000 quantity, yet has a respectable 50 % CTR. For only 2 cent more you get the <a href=""http://media.digikey.com/pdf/Data%20Sheets/Lite-On%20PDFs/LTV-815_825_845%28M,S,S_TA1%29.pdf"" rel=""nofollow noreferrer"">LTV-815</a>, which has a <a href=""https://electronics.stackexchange.com/a/33428/2064"">Darlington output</a>. Instead of 1 positive pulse every half period you'll have a positive pulse a bit longer than half a period.  </p>

<p><img src=""https://i.stack.imgur.com/4sJjx.png"" alt=""enter image description here"">  </p>

<p>If the mains frequency is 50 Hz then one period is 20 ms. If then the positive pulse is 12 ms long you know that it covers two zero-crossings symmetrically. Since the zero-crossings are 10 ms apart there was one 1 ms after the start of the 12 ms pulse, and one 1 ms before the end. So you know that the next zero-crossing will be 9 ms after the end of the pulse.<br>
This is very easy in software and keeps BOM cost low.<br>
<em>(end of edit)</em>  </p>

<p>But watch out with the triac driver. The input is isolated from the mains through the optocoupler, but apparently they forgot that on the driver side, so the circuit is directly connected to the mains after all, and <strong>therefore possibly lethal!</strong>  </p>

<p>You need an optocoupler on that side as well. Typical application from the <a href=""http://www.fairchildsemi.com/ds/MO/MOC3051M.pdf"" rel=""nofollow noreferrer"">MOC3051 datasheet</a>:</p>

<p><img src=""https://i.stack.imgur.com/puXQb.png"" alt=""enter image description here"">  </p>

<p>Make sure to use a <em>random phase</em> optocoupler (like the MOC3051).</p>
","35686"
"What kind of components are black blobs on a PCB?","32623","","<p>In low-cost mass-produced items I often run into black blobs of what looks like resin applied directly on top of something on the PCB. What are these things exactly? I suspect this is some kind of custom IC that is layed out directly on the PCB to save on the plastic  housing/connector pins. Is this correct? If so, what is this technique called?</p>

<p><img src=""https://i.stack.imgur.com/eeENZ.jpg"" alt=""The Blob""></p>

<p>This is a photograph of the inside of a cheap digital multimeter. The black blob is the only non-basic piece of circuitry present, along with an op-amp (top) and a single bipolar junction transistor.</p>
","<p>It's called chip-on-board. The die is glued to the PCB and wires are bonded from it to pads. The Pulsonix PCB software I use has it as an optional extra.</p>

<p>The main benefit is reduced cost, since you don't have to pay for a package.</p>
","9139"
"What is the difference between PLA and ROM?","32573","","<p>I'm finding it hard to understand. What is the difference between PLA and ROM? Can somebody please provide a link or explanation?</p>
","<p>They are quite different devices.</p>

<p><strong>PLA</strong> = Programmable Logic Array.</p>

<p>A PLA or PAL (programmable array logic) device is like a baby FPGA which can be programmed to perform basic logic functions. Tens to hundreds of gates on a PAL can be connected to perform simple logic functions. A PAL is often read only, in that after programming you have to perform a complete erase to update it.</p>

<p><strong>ROM</strong> = Read Only Memory.</p>

<p>A ROM does not perform logic functions, but stores data. A type of ROM might be EPROM, eraseable programmable read only memory. </p>

<p>You can use a ROM as a logic device, by implementing a simple logic table lookup. Like a truth table. However, it is somewhat wasteful and expensive to do this compared to actually using a PAL or even a CPLD/FPGA.</p>
","5827"
"How many amps can a car battery supply?","32487","","<p>Googling this hasn't given me much information. I've heard numbers ranging from 30A to 300A.  </p>

<p>My question isn't how many amps a car battery <em>does</em> supply in normal operation, it's how many amps I would measure if a car battery is shorted across a multimeter (assuming the multimeter doesn't explode).</p>
","<p>First, it highly depends on the battery. Some cars have much beefier batteries, measured in Amp Hours. We arn't even talking about Electric Vehicle battery banks which are <strong>massive</strong>. Then it depends on the type of battery. Some chemistries are different. Some are 24V instead of 12V. Some cars have more than one. Etc.</p>

<p>That said, the normal peak current is the Cold Cranking Amps. This is the amount of current the battery should provide for starting a cold engine at 0°F. 300 to 1000 Amps is not unusual. </p>

<p><a href=""http://www.battcon.com/papersfinal2003/korinekpaperfinal2003.pdf"" rel=""noreferrer"">This white paper describes a dead short test</a>:</p>

<blockquote>
  <p>￼Finally, each battery was “dead shorted”, connected to a “shorting circuit” consisting of a shunt (5000A+ 0.25%), Hall effect transducer [model LEM LT 4000T (4000A+ 0.5%)], 26 feet of MCM-550 cable and a knife switch. A 2 channel Fluke 190 Scopemeter with automatic triggering was attached to the Hall effect transducer and to the battery terminals. Current and voltage readings were recorded at 0.2 millisecond time intervals from 0 to 0.2 seconds. An Agilent 34970 data-logger was used to monitor the shunt current and battery terminal voltage at 40 millisecond time intervals from 0 to 30 seconds. The “shorting circuit” had a resistance of 1.80 milli-ohms, as measured with a Biddle DLRO micro-ohmmeter. The inductance of the circuit was not measured.</p>
  
  <p>To determine the effect of temperature, sets of UPS12-140 (12V-33AH) batteries were float charged at 13.65V (2.275 volts/cell) for 48 hours at 2, 11, 24, 33 and 40oC in a temperature-controlled environment. OCV, impedance and conductance readings were measured and each battery was “dead short” tested using the test method described above.</p>
</blockquote>

<p>In theory, with a perfect conductor you are looking at over 2000 Amps. With their test, they saw 1700 Amps.</p>

<p><a href=""https://i.stack.imgur.com/Vw8Is.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/Vw8Is.png"" alt=""enter image description here""></a></p>

<p>And these are just 33 Amp Hour batteries, small compared to most cars. These are UPS batteries! My car has a 150 AH battery with 750 CCA, and it's not even a premium battery.</p>

<h3>In short, we are talking about literal Thousands of Amps for a dead short.</h3>

<p>But any multimeter worth a damn will have high resistance for voltage measurements, and a fuse for current measurements, that should blow before you see much current flowing. But it will blow if you short it. No if and or buts about it.</p>
","246090"
"How to easily find or create parts for Eagle schematic/board layout","32469","","<p>For Eagle CAD software, during schematic or board layout, how can I search for parts/footprints already created by other people out there, to make my life easier? And if I'm still unable to find what I want, how can I create my own parts?</p>

<p>(Note: This question is intended as a reference for future readers, hence I am both asking the question as well as providing my own answer below based on the things I know. Perhaps others can chime in as well.)</p>
","<p><strong>(1) Finding existing Eagle parts already created by other people out there:</strong> I recommend the following four sources ( aside from Googling ""partname Eagle"" ;-) ):</p>

<ul>
<li><p>You can look in Cadsoft's <a href=""http://eagle.autodesk.com/eagle/libraries"" rel=""nofollow noreferrer"">searchable collection of Eagle libraries</a></p></li>
<li><p>You can use <a href=""http://sparkle.tribbeck.com/eaglesearch2/index.php"" rel=""nofollow noreferrer"">Jason Tribbeck's Eagle part/package/device search</a>, which allows wildcard/partial-term searches</p></li>
<li><p>You can use <a href=""http://www.esawdust.com/blog/eagle/partsearch.html"" rel=""nofollow noreferrer"">Esawdust's Eagle part search</a> which also allows wildcards and regular expressions in search terms.</p></li>
<li><p>You can get the library that Sparkfun mains; it's a huge collection of common parts called Sparkfun.lbr, which is located at <a href=""https://github.com/sparkfun/SparkFun-Eagle-Library"" rel=""nofollow noreferrer"">this page</a>.</p></li>
</ul>

<p>A WORD OF CAUTION (courtesy of user @Grant)... When using others' libraries or parts, first compare it to the datasheet, and/or print it out on paper for comparison to actual part. There are some untested and/or incorrectly dimensions footprints out there. </p>

<p><strong>(2) Creating your own parts:</strong>
It is not that hard at all to make Eagle parts for most things; frankly, if you are able to construct a schematic and a layout, making parts yourself will be hardly a step beyond. I have four pointers:</p>

<ul>
<li>For learning part creation, I suggest you start with these three tutorials; the creator spent the effort to make them very beginner-friendly: Tutorial #12, Tutorial #13, and Tutorial #14 on <a href=""http://tangentsoft.net/elec/movies/"" rel=""nofollow noreferrer"">this Eagle tutorial-page</a>.</li>
<li>Start learning with simple examples such as a resistor, a DIP part, or even an SOIC-8 part to understand how it works; the clarity of understanding will then readily carry over to more complex parts.</li>
<li>If the part has a footprint that is a common one (such as SOIC-8), just copy an existing part's footprint.</li>
<li>Follow the manufacturer-recommended layout: Nearly all parts' datasheets prescribe dimensions for a recommended footprints/layout for the part; if you follow those precisely, life will be easier and you'll have a part ready in no time.</li>
</ul>
","38897"
"Programming microcontrollers: JTAG, SPI, USB oh my!?","32446","","<p>I've noticed, with regards to microcontrollers, there are several way to program them. I am sorta familiar with USB as my Arduino's can be programmed via USB. </p>

<p>What is a JTAG or SPI interface? </p>

<p>Ultimately I know that these interfaces provide a means to flash the chip with new instructions but how do they differ? Are there any advantages of one over another?</p>
","<p>ATMEGA microcontrollers like the one in the arduino that are coming straight from the factory can only be programmed using the SPI or JTAG interface. </p>

<p><a href=""http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus"" rel=""nofollow noreferrer"">SPI</a> stands for Serial Peripheral Interface and is a way for microcontrollers to communicate with each other or with the outside world. It's also called 3-wire sometimes because it uses three wires to communicate. To program a chip, you will need a special programmer which reads commands from USB to drive the SPI lines to program the chip. A popular one seems to be the <a href=""http://www.adafruit.com/index.php?main_page=product_info&amp;cPath=16&amp;products_id=46&amp;zenid=50c51732c87bc5d1395a5166c09e4ddd"" rel=""nofollow noreferrer"">USBTinyISP from Adafruit</a>. A very good introduction into SPI programming is at <a href=""http://www.sparkfun.com/commerce/tutorial_info.php?tutorials_id=93"" rel=""nofollow noreferrer"">SparkFun</a>. The most popular applications for programming Atmel AVR chips are avrdude (cmd line), ponyprog (doesn't work with newer programmers) and in some cases AVR Studio (if your programmer supports it). The advantage of SPI programming is that you can program any Atmel chip straight from the factory so you wouldn't always need an Arduino in your projects.</p>

<p>Where SPI is ""just another"" serial protocol, <a href=""http://en.wikipedia.org/wiki/Jtag"" rel=""nofollow noreferrer"">JTAG</a> is a protocol which is especially designed to program and debug microcontrollers. Not all Atmel micro's support JTAG but the ones that are used in the Arduino do. The JTAG protocol can be used for cool things like ""in circuit emulation"" and debugging which means that it enables you to see the state of the program in your microcontroller while it's actually running. To do this you'll need a special programmer. Seen my answer for <a href=""https://electronics.stackexchange.com/questions/226/jtag-debugging-avr"">another question</a>.</p>

<p>To program a chip using USB, you'll have to program it first with a ""bootloader"" using SPI or JTAG. Once loaded with the bootloader, the system will be programmable from any PC using a USB-Serial converter. The downside is that the bootloader takes up some memory space and this method does not allow you to see the state of the chip while it's running.</p>
","436"
"Best One-Off DIY PCB Creation Technique","32319","","<p>I have finally built up a lab to design electronics in. I have quite a few designs I would like to test. I have tried the printer toner/iron technique a few times but have found that I cannot create small pitch sizes as they tear off while removing the printer paper. A few people have mentioned that this is due to using a Samsung laserjet versus a HP.</p>

<p>I am wondering what methods you use to develop PCBs for one-offs in your lab or at home (like me). I am trying to fast track a move to SMT/SMD components and would like some tips from seasoned experts on the best PCB creation methods to test board concepts before sending them off to a PCB MFG. I would like something that balances cost, time, and beauty of the finished product geared towards a hobbyist (at this point) and geared towards SMT/SMD components.</p>

<p>Please include pics/documentation of your preferred method. Thank you in advance for your post.</p>
","<p>For one-offs or prototypes I use:</p>

<ul>
<li>Press-n-Peel transfer film with a laser printer (the blue one)</li>
<li>Steel wool and detergent to clean the PCB blank, then a short etch in ammonium persulphate: that gives a very clean surface, important for a good transfer from the film</li>
<li>A laminator to transfer the pattern to the PCB; I modified the laminator to raise its operating temperature a bit, and the PCB is a bit thick for the laminator but it works</li>
<li>Ammonium persulphate made with hot water in an ice-cream container, and that sits in a bath of hot water (a larger ice-cream container)</li>
</ul>

<p>This gives good results down to 10 mil trace widths; could probably go finer but haven't needed to yet.</p>

<p>For double-sided boards I tape the two layers of Press-n-Peel film to two scraps of PCB at the edges so that I can get the two layers well aligned, then put the PCB blank in and feed it through the laminator. Here are some pictures to illustrate:</p>

<p><img src=""https://i.stack.imgur.com/2oFY4.jpg"" alt=""alt text""> The bottom (left) and top (right) of a simple double-sided board (the top one is printed out mirrored so they overlay when its turned over). Normally I would print onto the blue Press-n-Peel film, just using paper here for illustration.</p>

<p><img src=""https://i.stack.imgur.com/Q2Lbe.jpg"" alt=""alt text""> With one side taped to the scrap PCB (left side) and the printed sides facing each other, hold them up to the light and align the other one so that all the holes and the board outline line up.</p>

<p><img src=""https://i.stack.imgur.com/lVjV8.jpg"" alt=""alt text""> Here they are both stuck to the PCB scrap. You can now put the clean blank PCB between the two (probably best to tape it to both sides to avoid any movement) and run it through the laminator (or iron it) to transfer the toner onto the PCB. </p>

<p>You can tape the two pieces of film or paper together without using the scrap of PCB, but when you put the blank PCB between them you can get some relative movement as they flex around the thick PCB. With the scrap piece the same thickness as the blank PCB they stay in the right place.</p>

<p>A bench drill is good for any drilling. I use drills down to 0.5 mm diameter but with 3 mm shanks so they are easily held in the drill chuck.</p>

<p>For through holes I solder thin copper wire to the pads on either side. The wire comes from a multi-core flexible cable; individual strands are or about 0.2 mm or 8 mil diameter. This takes some time!</p>

<p>And to solder I place solder paste with a fine-tipped syringe, place parts with fine tweezers then reflow in an electric frying pan. A few more pictures:</p>

<p><img src=""https://i.stack.imgur.com/O6UYe.jpg"" alt=""alt text""> </p>

<p>Syringing solder paste onto SMD pads. </p>

<p><img src=""https://i.stack.imgur.com/4ZpFi.jpg"" alt=""alt text""> </p>

<p>Placing component with tweezers</p>

<p><img src=""https://i.stack.imgur.com/im1VH.jpg"" alt=""alt text""> </p>

<p>A finshed board - the PCB was professionally made but I assembled components and soldered as described here. These are 0402-size resistors and capacitors (quite small, amazingly easy to lose), an accelerometer in a QFN-16 package (4x4 mm) and a memory chip in an 8 pin leadless package, similar size to a SOIC-8. (This is part of a small accelerometer data logger, see <a href=""http://vastmotion.com.au"" rel=""noreferrer"">vastmotion.com.au</a>).</p>

<p>Good luck!</p>
","7064"
"Mains LED light bulb flickers when switched off","32296","","<p>We have LED bulbs in our apartment. In the bathroom, the bulb flickers on and off when it's switched off. Same when it was a CFL bulb before I switched to LED cause I hate CFLs. Our mains voltage is 220v. The bulb we have looks like this </p>

<p>If I remember correctly, I should add a capacitor in series to the bulb to fix this. But what kind of capacitor? and what rating?</p>

<p><strong>Update:</strong>   </p>

<ul>
<li>The switch is a combined switch and plug in one part. Looks like a normal one line switch.</li>
<li>This apartment and the whole building doesn't have grounding. We don't have this in requirement in our building codes. I'm in Lebanon.</li>
<li>Only this one bulb in the apartment does this. Other bulbs are also LED and two more CFL not changed yet.</li>
</ul>

<p><a href=""https://i.stack.imgur.com/Jl8xx.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Jl8xx.jpg"" alt=""Our bulb looks like this!""></a></p>

<p><a href=""https://i.stack.imgur.com/uv3Ix.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uv3Ix.jpg"" alt=""The switch in question""></a></p>

<p>Any help appreciated, thanks. </p>

<p><strong>Resolution:</strong> I fixed it with an incandescent bulb! I'm too lazy to go electrician detective for now. </p>
","<p>You might find that a different brand of bulb is much less prone to this kind of behavior. The internal circuit varies quite a bit from bulb to bulb. If you have a store with a generous return policy that applies to such products you could simply buy a few different types and try them. In particular, I would expect bulbs based on Microchip's <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/20005357A.pdf"">CL8800</a> to not suffer from this problem. See <a href=""http://www.powerelectronictips.com/teardown-60-w-equivalent-led-bulbs/"">this</a> excellect article if you are interested in the gory details. Most bulbs have a small switching supply in them, but this type is different. </p>

<p><a href=""https://i.stack.imgur.com/6afra.png""><img src=""https://i.stack.imgur.com/6afra.png"" alt=""enter image description here""></a></p>
","207585"
"How do I debug an Arduino sketch?","32054","","<p>I started coding for Arduino very recently. And these bugs in the code are killing me. As there is no hardware debugger in the Arduino, serial.print() is my only resort. What are the methods/practices you implement to debug Arduino code?</p>
","<p>Modularity is your friend.  Write your main loop to do its thing by calling functions, which call functions, ..., until the level at which your functions would be simple.  Start with the main loop and the next level down, make stub functions; either empty: </p>

<pre><code>function foo(){
    ;
}
</code></pre>

<p>or fake: </p>

<pre><code>function read_temperature(){
    return(95);
}
</code></pre>

<p>, that do nothing but return whatever the calling level needs for it to be able to continue.  When that level works, move down a level and start filling in simple code that likewise calls stub functions.  Gradually un-stub a function at a time until you have a working application.</p>

<p>To debug a function that returns a bad value, or to create one without any influence from the rest of your application, you can build scaffolding - a simple sketch that just feeds the function some example values, and within the function, print out parameter values and some intermediate values, until you gain some insight into what part of the function is failing.  I've even made faking-functions that prompt me on the terminal for a value to return.  (Obviously this technique can only work if the system can tolerate the relatively glacial speed of us humans! Another use for scaffolding.)</p>

<p>Stubbing works especially well to stand in for functions that interface to hardware, allowing you start bringing up the application before you have to dive into data-sheets, timing issues, and other minutiae (like, not having the parts!) that might otherwise stall your progress.</p>

<p>Speaking of timing issues, toggling an output pin at a particular point in your program, such as entry to and exit from an ISR, gives you a square wave at the Arduino pin whose frequency or duty cycle can give you some insight into the internal timing of your program.  The direct port-I/O form, e.g., </p>

<pre><code>PORTC ^= 0x01;
</code></pre>

<p>, will distort the timing less than calling <code>digitalWrite()</code>.  Useful if you have a 'scope handy, or one of the DMMs with the ability to measure frequency and/or duty-cycle.</p>

<p>Similarly, you can use an analog output pin to output a numerical value to your meter from inside the program without disturbing the timing too much or bloating the code with the serial I/O functions.  Use the direct I/O forms here, too.</p>
","24771"
"Triac versus Relay","31990","","<p>What are the scenarios where Triacs can not replace a relay or vice-versa?</p>
","<p>Thyristors (triacs and their unidirectional cousins, SCRs) are solid-state devices, whereas relays are electromechanical devices.  Triacs can switch both AC and DC, but as XTL said, they will not stop the current flow unless the current between MT1 and MT2 falls below a threshold level, or you forcibly commutate the device off.</p>

<p>(note: I spent 13 years in industrial motor control, we designed equipment which switched up to many thousands of Amps and many thousands of Volts through thyristors.)</p>

<p>Relays are pretty simple devices to use; you energize the coil and the contacts engage. You de-energize the coil and the contacts open. A simple transistor can drive it, but you'll want some snubbering (a reverse-biased diode across the relay coil at a minimum) to prevent your transistor from dying due to inductive kickback. Your control signal and your controlled signal are completely isolated from one another.</p>

<p>Relay contacts aren't invincible; if you open up the contacts under load you can cause them to  ""ice up"" (meaning they won't open up). Also, if you use a relay rated for power and try to switch small signals, the contacts can eventually get dirty and you won't get a good connection between the contacts.</p>

<p>Triacs, being solid-state, are mostly silent. Unless you use a pulse transformer or optoisolator, your control circuit will be at the potential of your controlled circuit (generally the Neutral for your 120/220V circuits). Thyristors can be used to phase-control a load, meaning you can dim lights or (roughly) control the speed of an AC motor. This is pretty much impossible with relays. You can also do neat tricks like allowing only 'x' entire cycles through to do less ""noisy"" phase control. SCRs are also good for dumping all the energy in a capacitor into a load (flash or railgun type applications). Some power supplies use SCRs as crowbar devices as well; they turn on and short out the supply (blowing the fuse in the process), protecting the load from an overvoltage.</p>

<p>Thyristors don't really enjoy sharp voltage or current spikes when they're turned off; these can cause them to turn on by accident or can destroy the devices. Simple snubbering helps control these failure modes.</p>

<p>Thyristors also don't completely isolate the load from the source; if you measure the voltage on a load with the thyristor off, you'll measure full voltage. They thyristor is off, but off doesn't mean ""open"" -- it means ""high resistance"".  This can cause trouble with some applications.</p>

<p>If you are switching an AC signal, thyristors are pretty painless; they will shut themselves off around the next zero crossing. If you're controlling DC... again... you have more to think about.  DC is also problematic for relays because you will almost always be opening up the relay contacts under load, so you must size your relay for this. </p>

<p>Long story short: Yes, triacs can replace relays in almost every application. If you don't want to bother with the snubbering and isolation you can always buy solid state relays; they're triacs with the appropriate control circuitry to make them work almost the same as relays.</p>
","3647"
"How do I create a timer interrupt with Arduino?","31925","","<p>I am trying to create a time delay interrupt with Arduino. I would like to use the interrupts() function, because it is an internal interrupt. </p>

<p>Example: Let's say, I would like to make a light blink on and off, with only the timing of the interrupt.</p>

<p>There is sample code, but it uses external interrupts (attachInterrupt()). I would like to remain using the internal interrupts.   </p>
","<p>Noah Stahl's blog has an example of <a href=""http://arduinomega.blogspot.com/p/arduino-code.html"">blinking a LED with Timer2</a>.  With that and the data sheet, you should be able to adapt it to whichever interrupt you want to use -- i.e., the interrupt whose normal function you can most afford to give up or are willing to modify.  Timer2 is usually used for some PWM functions.</p>

<p>His example cites the ATmega2560; I can confirm that it works with an ATmega328p as well.  Look around his site for more useful Arduino interrupt examples.</p>

<p>Edit:</p>

<p>Here's my slightly edited -- mostly in the comments -- version of Noah's code. 
Call Timer2init() from the Arduino setup() function after you initialize any related data-structures or hardware, because timing - and interrupting - will begin once you do. </p>

<p>F/ex, I used it to multiplex a 3-digit 7-segment display so I before initializing the timer, I initialized the display I/O registers and blanked the display data in the place where the ISR will look for it.</p>

<p>There is a table in the comments of some useful timing data from the data-sheet and my own calculations for reference to set up another timing scheme.</p>

<p>The ISR() macro takes care of creating interrupt entry- and exit-code for an ISR instead a normal function's entry and exit, and of linking it with the proper interrupt vector.  The rest of that function is 1) the code to be run at each interrupt, and 2) the code code to reset the timer for the next interrupt.</p>

<p>As written, this should drop in to a .pde or .ino sketch (or a .cpp file, if you use eclipse, f/ex).  The sketch needs to #define LEDPIN, and setup() needs to call Timer2init(). The loop function may be empty or not; the LED should start flashing on download (well, literally, after Timer2init() is called).</p>

<pre><code>/*
 * From sample interrupt code published by Noah Stahl on his blog, at:
 * http://arduinomega.blogspot.com/p/arduino-code.html
 * 
 */


/*** FUNC

Name:           Timer2init

Function:       Init timer 2 to interrupt periodically. Call this from 
                the Arduino setup() function.

Description:    The pre-scaler and the timer count divide the timer-counter
                clock frequency to give a timer overflow interrupt rate:

                Interrupt rate =  16MHz / (prescaler * (255 - TCNT2))

        TCCR2B[b2:0]   Prescaler    Freq [KHz], Period [usec] after prescale
          0x0            (TC stopped)     0         0
          0x1                1        16000.        0.0625
          0x2                8         2000.        0.500
          0x3               32          500.        2.000
          0x4               64          250.        4.000
          0x5              128          125.        8.000
          0x6              256           62.5      16.000
          0x7             1024           15.625    64.000


Parameters: void

Returns:    void

FUNC ***/

void Timer2init() {

    // Setup Timer2 overflow to fire every 8ms (125Hz)
    //   period [sec] = (1 / f_clock [sec]) * prescale * (255-count)
    //                  (1/16000000)  * 1024 * (255-130) = .008 sec


    TCCR2B = 0x00;        // Disable Timer2 while we set it up

    TCNT2  = 130;         // Reset Timer Count  (255-130) = execute ev 125-th T/C clock
    TIFR2  = 0x00;        // Timer2 INT Flag Reg: Clear Timer Overflow Flag
    TIMSK2 = 0x01;        // Timer2 INT Reg: Timer2 Overflow Interrupt Enable
    TCCR2A = 0x00;        // Timer2 Control Reg A: Wave Gen Mode normal
    TCCR2B = 0x07;        // Timer2 Control Reg B: Timer Prescaler set to 1024
}



/*** FUNC

Name:       Timer2 ISR

Function:   Handles the Timer2-overflow interrupt

Description:    Maintains the 7-segment display

Parameters: void

Returns:    void

FUNC ***/

ISR(TIMER2_OVF_vect) {
    static unsigned int led_state = 0; // LED state

    led_state = !led_state;         // toggles the LED state
    digitalWrite(TOGGLE_PIN, led_state);

    TCNT2 = 130;     // reset timer ct to 130 out of 255
    TIFR2 = 0x00;    // timer2 int flag reg: clear timer overflow flag
};
</code></pre>
","26387"
"How do I go from arduino breadboard to creating a real device","31925","","<p>My first arduino project, I have made a headlight sensor that will activate an outside light when car headlights hit it.  I know I could go buy one, but where is the fun in that?</p>

<p>Now I would like to make a ""real"" one to mount outside my  house so I can reuse my arduino.</p>

<p>I really have no idea where or how to start.  I have had a look but can't find any info on this...I am sure someone here will be able to suggest something.</p>
","<p>I assume from your question you want the essential parts of an Arduino along with your circuit in a permanent form.</p>

<p>Here are my steps:</p>

<ol>
<li>Build the entire circuit on a breadboard or two. Then you know it all works.</li>
<li>Transfer it to a permanent form of circuit, testing as you go.</li>
</ol>

<p>Take it a step at a time, and it'll work out nicely.
<br>
<br></p>

<h1>1. Build the entire circuit on a breadboard or two.</h1>

<p><strong>Then you know it all works, and that you have all of the components ready to make your permanent circuit</strong></p>

<p>This will involve making and programming part of your Arduino on the breadboard. I don't think you'll need the USB part, so it can be through-hole components which are relatively straightforward to begin with.</p>

<p><a href=""http://appliedplatonics.com/breaduino/steps.html"" rel=""nofollow noreferrer"">Here</a> is a link to instructions which show how to make an Arduino without USB.</p>

<p>It can be programmed using your existing Arduino, you don't need a programmer. For example:
<a href=""http://arduino.cc/en/Tutorial/ArduinoToBreadboard"" rel=""nofollow noreferrer"">http://arduino.cc/en/Tutorial/ArduinoToBreadboard</a></p>

<p>I'd make a sketch of the circuit schematic to ensure I understood what I had on the breadboard, and to guide the next step.</p>

<h1>2. I'd recommend you transfer the whole thing to 'veroboard' (stripboard) rather than make a PCB.</h1>

<p><strong>Veroboard/stripboard will be much quicker and cheaper. You could easily spend 10x longer learning to use Eagle well enough to get a PCB made, than it would take to design and make the entire circuit on veroboard/stripboard.</strong></p>

<p>You can do a design on squared paper, but there are some CAD programs to help if you google for veroboard CAD. I have never used them, I use paper and a soft pencil or a vector drawing package. A friend used PowerPoint because that's what he had to hand.</p>

<p><a href=""http://icecreamterror.wordpress.com/2009/09/03/stripduino-v0-1-the-strip-board-arduino/"" rel=""nofollow noreferrer"">Here</a> is an example of someone who has built an Arduino on veroboard/stripboard.</p>

<p>It shows the design he produced for veroboard/stripboard. Try to get a reasonable layout for your design before making it. This is where the soft pencil and eraser come in :-) 
Typically the first couple of attempts are too big or too small. Make it easy for yourself and get plenty of squared of graph paper :-)</p>

<p><a href=""http://%20http://www.zen22142.zen.co.uk/Prac/vero_circ/vero.htm"" rel=""nofollow noreferrer"">This link</a> shows what the process will look like.</p>

<p>You can follow veroboard/stripboard arduino design, and test that it works. Then focus on your extra circuit. </p>

<p>Use a socket for the microcontroller, and so don't solder it in directly. Most of the other parts are a few $'s total, so I'd get a few of each part for spares and practice (To put it in context, some electronics companies charge more for delivery than those parts will cost, so getting several sets of parts makes sense, especially if you intend to make some more things).</p>

<p>Total cost for the Arduino part should be under $10.</p>

<p>Good luck, and I hope you enjoy it.</p>
","14217"
"Solving capacitor voltage ""drops""?","31910","","<p>I'm having some problems solving the voltages across the capacitors in the following circuit:</p>

<p><img src=""https://i.stack.imgur.com/vIog5.png"" alt=""Circuit""></p>

<p>Because it is a parallel circuit, we know the voltage across C3 must be 6V.</p>

<p>But how can you figure out the voltage across C1 and C2? Does C1 store all the energy and leave C2 with no voltage? Or is it proportional?</p>

<p>I tried solving it in <a href=""http://circuitlab.com"" rel=""nofollow noreferrer"">CircuitLab</a>, and it calculates 6V across C1 and 0V across C2...</p>
","<p>The charge on C1 and C2 must be equal by conservation of charge because the node between them is isolated.  The voltage of C1 and C2 must sum to 6V.  Use q=CV and solve for the voltages.</p>

<hr>

<p>Reworked by RM:</p>

<p><strong>Take 3:</strong></p>

<p>The same current flows in C1 &amp; C2.<br>
As charge is, by definition, proportional to current (Q = I x t) then<br>
 the charge on C1 and C2 must be equal.  </p>

<p>But, also by definition Charge = capacitance x Voltage (Q = C x V).<br>
 Or, rearranging, V = Q/C.<br>
 So, for equal charges in each, capacitor voltage will be inversely proportional to capacitance. </p>

<p>The voltage of C1 and C2 must sum to 6V.  Use q=CV and solve for the voltages.</p>

<p><strong>Wrap</strong></p>

<hr>

<p><strong>Take 2:</strong></p>

<p>The relationship between charge Q, voltage V and capacitance C is given by the expression<br>
  Q = C x V.<br>
 Rearranging, V = Q/C.</p>

<p>Charge Q is defined as the summation of current with time ie Q = i x t<br>
 As an identical current must flow C1 and C2, they both experience the same current x time profile so their charges are equal. </p>

<p>But from above, Vcap = Q/C.<br>
 ie for equal charges, cap voltages will be inversely proportional to capacitor sizes.   </p>

<p>So, in this example, the voltages on C1 &amp; C2 will be inversely proportional to capacitor sizes so VC1 = 2 x VC2.<br>
 By inspection, VC2 = 2, VC1 = 4. </p>
","33648"
"Make a momentary switch control a toggle","31909","","<p>What are the simplest, cheapest, smallest ways to make a momentary switch produce a 2-state toggling output (latching momentary switch)?</p>

<p>In other words, the output is continuously low, and when you momentarily press the button/tact switch, the output changes to continuously high, and then when you press it again, it switches back to low.</p>
","<p>Here's <a href=""http://forum.allaboutcircuits.com/showthread.php?t=16040"" rel=""noreferrer"">another alternative</a> with two inverters and debouncing:</p>

<p><img src=""https://i.stack.imgur.com/m4S5p.png"" alt=""Two inverters""></p>

<p>For logic output, only the two inverters, RC, and feedback resistor are needed:</p>

<p><img src=""https://i.stack.imgur.com/yDeFm.png"" alt=""enter image description here""></p>

<p><a href=""http://www.fairchildsemi.com/pf/NC/NC7WZ14.html"" rel=""noreferrer"">NC7WZ14</a> is $0.06 with 2 inverters, small 6-pin package, and Schmitt trigger inputs, though I think this circuit doesn't even need Schmitt inputs because of the RC.  Also it can drive 24 mA, so you could connect the LED directly to it if you're using an LED for whatever reason.</p>

<p>Also shown <a href=""http://4.bp.blogspot.com/_Gky8ltNWVFk/ScyB93FOEzI/AAAAAAAAAkA/DUUcJSqP2hA/s1600-h/Relay+Toggle+Circuit+05.gif"" rel=""noreferrer"">here</a> and <a href=""http://tech-electronic.blogspot.com/2009/07/all-circuits-and-projects-we-describe.html"" rel=""noreferrer"">here as a toggle touch switch</a>.</p>

<p>I think the feedback resistor has to be much smaller than the center resistor to prevent it from oscillating if you hold down the button, because the low-impedance connection to the output will prevent the capacitor from charging to the middle voltage until you let go.</p>

<p>Variants are described at <a href=""http://www.mosaic-industries.com/embedded-systems/microcontroller-projects/electronic-circuits/push-button-switch-turn-on/latching-toggle-power-switch#press-on-press-off-soft-latching-circuits"" rel=""noreferrer"">Press ON - Press OFF soft latching circuits</a>:</p>

<p><img src=""https://i.stack.imgur.com/f9jgt.png"" alt=""AND gate variant""></p>
","4099"
"Capacitor Sizes for 7805 Regulator","31840","","<p>It says in the datasheet these values in this picture: 
<img src=""https://i.stack.imgur.com/awG8M.gif"" alt=""7805 1""></p>

<p>But I've also seen it with these values:<br>
<img src=""https://i.stack.imgur.com/Wph1i.gif"" alt=""7805 2""></p>

<p>So what values should i use or doesn't it matter? And its for when its first starting.</p>
","<h3> First Starting?</h3>

<p>Build it with either; it will work fine for you. The second option with the large capacitors and the extra small one is ""more stable."" Just build this, do not worry about why if you are just wanting to start your project. Let us know if something does not work.</p>

<h3>100nF</h3>

<p>Use the values that are suggested in the datasheet. If you add capacitors a factor of 10 smaller (called decade capacitors) it will help with higher frequency noise (RF, or radio band noise), as an effects of the impedance of a capacitor.</p>

<p>Feel free to add as many decade capacitors as you want, but you will not need them unless you start having FCC testing. They cannot hurt.</p>

<h3>100uF</h3>

<p>When someone increases this they are allowing their circuit to pull power from the power source for longer. If you have a long power line this will act as a small tank of power. If you are going to have long power lines, or very inductive power lines, add this.</p>
","8123"
"How can PCB trace have 50 ohm impedance regardless of length and signal frequency?","31799","","<p>Hmm, this seems to be just another question on line impedances.</p>

<p>I understand that when we say ""transmission line"" effects we talk about things like cross talk, reflections and ringing (I guess that is just about it). These effects are not present at low frequencies where the PCB trace behaves like an ""ideal"" transmission medium, more like we expect a wire to behave in our early school days.</p>

<p>I also understand that the 50&nbsp;ohm value comes not from the line resistance which is going to be very small and less than 1&nbsp;ohm. This value comes from the ratio of L and C on the line. Changing C by changing the trace height above ground plane or changing L by changing the trace width shall change the impedance of the line.</p>

<p>We all know that the reactance of L and C is dependant on the signal frequency as well. Now my questions:</p>

<ol>
<li><p>Why should we not call this as line reactance only rather than line impedance?</p></li>
<li><p>How can it be just 50&nbsp;ohm? It has to be signal frequency dependent right? 
E.g 50&nbsp;ohm at 1&nbsp;MHz </p></li>
<li><p>Will the world end if I chose to do a 100&nbsp;ohm or 25&nbsp;ohm trace instead?  I know that while we like to say 50&nbsp;ohm as a magic number, it will be within some range around 50&nbsp;ohm and not 50.0000 ohm exactly. </p></li>
<li><p>Is there any time when the actual resistance of a PCB trace may matter?</p></li>
</ol>
","<p>Let's look at the formula and equivalent circuit for a transmission line.</p>

<p><img src=""https://i.stack.imgur.com/yDlJb.png"" alt=""Enter image description here""></p>

<p>(1) Impedance rather than reactance. </p>

<p>Reactance refers to the opposition to the change in current (of an inductor) or voltage (for a capacitor) - single components. The transmission line has \$R,L\$ and \$C\$ components - impedance is the ratio of voltage phasor to current phasor. </p>

<p>(2) It is \$50\Omega\$ because the ratio of inductance to capacitance per unit length produces that value. As \$R &lt;&lt; j\omega L\$ and \$G \to 0\$, these values can be ignored and so the expression reduces to \$\sqrt{L/C}\$ (frequency independent).</p>

<p>(3) Nope, but it's generally a good idea to keep things as standard as possible. You may find it difficult to find a suitable connector for your \$167\Omega\$ transmission line. There's also a lot of information available for designing <strong>standard</strong> transmission lines on PCBs, etc. The magic number in my book is 376.73031... the impedance of free space. Now without that one we'd live in a different universe.  </p>

<p>(4) Going back to the formula. At low frequencies \$R\$ may be significant as the reactance of the inductor will be small). At very high frequencies the dielectric losses may become significant.</p>
","75372"
"SR Flip-Flop: NOR or NAND?","31769","","<p>I started studying flip-flops recently and I am stuck at this point:</p>

<p>At some video tutorials, people explain the SR flip-flop like this:</p>

<p><img src=""https://cdn.sparkfun.com/assets/learn_tutorials/2/1/6/34-sr-latch-nand.png"" alt=""SR1""></p>

<p>So they use NAND gates, producing a transition table like this:</p>

<pre><code>|     t     | t+1
|  S  |  R  |  Q
|  0  |  0  |  INVALID
|  0  |  1  |  1
|  1  |  0  |  0
|  1  |  1  |  ?
</code></pre>

<p>However, some other people explain the SR flip-flop using NOR gates:</p>

<p><a href=""http://startingelectronics.com/software/VHDL-CPLD-course/tut9-SR-latch/S-R-latch-gates.png"" rel=""noreferrer"">SR2 http://startingelectronics.com/software/VHDL-CPLD-course/tut9-SR-latch/S-R-latch-gates.png</a></p>

<p>which has a different transition table.</p>

<p>Are both correct? Why do both exist? </p>
","<p>Both are SR latches. </p>

<p>The SR NOR latch will have the following truth table:</p>

<pre><code>----------
S  R   Q
----------
0  0   no change
0  1   0
1  0   1
1  1   not allowed
----------
</code></pre>

<p>SR NAND latch is an inverted version of SR NOR latch. The truth table of which is:</p>

<pre><code>----------
S  R   Q
----------
0  0   not allowed
0  1   1
1  0   0
1  1   no change
----------
</code></pre>
","163165"
"How to make a clean amplified microphone analog to digital conversion?","31747","","<p>I've asked a couple of questions relating to this project the past couple of days, but I cant seem to put it all together.</p>

<p>I hooked up an electret mic into an opamp and gave output to my arduino microcontroller.
The ADC on the microcontroller converts a range of 0 to 5 vV to a 10-bit number (0 to 1023).</p>

<p>I tried 3 different amp chips:</p>

<ul>
<li>LM386 - I got feedback this chip was no good for this purpose, since
its not opamp, and it didn't work correctly as expected.</li>
<li>LM358 - works</li>
<li>UA741 - works, amplifies more than LM358</li>
</ul>

<p>I followed <a href=""https://electronics.stackexchange.com/questions/16529/why-is-microphone-opamp-arduino-circuit-not-working/16532#16532"">this schematic</a> exactly (except for I messed around with resistor values to get good gain): I used 50k ohm for R5 and 10 ohm for R2.
<img src=""https://i.stack.imgur.com/L39Hr.png"" alt=""enter image description here""></p>

<p>The problem is that the output from the latter two chips is not ""clean"". The analogRead() on the Arduino is always reading a non-zero value even when I make no noise in the mic. The reading reacts properly when I make noise, but the ""zero"" value is non-zero. Sometimes the ""zero"" value even flickers throwing off the reading all the time. Hopefully that made sense.</p>

<p>Can you help me sort this out?</p>

<p>Just as unimportant, extra information: I'm trying to make <a href=""http://www.youtube.com/watch?v=dsyPOGqy9to"" rel=""nofollow noreferrer"">something like this</a>, eventually.</p>
","<p>Get rid of the output capacitor.  That circuit was probably meant to produce a signal around zero, so the capacitor is there to block the 1/2 Vdd offset.  However, the microcontroller wants to see the signal centered around 1/2 Vdd, so just get rid of the capacitor.</p>

<p>Microcphones do need a lot of gain.  Electrets can be sensitive, but you still might need a voltage gain of 1000.  The gain in your circuit is the ratio of R5 to R2, but this only works within limits of what the opamp can do.</p>

<p>The values you mentioned above would give you a gain of 5000.  That's a lot more than you should try to get from a single opamp stage.  Not only will the offset voltage be multiplied by this gain, but the opamp won't be able to provide that over the full frequency range.  At 1 MHz gain-bandwidth, you'll only get that gain somewhat below 200 Hz.  Even a 1 mV input offset becomes 5V after amplification by 5000.</p>

<p>R2 is also the impedance seen by the microphone after the input capacitor.  You need this to be somewhat larger than the impedance of the microphone with its pullup and the input capacitor at the lowest frequency of interest.  10&Omega; is way too small for that.  10 K&Omega; would be a better value.</p>

<p>Try two stages with a gain of 30 or so for starters and see where that gets you.  That's a gain it can handle over reasonable frequencies with enough headroom left for the feedback to work.  You also need to capacitively couple the two stages so that the input offset voltage does not accumulate thru all the stages.</p>

<h2>Edit: Added circuit</h2>

<p>I didn't have time to draw a circuit last night when I wrote the reply above.  Here is a circuit that should do it:</p>

<p><img src=""https://i.stack.imgur.com/7hvoi.gif"" alt=""""></p>

<p>This has a voltage gain of roughly 1000, which should be sufficient for a reasonable electret microphone.  I may be a little too much, but its easy to add some attenuation.</p>

<p>The topology is rather different from your circuit.  The most important single thing to note is that it doesn't try to produce the whole gain in one stage.  Each stage has a gain of about 31.  That leaves plenty of gain headroom at the maximum audio frequency of 20 kHz for the feedback, so the gain will be nicely predictable and flat accross the audio frequency range since the MCP6022 has a typical gain-bandwidth product of 10 MHz.  The limiting factor will most likely be the microphone.</p>

<p>Unlike what I said before, the two stages do not need to be capacitively coupled to prevent the offset voltage accumulating along with the gain.  That is because in this circuit, each stage has only a DC gain of 1, so the final offset is only twice the opamp offset.  These opamps have only 500uV offset, so the final offset is only 1mV due to the opamps.  There will be more due to the mismatch of R3 and R4.  In any case, the output DC will be plenty close enough to 1/2 the supply to not eat into the A/D range in a meaningful way.</p>

<p>The DC gain of 1 per stage is achieved by capacitively coupling the feedback divider path to ground.  The capacitor blocks DC, so each stage is just a unity follower for DC.  The full AC gain is realized as the capacitor (C3 in the first stage) impedance gets small compared to the lower divider resistor (R7 in the first stage).  This starts to happen at about 16 Hz.  One drawback to this approach is that the time constant to settle is C3 times R7+R5, not just R7.  This circuit will take a couple of seconds or so to stabalize after being turned on.</p>
","16596"
"3.3v input to Arduino digital pin","31732","","<p>Is it safe to bring a arduino digital input pin to high on a 3.3v input..from the 3.3v output of the arduino pin?</p>

<p>Because, I need to reset a 3.3v device on one end..and get the arduino to know about the reset too..but I am too lazy to involve transistors in my design..can i just feed that 3.3v to the arduino digital input too?</p>

<p>It will be just under a second..not persistant..a button tap</p>
","<p>Apart from Arduino Due, all Arduino's that I am aware of have an ATmega running @ 5V(DC). Check the Arduino product page <a href=""http://arduino.cc/en/Main/ArduinoBoardNano"">Arduino Nano</a> where it clearly states ""Operating Voltage (logic level) 5V"".
Apart from that many Arduino boards have a 3V3 regulated output that can be used to supply an external circuit when required.</p>

<p><strong>External circuit output voltage \$V_{OH}\$</strong></p>

<p>When you attach a logic circuit to this 3V3 power rail, the outputs usually swing between near 0V to near 3V3 (unloaded) but you have to check the specific datasheet for exact voltages (usually called \$V_{OL}\$ and \$V_{OH}\$. It is clear from the above that any ATmega will have no problem recognizing a '0' signal, doubt comes with a logic '1'. </p>

<p><strong>So the real question is:</strong> Does ATmega recognize 3V3 as a logic '1'? Again the answer is in the datasheet for the ATmega on your Arduino.</p>

<p>I didn't check all variations of ATmega that Arduino's come by, I picked the first datasheet I found: ATmega168. Chapter 29 has ""Electrical characteristics"". The symbols for ""Input high voltage"" you want to check are labeled \$V_{IH}\$ and there seems to be plenty of choice ( |1|2|3), but if you read carefully you'll notice that only the first two lines are relavant for GPIO pins on Arduino.</p>

<p><strong>Input HIGH sensitivity \$V_{IH}\$ for Arduino's ATmega.</strong></p>

<ul>
<li>Condition at the bottom for \$V_{IH}\$ is met: \$V_{CC}=2.4V - 5.5V\$, the ATmega has a 5V supply, so let's continue focussing at the bottom of those boxes</li>
<li>Minimum \$0.6V_{CC} = 0.6 × 5V = 3.0V\$</li>
<li>Maximum \$V_{CC}+0.5V = 5 + 0.5 = 5.5V\$</li>
</ul>

<p><strong>To anser your question:</strong> Will 3V3 logic outputs (or the regulated 3V3 supply rail) work with standard Arduino inputs?</p>

<ul>
<li><em><strong>yes</em></strong> it is safe to connect 3V3 from the Arduino board to an input, because the voltage is lower than 5.5V;</li>
</ul>

<p>And when attaching external circuitry:</p>

<ul>
<li><em><strong>yes</em></strong>; as long as the output \$V_{OH}\$ of the external circuit is higher than 3.0V.</li>
</ul>

<p><strong>Word of warning</strong>: Be aware that the controller pin must be configured as <em>INPUT</em>, otherwise you may exceed maximum current for the pin and you'll damage the controller. When experimenting it is safer to connect a \$330\Omega\$ resistor in series with the inputs.</p>

<p><strong>Gossary</strong></p>

<p>Let's throw in a short slightly trivial glossary while I'm busy:</p>

<ul>
<li>\$V_{OH}\$ Voltage Output High</li>
<li>\$V_{OL}\$ Voltage Output Low</li>
<li>\$V_{IH}\$ Voltage Input High</li>
<li>\$V_{OH}\$ Voltage Input Low</li>
</ul>
","58530"
"Why do farads multiplied by ohms produce a result that has a unit of seconds?","31682","","<p>Why is the time constant (RC) measured in seconds even though the units are farads x ohms?</p>

<p>This is to fulfill my own curiosity as I haven't had much luck at finding the answer. I would be most grateful if someone could give me a solid answer or send me in the right direction.  </p>
","<p>It's the way the units work out. </p>

<p>Broken down to its form in SI units, a volt is</p>

<p>$$\mathrm{V = \frac{kg \cdot m^2}{A \cdot s^3}}$$</p>

<p>where A is amperes. So, when you divide by current to get ohms, you see that </p>

<p>$$ \Omega = \mathrm{\frac{kg \cdot m^2}{A^2\cdot s^3}}$$</p>

<p>A farad is:</p>

<p>$$ \mathrm{F=\frac{s^4 \cdot A^2}{m^2 \cdot kg}} $$ </p>

<p>So when you multiply Ohms by Farads, you're left with seconds:</p>

<p>$$ \Omega \cdot \mathrm{F = \frac{kg \cdot m^2}{A^2\cdot s^3} \cdot \frac{s^4 \cdot A^2}{m^2 \cdot kg} = s} $$</p>
","138299"
"How to connect 7447 decoder to 7-segment display?","31654","","<p><img src=""https://i.stack.imgur.com/Vu5M3.jpg"" alt=""Schematic""></p>

<p>I've connected a 7447 decoder to 7-segment display as shown in figure. When I connect an input, the LEDs doesn't form numbers but they light up randomly.</p>

<p>I just want to know the right way to connect the output pins of 7447 to the pins of 7-segment display?</p>
","<p>Each segment on a 7-segment display is designated a letter (A-G). This is standard and is shown in the <a href=""http://www.ti.com/lit/ds/symlink/sn74ls47.pdf"" rel=""noreferrer"">SN7447</a> datasheet:</p>

<p><img src=""https://i.stack.imgur.com/B0625.png"" alt=""enter image description here""></p>

<p>You can use a diode tester or a simple voltage source and a resistor to determine the pinout of your particular display. Then just map the pins correctly (again, from datasheet):</p>

<p><img src=""https://i.stack.imgur.com/WIaNT.png"" alt=""enter image description here""></p>
","124963"
"Simple and safe solution to control a power plug with Arduino or PC","31566","","<p>What solutions are available to control a power plug (or even if possible a light socket), i.e. turning it On and Off?</p>

<p>I have looked for xbee/zigbee solutions but there doesn't seem to be a solution available for European power sockets (and so few solutions even for US sockets).</p>

<p>A wired solution including an Arduino is OK for me. I want it to be easy to use (as for zigbee I'm ok to learn how to use it), and safe (I don't want to connect or solder things because it's 240V, I don't want any risk  with the electrical installation).</p>
","<p>I would suggest two options.</p>

<p>First - and this involves a small amount of wiring and soldering - using <a href=""http://www.powerswitchtail.com/Pages/default.aspx"" rel=""nofollow noreferrer"">a PowerSwitchTail II</a>. This is a very safe way of switching mains voltage. There is adequate isolation, it is safely cased and tested.</p>

<p>If you really want to do no wiring or soldering at all, then I would suggest finding one of the common 434/868/915MHz (depending on region) remote controlled sockets using a basic OOK protocol, and buy a simple 434MHz transmitter. A number of the protocols are documented in various places. The only issue with these is that you have no sure way of knowing if the switch is on or off.</p>
","33366"
"Simple way to measure amps with a volt meter?","31525","","<p>I've got a simple voltmeter that I'd like to use to measure the power load of some components that I have no idea of. Some are simple (like an LED) and some are more complex sub-assemblies. I'm not sure how to use my voltmeter to measure the mA drawn by the component. I don't seem to be able to just touch the contacts on either side of the component and ground like I do when measuring resistance or voltage levels. Do I need to break the circuit and then use my volt-meter to connect the source to the load? That seems like a lot of trouble and quite difficult to do with soldered-on components and complex wiring harnesses. There must be an easier way. What do I not know?</p>
","<p>Yes, in general, you need to put an ammeter inline with the circuit to measure current. If your ""simple voltmeter"" is actually a multimeter, then it likely includes an ammeter which will do the job. <a href=""http://rads.stackoverflow.com/amzn/click/B005GLRFR4"" rel=""nofollow noreferrer"">Multimeters are very inexpensive</a>.</p>

<p><img src=""https://i.stack.imgur.com/IgFCr.gif"" alt=""Ammeter measuring current in simple circuit""></p>

<p>It's possible in some cases to deduce current in very simple circuits if you know the total resistance and the voltage using Ohm's law.</p>

<p>Additionally it's possible to measure current (usually in AC lines) by measuring the resulting magnetic fields produced. This is typically used in very high current measurements. </p>
","51604"
"How to calculate thickness of cable based on material and current?","31464","","<p>How thick copper cable should I use for 16A current? How thick it should be if I use aluminum wire? Is there any generic equation which I can use?</p>

<p>I am using direct current with 12V but as far as I know it doesn't matter.</p>
","<p>There are some topics you should pay attention concerning the cable thickness selection: the voltage dropout, cable heating, electro-magnetic interference, impedance matching.</p>

<p>The maximum allowed voltage dropout is a good parameter to calculate the cable thickness. In most situations this is the limitation factor and may define alone (without the need to calculate the other factors) the cable thickness.</p>

<p>\$ V_{drop} = R_{cable} \times I \$</p>

<p>\$ R_{cable} = \dfrac {p \times length}{CrossSectionArea}\$</p>

<p>Where p is the <a href=""http://en.wikipedia.org/wiki/Electrical_resistivity_and_conductivity"">material electrical resistivity</a></p>

<p>For a round cable:</p>

<p>\$ R_{cable} = \dfrac {p \times length}{\pi \times radius²}\$</p>

<p>Joining the equations we have that the thickness should be at least:</p>

<p>\$ radius &gt;= \sqrt{ \dfrac {p \times length \times I}{V_{drop}\times \pi}}\$</p>

<p>Assuming that a voltage drop of 0.5(v) is allowed and you'll be using a 2 meters copper cable (p=1.68×10−8) for a maximum 16(A) current:</p>

<p>\$ radius &gt;= \sqrt{ \dfrac {1.68×10^{−8}\times 2 \times 16}{0.5 \times \pi}}\$</p>

<p>\$ radius = 0.59 mm \$</p>

<p>\$ diameter = 2 \times radius = 1.18 (minimum) \$</p>

<p>From this <a href=""http://www.powerstream.com/Wire_Size.htm"">AWG table</a> we have that a cable of AWG-thickness of 11 has a diameter of 2.3mm, that is enough for your application.</p>

<p>The table also states that this AWG 11 can carry over 12(A) for what they call ""Maximum amps for power transmission"". This is a <strong>lower</strong> number than the one we calculated, but we should pay attention that this is a general advice for any cable length, not for a specific 2 meters cable (which I supposed in this calculation).</p>

<p>The cable heating is a little harder to calculate. You'll need information on heat dissipation characteristics of the environment and the cable: temperature, air flow, sunlight incidence, cable thinness, cable material, insulator layer and even the cable color (black cables heat up faster but also cool faster).</p>

<p>In general the cable insulation has a good thermal protection (around 80 Celsius degrees) which is enough for most cases. You should pay attention only if your cable will go through some heat source. In this case a thicker cable with a better insulator can stand up better.</p>

<p>Unfortunately there is differences among AC and DC current for cable selection. If you're going to transport AC current, a thinner cable may limit the maximum frequency you can carry, above which the signal may start degrading due <a href=""http://en.wikipedia.org/wiki/Skin_effect"">Skin Effect</a> as @TokenMacGuy noted . Lucky this is not the case with DC.</p>

<p>The last topic I said that could interfere with the cable thickness selection is the impedance matching. For more precise circuits, the resistance from the cable can make a huge impact in the power transmission. This problem arises mainly when there is a huge current, more than 100 (A), or the load resistance is really low, as speakers with 8 or 4 ohms. In this case a thicker cable with a lower resistance is desirable.</p>
","28940"
"24V 3A from ATX power supply?","31446","","<p>I am looking for a cheap way to get +24V DC max 3A from computer power supply. I prefer easy soldering solution like DIP, and standard components that do not need to be purchased over internet. Any ideas, please?</p>
","<p>You can open the supply and look for the TL431 chip.  There will be two resistors forming a voltage divider from the 5V rail to the 2.5V that the TL431 compares against.   If you calculate the right resistor values, you can set this divider to output half the voltage it currently does.  Then you can get the output up so that the +5V rail becomes +10V and the +12V rail becomes +24V.  You will probably need to install new output filter capacitors of higher voltage rating as well.  And if you modify an ATX supply this way, please cut off the ATX connector and install something else, so it won't plug in to a motherboard.</p>
","7663"
"Fast and memory efficient moving average calculation","31301","","<p>I'm looking for a time and memory efficient solution to calculate a <a href=""http://en.wikipedia.org/wiki/Moving_average"">moving average</a> in C. I need to avoid dividing because I'm on a PIC 16 which has no dedicated division unit.</p>

<p>At the moment, I just store all values in a <a href=""http://en.wikipedia.org/wiki/Circular_buffer"">ring buffer</a> and simply store and update the sum each time a new value arrives. This is really efficient, but unfortunately uses most of my available memory...</p>
","<p>As others have mentioned, you should consider a IIR (infinite impulse response) filter rather than the FIR (finite impulse response) filter you are using now.  There is more to it, but at first glance FIR filters are implemented as explicit convolutions and IIR filters with equations.</p>

<p>The particular IIR filter I use a lot in microcontrollers is a single pole low pass filter.  This is the digital equivalent of a simple R-C analog filter.  For most applications, these will have better characteristics than the box filter that you are using.  Most uses of a box filter that I have encountered are a result of someone not paying attention in digital signal processing class, not as a result of needing their particular characteristics.  If you just want to attenuate high frequencies that you know are noise, a single pole low pass filter is better.  The best way to implement one digitally in a microcontroller is usually:</p>

<p>FILT &lt;-- FILT + FF(NEW - FILT)</p>

<p>FILT is a piece of persistant state.  This is the only persistant variable you need to compute this filter.  NEW is the new value that the filter is being updated with this iteration.  FF is the <i>filter fraction</i>, which adjusts the ""heaviness"" of the filter.  Look at this algorithm and see that for FF = 0 the filter is infinitely heavy since the output never changes.  For FF = 1, it's really no filter at all since the output just follows the input.  Useful values are in between.  On small systems you pick FF to be 1/2<sup>N</sup> so that the multiply by FF can be accomplished as a right shift by N bits.  For example, FF might be 1/16 and the multiply by FF therefore a right shift of 4 bits.  Otherwise this filter needs only one subtract and one add, although the numbers usually need to be wider than the input value (more on numerical precision in a separate section below).</p>

<p>I usually take A/D readings significantly faster than they are needed and apply two of these filters cascaded.  This is the digital equivalent of two R-C filters in series, and attenuates by 12 dB/octave above the rolloff frequency.  However, for A/D readings it's usually more relevant to look at the filter in the time domain by considering its step response.  This tells you how fast your system will see a change when the thing you are measuring changes.</p>

<p>To facilitate designing these filters (which only means picking FF and deciding how many of them to cascade), I use my program FILTBITS.  You specify the number of shift bits for each FF in the cascaded series of filters, and it computes the step response and other values.  Actually I usually run this via my wrapper script PLOTFILT.  This runs FILTBITS, which makes a CSV file, then plots the CSV file.  For example, here is the result of ""PLOTFILT 4 4"":</p>

<p><img src=""https://i.stack.imgur.com/5u9OU.gif"" alt=""""></p>

<p>The two parameters to PLOTFILT mean there will be two filters cascaded of the type described above.  The values of 4 indicate the number of shift bits to realize the multiply by FF.  The two FF values are therefore 1/16 in this case.</p>

<p>The red trace is the unit step response, and is the main thing to look at.  For example, this tells you that if the input changes instantaneously, the output of the combined filter will settle to 90% of the new value in 60 iterations.  If you care about 95% settling time then you have to wait about 73 iterations, and for 50% settling time only 26 iterations.</p>

<p>The green trace shows you the output from a single full amplitude spike.  This gives you some idea of the random noise suppression.  It looks like no single sample will cause more than a 2.5% change in the output.</p>

<p>The blue trace is to give a subjective feeling of what this filter does with white noise.  This is not a rigorous test since there is no guarantee what exactly the content was of the random numbers picked as the white noise input for this run of PLOTFILT.  It's only to give you a rough feeling of how much it will be squashed and how smooth it is.</p>

<p>PLOTFILT, maybe FILTBITS, and lots of other useful stuff, especially for PIC firmware development is available in the PIC Development Tools software release at my <a href=""http://www.embedinc.com/pic/dload.htm"" rel=""noreferrer"">Software downloads page</a>.</p>

<h2>Added about numerical precision</h2>

<p>I see from the comments and now a new answer that there is interest in discussing the number of bits needed to implement this filter.  Note that the multiply by FF will create Log<sub>2</sub>(FF) new bits below the binary point.  On small systems, FF is usually chosen to be 1/2<sup>N</sup> so that this multiply is actually realized by a right shift of N bits.</p>

<p>FILT is therefore usually a fixed point integer.  Note that this doesn't change any of the math from the processor's point of view.  For example, if you are filtering 10 bit A/D readings and N = 4 (FF = 1/16), then you need 4 fraction bits below the 10 bit integer A/D readings.  One most processors, you'd be doing 16 bit integer operations due to the 10 bit A/D readings.  In this case, you can still do exactly the same 16 bit integer opertions, but start with the A/D readings left shifted by 4 bits.  The processor doesn't know the difference and doesn't need to.  Doing the math on whole 16 bit integers works whether you consider them to be 12.4 fixed point or true 16 bit integers (16.0 fixed point).</p>

<p>In general, you need to add N bits each filter pole if you don't want to add noise due to the numerical representation.  In the example above, the second filter of two would have to have 10+4+4 = 18 bits to not lose information.  In practise on a 8 bit machine that means you'd use 24 bit values.  Technically only the second pole of two would need the wider value, but for firmware simplicity I usually use the same representation, and thereby the same code, for all poles of a filter.</p>

<p>Usually I write a subroutine or macro to perform one filter pole operation, then apply that to each pole.  Whether a subroutine or macro depends on whether cycles or program memory are more important in that particular project.  Either way, I use some scratch state to pass NEW into the subroutine/macro, which updates FILT, but also loads that into the same scratch state NEW was in.  This makes it easy to apply multiple poles since the updated FILT of one pole is the NEW of the next one.  When a subroutine, it's useful to have a pointer point to FILT on the way in, which is updated to just after FILT on the way out.  That way the subroutine automatically operates on consecutive filters in memory if called multiple times.  With a macro you don't need a pointer since you pass in the address to operate on each iteration.</p>

<h2>Code Examples</h2>

<p>Here is a example of a macro as described above for a PIC 18:</p>

<pre>
////////////////////////////////////////////////////////////////////////////////
//
//   Macro FILTER filt
//
//   Update one filter pole with the new value in NEWVAL.  NEWVAL is updated to
//   contain the new filtered value.
//
//   FILT is the name of the filter state variable.  It is assumed to be 24 bits
//   wide and in the local bank.
//
//   The formula for updating the filter is:
//
//     FILT &lt;-- FILT + FF(NEWVAL - FILT)
//
//   The multiply by FF is accomplished by a right shift of FILTBITS bits.
//
/macro filter
  /write
         dbankif lbankadr
         movf    [arg 1]+0, w ;NEWVAL &lt;-- NEWVAL - FILT
         subwf   newval+0
         movf    [arg 1]+1, w
         subwfb  newval+1
         movf    [arg 1]+2, w
         subwfb  newval+2

  /write
  /loop n filtbits           ;once for each bit to shift NEWVAL right
         rlcf    newval+2, w ;shift NEWVAL right one bit
         rrcf    newval+2
         rrcf    newval+1
         rrcf    newval+0
    /endloop

  /write
         movf    newval+0, w ;add shifted value into filter and save in NEWVAL
         addwf   [arg 1]+0, w
         movwf   [arg 1]+0
         movwf   newval+0

         movf    newval+1, w
         addwfc  [arg 1]+1, w
         movwf   [arg 1]+1
         movwf   newval+1

         movf    newval+2, w
         addwfc  [arg 1]+2, w
         movwf   [arg 1]+2
         movwf   newval+2
  /endmac</pre>

<p>And here is a similar macro for a PIC 24 or dsPIC 30 or 33:</p>

<pre>
////////////////////////////////////////////////////////////////////////////////
//
//   Macro FILTER ffbits
//
//   Update the state of one low pass filter.  The new input value is in W1:W0
//   and the filter state to be updated is pointed to by W2.
//
//   The updated filter value will also be returned in W1:W0 and W2 will point
//   to the first memory past the filter state.  This macro can therefore be
//   invoked in succession to update a series of cascaded low pass filters.
//
//   The filter formula is:
//
//     FILT &lt;-- FILT + FF(NEW - FILT)
//
//   where the multiply by FF is performed by a arithmetic right shift of
//   FFBITS.
//
//   WARNING: W3 is trashed.
//
/macro filter
  /var new ffbits integer = [arg 1] ;get number of bits to shift

  /write
  /write ""         ;   Perform one pole low pass filtering, shift bits = "" ffbits
  /write ""         ;""

         sub     w0, [w2++], w0 ;NEW - FILT --&gt; W1:W0
         subb    w1, [w2--], w1

         lsr     w0, #[v ffbits], w0 ;shift the result in W1:W0 right
         sl      w1, #[- 16 ffbits], w3
         ior     w0, w3, w0
         asr     w1, #[v ffbits], w1

         add     w0, [w2++], w0 ;add FILT to make final result in W1:W0
         addc    w1, [w2--], w1

         mov     w0, [w2++]  ;write result to the filter state, advance pointer
         mov     w1, [w2++]

  /write
  /endmac</pre>

<p>Both these examples are implemented as macros using my <a href=""http://www.embedinc.com/pic/prepic.txt.htm"" rel=""noreferrer"">PIC assembler preprocessor</a>, which is more capable than either of the built-in macro facilities.</p>
","30384"
"Why does an oscilloscope show a different voltage from a signal generator?","31210","","<p>I have a Rigol DS1052E oscilloscope and a Rigol DG1022 function generator. I have just changed the oscilloscope fan for a silent one, as I found, as is commonly reported, that the original fan noise was very irritating. That seems successful and is the only modification I have made to the oscilloscope.</p>

<p>Testing the oscilloscope as a check, I connected the signal generator to it with a plain BNC cable (both ends BNC), and set the signal generator to a 5 volt peak-to+peak 1&nbsp;kHz sine wave, and the voltage was confirmed by a digital voltmeter showing 3.67 or so V RMS. However, the oscilloscope shows 10&nbsp;V p/p, and this also happens for a 100&nbsp;kHz sine wave. Testing other amplitudes, it is not always precisely two to one, but it is round about that ratio.</p>

<p>Why does the oscilloscope show twice the voltage as the signal generator? I hope it is something trivial that I have overlooked, and desperately not an ""undocumented hardware modification"", as we used to say in the lab when we dropped something and it no longer worked.</p>

<hr>

<p>Well I need not have panicked. @Sephro has the solution. Thank you to him especially, and to the others for the helpful comments. I would have also accepted @alex forencich's version if I was allowed to. I was beginning to approach that answer myself, since I discovered that inserting a 50 ohm parallel load on the output of the sig. gen. cured the problem, I have done as @Seph suggested and set the sig. gen. output to ""High Z"" and that, too, makes the voltages shown coincide.</p>

<p>So, my extended explanation, from the answers given, is:</p>

<p>I see now that, to generate 5 V across a 50 ohm load, with its internal resistance also 50 ohms, the sig. gen. actually generates 10 V of which, because the two 50 ohms in series act as a voltage divider, only 5 V appears at the output terminals, and that is the value that is displayed on the sig. gen. panel. If a high impedance load such as an oscilloscope is attached, then the voltage divider is distorted, with a very small drop across the sig. gen.'s internal 50 ohms, and very nearly all across the 'scope input. The sig. gen. does not ""know"" this and still gives the same display as for the 50 ohm load. As @Seph says, there is a ""High Z"" setting for the DG1022 sig. gen. that (in effect?) replaces the internal impedance with a high impedance to match the load, so the voltage divider effect is restored.</p>
","<p>The <a href=""http://www.rigol.com/download/Oversea/DG/User_guide/DG1022_UserGuide_EN.pdf"" rel=""noreferrer"">DG1022 signal generator</a> has an output impedance setting- High Z and 50\$\Omega\$ (or some other resistance). </p>

<p>If you set it for 50\$\Omega\$ then you need to terminate it with 50\$\Omega\$ or you'll get double the output voltage! </p>

<p><img src=""https://i.stack.imgur.com/pynC3.png"" alt=""enter image description here""></p>

<p>Set it to High Z and all will likely be well. </p>
","117811"
"Inductors - what are they used for?","31208","","<p>When are inductors really used? I have read that the elements are typically quite hard to implement into circuits given their physical characteristics. I also read that if inductors are placed in circuits there is a imlpementation method that actually places them flat and coils around itself on a plane, but it's apparently not very common. </p>

<p>I have seen inductors used a little bit in a few wireless applications, but not much else. I know inductors can be used in filters, but so can capacitors which are much more precise and readily available. </p>

<p>In short, what are inductors really used <em>for</em>?</p>
","<p>Good question..  one common use is in a filter.  A capacitor passes a high frequency signal easily, but resists low frequency ones.  While an inductor does the opposite: it pass low-frequency easily, and impedes high frequency.  In fact, inside most speaker enclosures you'll find an inductor used on the woofer to pass the low-frequency energy to the woofer, while a capacitor is used with the tweeter to pass the high-frequency energy to the tweeter.</p>

<p>The reason to use an inductor there is that it doesn't ""consume"" or ""waste"" the high frequency energy, it just blocks it from passing, so that energy can then pass through the capacitor, to the tweeter, instead.</p>

<p>In general, the behavior of an inductor is the dual to that of a capacitor, so most functions that require one can be implemented by using the other, but in a different arrangement.  But that's not always true.  For example, if you only want to receive low-frequency energy, you can put in a resistor, followed by a capacitor to ground.  The high frequency energy will be ""shorted"" through the capacitor, and drop most of the voltage across the resistor (which turns the high frequency signal into heat), leaving very little amplitude across the capacitor.  That works fine if you only want the information, so it's okay to waste the high frequency energy..  but in the case of speakers, it took a lot of work getting that high energy into the speaker box, so you need a way to filter without losing the energy!</p>

<p>That brings up a fundamental difference between resistors versus capacitors and inductors.  Resistors turn the voltage across them times the current through them into heat.  But capacitors and inductors do not!  Ideal versions convert none of the electric energy into heat.  Although real ones turn some percentage of the voltage across them times the current through them into heat -- that percentage varies with the frequency of the voltage/current.</p>

<p>Another common use of inductors is in oscillators..  imagine an inductor and a capacitor connected together at both ends -- there is some frequency at which both resist the exact same amount!  That is called the resonant frequency of the combination.  It turns out that once you get it started, the capacitor's voltage forces current to flow in the inductor, until the voltage reaches zero -- but now the inductor wants that current to keep flowing, so it does, and ends up charging up the capacitor, but to the opposite voltage it had before.  When the current reaches zero, the capacitor starts forcing current again, and it builds up.. but in the opposite direction as before.. and the same thing repeats..</p>

<p>If the inductor and capacitor were perfect, then this would continue forever..  but they both lose a little bit of the energy, turned into heat..  so the voltages and currents are less on each repetition..  all that is needed to make an oscillator, then is a way to replenish the lost energy after each cycle.</p>

<p>The third common use is as an energy storage device, especially in switching power supplies.  In that case, a DC power supply's function is to supply continuous current.  It also has the function of going between an input voltage source and the output voltage is supplies.  So, the fact that it blocks high frequency can be looked as: when the voltage across it is suddenly changed, the current through it does not.. rather, the current only starts becoming different.  So, if you very quickly change the voltage to very high, then zero, then very high, then zero, the current will start going up, then start going down, but as long as you only leave either of the two voltages for a very short time, the current won't change much at all, in either direction.  If you leave it high the same period as you leave it low, then the current will average out and stay steady.  If that current matches  the current being taken out of the power-supply, then the output voltage of the supply will stay constant.  Now, imagine leaving the high voltage on a little longer than ground -- the current will increase slowly, over the course of many repetitions..  and vice versa.  If the load keeps taking the same current, then the output voltage of the supply will slowly rise, as the extra current charges the capacitor between the output and ground.  That is how a switching supply uses an inductor to change large input voltage into a smaller output voltage.  There is a circuit that detects the output voltage, and compares against the desired voltage, and adjusts how much time the inductor is given the high input voltage versus ground, in order to change how much excess current there is to charge the capacitor on the output (see circuits posted with other answers).</p>

<p>Those are the only three common uses..  but some exotic circuits use the transfer function of an inductor in odd ways (for example, in older radar as part of a ""steering"" circuit to block out-going energy from blowing out the sensitive receiver).  See also ""gyrator"", which can make a capacitor look to the circuit like an inductor (and vice versa)!</p>
","77804"
"How does TTL serial work?","31129","","<p>I've been trying to find a good description of the TTL serial ""standard"" without much luck.  I understand that serial transmit (TX) and receive (RX) lines idle high (at VCC) and that they drop to ground when a bit is transmitted.  As such, they're inverted from the norm, where a ""1"" is high and ""0"" is low.  </p>

<p>What I don't understand is who's responsible for holding the line high and how a zero is transmitted.  Does the sender drive the line to high and low? Or does the receiver hold the line high with the sender pulling the line low (open collector)?</p>
","<p>With TTL serial, there are two unidirectional data lines. Each is driven by the sender, both high and low. A 0 bit is represented by 0V a 1 bit by VCC.</p>

<p>The receiver's pin should be set to an input.</p>

<p>So, for a microcontroller to send a byte (8-N-1 no flow control) it could do something like this:</p>

<pre><code>#define BAUDRATE 9600
#define DELAY (SYS_CLK/BAUDRATE)

#define UART_BITBANG_OFF     UART_BITBANG_PORT |= _BV(UART_BITBANG_PIN)
#define UART_BITBANG_ON      UART_BITBANG_PORT &amp;= ~ _BV(UART_BITBANG_PIN)

#define UART_BITBANG_BIT(bit) {if (bit) UART_BITBANG_ON; else UART_BITBANG_OFF; _delay_us(DELAY);}

void uart_bitbang_init(void)
{
    UART_BITBANG_DDR &amp;= ~ _BV(UART_BITBANG_PIN);        // TX output
}

void uart_bitbang_putc(uint8_t c)
{
    UART_BITBANG_BIT(1)
    UART_BITBANG_BIT((c &amp; 0x1) == 0);
    UART_BITBANG_BIT((c &amp; 0x2) == 0);
    UART_BITBANG_BIT((c &amp; 0x4) == 0);
    UART_BITBANG_BIT((c &amp; 0x8) == 0);
    UART_BITBANG_BIT((c &amp; 0x10) == 0);
    UART_BITBANG_BIT((c &amp; 0x20) == 0);
    UART_BITBANG_BIT((c &amp; 0x40) == 0);
    UART_BITBANG_BIT((c &amp; 0x80) == 0);
    UART_BITBANG_BIT(0);
}
</code></pre>

<p>(This code reads a bit backwards as it was originally meant for inverted TTL serial)</p>

<p>Of course, most MCUs have hardware UARTs which do all this for you.</p>

<p>Here's what you'd see on a scope:</p>

<p><a href=""https://www.pololu.com/docs/0J25/4.a"" rel=""nofollow noreferrer"">https://www.pololu.com/docs/0J25/4.a</a></p>

<p><img src=""https://www.pololu.com/picture/0J1035.600.png""></p>

<p>Here's a great video from ladyada explaining serial:
<a href=""http://www.adafruit.com/blog/2010/09/15/usb-serial-and-you-video-an-adafruit-after-school-special/"" rel=""nofollow noreferrer"">http://www.adafruit.com/blog/2010/09/15/usb-serial-and-you-video-an-adafruit-after-school-special/</a></p>
","6890"
"Why do smoke detectors go off when lightning strikes?","31098","","<p>Just experienced this, I saw lightning outside my window (not hitting our building or anywhere close to it), and immediately after the smoke detector went off for a short while. Can anyone explain what caused this?</p>
","<p>Lightning is a nasty thing. Powerful. Very high current at very short rise time. This causes an strong EMP (ElectroMagnetic Pulse) which will be picked up by anything conducting. A 1m free-hanging wire may create a voltage peak between its ends. Even short connections may see spikes. Decoupling doesn't always work as the EMP can enter an IC directly; it doesn't have to come by the (power) wires.<br>
So no wonder some products experience a temporary malfunction during a lightning bolt, and high impedance mean more sensitive. If the disturbance remains within the device's voltage range it may behave wrongly without suffering damage. Higher voltage spikes may destroy (parts of) the device.  </p>

<p>I heard the story of a Dutch family where lightning had struck in the backyard. <em>Every</em> electronic product in the house was fried, from TV and PC to cameras and mobile phones. Se non è vero...  </p>

<p>And David with his smoke alarm network/antenna, well... :-)</p>
","15608"
"Why are the letters U, V and W used in AC motors to represent the windings?","31098","","<p>I am connecting up an AC motor and was wondering if this labeling system was representative of something? Or just another set of letter like X,Y,Z?</p>

<p>I could not find any information regarding this in <a href=""https://law.resource.org/pub/in/bis/S05/is.iec.60034.8.2002.pdf"" rel=""noreferrer"">IEC 60034-8, 
Rotating electrical machines – Part 8: Terminal markings and direction of 
rotation</a> or a brief search of google, forums etc.</p>
","<p>The letters are ""representative of something""</p>

<p>To assist in providing an international standard the International Electrotechnical Commission (IEC) created that IEC 60034-8 standard. 
<strong>""Terminal markings and direction of rotation""</strong></p>

<p>An electrical machine compliant to 60034-8 will ensure that clockwise rotation of the drive shaft will occur for positive electrical phase sequence U-V-W.</p>

<p>Thus if you were to wire such a machine upto a distribution labeled A-B-C and these electrical phases were A leading B, leading C... you would have the expected mechanical rotation</p>

<p>is it ""just another set of letters""? you could say they arbitrarily chose that sequence, a sequence that is just as good as any other BUT they assigned a specific meaning to it and a meaning that is internationally recognised. </p>

<p>MotorA from supplier A and MotorB from supplier B being compliant to this reg &amp; meeting the customer requirements would be drop-in replacements that would minimise any unexpected mechanical rotation </p>
","195909"
"Two's complement of hexadecimal","31026","","<p>How do I find two's complement for hex F3A1?</p>

<p>First I converted the number to binary 1111 0011 1010 0001 and then I found two's complement 0000 1100 0101 1111 givin' as result 0C5F which differs from the answer in the book: 0A57</p>

<p>What I'm doing wrong?</p>
","<p>Flip 1's to 0's and 0's to 1's (i.e. regular complement). Then add 1.</p>

<p>What you're doing wrong is having too much faith in a book.</p>

<p>But, on the bright side, at least it's some kind of technical book that is probably mostly correct.</p>
","32163"
"Are watts usually measured in watt-hours?","30995","","<p>Pardon me, I'm a total newb to electronics. My question is, when a device is measured in watts, such as a 60-watt light bulb, is this ALWAYS supposed to be assumed to be watt-hours, i.e. 60 watts per hour?</p>
","<p><em>Energy</em> is an amount, while <em>power</em> is a rate at which energy is used.</p>

<ul>
<li>Energy is measured in watt-hours (W·h) or joules (J).  </li>
<li>Power is measured in watts (W) or joules per second (J/s).</li>
</ul>

<p>Watt-hours are like buckets, and watts are like buckets per hour.  If you have 5 buckets of energy and you pour one bucket per hour, you'll be able to pour for 5 hours before you run out.</p>

<p>If you turn on a 60-watt light bulb for 1 hour, you have used 60 watt-hours of energy.  If you use it for 2 hours, you have used 120 watt-hours of energy.  If you turn it on for only 1 minute, you have used 1 watt-hour.</p>

<p>It's a little confusing since the ""per hour"" is inside the term ""watt"", so to make the rate into an amount, you need to multiply by a time unit to cancel it out.</p>

<p>It would be a lot more intuitive if we worked in kilojoules and kilojoules per hour.   :)</p>
","4612"
"What is back-emf: counter-electromotive force?","30984","","<p>Could someone knowledgeable on the subject explain what exactly is this back emf?</p>

<p>How is it caused in a motor/generator, which components and which effects determines it?</p>
","<p>Inductive components like motor winding resist sudden changes in current. That's because the magnetic field caused by the current needs time to build up or decrease. That means that when current is flowing and this is suddenly cut off, the winding will try to maintain that current, and becomes a power source generating a voltage to be able to do so. It gets its power from the built up magnetic field.<br>
Since the winding is now a power source instead of a consumer the voltage is reversed for the same current flow direction. That also explains how the voltage on a coil can become higher than the power supply: instead of subtracting the voltage over it you add it to the power supply. That's why you need a flyback diode on for instance a relay coil: the diode will allow the back emf to flow back to the power supply without damaging the switching transistor.</p>
","18449"
"How antenna radiates(how currents flows through wire)","30946","","<p>I don't understand how antennas radiate a signal. </p>

<p>I understand basics antenna(wavelength, electron E field, ...), but I simply don't understand how can current go through a wire that doesn't have negative pole.</p>

<p>Can you please explain that to me.</p>
","<p>I'm guessing you don't understand how current can flow if there is no complete circuit. Let's take a simple quarter-wave dipole as an example:</p>



<p><img src=""https://i.stack.imgur.com/LQjmr.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fLQjmr.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>How can any current flow, since there is no complete circuit from ""-"" to ""+"" of V1?</p>

<p>Consider this: relative to the speed at which the waves in the electromagnetic fields propagate, the dipole is long. It's true that current can't flow, but it doesn't know that until it gets to the end of the wire. As the current approaches the end of the wire but has no place to go, the charges pile up until they are pushed back in the other direction. By the time it's back, it's travelled \$\lambda/2\$ or experienced a \$180^\circ\$ phase shift. The voltage at V1 has also changed by this point, and so the current is constructively adding to the new currents being produced by V1. If it were not for some of this energy being lost as radiation, the energy in this antenna would grow without bound.</p>

<p>Why the energy radiates is complicated. The long answer is ""<a href=""https://en.wikipedia.org/wiki/Maxwell%27s_equations"" rel=""noreferrer"">Maxwell's equations</a>"". If you don't want to understand all the gritty details of that math, then here's a simple, incomplete understanding: the current in an antenna is associated with a magnetic field, and the voltage is associated with an electric field. An antenna is an arrangement such that at some distance away from the antenna (the <a href=""http://en.wikipedia.org/wiki/Near_and_far_field"" rel=""noreferrer"">far field</a>) these two fields are mutually perpendicular and in phase, and what you get is a self-propagating wave like this:</p>

<p><img src=""https://i.stack.imgur.com/qdM6Y.gif"" alt=""enter image description here""></p>

<p>Red is the electric (E) field, and blue is the magnetic (B) field. This is the sort of wave that would be emitted by a dipole aligned with the Z axis.</p>
","74013"
"What are buffer and latches in microprocessor?","30919","","<p>I would like a description that clarifies the concepts of what buffers and latches are and the difference between them. I'm asking for buffers and latches in respect to the 8086 microprocessor.</p>
","<ol>
<li><p>A buffer allows a signal to drive more inputs than it would by itself, or provides input protection / amplification. For the 8086, it's used in the output sense, allowing internal signals to be made robust to drive external devices.</p></li>
<li><p>A latch is a circuit to accept and store one or more bits, with a 1-to-1 input / output ratio. That is, it's not RAM. It differs from a register in that the storage takes place while a control input is at a particular level (0 or 1), while a register stores the input data upon receipt of an edge (rising or falling). </p></li>
</ol>

<p>Latches are used with 8086s to store addresses and data, and are used instead of registers because they maximize setup times. That is, if data or addresses change internally while the latch enable is active, the data passes through immediately, while with a register it would not be available until after the appropriate clock transition had occurred. The early microprocessors used every trick they could to increase their usable speed, and this is one of them. </p>
","122679"
"How does the phone detect if 3.5 mm jack circuit is closed?","30901","","<p>I have an android phone to which i have plugged an earphones. So at the top of the phone, I get the <strong>headphone symbol</strong> which indicates that the earphone is connected (In other words, the circuit at the 3.5 mm jack is closed). </p>

<p>Then I <em>cut</em> the two earphones (transducers) from it, and <em>still the headphone symbol shows</em>. When I later cut this cable, <em>below</em> where it branches out, even then it shows circuit completion. </p>

<p>So my question is this: </p>

<p><strong>How</strong> does the phone detect circuit completion at the 3.5 mm jack and thus trigger <strong>all sound and music</strong> to be directed through the 3.5mm jack?</p>
","<p>Headphone jacks have extra contacts inside, which act as switches.  The the drawing below, pins 4 and 5 are intended for sensing that the plug was inserted.  They are not intended for audio signal.  When the plug is not present, the switche, which are formed by 2 &amp; 4 and 3 &amp; 5, are closed.  When the plug is inserted, these switches are open.  The plug flexes 2 and 3 slightly, and they break contact with 4 and 5.  You could insert a 3.5mm plastic rod [a dummy] into the jack, which will open the contacts, and the phone might think that earphones are plugged in.</p>

<p><img src=""https://i.stack.imgur.com/Yjl5u.png"" alt=""enter image description here""></p>

<p>Source: <a href=""http://www.switchcraft.com/Drawings/35rasmt4bhntrx_cd.pdf"">datasheet</a> for a typical stereo jack.</p>
","95578"
"How would I design a protection clipper circuit for ADC input?","30868","","<p>I'd like to be able to protect my ADC from input voltages higher than 5V. What's the simplest protection circuit I could build to have an output like shown below?</p>

<p>Thanks</p>

<p><img src=""https://i.stack.imgur.com/vCFbc.png"" alt=""enter image description here""></p>
","<p>Probably the simplest is a simple zener limiter:</p>

<p><img src=""https://i.stack.imgur.com/mqxsA.png"" alt=""enter image description here""></p>

<p>This will also limit negative voltages to about -0.7 V, though this limit will not be well controlled.</p>

<p><strong>Edit:</strong> I show 100 Ohms at R1. This is just a default value. You want as high a value as you can use, given the bandwidth of the signal you're sampling and the input current needs of your ADC. The higher this resistance, the lower the current the zener needs to sink in an over-voltage condition, so the smaller (and lower-cost) the zener can be. You may want to add a capacitor in parallel with the zener so that it combines with R1 to form an anti-aliasing filter for your ADC.</p>

<p>A lower cost option if you have a 5 V rail that can sink enough current, and you don't mind the limit value being slightly above 5 V:</p>

<p><img src=""https://i.stack.imgur.com/oKptw.png"" alt=""enter image description here""></p>

<p>You can buy the two diodes in a dual package for exactly this purpose.
If you want the limit value to be nearer 5.2 V than 5.7 V, use schottky diodes instead of regular silicon diodes.</p>

<p><strong>Edit 2</strong> </p>

<p>As Steven points out, there's a trade-off here. A zener will start to conduct slightly at low current levels, and the source you're measuring needs to be able to provide enough current to drive it all the way to 5 V to get the clipping you want. If you absolutely need to be able to get to 5.0 V before clipping begins, you may need to use, say, a 5.3 V zener instead of 5.0 V, and be sure your source can provide at least 10 uA. Then of course you aren't guaranteed to clip below 5.5 V.</p>

<p>On the other hand, the diode connection to the positive rail (my second solution, whether using external diodes or the ones that are probably built in to your ADC inptus) will <strong>only</strong> work if there are enough loads on the 5 V rail to sink the current provided by the overvoltage source. In a low-power circuit, the overvoltage could end up driving your 5 V supply out of regulation and cause all kinds of unexpected behavior in other parts of your circuit. </p>

<p>You can limit the current that needs to be sunk in the overvoltage condition by increasing the R1 value. But your ability to do that is limited by the bandwidth you want to be able to measure in your input signal and/or the input current needed by your ADC.</p>

<p>It's also not true that the zener voltage ""varies wildly with current"". It would be more correct to say there is a small leakage current, on the order of 10-100 uA, below the zener threshold. Once the zener enters avalanche operation, the voltage can be very stable across <em>decades</em> of current. Here's the typical I-V of an On Semi zener family:</p>

<p><img src=""https://i.stack.imgur.com/qVpnW.png"" alt=""enter image description here""></p>

<p>Note that higher-value zeners have better stability than low-value ones. And of course there are also thermal variations (1-2 mV/K typical for the On Semi part at 5.1 V) to worry about if you want a very stable clipping voltage.</p>
","35811"
"Design a full subtractor using 4 to 1 MUX and an inverter","30839","","<p>I can't wrap my head around it. Any tips?</p>

<p>I need to draw a circuit diagram of a Full Subtractor using 4-to-1 Multiplexers and an Inverter.</p>

<p>FS diagram:</p>

<p><a href=""http://ustudy.in/sites/default/files/fullsub.gif"" rel=""nofollow noreferrer"">subtractor http://ustudy.in/sites/default/files/fullsub.gif</a></p>

<p>MUX diagram:</p>

<p><a href=""http://www.ee.surrey.ac.uk/Projects/Labview/multiplexer/graphics/multiplexer.gif"" rel=""nofollow noreferrer"">multiplexer http://www.ee.surrey.ac.uk/Projects/Labview/multiplexer/graphics/multiplexer.gif</a></p>

<p>Do I need to combine them somehow?</p>
","<p>since there are two outputs(sub and borrow) we have to select 2 multiplexers. Start with the truth table of full subtractor. Use karnaugh maps(it will make your life simpler). Select 2 variables as your select line. For example B and C in my case. The truth table is as follows
<img src=""https://i.stack.imgur.com/2A9Vz.png"" alt=""enter image description here""></p>



<p><img src=""https://i.stack.imgur.com/8dMmC.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f8dMmC.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>



<p><img src=""https://i.stack.imgur.com/pQ03l.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fpQ03l.png"">simulate this circuit</a></sup></p>
","78929"
"Solar panel not charging battery","30833","","<p>I posted a similar question a while ago and got the answer I thought I was looking for but I now have a new multimeter so I'm able to get readings that should be of some use.</p>

<p>I have a solar panel, charge controller and battery. I've left it out for over a week to charge in very good sunlight and the battery hasn't charged. The battery level indicator on the charge controller stays the same. I will try and provide as much info as possible. If someone could point out what is wrong and what I need to do to I'd it, that would be fantastic!</p>

<p>Solar Panel spec:</p>

<ul>
<li>Pmax - 5W</li>
<li>Vpm - 17.9V</li>
<li>Ipm - 0.28A</li>
<li>Voc - 22.41V</li>
<li>Isc - 0.3A</li>
</ul>

<p>Battery spec:</p>

<ul>
<li>Sealed lead-acid</li>
<li>12V</li>
<li>4.5AH</li>
<li>constant voltage charge</li>
<li>Initial current: less than 1.35A</li>
<li>Cycle use: 14.0V-15.0V</li>
<li>Standby use: 13.5V-13.8V</li>
</ul>

<p>Solar Charge Controller spec:</p>

<ul>
<li>Voltage: 12V/24V AUTOMATIC</li>
<li>Current: 5A
(That's all that's on the sticker)</li>
</ul>

<p>When I measure the voltage across the solar panel on its own it gives around 17v when in good sunlight which will charge a 12v battery, right? When I hook up the solar panel and battery to the solar charge controller and measure the voltage across the battery terminals it's around 12.2v and across the solar terminals it's around 12.4v. What's happening? I should probably also point out that when the solar panel is out of the sun and therefore producing less than 12v, the battery terminals still show around 12.2v on the multimeter while the voltage across the solar terminals shows less than 12v. I also don't understand why the load light on the charge controller is always on even when there is no load connected and measuring the voltage across the load terminals, it shows 12v. The voltage across the battery after charging is often around 12.3v but the the next da has returned to around 12.2v</p>

<p>I would appreciate at help.
Thank You</p>
","<p>Throw out (put it back on the shelf) that charge controller, there isn't enough information about it to make sense of.</p>

<p>Just get a Schottky diode (1A will do. Find one on eBay or whatever, look for 'solar panel blocking diode') and put it between the solar panel and the battery. You will at least get some charging from the panel. If you pop out every evening and disconnect the panel from the battery before dark, you could even skip the diode.</p>

<p>You should measure the current from the panel to the battery. But this might be too likely to destroy your meter or at least blow the fuse in it, as it is nearly 100% certain you will put the current meter probes across the battery. </p>

<p>A quicker way is to see if the battery voltage goes up when you connect the panel to it. First get rid of 'surface charge' by discharging the battery a bit, say, with a light bulb or something. Remove the lightbulb or whatever. Then, measure the voltage (across the battery) before you connect the panel, then right after (with the panel in full sun, of course). </p>

<p>If you just leave the panel connected, with no blocking diode, when the panel is in the dark current will flow back into the panel from the battery, and, depending, may discharge the battery more than it is charged in the day. That is why I said 'if you pop out every evening and disconnect ...'.</p>

<p>Once you get all this sorted out, have worked out some way to measure current, know what condition your battery is in, and have your system doing some work, try the charge controller again. Probably it works just fine, and there is some mis-understanding. </p>
","80012"
"What determines the speed of a brushless DC motor","30802","","<p>When driving a brushless DC motor, which parameters control the speed.  Is it the current in the windings, the voltage, or both?  What determines the maximum speed?  If you drive the windings with PWM, that controls the winding current, correct?</p>
","<p>First let's consider just a ordinary brushed DC motor.  The hardware mechanically ensures that the windings are switched (commutated) such that the magnetic field is always trying to pull the motor along.  The magnetic field strength is directly proportional to current, so the torque is proportional to current.  So at a very basic level, the speed is whatever results in enough mechanical resistance to ballance the torque.  However, that is not useful in most cases since it's not obvious what the current is.</p>

<p>For a stalled motor, the current is the applied voltage divided by the resistance of whatever windings are switched in.  However, as the motor spins it also acts like a generator.  The voltage the generator produces is proportional to speed, and apposes the external applied voltage.  At some speed this equals the external voltage, in which case the effective voltage driving the motor is zero and the motor current is zero.  That also means the torque is zero, so a unloaded motor can't spin that fast since there is always some friction.  What happens is that the motor spins at a little lower speed.  The amount it spins slower is just enough to leave a little effective voltage on the motor, which is the amount to create just enough current to create the torque to ballance the small friction in the system.</p>

<p>This is why the speed of a unloaded motor doesn't just increase until it flies apart.  The unloaded speed is pretty much proportional to the external voltage, and is just below the speed at which the motor internally generates that voltage.  This also explains why a fast spinning motor draws less current than a stalled motor at the same external voltage.  For the stalled motor, current is applied voltage divided by resistance.  For the spinning motor, current is applied voltage minus the generator voltage divided by the resistance.</p>

<p>Now to your question about a brushless DC motor.  The only difference is that the windings are not automatically switched in and out according to the rotation angle of the motor.  If you switch them optimally as the brush system in a brushed DC motor is intended to do, then you get the same thing.  In that case the unloaded current will be even lower since there is no friction from the brushes to overcome.  That allows less current to drive the motor at a particular speed, which will be closer to where the generator voltage matches the external applied voltage.</p>

<p>With a brushless motor you have other options.  I recently did a project where the customer needed very accurate motor speed.  In that case I communtated the windings at precisely the desired speed derived from a crystal oscillator.  I used the Hall effect position feedback signals only to clip the applied magnetic field to within &plusmn;90&deg; of the position.  This works fine as long as the load on the shaft is less than the torque applied when the magnetic field is at 90&deg;.</p>

<p>Usually, however, you commutate a brushless DC motor optimally, just like the mechanical brushes would try to do.  This means keeping the magnetic field at 90&deg; from the current position in the direction of desired rotation.  The overall applied voltage is then adjusted to modulate speed.  This is efficient since only the minimum voltage is used to make the motor spin the desired speed.</p>

<p>Yes, PWM works fine for driving the coils.  After a few 100 Hz or so for most motors, the windings only ""see"" the average applied voltage, not the individual pulses.  The mechanical system can't respond anywhere near that fast.  However, these windings make magnetic fields which apply force.  There is a little bit of force on every turn of wire.  While the motor may operate fine at a few 100 Hz PWM, individual turns of the winding can be a little loose and vibrate at that frequency.  This is not good for two reasons.  First, the mechanical motion of the wires can eventually cause insulation to rub off, although that's rather a long shot.  Second, and this is quite real, the small mechanical vibrations become sound that can be rather annoying.  Motor windings are therefore commonly driven with PWM just above the audible range, like 25-30 kHz.</p>
","29054"
"Is paralleling diodes a bad idea?","30731","","<p>I'm trying to repair an 800W power supply (see my previous question on this.) One thing that gets me is that the design has two schottky diode packages (in TO-220) in parallel. I was always told this was A Bad Idea, but since they are thermally coupled to the same heatsink, does it present a problem in this instance? I've also noticed the same for the input bridge rectifier, two are used in parallel.</p>
","<p>The issue with putting diodes in parallel is that as they heat up their resistance decreases. As a result, that diode ends up taking on more current then the other diode, resulting it in heating up even more. As you can probably see this cycle will cause thermal run away causing the diode to eventually burn if you give it enough current.</p>

<p>Now the fact that you couple them to the same heatsink will reduce this effect some, but I still would not recommend it. There are far too many unknowns that will effect this to not ever trust it, especially in a commercial product.</p>

<p>Now for the case of this power supply you are looking at, it may very well be that they spent the time to get the diodes matched as closely as possible and allow the heatsink to keep them at about the same temperature.</p>

<p>It may also be that they are running the diodes far under their capacity and they put the second one in parallel so that they aren't always running them near max capacity, but I find this unlikely.</p>
","6157"
"How do you set the configuration bits for a PIC 16F1829 in MPLAB X?","30699","","<p>I am new to PIC programming (but not C, embedded systems, etc.)  I am using MPLAB X with the PIC16F1829 specified for the project.  I have the following includes:</p>

<pre><code>#include &lt;htc.h&gt;
#include &lt;xc.h&gt;
#include &lt;pic16f1829.h&gt;

__CONFIG( WDTDIS );  // No matter what I use in this macro, it won't build
</code></pre>

<p>I cannot seem to locate and definitions that work in the __CONFIG macro. The documentation also mentions <code>#pragma config SOMESETTING</code>, but I also cannot find any settings that will work. Does anyone know if:</p>

<ul>
<li>I am missing some setting or include in my project? Or,</li>
<li>if settings that will work with this processor are documented somewhere?</li>
</ul>

<p>UPDATE:</p>

<p>For anyone else who finds this, based on the documentation, for this processor with XC8, the correct way to specify these bits is with the <code>#pragma config</code></p>

<pre><code>#pragma config WDTE=OFF
#pragma config FOSC=INTOSC
</code></pre>
","<p>Microchip's website has a document named <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/PIC%20Config%20bit%20Format_Syntax_AndDefinitions.pdf"" rel=""nofollow"">Using the right Format, Syntax and Definitions for PICmicro Configuration Bits</a> that explains where to find the configuration settings for your particular device.</p>

<p>For example it states for the PIC16F1 devices with a C Compiler:</p>

<blockquote>
  <p>C Compiler:</p>
  
  <p>Format: Defined in the User Manual Located at:
  C:\Program Files\HI‐TECH Software\PICC\\docs\</p>
  
  <p>Definition/Syntax: Located in respective product's header file.  Use
  the pic16f1xxx.h header file at:
  C:\Program Files\HI‐TECH Software\PICC\\include\</p>
</blockquote>

<p>If we look in the header file for your particular chip we find:</p>

<pre><code>/
// Configuration mask definitions
//


// Config Register: CONFIG1
#define CONFIG1              0x8007
// Oscillator Selection
// ECH, External Clock, High Power Mode (4-32 MHz): device clock supplied to CLKIN pin
#define FOSC_ECH             0xFFFF
// ECM, External Clock, Medium Power Mode (0.5-4 MHz): device clock supplied to CLKIN pin
#define FOSC_ECM             0xFFFE
// ECL, External Clock, Low Power Mode (0-0.5 MHz): device clock supplied to CLKIN pin
#define FOSC_ECL             0xFFFD
// INTOSC oscillator: I/O function on CLKIN pin
#define FOSC_INTOSC          0xFFFC
// EXTRC oscillator: External RC circuit connected to CLKIN pin
#define FOSC_EXTRC           0xFFFB
// HS Oscillator, High-speed crystal/resonator connected between OSC1 and OSC2 pins
#define FOSC_HS              0xFFFA
// XT Oscillator, Crystal/resonator connected between OSC1 and OSC2 pins
#define FOSC_XT              0xFFF9
// LP Oscillator, Low-power crystal connected between OSC1 and OSC2 pins
#define FOSC_LP              0xFFF8
// Watchdog Timer Enable
// WDT enabled
#define WDTE_ON              0xFFFF
// WDT enabled while running and disabled in Sleep
#define WDTE_NSLEEP          0xFFF7
// WDT controlled by the SWDTEN bit in the WDTCON register
#define WDTE_SWDTEN          0xFFEF
// WDT disabled
#define WDTE_OFF             0xFFE7
// Power-up Timer Enable
// PWRT disabled
#define PWRTE_OFF            0xFFFF
// PWRT enabled
#define PWRTE_ON             0xFFDF
// MCLR Pin Function Select
// MCLR/VPP pin function is MCLR
#define MCLRE_ON             0xFFFF
// MCLR/VPP pin function is digital input
#define MCLRE_OFF            0xFFBF
// Flash Program Memory Code Protection
// Program memory code protection is disabled
#define CP_OFF               0xFFFF
// Program memory code protection is enabled
#define CP_ON                0xFF7F
// Data Memory Code Protection
// Data memory code protection is disabled
#define CPD_OFF              0xFFFF
// Data memory code protection is enabled
#define CPD_ON               0xFEFF
// Brown-out Reset Enable
// Brown-out Reset enabled
#define BOREN_ON             0xFFFF
// Brown-out Reset enabled while running and disabled in Sleep
#define BOREN_NSLEEP         0xFDFF
// Brown-out Reset controlled by the SBOREN bit in the BORCON register
#define BOREN_SBODEN         0xFBFF
// Brown-out Reset disabled
#define BOREN_OFF            0xF9FF
// Clock Out Enable
// CLKOUT function is disabled. I/O or oscillator function on the CLKOUT pin
#define CLKOUTEN_OFF         0xFFFF
// CLKOUT function is enabled on the CLKOUT pin
#define CLKOUTEN_ON          0xF7FF
// Internal/External Switchover
// Internal/External Switchover mode is enabled
#define IESO_ON              0xFFFF
// Internal/External Switchover mode is disabled
#define IESO_OFF             0xEFFF
// Fail-Safe Clock Monitor Enable
// Fail-Safe Clock Monitor is enabled
#define FCMEN_ON             0xFFFF
// Fail-Safe Clock Monitor is disabled
#define FCMEN_OFF            0xDFFF


// Config Register: CONFIG2
#define CONFIG2              0x8008
// Flash Memory Self-Write Protection
// Write protection off
#define WRT_OFF              0xFFFF
// 000h to 1FFh write protected, 200h to 1FFFh may be modified by EECON control
#define WRT_BOOT             0xFFFE
// 000h to FFFh write protected, 1000h to 1FFFh may be modified by EECON control
#define WRT_HALF             0xFFFD
// 000h to 1FFFh write protected, no addresses may be modified by EECON control
#define WRT_ALL              0xFFFC
// PLL Enable
// 4x PLL enabled
#define PLLEN_ON             0xFFFF
// 4x PLL disabled
#define PLLEN_OFF            0xFEFF
// Stack Overflow/Underflow Reset Enable
// Stack Overflow or Underflow will cause a Reset
#define STVREN_ON            0xFFFF
// Stack Overflow or Underflow will not cause a Reset
#define STVREN_OFF           0xFDFF
// Brown-out Reset Voltage Selection
// Brown-out Reset Voltage (VBOR) set to 1.9V
#define BORV_LO              0xFFFF
// Brown-out Reset Voltage (VBOR) set to 2.7V
#define BORV_HI              0xFBFF
// Low-Voltage Programming Enable
// Low-voltage programming enabled
#define LVP_ON               0xFFFF
// High-voltage on MCLR/VPP must be used for programming
#define LVP_OFF              0xDFFF
</code></pre>

<p>An example in the previously quoted document is:</p>

<pre><code>__CONFIG(FOSC_INTOSC &amp;WDTE_OFF &amp;  PWRTE_OFF &amp; MCLRE_ON&amp; CP_OFF &amp; BOREN_OFF &amp; CLKOUTEN_ON &amp; IESO_OFF &amp; FCMEN_OFF); 
__CONFIG(WRT_OFF &amp; VCAPEN_OFF &amp; PLLEN_OFF &amp; STVREN_OFF &amp; LVP_OFF);
</code></pre>

<p>Comparing this with the above header file you can see what each configuration macro will enable/disable.</p>
","47046"
"How do I use a 5V relay with a 3.3V arduino pro mini?","30684","","<p>I'm using a couple arduino pro mini's (3.3V) for a home automation project and want to add relays to the final PCB design to switch some stuff on and off.</p>

<p>Since I want to use a 5V relay like this: <a href=""https://www.reichelt.de/Miniaturrelais/HF-46F-5V/3/index.html?ACTION=3&amp;GROUPID=3292&amp;ARTICLE=112506&amp;OFFSET=500&amp;SID=11Vow@DqwQATMAAGPGvM8b2b39705163d5dacbce01dcbd684d924&amp;LANGUAGE=EN"" rel=""noreferrer"">HF 46F 5V, Miniature HF power relay, 5 V, 1 NO 5 A</a></p>

<p>I wonder how I can switch this relay with the arduino, since the pro mini only has an output of 3.3V on the pins?
The arduino is driven by a 3.7V Li-Ion Battery.</p>

<p>Another question would be how to use the relay safely with high voltages?
(apart from trace-width and trace spacing between high and low voltage parts on the pcb)
Thanks in advance!</p>
","<p>There are an awfull lot of ways to connect a 5V device to a 3.3V output pin.</p>

<p>//edited
The original/accepted answer can be found below.
This edited part should be an improved version of the original one.</p>

<p>Mind that this answer is for driving relays, if you're going to switch 20VDC at ~3A, a MOSFET will be a better/cheaper solution, as you don't need the relay.</p>

<p>Output pins shouldn't be used to drive anything. Output signals are low current control signals.
It is somewhat accepted to drive a LED directly from an output pin (if using a high enough current limiting resistor), but it may lead to problems, since the total current over multiple pins can also be limited by the hardware.
For communications, it may sometimes work to use 3.3V since it could be registered as a logical high, but you better not rely on it, for any serious applications.</p>

<p>You can choose a relay that can work with low voltage/low current. Your best bet would be a ""solid state relay"", since these do not require a coil to be energized and may work on low voltage/current. Check the specs to find one that fits your needs.</p>

<p>Usually, you're ging to power the 3.3V device from something like 5V USB or 9V plug. These sources can often provide the power required to energize the coil of your relay.
You will have to make the control signal of your board and switch the ""input power"" over the coil of your relay.
(TODO add diagram, I'm currently unable to, give me 12h)</p>

<p>Mind that some relay breakouts already have circuitry for this. And that your input voltage shouldn't be higher/lower than what the coil is rated for. Your source should be able to supply enough current for the relay.</p>

<p>The coil may ""suddenly"" take a lot of current, you may see that the voltage on your board drops, or that it resets. Often, the power supply isn't ""responsive enough"". You can fix this by adding a capacitor to ""buffer"" the power, so it can be releases at the very moment the coil needs to be energized, and it won't take the power away from the rest of the board.</p>

<p>//end of edit</p>

<ol>
<li>Just connect it. (The wrong way)**</li>
</ol>

<p>This might work in some scenario's, but not this scenario. The relay will draw too much current. For connecting a low current data-connection, it can actually work since the 3.3V might be seen as a logic HIGH.</p>

<p><strong>2. The Arduino way.</strong></p>

<p>Buy a TTL Logic Level Shifter - <a href=""https://www.sparkfun.com/products/12009"" rel=""nofollow"">https://www.sparkfun.com/products/12009</a></p>

<p>This little board will change output 5V, when given 3.3V at the signal in. The only problem, however, is that you will need a 5V on the input of the board.</p>

<p><strong>3. The Electronics way.</strong></p>

<p>You can easily use a transistor or mosfet to switch another (higher) current. This doesn't really differ that much from option 2, but it's a litte more complicated, but cheaper.</p>

<p><strong>4. Another way, like a boss.</strong></p>

<p>Search Stack-Exchange/Google for people with the same problem.
I've found that you can actually step up 3.3V to 5V, so that you won't need a 5V supply.
<a href=""https://www.circuitsathome.com/dc-dc/33v-to-5v-dc-dc-converter"" rel=""nofollow"">https://www.circuitsathome.com/dc-dc/33v-to-5v-dc-dc-converter</a></p>

<p><strong>5. Workaround</strong></p>

<p>Get a relay that works on your battery voltage and can be triggered from 3.3V.
You could consider something like this: <a href=""http://www.ebay.com/itm/5PCS-3V-3-3V-Relay-High-Level-Driver-Module-optocouple-Relay-Module-for-Arduino-/331413255692"" rel=""nofollow"">http://www.ebay.com/itm/5PCS-3V-3-3V-Relay-High-Level-Driver-Module-optocouple-Relay-Module-for-Arduino-/331413255692</a></p>

<p>It has an optocoupler, to isolate the arduino from the actual relay.
It might be better to get one that actually works on your battery voltage range. So that you can hook it up to the battery (and the signal pin to the Arduino). So the coil isn't activated directly by the arduino, which would draw too much current.</p>

<p><strong>6. Using a 5V supply</strong></p>

<p>You can turn the things around if you really want to.
You might want to use an USB-Powerbank (or some self-made/supplied circuitry) for powering your pro mini, the pro mini will be able to take the 5V directly.(<a href=""https://www.arduino.cc/en/Main/ArduinoBoardProMini"" rel=""nofollow"">https://www.arduino.cc/en/Main/ArduinoBoardProMini</a>)</p>

<p>You can now use the 5V to power your relay using options 2, 3 or 5.</p>
","213058"
"Is it possible to use Kinetic energy to power small devices?","30645","","<p>I've tried looking around for as much information as I could gather to build really small wearable electronics that could power themselves by generating energy with movement.</p>

<p>I know that the technology already exists in watches. There are watches that produce their own energy using a small generator that spins when the wearer moves its arm around. The energy is stored in a capacitor to make the watch work quasi-infinitely as long as the wearer moves enough throughout the day so that enough energy is generated. (some info here : <a href=""http://en.wikipedia.org/wiki/Automatic_quartz"">http://en.wikipedia.org/wiki/Automatic_quartz</a> )</p>

<p>I have trouble finding information about just how much current can this technique output for practical uses and if this technique can be adapted to work with other electronics.</p>

<p>In spirit of actually having real questions and not just vague stuff, here's a couple of questions I hope can get answered</p>

<ul>
<li>How much energy can these devices produce / store?</li>
<li>Is there any other devices aside from watches that are powered using only kinetic energy?</li>
<li>Is there any schematics on how to create a kinetic generator for low-power devices?</li>
</ul>

<p>Edit : Some people have said that it is hard to determine if it's possible since I didn't mention exactly what I would be doing. I don't have any project right now but I want to play around with wearable electronics that are motion-powered instead of battery-powered that you need to replace or recharge.</p>

<p>I'm thinking of using the lowest-power MCU I can find (something like the IT MSP430 microcontrollers) and reduce the current usage to the maximum by using standy mode as much as possible and doing very little active work, maybe just for logging multiple sensor data every couple seconds.</p>
","<p>I saw this answer and glanced at my watch, it just so happens to function in the way you describe. There's a large half-disc pendulum inside which presumably is used to collect the kinetic energy. It can run for about let's say one day If I walk about 2-4 miles a day. If I move throughout, indefinitely, but then, watches require very little power to begin with.</p>

<p><strong>Energy Storage</strong>
How much energy you can store only depends on your capacitors and batteries, etc, it's not inherent to the the energy generation method you want to use.</p>

<p><strong>Other Devices</strong>
I don't see why you would look at it this way as mentioned before. Decide on what you want to use kinetic energy to power and then do a few basic calculations based solely on first principles, assuming 100% efficiency of kinetic energy -> chemical / electrical energy and you'll quickly see what's doable and what's not. As a general guide, microWatts, up to a maximum of say a few milliWatt is probably all you can do <strong>(this very much depends on the type of physical activity you're using, more strenuous activites could very much reach into Watts)</strong></p>

<p><strong>Schematics</strong>
I can't give you one, but I can tell you the design is very simple. Take the pendulum in my watch mentioned earlier(here's a picture of one from your article):</p>

<p><img src=""https://i.stack.imgur.com/B77LL.jpg"" alt=""enter image description here""></p>

<p>While I can't specify exactly how thing's work internally, what I do know is this:</p>

<p><strong>""Electromagnetic induction is the production of an electric current across a conductor moving through a magnetic field""</strong></p>

<p>After reading the provided article, the pendulum is used to spin a pinion(visible in the picture) - just a small gear, which in turn drives an electric generator(which has been documented plenty). Anyway, you're likely to get an AC voltage from the electric generator. You can use perhaps a bridge rectifier, maybe a voltage regulator as well and store this in the energy storage device of your choice. </p>

<p><strong>Finally</strong>
Like I said before, <strong>decide on what you want to power first</strong>, that's the only way you're going to be able to do this properly. Make an upper maximum required power for the circuit you want to power and proceed from there. Feel free to ask for any more help but based on the information so far, this is all I can do.</p>
","37909"
"What is the difference between Ethernet and Serial communication?","30631","","<p>All the mouse movements, USB connections and other PC peripherals such as printers etc. are what is called serial communication. One bit per time.</p>

<p>So far so good. But when it comes to TCP protocol, Ethernet and internet it is not called serial communication anymore. But this is also bit per second stuff.</p>

<p>Why is that so? What is the main difference? I couldn't understand why it is not serial communication.</p>
","<p>At least three reasons, probably:</p>

<ol><li>In the era when RS-232 ports were common, it so by far the most common means of bit-at-a-time communication, so much so that the term ""serial port"" became synonymous with ""RS-232 port""; using the term ""serial"" in connection with anything else would add confusion.  Note that USB avoids such confusion mainly because it seldom referred to as ""Universal Serial Bus"", so the existence of the word ""serial"" in its long-form name is a non-issue.
<li>In nearly all cases, RS-232 ports their logic-level equivalents transmit individual bytes as they are received from software, and individual incoming bytes available to software as they are received.  By contrast, most Ethernet devices will wait until software has supplied an entire packet (between 64 and 1536 bytes) before they begin transmission, and will wait until they have received and validated an entire packet before they make any of it available to software.  Although bits and bytes might be sent over the wire serially, software neither knows nor cares.  It just knows that some short time after one controller is fed a packet and told to send it, another controller will report that a packet is available, and allow software to read it.
<li>A ""serial port"" is guaranteed to transmit bytes of data in the <i>chronological</i> sequence that software supplies them, and make them available to software in the chronological sequence they are received; it would be rather useless if it did not.  All Ethernet and Internet systems guarantee that when a packet is sent from one node to another the <i>arrangement</i> of bytes made available to the recipient will match the arrangement of bytes supplied by the sender, but there is no common specification requiring that the chronological order in which data are transmitted have any relation to their arrangement within a packet.  Further, there only guarantees that can be made with regard to chronological sequencing of packets relative to each other are highly vague.  If packet X is delivered Sunday at 11:47am and packet Y is delivered the next day at 3:28pm, one can safely assume that Y was sent after X.  On the other hand, if X is delivered at 1:47:12 and Y is delivered at 1:47:15, it's entirely possible that Y was sent first but X took longer to arrive.
</ol>

<p>Incidentally, a 10-base-T Ethernet connection sends individual bits in sequence, but higher-speed cabling often uses various signalling methods to send multiple bits at once.</p>
","31172"
"Is Frequency for dc is zero? ","30581","","<p>We know the frequency of a direct current is zero. The reason is that there is no repetitive pattern. </p>

<p>But i was stumbled when i notice, why cant that straight line be cut into smaller pieces, and can we treat it as infinite frequency? I have included a picture below as an example</p>

<p><img src=""https://i.stack.imgur.com/wlxiJ.jpg"" alt=""enter image description here""></p>

<p>As you can see , with dc, that straight line can be divided into infinitesimal patterns/cycles, since the cycle can be seen as lines repeating over and over again. </p>
","<p>Very clever, but that's not how it works.  </p>

<p>By your reasoning you should not only be able to make the frequency infinite, but also 4 Hz, or 100 Hz, or \$\sqrt{2}\$ Hz, all at the same time, with the same signal. And that's why you can't do that: a repeating signal <em>can have only 1 fundamental frequency</em>, which is 1/period.</p>

<p>It would be the same as taking 2 periods of the 4 Hz sine and saying that that's the period, because it also repeats, and then the signal would be 2 Hz. It can't be 2 Hz and 4 Hz at the same time.</p>
","41916"
"Standard pinout for RS-422?","30552","","<p>I am making a custom connector that will carry several signals to a test board including RS-422 RX+/RX- and TX+/TX-. The strange thing is that I didn't find a standard pinout for the DB9 connector used for the RS-422! </p>

<p>So I checked the manufacturer of the RS-422 PCI card in my PC and found their own pinout which means that my test board can only be interfaced to this RS-422 from this manufacturer and won't work on solutions from others?! Is that normal for this ""standard"" protocol?!</p>
","<p>From <a href=""http://en.wikipedia.org/wiki/RS-422"" rel=""nofollow noreferrer"">Wikipedia</a>:</p>

<blockquote>
  <p>RS-422 only specifies the electrical signaling characteristics of a single balanced signal.  Protocols and pin assignments are defined in other specifications.  The mechanical connections for this interface are specified by <a href=""http://en.wikipedia.org/wiki/EIA-530"" rel=""nofollow noreferrer"">EIA-530</a> (<a href=""http://en.wikipedia.org/wiki/DB-25"" rel=""nofollow noreferrer"">DB-25</a> connector) or <a href=""http://en.wikipedia.org/wiki/EIA-449"" rel=""nofollow noreferrer"">EIA-449</a> (<a href=""http://en.wikipedia.org/wiki/D-subminiature"" rel=""nofollow noreferrer"">DC-37</a> connector), however devices exist which have 4 screw-posts to implement the transmit and receive pair only.  The maximum cable length is 1500 m. Maximum data rates are 10 Mbit/s at 12 m or 100 kbit/s at 1200 m. RS-422 cannot implement a truly multi-point communications network such as with <a href=""http://en.wikipedia.org/wiki/EIA-485"" rel=""nofollow noreferrer"">EIA-485</a>, however one driver can be connected to up to ten receivers.</p>
</blockquote>

<p>So, according to the Wiki, there indeed is no standard for the pin assignments of RS-422 on a DB-9 connector.</p>

<p>In addition to that, <a href=""http://support.shadeblue.com/entries/20373887-RS232-RS422-RS485-DB9-DB25-serial-port-pinouts-and-loopback-wiring"" rel=""nofollow noreferrer"">different</a> <a href=""https://opengear.zendesk.com/entries/21745261-RS232-RS422-RS485-standard-DB-connector-pinout"" rel=""nofollow noreferrer"">websites</a> say different things:</p>

<p><img src=""https://i.stack.imgur.com/Wwx0W.png"" alt=""enter image description here""><img src=""https://i.stack.imgur.com/CnClA.png"" alt=""enter image description here""></p>

<p>So there probably indeed is no standard.</p>
","63915"
"Scale 30-50 mV signal to 0-5 V range","30543","","<p>I have a CO<sub>2</sub> sensor that output signal values 30-50&nbsp;mV. I need to translate these voltages to 0-5&nbsp;V for my microcontroller with the highest resolution. I understand that I can amplify the voltage using a non-inverting op-amp circuit, as shown, to a range of 3-5&nbsp;V, but is it possible to expand that range to 0-5&nbsp;V in order to get better resolution of sensor values?</p>

<p><a href=""https://www.digikey.com/schemeit/project/9ps/Op-Amp-CO2.png"" rel=""nofollow noreferrer"" title=""Circuit image""><img src=""https://www.digikey.com/schemeit/project/9ps/Op-Amp-CO2.png"" alt=""Circuit image"" title=""Circuit image""></a></p>
","<p>You can use a <strong>differential amplifier</strong> to subtract the 30 mV offset.</p>

<p><img src=""https://i.stack.imgur.com/0Gvyg.gif"" alt=""enter image description here""></p>

<p>When R1 = R2 and R3 = R4 the transfer function is </p>

<p>\$ V_{OUT} = \dfrac{R3}{R1}(V_2 - V_1) \$</p>

<p>So set V1 to 30 mV and choose R3 = 250 \$\times \$ R1.  </p>

<p>A problem with differential amplifiers is that R1 will load the resistor divider to get the 30 mV offset, so that you have to recalculate the resistors, and also V2 will have an input impedance which may distort the measurement. </p>

<p>An <strong>instrumentation amplifier</strong> is the solution. </p>

<p><img src=""https://i.stack.imgur.com/1sIKX.png"" alt=""enter image description here""></p>

<p>Most instrumentation amplifiers are differential amplifiers with a buffering input stage. The input stage sets the gain, while the differential stage is usually a \$\times\$1 amplifier. The amplification is then</p>

<p>\$ V_{OUT} = \dfrac{2 R2}{R1}\cdot \dfrac{R4}{R3} (V_2 - V_1) \$</p>

<p>The Microchip <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/25073A.pdf"" rel=""noreferrer"">MCP6N11</a> is a suitable device.</p>
","39307"
"Why does a delta/wye transformer make 30 degrees phase shift ?","30494","","<p>I'v heard that a delta/delta or Wye/Wye transformers do not make any phase shift. In delta/wye or wye/delta transformers, There is a 30 degrees phase shift between the primary and secondary coils. So, Why is  there a phase shift ? and Why is it 30 degrees ?.. Why not 60 or 120 ?</p>

<p>I googled and I found calculations with phasor diagrams that proves the 30 degrees phase but I'm confused because of too many calculations and diagrams, I didn't get it.</p>

<p>Would you give me a simple answer, please ? and I prefer the physical meanings and concepts rather than equations and mathematics.</p>

<p>Thank you very much,</p>
","<p>Let's call the 3 phases A, B and C and let's say we notionally have a neutral wire. Neutral is basically 0V in the system. </p>

<p>The ""A"" phase voltage (to neutral) is my chosen reference that all other voltage phase angles are measured from hence, V\$_B\$ is 120 lagging V\$_A\$ and V\$_C\$ is 120 degrees leading V\$_A\$.</p>

<p>OK so far?</p>

<p>What about the voltage between  line A and line B (aka V\$_{AB}\$) - this is called line voltage (not to be mistaken with voltages between phase and neutral). Line voltages are \$\sqrt3\$ times bigger than phase voltages.</p>

<p>OK so far?</p>

<p>If you are not just examine what happens here: -</p>

<p><a href=""https://i.stack.imgur.com/538HM.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/538HM.jpg"" alt=""enter image description here""></a></p>

<p>If you use trigonometry and resolve all the triangles you can find the length of V\$_{AB}\$ - it is \$\sqrt3\$ times bigger than either A or B to neutral.</p>

<p>It's also 30 degrees leading A and this is where the 30 degrees comes from. </p>

<p>So, a delta primary will receive primary line voltages of V\$_{AB}\$. V\$_{BC}\$ and V\$_{CA}\$.</p>

<p>Given that a transformer doesn't inherently phase shift anything (other than the trivial cases of 0 degrees and 180 degrees), any secondary winding voltage must be in phase with their respective primary voltage no-matter whether the secondary is connected delta or wye.</p>

<p>OK so far?</p>

<p>Then you have it because, a delta primary works with line voltages and these are 30 degrees shifted to their nearest phase voltage. The secondary outputs are also 30 degrees shifted and hence a wye secondary will produce a phase voltage that is 30 degrees shifted from the equivalent (but not directly connected to) phase voltage on the primary.</p>

<p>It's trivial to do the wye-delta transformer so I'll leave it to someone else.</p>
","191243"
"How to program STM32 Development Board","30479","","<p>I'm a total beginner with programming ARM microcontrollers, but I do have experience with AVR and PIC microcontrollers.</p>

<p>A few days back I have purchased a STM32F103VET6 development board from eBay. I'm now trying to program this board but I don't know where to start. I have also received a CD which contains some datasheets and some documents (all in Chinese).</p>

<p>Could someone tell me how to start? Or does someone have some source samples?</p>

<p>I have already installed Keil uVision4. I also have a J-link debugger.</p>
","<p>I have blinker example if you want to see</p>

<pre><code>#include ""stm32f10x_conf.h""

/* led connected to a gpio pin */
#define LED1_PIN    GPIO_Pin_0
#define LED1_PORT   GPIOB
#define LED2_PIN    GPIO_Pin_3
#define LED2_PORT   GPIOC
#define LED3_PIN    GPIO_Pin_0
#define LED3_PORT   GPIOA
#define LED4_PIN    GPIO_Pin_0
#define LED4_PORT   GPIOE


/* user functions */
void delay(unsigned long count);

int main()
{
    GPIO_InitTypeDef GPIO_InitStructure;



    /* enable clock on GPIOB peripheral */
    //RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);
    RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOE | RCC_APB2Periph_GPIOA, ENABLE);                          


    /* set pin output mode */
    GPIO_InitStructure.GPIO_Pin = LED1_PIN;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_Init(LED1_PORT, &amp;GPIO_InitStructure);
    //LED 2
    GPIO_InitStructure.GPIO_Pin = LED2_PIN;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_Init(LED2_PORT, &amp;GPIO_InitStructure);
    //LED 3
    GPIO_InitStructure.GPIO_Pin = LED3_PIN;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_Init(LED3_PORT, &amp;GPIO_InitStructure);
    //LED 4
    GPIO_InitStructure.GPIO_Pin = LED4_PIN;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_Init(LED4_PORT, &amp;GPIO_InitStructure);
    while(1)
    {
        GPIO_SetBits(LED1_PORT, LED1_PIN);  // set pin high
        delay(2000000);
        GPIO_ResetBits(LED1_PORT, LED1_PIN);    // set pin low
        delay(2000000);

        GPIO_SetBits(LED2_PORT, LED2_PIN);  // set pin high
        delay(2000000);
        GPIO_ResetBits(LED2_PORT, LED2_PIN);    // set pin low
        delay(2000000);

        GPIO_SetBits(LED3_PORT, LED3_PIN);  // set pin high
        delay(2000000);
        GPIO_ResetBits(LED3_PORT, LED3_PIN);    // set pin low
        delay(2000000);

        GPIO_SetBits(LED4_PORT, LED4_PIN);  // set pin high
        delay(2000000);
        GPIO_ResetBits(LED4_PORT, LED4_PIN);    // set pin low
        delay(2000000);
    }
    //return 0;
}



void delay(unsigned long count)
{
    while(count--);
}
</code></pre>
","30216"
"Deriving 2nd order passive low pass filter cutoff frequency","30458","","<p>I'm working on a 2nd order passive low pass filter, consisting of two passive low pass filters chained together.</p>



<p><img src=""https://i.stack.imgur.com/Fe54M.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fFe54M.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Let \$ H(s) = H_1(s)H_2(s) \$ where \$ H_1(s) \$ and \$ H_2(s) \$ are the transfer functions for each separate filter stage.</p>

<p>Then \$ |H(s)| = |H_1(s)||H_2(s)| \$</p>

<p>Knowing the magnitude of a passive low pass filter, </p>

<p>$$|H(s)| = \dfrac1{\sqrt{ (\omega R_1C_1)^2 + 1} } \times \dfrac1{\sqrt{ (\omega R_2C_2)^2 + 1} } = \dfrac1{\sqrt{((\omega R_1C_1)^2 + 1)((\omega R_2C_2)^2 + 1)}} $$</p>

<p>Then trying to find the cutoff frequency:</p>

<p>$$
\left(\dfrac1{\sqrt{2}}\right)^2  = \dfrac1{\sqrt{((\omega R_1C_1)^2 + 1)((\omega R_2C_2)^2 + 1)}} $$ $$
2  = \sqrt{((\omega R_1C_1)^2 + 1)((\omega R_2C_2)^2 + 1)} $$ $$
4  = ((\omega R_1C_1)^2 + 1)((\omega R_2C_2)^2 + 1) $$ $$
4  = (\omega R_1C_1)^2(\omega R_2C_2)^2 + (\omega R_1C_1)^2 + (\omega R_2C_2)^2 + 1
$$</p>

<p>And I'm stuck. Research on the web tells me \$ \omega_c = \dfrac1{\sqrt{R_1C_1R_2C_2}} \$, but I can't find why? Can anybody show my the derivation to find this?</p>
","<p>EDIT: Thanks to hryghr I see that the starting assumptions were incorrect. The transfer function magnitude can't be found that simply.
It is more than ten years since I considered my skills sharp on this
topic, and knives don't get sharper in the drawer! But I can't have
that I posted something formally incorrect, so here goes attempt #2:</p>

<p>I will derive the transfer function the dirty way .. using Kirchoff's
Current Law (KCL) (a very generic method). I call the output node \$V_{o}\$, and the middle node \$V_{x}\$. For the following equations i cut down on writing by
writing \$V_{o}\$ instead of the more accurate \$V_{o}(s)\$ :</p>

<p>I: KCL in \$V_{o}\$:</p>

<p>$$
\frac{V_{o}-V_{x}}{R_{2}}+sC_{2}V_{o}=0
$$</p>

<p>$$
V_{x}=V_{o}(1+sR_{2}C_{2})
$$
II: KCL in \$V_{x}\$:</p>

<p>$$
\frac{V_{x}-V_{i}}{R_{1}}+\frac{V_{x}-V_{o}}{R_{2}}+sC_{1}V_{x}=0
$$</p>

<p>Rearranging terms:</p>

<p>$$
R_{2}(V_{x}-V_{i})+R_{1}(V_{x}-V_{o})+sR_{1}R_{2}C_{1}V_{x}=0
$$</p>

<p>Rearranging terms:</p>

<p>$$
V_{x}(R_{1}+R_{2}+sR_{1}R_{2}C_{1})-R_{2}V_{i}-R_{1}V_{o}=0
$$</p>

<p>Substituting \$V_{x}\$ with result of I:
$$
V_{o}(1+sR_{2}C_{2})(R_{1}+R_{2}+sR_{1}R_{2}C_{1})-R_{2}V_{i}-R_{1}V_{o}+sR_{1}R_{2}C_{1}V_{o}=0
$$</p>

<p>Collecting terms for \$V_{o}\$</p>

<p>$$
V_{o}((1+sR_{2}C_{2})(R_{1}+R_{2}+sR_{1}R_{2}C_{1})-R_{1})=R_{2}V_{i}
$$</p>

<p>Rearranging:</p>

<p>$$
\frac{V_{o}}{V_{i}}=\frac{R_{2}}{(1+sR_{2}C_{2})(R_{1}+R_{2}+sR_{1}R_{2}C_{1})-R_{1}}
$$</p>

<p>Expanding terms:</p>

<p>$$
\frac{V_{o}}{V_{i}}=\frac{R_{2}}{R_{1}+R_{2}+sR_{1}R_{2}C_{1}+sR_{1}R_{2}C_{2}+sR_{2}^{2}C_{2}+s^{2}R_{1}R_{2}^{2}C_{1}C_{2}-R_{1}}
$$</p>

<p>\$R_{1}\$ cancels, then divide by \$R_{2}\$ top and bottom:</p>

<p>$$
\frac{V_{o}}{V_{i}}=\frac{1}{1+sR_{1}C_{1}+sR_{1}C_{2}+sR_{2}C_{2}+s^{2}R_{1}R_{2}C_{1}C_{2}}
$$</p>

<p>Prettified, the transfer function is:</p>

<p>$$
H(s)=\frac{V_{o}(s)}{V_{i}(s)}=\frac{1}{s^{2}R_{1}R_{2}C_{1}C_{2}+s(R_{1}C_{1}+R_{1}C_{2}+R_{2}C_{2})+1}
$$</p>

<p>This is probably a nice place to start converting to the standard form that
hryghr mentions. It may be that the <em>corner frequency</em> asked for relates to that form.
I won't bother to much with that, but move on to find the -3dB point. </p>

<p>The magnitude of the transfer function can for instance be found by
calculating:</p>

<p>$$
\left|H(\omega)\right|=\sqrt{H(s\rightarrow j\omega)H(s\rightarrow-j\omega)}
$$</p>

<p>Setting \$A=R_{1}R_{2}C_{1}C_{2}\$ and \$B=(R_{1}C_{1}+R_{1}C_{2}+R_{2}C_{2})\$
to simplify this calculation:</p>

<p>$$
\left|H(\omega)\right|=\frac{1}{\sqrt{((j\omega)^{2}A+(j\omega)B+1)((-j\omega)^{2}A+(-j\omega)B+1)}}
$$</p>

<p>$$
\left|H(\omega)\right|=\frac{1}{\sqrt{(-\omega{}^{2}A+j\omega B+1)(-\omega{}^{2}A-j\omega B+1)}}
$$</p>

<p>$$
\left|H(\omega)\right|=\frac{1}{\sqrt{\omega{}^{4}A^{2}-\omega{}^{2}A(j\omega B-j\omega B+1+1)+\omega^{2}B^{2}+(j\omega B-j\omega B)+1}}
$$</p>

<p>$$
\left|H(\omega)\right|=\frac{1}{\sqrt{\omega{}^{4}A^{2}+\omega{}^{2}(B^{2}-2A)+1}}
$$</p>

<p>Finding \$B^{2}-2A\$ gives you something like:</p>

<p>$$
R_{1}^{2}(C_{1}+C_{2})^{2}+C_{2}^{2}(2R_{1}R_{2}+R_{2}^{2})
$$</p>

<p>Then to find the -3dB point start at:</p>

<p>$$
\frac{1}{\sqrt{2}}=\frac{1}{\sqrt{\omega{}^{4}A^{2}+\omega{}^{2}(B^{2}-2A)+1}}
$$</p>

<p>$$
2=\omega{}^{4}A^{2}+\omega{}^{2}(B^{2}-2A)+1
$$</p>

<p>So far I have done it all by hand (hopefully no mistakes), but here
I call it a day, try mathematica, and get \$\omega\$ for the -3dB frequency as:</p>

<p>$$
w\to\sqrt{\frac{1}{A}-\frac{B^{2}}{2A^{2}}+\frac{\sqrt{8A^{2}-4AB^{2}+B^{4}}}{2A^{2}}}
$$</p>
","152168"
"Is the neutral wire considered safe?","30362","","<p>If the neutral wire carries current, why do many people believe that it's safe? I've heard ""You can touch the neutral wire/bar in the breaker box and not get shocked. Only the hot can hurt you."" If the circuit is complete and current is flowing, can't you receive a shock?</p>
","<p>The neutral is NOT safe to touch.</p>

<p>When everything is working correctly, it should be at most a few volts from ground.  However, and this is the big gotcha, if there is a break in the neutral line between where you are and where it is connected back to ground, it can be driven to the full line voltage.  Basically in that case you are connected to the hot line via any appliances that happen to be on in that part of the circuit.  Those can easily pass the few mA it takes to kill you.</p>

<p>This is not <i>supposed</i> to happen, but since failures can be lethal and costly, a extra layer of safety is built into the protocol and rules.  It is irresponsible and needlessly risky to consider the neutral line safe.</p>

<p>This is why modern appliances either have two prongs and everything is insulated from the user, or three prongs and anything conductive the user can touch is connected to ground.  In some past cases there have been appliances with polarized 2-prong plugs, but those are seriously frowned upon today.  I don't think you're going to get UL approval for such a device unless it is fully insulated, in which case you shouldn't need a polarized plug.</p>
","76731"
"What are the differences and similarities between FPGA, ASIC and General Microcontrollers?","30359","","<p>I have read <a href=""https://electronics.stackexchange.com/questions/4382/fpgas-vs-microcontrollers"">this post</a> and it does not answer my question in its entirety:</p>

<p>I think of a microcontroller as anything that has some memory, registers, and can process a set of instructions such as LOAD, STORE and ADD. It contains logic gates and such to perform its role, but its main task is to be a universal processor of bits. I think of a Microntroller as a system of interconnected ASIC designs to create the ability to store and process instructions.</p>

<p>I think of an ASIC device as a circuit that has been specifically constructed using logical and electrical components to perform one single task, with no other task in mind nor extra hardware included.</p>

<p>I think of an FPGA device as an ASIC device (a low-level device) + a bunch of unused stuff left over, used to implement a particular truth table.</p>

<p><em>Despite its name, an FGPA feels very ""application-specific"", since it must be rewired to perform a new and different task. This leads to confusion with ASIC. Albeit, in the case of rewiring an FPGA, all necessary hardware should be present. Also, FPGA's are meant to be programmable, but isn't that what a Microcontroller is meant for?</em></p>

<p>The post above I referenced also mentions HDL, with which I am familiar. Can't HDL be used for both ASIC and FPGA, and by proxy to design an entire microcontroller?</p>
","<p><strong>ASIC VS FPGA</strong></p>

<p>A Field Programmable Gate Array can be seen as the prototyping stage of Application Specific Integrated Circuits: ASICs are very expensive to manufacture, and once it's made there is no going back (as the most expensive fixed cost is the masks [sort of manufacturing ""stencil""] and their development). FPGAs are reprogrammable many times, however because of the fact that a generic array of gates is connected to accomplish your goal, it is not optimised like ASICs. Also, FPGAs are natively dynamic devices in that if you power it off, you loose not only the current state but also your configuration. Boards now exist though that add a FLASH chip and/or a microcontroller to load the configuration at startup so this tends to be a less important argument. 
Both ASICs and FPGAs can be configured with Hardware Description Languages, and sometimes FPGAs are used for the end product. But generally ASICs kick in when the design is fixed. </p>

<p><strong>FPGA VS microcontroller</strong></p>

<p>As for the difference between a microcontroller and a FPGA, you can consider a microcontroller to be an ASIC which basically processes code in FLASH/ROM sequentially. You can make microcontrollers with FPGAs even if it's not optimised, but not the opposite. FPGAs are wired just like electronic circuits so you can have truly parallel circuits, not like in a microcontroller where the processor jumps from a piece of code to another to simulate good-enough parallelism. However because FPGAs have been designed for parallel tasks, it's not as easy to write sequential code as in a microcontroller. </p>

<p>For example, typically if you write in pseudocode ""let C be A XOR B"", on a FPGA that will be translated into ""build a XOR gate with the lego bricks contained (lookup tables and latches), and connect A/B as inputs and C as output"" which will be updated every clock cycle regardless of whether C is used or not. Whereas on a microcontroller that will be translated into ""read instruction - it's a XOR of variables at address A and address B of RAM, result to store at address C. Load arithmetic logic units registers, then ask the ALU to do a XOR, then copy the output register at address C of RAM"". On the user side though, both instructions were 1 line of code. If we were to do this, THEN something else, in HDL we would have to define what is called a Process to artificially do sequences - separate from the parallel code. Whereas in a microcontroller there is nothing to do. On the other hand, to get ""parallelism"" (tuning in and out really) out of a microcontroller, you would need to juggle with threads which is not trivial. Different ways of working, different purposes.</p>

<p><strong>In summary:</strong></p>

<blockquote>
  <p>ASIC VS FPGA: fixed, more expensive for small number of products (cheaper for high volumes), but more optimised. </p>
  
  <p>ASIC VS microcontroller: certainly like comparing a tool with a
  hammer. </p>
  
  <p>FPGA VS microcontroller: not optimised for sequential code processing,
  but can do truly parallel tasks very easily as well. <em>Generally</em> FPGAs are programmed in HDL, microcontrollers in C/Assembly</p>
  
  <p>Whenever speed of parallel tasks is an issue, take an FPGA, evolve
  your design and finally make it an ASIC if it's cheaper to you in the
  long run (mass production). If sequential tasks are okay, take a microcontroller. I guess
  you could do an even more application specific IC from this if it's
  cheaper to you in the long run as well. The best solution will probably be a bit of both.</p>
</blockquote>

<p>What a quick search after writing this gave me:
<img src=""https://i.stack.imgur.com/LfiWs.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/7vCfK.jpg"" alt=""enter image description here""></p>

<p><a href=""https://electronics.stackexchange.com/questions/4382/fpgas-vs-microcontrollers"">FPGA VS Microcontrollers, on this very forum</a></p>
","150062"
"What is the transfer function for a first order active high-pass filter","30287","","<p>What is the transfer function for the below circuit?</p>



<p><img src=""https://i.stack.imgur.com/QePXu.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fQePXu.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Since the op-amp has unity gain, the transfer function should be the same as a passive high pass RC filter.</p>

<p>This can be found by calculating the voltage across \$R\$ using the potential divider rule, in the \$s\$ domain:</p>

<p>The impedance of a capacitor in the S domain is \$\frac{1}{sC}\$, so the transfer function is:</p>

<p>$$H(s) = \frac{R}{R+\frac{1}{sC}}$$</p>

<p>In standard form this is:</p>

<p>$$H(s) = \frac{RCs}{RCs+1}$$</p>

<p>$$H(s) = RC * s * \frac{1}{RCs+1}$$</p>

<p>DC Gain: \$20log(RC)\$ dB</p>

<p>Gain due to single zero at origin: \$20log(\omega)\$ dB ; Argument: \$90^o\$</p>

<p>Gain due to pole:</p>

<ul>
<li>at high frequencies: \$-20log(RC\omega) = -20log(RC)-20log(\omega)\$ dB</li>
<li>at low frequencies: \$20log(1) = 0\$ dB</li>
<li>with corner frequency: \$\frac{1}{RC}\$ </li>
</ul>

<p>Argument (phase) due to pole: \$-tan^{-1}(RC\omega)\$</p>

<p>So the complete gain is:</p>

<ul>
<li>\$for \:\omega &gt;&gt; \frac{1}{RC}\$</li>
</ul>

<p>\$|H(j\omega)| = 0\$ dB</p>

<ul>
<li>\$for \:\omega &lt;&lt; \frac{1}{RC}\$</li>
</ul>

<p>\$|H(j\omega)| = 20log(\omega) + 20log(RC)\$ dB</p>

<p>Complete phase response:</p>

<p>\$\angle H(j\omega) = 90-tan^{-1}(RC\omega)\$</p>

<p>However, in my lecture notes it says that the transfer function for the above circuit is:</p>

<p>$$H(s) = \frac{s}{1+sCR}$$</p>

<p>Without any derivation.</p>

<p>Which is correct? </p>
","<p>Your expression for \$H(s)\$ is correct:</p>

<p>$$H(s)=\frac{RCs}{1+RCs}$$</p>

<p>where \$\tau=RC\$ is the time constant of the high pass filter. The most important features of this transfer function are the location of the pole (\$s_{\infty}=-1/RC\$) and the location of the zero (\$s_0=0\$). Note that the location of the pole and the zero is of course the same for the transfer function in your lecture notes. However, the gain factor in your notes is wrong. The consequence of this is that for \$s\rightarrow\infty\$ (i.e. for very high frequencies) your transfer function converges to unity gain, whereas the one in your notes converges to \$1/RC\$.</p>
","125135"
"How does a ferrite core wire terminator work to reduce EMC?","30218","","<p>The following question was asked on superuser: <a href=""https://superuser.com/questions/217772/what-is-that-cylinder-on-cables"">What is that cylinder on cables?</a></p>

<p>How does that cylinder work? As far as I can tell, even if you put one on either end of the cable, any HF signal should travel straight past it.</p>

<p>Is there an equivalent circuit that shows the principles better?</p>

<p><strong>EDIT</strong></p>

<p>I was assuming in my question that the wire passes through a ring made from ferrite. There is of course the other possibility that it loops around the ferrite, creating a (very small, very low inductance) inductor in series with the cable. Is that so?</p>
","<p>Ferrites reduce electromagnetic radiation by reducing common mode currents.</p>

<p>First, <strong>why does reducing common mode currents reduce radiation?</strong> If you have two parallel wires that carry equal and opposite currents, that is, no common mode currents, then at distances significantly more than the distance between the wires, the electric and magnetic fields created by the wires cancel. Thus, there is no net field, so there can be no radiation. See <a href=""http://en.wikipedia.org/wiki/Twin-lead"" rel=""noreferrer"">twin-lead transmission line</a>.</p>

<p>So <strong>how does a ferrite reduce common mode currents?</strong> Even though the wire may go through the ferrite only once, it still forms an inductor. Passing the wire through the ferrite more times just increases the inductance. You see this sometimes:</p>

<p><a href=""http://www.tuneecu.com/TuneECU_En/KTM.html"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/wEXNP.jpg"" alt=""enter image description here""></a>
<a href=""http://www.radiohobbyist.org/blog/?p=1374"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/SX4Ic.jpg"" alt=""enter image description here""></a></p>

<p>but since the cables involved are often bulky, and it's hard to do with automated machinery, it's usually easier to just use a bigger core:</p>

<p>So schematically, a pair of wires passing through a ferrite looks like this:</p>



<p><img src=""https://i.stack.imgur.com/5Wys1.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f5Wys1.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Let's just look at half of this in isolation, just <em>A</em>. Any current in <em>A</em> will induce a magnetic field in the core, just like an ordinary inductor. Thus, you get an increasing impedance with increasing frequency, just as you would with any inductor.</p>

<p>The same is true of B, in isolation. But, if \$I_A = -I_B\$, that is, the currents are equal and opposite, the magnetic field induced by each current exactly cancels in the core. If there's no magnetic field, then there's no inductance, and so no added impedance.</p>

<p>Thus, this arrangement, called a <a href=""http://en.wikipedia.org/wiki/Choke_%28electronics%29#Common-mode_choke"" rel=""noreferrer"">common mode choke</a>, presents a high impedance to common-mode currents, and a low impedance to differential-mode currents. The high impedance of the choke prevents significant common-mode currents from developing, and the ferrites for these applications are designed to be lossy, so common-mode voltages are mostly converted to heat in the core.</p>

<p>On shielded cables, the ferrite accomplishes the same thing, although in a slightly different way. Ordinarily, high frequency signals traveling on a shielded cable will be forced to travel on the outside of the shield by <a href=""http://en.wikipedia.org/wiki/Skin_effect"" rel=""noreferrer"">skin effect</a>. However, if there is current in one direction of a conductor inside the shield, then the return current on the shield will be drawn to the inside surface of the shield. It is, in effect a <a href=""https://en.wikipedia.org/wiki/Faraday_cage"" rel=""noreferrer"">Faraday cage</a>, but in this case we are keeping fields from the inside from getting out, rather than fields from outside getting in. See <a href=""http://en.wikipedia.org/wiki/Coaxial_cable"" rel=""noreferrer"">coaxial cable</a>.</p>

<p>However, this only works if there are exactly equal and opposite currents on the shield and the conductors in it. Any shield current not balanced by internal conductor current will travel on the outside of the shield. If a ferrite is clamped around the cable, then this forms an inductor. But, this inductor is only seen by currents on the outside of the shield, and these are the currents you don't want, because they exist only when there are common-mode currents, and they are the only currents that have a field external to the cable, and thus the potential to radiate.</p>
","76426"
"Common types of diodes to keep around","30206","","<p>I'm working on stocking my home workshop with frequently used parts so I can spend more time tinkering and less time watching my mailbox.</p>

<p>What are the differences between different kinds of diodes?  I've seen schottky, zenner, signal, and rectifier all used to describe diodes, but I don't know what the differences are and when you would use a particular one.</p>

<p>What are the most frequently used diodes that you would keep around to be able to build most common circuits?  And how do you know what makes a suitable substitute when a circuit calls for a particular diode?</p>
","<p><a href=""http://www.nxp.com/documents/data_sheet/1N4148_1N4448.pdf"" rel=""nofollow noreferrer"">1N4148</a> and <a href=""http://www.diodes.com/datasheets/ds28002.pdf"" rel=""nofollow noreferrer"">1N400x</a>(*). Definitely.  </p>

<p>The 1N4148 is the standard signal diode, the 1N4001 a rectifier capable of 1 A and 50 V. If you need higher voltages you can go for the 1N4002 through 1N4007, for 100 V and 1000 V respectively. <a href=""https://electronics.stackexchange.com/a/7245/2064"">See also this answer</a>. </p>

<p><strong>Zeners</strong>. You don't want zeners. :-) Well, you could keep a few, but what voltage(s)? Most often you'll use a three-legged regulator, like an <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00000545.pdf"" rel=""nofollow noreferrer"">LE33</a>, for instance. They regulate much better than zeners. <em>Unless!</em> (and this should please Russell) There's always the <a href=""http://www.ti.com/lit/ds/symlink/tl431a.pdf"" rel=""nofollow noreferrer"">TL431</a>, which is an adjustable zener, and because it has an adjustable voltage you only need one type. Costs hardly more than a zener, but has much better specs.</p>

<p><br /></p>

<p>(*) I first mentioned the 1N4001 here, but on second thought the 1N4007 may be a better choice: you can use that for almost any application, including rectifying 230 V AC, like Olin says. Not what I would need everyday, but the 1N4007 is exactly the same price as the 1N4001 at Digikey anyway (6.49 ¢ a piece @ 100s), and the 1N4007 has a lower junction capacitance as well.</p>
","38617"
"What are some reasons to connect capacitors in series?","30151","","<p>Usually you either combine capacitors in parallel because you want to increase the total capacitance while fitting the components in a certain shape/position, or you just combine capacitors by buying a single capacitor of a larger value.</p>

<p>Combining capacitors in series reduces the total capacitance, and isn't very common, but what are some possible uses for it?  It shouldn't be used to increase the voltage rating, for instance, since you can't guarantee that the middle will be at half the DC voltage of the total, without using bleeder resistors.</p>
","<p>I have only seen it done to increase voltage. On some power supply front-ends (AC/DC conversion) with a voltage doubler the capacitors are in parallel at low voltage
and in series at high voltage. This works out well since for a constant power out
the current is double at the lower voltage.</p>

<p>As you mention balancing resistors are required. </p>
","3064"
"Simplest Way to Connect an Arduino to Android (Wirelessly)?","30134","","<p>I want to control a simple Light on an Arduino from my Android. The Arduino I have down pat, no problem. However without using Bluetooth on my Android, whats the simplest way to actually connect it (or use some sort of app) to control an LED.</p>

<p>I have Option A: Set up a Server on my Arduino, with a website that allows me to click on buttons or something to change lighting options.</p>

<p>or Option B: Sending Serial Data from my Android to my Arduino Wirelessly?</p>

<p>Which would probably be the easier option? Is option A even viable or not really? I don't really know the ""hosting"" capabilities of an Arduino, but if the Arduino is on the same Wi-Fi as the Android phone I'm using, it shouldn't have any issues receiving information (from clicking on buttons on the Arduino ""webpage"" correct?)</p>
","<p>Option A is feasible, but non-trivial.</p>

<p>Option B: Without using Bluetooth, there isn't any ready wireless radio serial output that  any Android phones have, to my knowledge. </p>

<p>There is an <strong>option C</strong>, if the requirement is relatively close range, and purely for hobby experimentation:</p>

<ul>
<li>Programmatically generate a ~ 19-20 KHz audio output from the Android's speaker, at maximum volume - Most adults can not hear such a frequency, but my android phones can all emit up to 22.1 KHz successfully.</li>
<li>Implement a basic electret microphone --> preamplifier --> narrow bandpass filter --> peak detector using op-amps, with the pass-band at the frequency of interest.</li>
<li>Use an Arduino ADC pin to sense signal from the above module.</li>
</ul>

<p>Some simple enhancements:</p>

<ul>
<li>Use two different frequencies, such as 18 KHz and 20 KHz, pulsed alternately, and detect for such an alternating sound input at the Arduino end. This will avoid spurious false-positives.</li>
<li>Use a slightly wider band and skip the peak detector, use the Arduino to sample and process the incoming audio signal to detect specific frequencies received. This latter adds the flexibility of changing design frequencies or achieving more complex signaling through <a href=""http://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling"" rel=""nofollow noreferrer"">Dual-tone-multi-frequency</a> (DTMF) protocols, similar to touch tone phone dialing, or <a href=""http://en.wikipedia.org/wiki/Frequency-shift_keying"" rel=""nofollow noreferrer"">Frequency Shift Keying</a> as used in old dial-up telephone line modems. </li>
</ul>

<p>There are several Android apps which use such sound signaling for various purposes. Also, <a href=""http://www.slideshare.net/Sudar/transfering-data-using-audio-signal-in-android"" rel=""nofollow noreferrer"">this slideshow</a> proposes a similar mechanism, for transfer of data between Android phones using sound.</p>

<hr>

<p><strong>UPDATE:</strong> <a href=""https://electronics.stackexchange.com/q/56540/14004"">This question</a> about <em>Infrared audio transmission / reception between mobile phones</em>, brings up an interesting <strong>Option D</strong>, that of using an infrared transmitter connected to the audio out of the transmitting cellphone, and using a standard infrared sensor as a receptor on the Arduino. The rest of the mechanism remains as in Option C, with the preamplifier, band-pass filter and so on. </p>
","56639"
"How do I measure a negative voltage with a ADC?","30074","","<p>I am working with a PIC micro-controller with inbuilt 10bit ADC and want to measure a voltage in the range of -1 to -3Volts.<br>
I thought of using an op-amp in the inverting mode to make voltage positive and then feed it to the adc of the microcontroller however here I would have to power the opamp with a negative power supply, right?. 
I don't want to use a negative power supply at the moment and was wondering whether it was possible to achieve this configuration? 
Can you'll help out?</p>
","<p>An <a href=""http://en.wikipedia.org/wiki/Inverting_amplifier#Inverting_amplifier"" rel=""nofollow noreferrer"">inverting amplifier</a> does not need a negative rail to invert the voltage.</p>

<p><img src=""https://i.stack.imgur.com/IXGcJ.png"" alt=""gschem""></p>

<p>Try to think of your power rails as what supply your output. If you look at the circuit, all op-amp pins are tied to a voltage of 0V or higher. When your range of -1 to -3 comes in, it will show up as the exact opposite of 1 to 3 on the output. This also gives you some advantages as a buffer, as the input impedance of your pin will not affect this circuit very much (so long as R<sub>in</sub>||R<sub>f</sub> is large).</p>

<p>I agree that a simple resistor divider does the job -- just letting you know that this also works.</p>
","3109"
"How does the tester screwdriver work?","30052","","<p>How does the tester screwdriver work? If I put the tester screwdriver inside the ""hot wire"" of an electrical socket, it lits up if I press my finger against the metal cap on top of the screwdriver. This happens also if I stand on a surface of isolating material, such as wood. I read elsewhere that this happens due to stray capacitance formed by the ""hot wire"", the human body, and the ground. One has</p>

<p>$$ Z = R + \dfrac{1}{j \omega C}  $$</p>

<p>for the impedance, so if C  is high enough, the impedance should be close to r , the ""effective resistance"" of the formed circuit. Here I get lost; why r  is small enough to cause a current in the range of mA  even if I stand on an isolating surface?</p>

<p>So really what I am asking is how one may represent the system hot wire - screwdriver - human body - wooden floor - building - ground as an electrical circuit, and which parts of the physical system contribute to the resistance, capacitance (and inductance?) and in which proportion, even very approximately.</p>
","<blockquote>
  <p>how one may represent the system hot wire - screwdriver - human body - wooden floor - building - ground as an electrical circuit,</p>
</blockquote>

<p>I've long assumed it to be something like this:</p>



<p><img src=""https://i.stack.imgur.com/L7OLI.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fL7OLI.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>
","96112"
"Polarity of unmarked smt electrolytic capacitor","30011","","<p>I have a kit with three capacitors, described in the parts list as ""10uF 25V SMD 1206"" and shown on the circuit diagram as polarised (an open rectangle and a filled one). Seen through the transparent side of the package they are pale brown or orange, and appear to be unmarked, although there is an offset hole in this side of the package. (Possibly a circle on the component itself -- I am reluctant to remove them from the packaging until I am ready to solder them in place.)</p>

<p>So, my question is: how do I determine the polarity of these items, or does it not matter, i.e. they are self-polarising in circuit? By the way I have no trouble hand soldering this size of SMD.</p>
","<p>It sounds like they are ceramic caps, in which case they are <em>unpolarised</em>, so you can put them either way round - here is a photo of a typical ceramic cap (no markings):</p>

<p><img src=""https://i.stack.imgur.com/qTaTC.jpg"" alt=""ceramic cap""></p>

<p>If they look something like the one below (with markings), then it will be a <em>polarised</em> tantalum (the dark line indicates the + side):</p>

<p><img src=""https://i.stack.imgur.com/sVEDF.jpg"" alt=""tantalum cap""></p>

<p>If the schematic does show a polarised cap but it does turn out that you have been given unpolarised caps, then I would mention it to the vendor so they can correct it.</p>

<p>If they really are unmarked polarised (<em>extremely</em> unlikely) then a possibly destructive method of testing for polarity is to gradually apply a current limited voltage (e.g slowly up to ~25% of rated voltage, limited to ~10mA) in both directions across the cap whilst measuring current - if polarised and the wrong way round you should start to see a steadily rising current flow. Can be done with a bench power supply, and put a shield of some sort over the cap just in case it decides to detonate ;-)   </p>

<p>I tested with the bench supply, above ~7V across reverse polarity with a 100uF/35V aluminium electrolytic, the leakage current rises above 1mA (measured using bench display) and quickly starts to accelerate upwards.<br>
I also just tested this with a multimeter in series with the bench supply (more sensitive than the bench supply measure) measuring current across the same capacitor:</p>

<ul>
<li>Using 5V with correct polarity produced ~1uA leakage.   </li>
<li>With 5V and reverse polarity the leakage started at around 25uA and gradually got higher, after around 30 seconds it was at 50uA.   </li>
<li>Even at 3V it was reasonably obvious which way round it was - the reverse leakage was at least twice that of the correct polarity.   </li>
</ul>

<p>I don't think this sort of low voltage testing should do the capacitor any harm. Here is an excellent <a href=""http://nepp.nasa.gov/docuploads/E1231E3B-4D58-4788-B5F2E13DAE968AA0/Reverse_Bias_Behavior.pdf"" rel=""nofollow noreferrer"">study by NASA</a>, who seem to think many of the reverse bias ratings are rather conservative. To quote part of the summary:</p>

<blockquote>
  <p>Some lots of 35 V and 50 V rated capacitors survived 200 and even 8900
  hours of reverse bias testing (RBT) at voltages up to 40% of rated
  voltage (VR).  However, the survival rate was not 100% and the
  behavior was judged to be lot related. The conclusion made by G. J.
  Ewell that the existing manufacturer guidelines are extremely
  conservative concurs with the results of the testing performed at
  Hughes in 1988.  In that work it was shown that some capacitors
  could withstand reverse voltage up to 25% of VR with very little
  degradation occurring below 15% of VR.  In all cases healing began to
  occur after 5 minutes of the application polarity being corrected. 
  These experiments suggested that while solid tantalum capacitors can
  survive substantial reverse bias without failure, this behavior
  significantly varies from manufacturer to manufacturer.</p>
</blockquote>
","35482"
"ERC error ""ErrType(3): Pin connected to some others pins but no pin to drive it""","30001","","<p>The following simple circuit gives the following error message
when running ERC check:</p>

<pre><code>ErrType(3): Pin connected to some others pins but no pin to drive it
@ (2.5000 "",4.0000 ""): Cmp #PWR01, Pin 1 (power_in) not driven (Net 5) 
</code></pre>

<p><img src=""https://i.stack.imgur.com/AZ9nR.png"" alt=""schema""></p>

<p>The CONN_2 component is supposed to receive external power. I have not made any changes to any pin configuration of it which I probably should. How do I
correctly do that?</p>
","<p>I think the power flag is preferred and is what I usually use (and what the documentation recommends IIRC) to stop ERC errors if pins are not set to power output (see below)
In the above you just need to put a power flag on pin 2 of the fuse and the warning should go away.  </p>

<p>Also, you can set a component pin to a power (i.e. GND/VCC) output and no power flag will be needed.<br>
Notice the 6V net does not have the same warning, I think as the opamp output will be set to an output.    </p>

<p>Edit - just confirmed this works fine, so if you have e.g. a battery symbol then set the pins to power output and there is no need for flags. With a typical linear voltage regulator you would set the OUT pin to power output. This is common in all PCB software I have used, you need to make sure you set the pins to the correct type (not just power) when creating a component so the ERC can work properly. Here are the types available in Kicad:  </p>

<p><img src=""https://i.stack.imgur.com/cH9jV.jpg"" alt=""PinTypes""></p>

<p>The error only occurs (correctly) if a net has nothing to drive it, so if you have something like a power connector which has passive pins (if set correctly) it won't know they are intended for power until you tell it explicitly.  </p>

<p>You can actually decide what you want to be told about, bu setting the table below accordingly. For instance if you wanted the ERC to throw an error if an input was connected to an input you would change the topmost box from green (no message) to yellow (warning) or red (error)</p>

<p><img src=""https://i.stack.imgur.com/YCWJQ.jpg"" alt=""ERCOptions""></p>
","19339"
"Why does reactive power affect voltage?","29994","","<p>Why does reactive power influence the voltage? Suppose you have a (weak) power system with a large reactive load. If you suddenly disconnect the load, you would experience a peak in the voltage. </p>

<p>Is there a good explanation why this happens?</p>

<p><strong>Edit:</strong> Unfortunately I'm no longer in academia, and therefore don't have access to all the same sources as I used to have. I work with this on a daily basis and wrote my Master's about a closely related subject and I'm therefore quite certain my statements are correct. I see that this might not be common knowledge for electronics engineer, but I believe people in the power transmission industry are familiar with what I'm describing. </p>

<p>For those interested in why voltage level and reactive power closely related from a reliable source, here is the original paper describing the Fast Decoupled Load Flow algorithm (you need access to IEEE): </p>

<p>""Stott and O. Alsac, “Fast decoupled load flow” IEEE Trans. on PAS, vol. 93, no. 3, pp. 859-869, May/June 1974""  </p>

<p>See also page 79 in this textbook by Wood / Wollenberg on <a href=""http://books.google.no/books?id=UnecPNTY3AMC&amp;pg=PA130&amp;lpg=PA130&amp;dq=wood%20wollenberg%20power%20system%20operation%20and%20control%20decoupled%20load%20flow&amp;source=bl&amp;ots=9JOUW4Iybd&amp;sig=sM1SHrocJOvllYeMorJFJz9GfdA&amp;hl=no&amp;sa=X&amp;ei=qFm1U_3oFaS_ygP7zYLQAw&amp;ved=0CDIQ6AEwAg#v=onepage&amp;q=wood%20wollenberg%20power%20system%20operation%20and%20control%20decoupled%20load%20flow&amp;f=false"" rel=""nofollow"">books.google</a>.</p>

<p>A quote from the Roger C Dugan, the author of <a href=""http://rads.stackoverflow.com/amzn/click/0071761551"" rel=""nofollow"">this textbook</a> on Electrical Power Systems:</p>

<blockquote>
  <p>Reactive power (vars) is required to maintain  the voltage to deliver
  active power (watts)  through transmission lines. Motor loads and 
  other loads require reactive power to convert  the flow of electrons
  into useful work. When  there is not enough reactive power, the
  voltage  sags down and it is not possible to push the  power demanded
  by loads through the lines.</p>
</blockquote>

<p><sub>I believe the edit history might be interesting for anyone wondering what the edit and all the comments are about.</sub></p>
","<p><i>Why does reactive power influence the voltage? Suppose you have a (weak) power system with a large reactive load. If you suddenly disconnect the load, you would experience a peak in the voltage.</i></p>

<p>First, we need to define what exactly is being asked.  Now that you have stated this is regarding a utility-scale power system, not the output of a opamp or something, we know what ""reactive power"" means.  This is a shortcut used in the electric power industry.  Ideally the load on the system would be resistive, but in reality is is partially inductive.  They separate this load into the pure resistive and pure inductive components and refer to what is delivered to the resistance as ""real power"" and what is delivered to the inductance as ""reactive power"".</p>

<p>This gives rise to some interesting things, like that a capacitor accross a transmission line is a reative power generator.  Yes, that sounds funny, but if you follow the definition of reactive power above, this is all consistant and no physics is violated.  In fact, capacitors are sometimes used to ""generate"" reactive power.</p>

<p>The actual current coming out of a generator is lagging the voltage by a small phase angle.  Instead of thinking of this as a magnitude and phase angle, it is thought of as two separate components with separate magnitudes, one at 0 phase and the other lagging at 90&deg; phase.  The former is the current that causes real power and the latter reactive power.  The two ways of describing the overall current with respect to the voltage are mathematically equivalent (each can be unambiguously converted to the other).</p>

<p>So the question comes down to why does generator current that is lagging the voltage by 90&deg; cause the voltage to go down?  I think there are two answers to this.</p>

<p>First, any current, regardless of phase, still causes a voltage drop accross the inevitable resistance in the system.  This current crosses 0 at the peak of the voltage, so you might say it shouldn't effect the voltage peak.  However, the current is negative right before the voltage peak.  This can actually cause a little higher apparent (after the voltage drop on the series resistance) voltage peak immediately before the open-circuit voltage peak.  Put another way, due to non-zero source resistance, the apparent output voltage has a different peak in a different place than the open-circuit voltage does.</p>

<p>I think the real answer has to do with unstated assumptions built into the question, which is a control system around the generator.  What you are really seeing the reaction to by removing reactive load is not that of the bare generator, but that of the generator with its control system compensating for the change in load.  Again, the inevitable resistance in the system times the reactive current causes real losses.  Note that some of that ""resistance"" may not be direct electrical resistance, but mechanical issues projected to the electrical system.  Those real losses are going to add to the real load on the generator, so removing the reactive load still relieves some real load.</p>

<p>This mechanism gets more substantial the wider the ""system"" is that is producing the reactive power.  If the system includes a transmission line, then the reactive current is still causing real I<sup>2</sup>R losses in the transmission line, which cause a real load on the generator.</p>
","117644"
"How does an electronic caliper work?","29994","","<p>How do these electronic calipers work?:</p>

<p><img src=""https://i.stack.imgur.com/AtTpr.gif"" alt=""Caliper""></p>

<p>I know they work by measuring the capacitance of the running track, somehow. But how do they use capacitance to measure distances - is it a linear relationship of capacitance to distance, or is there something else going on? These are really accurate - specification of ±0.02mm from 0-100mm, and the resolution is down to 0.01mm. I'm also surprised at how these can meet the specifications at the very low price point - I picked up mine for £8 and tried it against a few common objects I knew the dimensions of, and it checks out.</p>
","<p>Its position to capacitance ratio to frequency ratio to value conversion. The key is using unevenly patterned conductors in proximity of two capacitors. The circuit has slow response, but works remarkably as caliper.</p>
","6722"
"Does a capacitor store charge?","29927","","<p>There're some easy concepts which I don't get exactly in my mind. I'm afraid I've been studying these things for two years of my engineering but they still bother me. Capacitor is one of them. Can someone explain? </p>

<ul>
<li>What does a capacitor do? Does it store charges? If so, then how does it do?</li>
</ul>

<p>I have searched it on Google and Yahoo but didn't find any helpful thing there (for me). So I will be glad if I got my problem solved here.</p>

<p>P.S. I hope that the question would not again be an off-topic, as it always does and moreover people don't suggest then where to go. It's a real sad thing.</p>
","<p>If by <em>charges</em> you mean <em>electric charges</em>, then no, a capacitor does not store charges. This is a common misconception, maybe due to the multiple meanings of the word <em>charge</em>. When some charge goes in one terminal of a capacitor, an equal amount of charge leaves the other. So, the total charge in the capacitor is constant.</p>

<p>What capacitors store is <em>energy</em>. Specifically, they store it in an electric field. All the electrons are attracted to all the protons. At equilibrium, there are equal numbers of protons and electrons on each plate of the capacitor, and there is no stored energy, and no voltage across the capacitor.</p>

<p>But, if you connect the capacitor to something like a battery, then some of the electrons will be pulled away from one plate, and an equal number of electrons will be pushed on to the other plate. Now one plate has a net negative charge, and the other has a net positive charge. This results in a difference in electrical potential between the plates, and an increasingly strong electric field as more charges are separated.</p>

<p>The electric field exerts a force on the charges which attempts to return the capacitor back to equilibrium, with balanced charges on each plate. As long as the capacitor remains connected to the battery, this force is balanced by force of the battery, and the imbalance remains.</p>

<p>If the battery is removed, and we leave the circuit open, the charges can't move, so the charge imbalance remains. The field is still applying a force to the charges, but they can't move, like a ball at the top of a hill, or a spring held under tension. The energy stored in the capacitor remains.</p>

<p>If the capacitor terminals are connected with a resistor, then the charges can move, so there is a current. The energy that was stored in the capacitor is converted to heat in the resistor, the voltage decreases, the charges become less imbalanced, and the field weakens.</p>

<p>Further reading: <a href=""http://amasci.com/emotor/cap1.html"">CAPACITOR COMPLAINTS (1996 William J. Beaty)</a></p>
","75153"
"Light bulb exploded","29907","","<p>This morning, one of the lights in my house began to flicker. I didn't think much of it, and left the room to get a drink. While I was in the other room, I heard a bang, and came back to find broken glass from the flickering bulb all over the floor.</p>

<p>Has anyone else ever had experience of an exploding light bulb? Should I bee concerned? If I had been in the room at the time, I could have been cut by flying glass. This has never happened before in 25 years of living at my current property.</p>

<p>EDIT: Following advice from the comments,
can anybody explain what failure mechanism can cause a light bulb to explode? And do light bulbs often explode?</p>

<p>EDIT: A few more details. The metal part of the bulb remained in the light socked, with a few bits of jagged glass around it. I was able to unscrew this using pliers, but the socket has been damaged/blackened/melted, and needs replacing before a new bulb can go in. The bulb was a traditional filament bulb, and had been in place for about five or six years.</p>
","<p>My guess here is that there was a bad contact between the bulb and the socket. We can conclude this from the flickering part and the damage on the socket. If the contact surface between socket and the bulb is contaminated enough, you'll get arcing which will result in bulb flickering. As the arcing continues, it will corrode the contact surface making the contact even worse resulting in even more arcing. </p>

<p>As the process progresses, the affected area will heat up. After some time I suspect that the heat resulted in different expansion rates between the glass and the metal parts of the bulb resulting in ""explosion"". </p>

<p>In general, flickering lights are a symptom of bad contacts somewhere and should be investigated. If for example the source of arcing was a switch, it could have been very dangerous if its body softened up and someone tried to operate it. </p>
","61240"
"What is the formal definition of Quiescent Point?","29856","","<ul>
<li><p>What is Quiescent Point? </p></li>
<li><p>Is it necessary for it to be related with any <em>V vs I</em> , <em>I vs I</em>, or any such characteristic curves intersection point?</p></li>
</ul>
","<p>The quiescent point is by definition a state of a circuit in which all the inputs (meaning voltage and current levels, but also component values and environmental conditions) are fixed.</p>

<p>It's generally used in circuit analysis to find the operating region of active components, such as transistor and Op-Amps, and then perform a time-based analysis using the small-signal linear approximation of the component models.</p>

<p>Take <a href=""https://www.circuitlab.com/circuit/42475b/mosfet-and-resistor-nand-gate/"" rel=""nofollow noreferrer"">this circuit</a>:
<img src=""https://i.stack.imgur.com/uS2XR.png"" alt=""enter image description here""></p>

<p>Its behavior is dynamic, as it will depend on the value of the two input voltages, but if these values are fixed, it's possible to determine the status of all the nodes and then eventually perform an analysis for small perturbations of this quiescent state.</p>

<p>The curves you are talking about, are the representation of many quiescent points given by the variation of a parameter, which may be the value of a component, of a signal, or even an environmental parameter, such as the temperature. It will tell what to expect from the component under a specified biasing condition, and are often (if not always) found in datasheets.</p>
","28862"
"Why are batteries measured in ampere-hours but electricity usage measured in kilowatt-hours?","29786","","<p>I was reading about energy usage in batteries and don't quite understand why it is measured in different units than home electrical usage.  An ampere-hour does not include a measure of volts.  But my understanding though is that a battery has a constant voltage (1.5V, 9V, ...) just as much as home electrical usage (120V, 220V, ...).  So I don't see why they have different units by which they are measured.</p>
","<p>\$kW \cdot h\$ are a measure of energy, for which grid customers are billed and usually shows up on your invoice in easily understood numbers (0-1000, not 0-1 or very large numbers; ranges which, unfortunately, confuse many people).</p>

<p>\$A \cdot h\$ are a measure of electrical charge. A battery (or capacitor) can store more or less a certain amount of charge regardless of its operating conditions, whereas its output energy can change. If the voltage curve for a battery in certain operating conditions are known (circuit, temperature, lifetime), then its output energy is also known, but not otherwise, though you can come up with some pretty good estimates.</p>

<p>To convert from \$A \cdot h\$ to \$kW \cdot h\$ for a constant voltage source, multiply by that voltage; for a changing voltage and/or current source, integrate over time: $$ \frac{1 kW\cdot h}{1000 W\cdot h}\int_{t_1}^{t_2} \! I(t)E(t)dt ~;~~E~[V],~I~[A],~{t_{1,2}}~[h]$$</p>
","24730"
"Can you harvest electrical energy from the air?","29764","","<p>I found a website recently about harvesting energy from the air, and I am wondering if someone could tell me why the following wouldn't work?</p>

<p>Their ""generator"" is supposed to make electricity from the ionosphere (not UV, X-Ray, etc). Some claim it can knock out your electric bill totally (a bigger version, not this example). From what I understand, this is possible (it was discovered by Nikola Tesla), however this diagram doesn't look like it would work. Any help would be appreciated.</p>

<p><strong>An example from the website:</strong></p>

<p>You need:</p>

<ul>
<li>(4) 1N34 germanium diodes</li>
<li>(2) 100 µF 50 V electrolytic capacitors</li>
<li>0.2 µF 50 V ceramic capacitors</li>
</ul>

<p>Here is the electrical diagram they provide:</p>

<p><img src=""https://i.stack.imgur.com/21Q4R.png"" alt=""Diagram of generator""></p>

<p>And they claimed to power a cell phone with it. I am not sure what kind of antenna to use.</p>

<p>While this seems like a sham, I just found this website recently and am looking for more info on the physics behind it.</p>

<p>Perhaps Teslo's patent explains things better, so here it is: <a href=""https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B6Qd42rbY4FvYTdlN2E2MDctN2VhZi00YWYxLThkNTQtMzhiMzllY2E2ODk5&amp;hl=en"" rel=""nofollow noreferrer"">Patent 685958.pdf</a></p>

<p><strong>Found something:</strong> Here is a page that explains it. 
<a href=""http://www.nuenergy.org/alt/tesla_energy.htm"" rel=""nofollow noreferrer"">Nikola Tesla free energy: unraveling Greatest Secret</a></p>
","<p>To address the original question of ""Is Nikola Tesla's free energy discovery..."", Tesla never created a ""free energy device"".  One of his noted ideas, however, was a system to <strong>intentionally</strong> <a href=""http://en.wikipedia.org/wiki/Wardenclyffe_Tower"">transmit power wirelessly</a>.  Power companies don't intentionally radiate energy (as it's a pure loss for them).</p>

<p>As an aside, Nikola Tesla was one of the first true electrical engineers, taking arcane, hard-to-understand forces and turning them into marketable solutions.  While there is no doubt he was brilliant, this revolutionary engineer would quickly tell you that if you wanted to harvest <em>naturally occurring</em> electrical fields (not those he intentionally radiated) it would take an antenna (or an array of them) on a truly grand scale.</p>

<hr>

<p>Regarding the document you linked:</p>

<h2>Chapter 4 - Tesla's Radiant Energy Device</h2>

<p>This chapter discusses <a href=""https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B6Qd42rbY4FvYTdlN2E2MDctN2VhZi00YWYxLThkNTQtMzhiMzllY2E2ODk5&amp;hl=en"">a patent by Tesla</a> which discusses using either the <a href=""http://en.wikipedia.org/wiki/Photoelectric_effect"">photoelectric effect</a> via ""ultra-violet light [...] and Roentgen rays [X-rays]"" to generate a positive charge by ejecting electrons, or cathodic rays to capture electrons and generate a negative charge.</p>

<p>While you might be able to use the photoelectric effect from solar UV on metals, with great care, you are going to derive an extraordinary small current, certainly far less than you would get with a photo<i>voltaic</i> (solar) cell.  PV cells use the photoelectric effect, but within a semiconductor.</p>

<h2>Chapter 5 - The Tesla Coil</h2>

<p>Tesla coils are essentially antennas that can radiate and receive a great deal of power.  In order to actually capture an appreciable amount, much, much more must be broadcast on the particular wavelength that the coil is tuned to.  Because they are tuned, they cannot capture broadband noise</p>
","8342"
"Max Serial Cable Length?","29760","","<p>What is the maximum length of serial cable I can use, to connection work properly? Is length of serial cable in connection with baud rate? I am using about 5 meter cable at speed 38400 bauds and RS232 communication, is it too long?</p>
","<p>Capacitance in the cable begins to affect serial communications, typically many manufacturers/devices set a limit of approximatly 15m or 50ft on cable lengths for anything up to 9600 baud, and about 4m for 38.4k.  That being said, with decent cable it is easily possible to go longer in tested or non-commercial use, but I would stick to the guidelines for a commercial product, if only to leave an out for support calls.</p>

<p>If you really need length, RS232 to RS422/485 converters are very inexpensive, and you can run the differential modes (422/485) over two wires for well over 100m.</p>

<p>In your case, 5m really shouldn't be a problem at 38.4, as long as your cable is of reasonably quality.  Almost any shielded multi-conductor cable should work at that distance, and probably three times it.</p>
","187637"
"ultra low power mini wireless transmitter / receiver?","29748","","<p>I'm looking for suggestions for a wireless transmitter &amp; receiver combination.  I'm basically just trying to bridge several buttons over a wireless signal(s) (i.e. send a 1 bit signal) in as small a package as possible:</p>

<ul>
<li>Very short range (needs to be 99% reliable at ~3 ft away, no line-of-sight).</li>
<li>Low power, especially for the transmitter.  I'd like to be able to send ~10,000 pulses off of a watch battery</li>
<li>Very small transmitter (needs to fit inside something around 1 in^3, though I have a fair bit of flexibility on placement)</li>
<li>Would like to prevent accidental cross-talk</li>
</ul>

<p>Any ideas appreciated.  If interested in the reasoning, I'm trying to build a wireless Di2 system (electronic bicycle shifting)</p>
","<p>A 433MHz ASK transmitter/receiver pair should do very well at the ranges you are talking about. I have used them quite successfully in my <a href=""http://node.wickeddevice.com"">Wicked Node</a> and <a href=""http://receivershield.wickeddevice.com"">Wicked Receiver</a> products, at hundreds of feet, so you should easily be able to use them to make it work over such a small distance. The transmitter can be quite low power because you can basically draws no current when not transmitting. The receiver on the other hand, needs to always be on and continuously outputs ""data"" that you have to sift through to extract actual transmissions from the noise. You could use the same exact product set to do what you want here but it will be a little bit longer than 1 inch, but you might be able to hack it into a 1 cubic inch with some creativity. </p>
","26031"
"Converting a DC motor to a generator","29724","","<p>Can ANY DC motor become a generator if torque is applied to the shaft?
example:
<a href=""http://www.wikihow.com/Produce-Electricity-from-a-DC-Motor"" rel=""nofollow"">Produce-Electricity-from-a-DC-Motor</a></p>

<p>And by any, I mean the really cheap ones too. 
Or is there a specific type of motor (of which I do not know the name) that can work in both directions (battery to power the shaft OR torque-on-shaft to create a voltage difference between the terminals).</p>
","<p>Any DC motor with <b>permanent magnets</b> can easily be a generator.  It doesn't matter whether it is brushed or not; brushless motors make great generators but you will need to add a rectifier to get a DC output.</p>

<p>If the motor has a separate field winding instead of a permanent magnet, you will need to energise that winding from an external DC source, e.g. a battery.</p>

<p>For example, a car alternator has DC slip-rings (not a commutator!) to supply a small field current to the rotor, and a three phase (usually) stator winding.  To get anything out, you must energise the field winding, and then you get 3-phase AC from the stator, which must be rectified in order to obtain DC.  You can control the output power (and therefore the load the alternator places on the shaft) by modulating the field current.</p>

<p>You can google up plenty of howtos that tell you how to make a wind generator from recycled or homemade brushless permanent-magnet motors.  They're a good design specifically because of the lack of brushes, because brushes wear out, are expensive and inefficient compared to a silicon rectifier.</p>

<p>If it's a ""series wound"" DC motor, I don't think it will generate unless part of the motor chassis is residually magnetised.  That style of motor (only two terminals connecting to two windings and no permanent magnets) is generally not appropriate for generation because you have no guarantee it will do anything, and no good way to control the generated power/load.</p>
","216000"
"How do I set the clock speed fuses on an ATtiny85 when using an Arduino as a programmer?","29664","","<p>I'm following this <a href=""http://hlt.media.mit.edu/?p=1229"">tutorial</a>, programming the ATtiny85 with an Arduino, using it to play some tones (through a piezo speaker). I'm struggling with getting the tones at the right pitch (I'm creating the wave forms manually, as the tone() function is unsupported on the ATtiny85). </p>

<p>I believe the problem may be down to differing clock speeds on the Arduino and ATtiny. I understand the clock speed can be altered on the ATtiny, how do I accomplish this using the arduino environment?</p>
","<p>I believe the Arduino software (libraries and all) assumes you are operating at 16MHz. If you apply that assumption to the clock you are actually running at... things should work out. Assuming you are running the Tiny85 on it's internal oscillator I think it runs at 1MHz, so just multiply all your delay statements (and other notions of time) by 16. </p>

<p>If you need better accuracy than the internal oscillator provides you should think about using an external crystal or a resonator, but you will need to change the fuse settings of the AVR for that to work, and I think you will need a programmer like the AVRISP mkII to do that with AVR Studio (my recommendation). </p>

<p>I don't know much about the ArduinoISP sketch but to me it looks like it bit bangs the ISP protocol to upload a program to the target chip (not the on board Mega328), not sure it is equipped to manipulate fuses. ArduinoISP is documented here <a href=""http://arduino.cc/en/Tutorial/ArduinoISP"" rel=""nofollow"">http://arduino.cc/en/Tutorial/ArduinoISP</a>, fwiw. Note that you can't use a UNO currently to run the ArduinoISP sketch. It doesn't look to me like you can use the sketch to make the Arduino a viable interface for using the AVR Studio GUI tools.</p>

<p><strong>EDIT</strong>: It looks like stuff has caught up and an UNO is viable for ArduinoISP now - thanks for the comments all</p>
","7863"
"how determine the RC time constant in PWM digital to analog low-pass filter?","29658","","<p>I 'm looking for the best RC time constant and its reason in a PWM to convert digital signal to analog based on duty-cycle and frequency and other parameters. PWM frequency is 10 kHz. </p>
","<p>The best RC is infinite, then you have a perfectly ripple-less DC output. Problem is that it also takes forever to respond to changes in the duty cycle. So it's always a tradeoff.  </p>

<p>A first-order RC filter has a cutoff frequency of </p>

<p>\$ f_c = \dfrac{1}{2 \pi RC} \$</p>

<p>and a roll-off of 6 dB/octave = 20 dB/decade. The graph shows the frequency characteristic for a 0.1 Hz (blue), a 1 Hz (purple) and a 10 Hz (the other color) cutoff frequency.</p>

<p><img src=""https://i.stack.imgur.com/vv8ee.png"" alt=""enter image description here""></p>

<p>So we can see that for the 0.1 Hz filter the 10 kHz fundamental of the PWM signal is suppressed by 100 dB, that's not bad; this will give very low ripple. But!</p>

<p><img src=""https://i.stack.imgur.com/frAH2.png"" alt=""enter image description here""></p>

<p>This graph shows the step response for the three cutoff frequencies. A change in duty cycle is a step in the DC level, and some shifts in the harmonics of the 10 kHz signal. The curve with the best 10 kHz suppression is the slowest to respond, the x-axis is seconds. </p>

<p><img src=""https://i.stack.imgur.com/QmI7s.png"" alt=""enter image description here""></p>

<p>This graph shows the response of a 30 &micro;s RC time (cutoff frequency 5 kHz) for a 50 % duty cycle 10 kHz signal. There's an enormous ripple, but it responds to the change from 0 % duty cycle in 2 periods, or 200 &micro;s.</p>

<p><img src=""https://i.stack.imgur.com/7CdGv.png"" alt=""enter image description here""></p>

<p>This one is a 300 &micro;s RC time (cutoff frequency 500 Hz). Still some ripple, but going from 0 % to 50 % duty cycle takes about 10 periods, or 1 ms.</p>

<p>Further increasing RC to milliseconds will decrease ripple further and increase reaction time. It all depends on how much ripple you can afford and how fast you want the filter to react to duty cycle changes. </p>

<p><a href=""http://sim.okawa-denshi.jp/en/PWMtool.php"" rel=""noreferrer"">This web page</a> calculates that for R = 16 k&Omega; and C = 1 &micro;F we have a cutoff frequency of 10 Hz, a settling time to 90 % of 37 ms for a peak-to-peak ripple of 8 mV at 5 V maximum.</p>

<p><strong>edit</strong><br>
You can improve your filter by going to higher orders:  </p>

<p><img src=""https://i.stack.imgur.com/ssp4n.png"" alt=""enter image description here"">  </p>

<p>The blue curve was or simple RC filter with a 20 dB/decade roll-off. A second order filter (purple) has a 40 dB/decade roll-off, so for the same cutoff frequency will have 120 dB suppression at 10 kHz instead of 60 dB. These graphs are pretty ideal and can be best attained with active filters, like a Sallen-Key.</p>

<p><img src=""https://i.stack.imgur.com/4RCqa.png"" alt=""enter image description here""></p>

<p><strong>Equations</strong>  </p>

<p>Peak-to-peak ripple voltage for a first order RC filter as a function of PWM frequency and RC time constant:</p>

<p>\$ V_{ripple} = \dfrac{ e^{\dfrac{-d}{f_{PWM} RC}}  
 \cdot (e^{\dfrac{1}{f_{PWM} RC}} - e^{\dfrac{d}{f_{PWM} RC}}) \cdot (1 - e^{\dfrac{d}{f_{PWM} RC}})  }{1 - e^{\dfrac{1}{f_{PWM} RC}}} \cdot V_+\$</p>

<p>E&amp;OE. ""d"" is the duty cycle, 0..1. Ripple is the largest for d = 0.5.  </p>

<p>Step response to 99 % of end value is 5 x RC.</p>

<p>Cutoff frequency for the Sallen-Key filter:  </p>

<p>\$ f_c = \dfrac{1}{2 \pi \sqrt{R1 \text{ } R2 \text{ } C1 \text{ } C2}} \$</p>

<p>For a Butterworth filter (maximum flat): R1 =R2, C1 = C2</p>
","34845"
"What exactly does a diode do?","29644","","<p><em>Disclaimer</em>: I'm a total beginner here.</p>

<p>As explained in <a href=""https://electronics.stackexchange.com/questions/26072/does-electricity-go-from-negative-to-positive-or-vice-versa"">other answers here</a>, current in a circuit doesn't flow from negative to positive and the direction doesn't matter.</p>

<p>So what should I make of diodes, which are supposed to make the current flow only in one direction?</p>
","<p>The other question is about the fact that current flows in complete circuits --- there is no current without a complete loop for current to flow through. Some of the answers went off on a tangent discussing the difference between electron current and conventional current. In circuit design, you can safely ignore electron current, and always think in terms of conventional current. But the direction of current flow absolutely <strong>does</strong> matter.</p>

<p>As for diodes, ideally, a diode allows current to flow through it in only one direction, from anode to cathode. Specifically, above a certain ""threshold"" voltage, it only requires a very small increase in voltage to increase the current to astronomical levels:</p>

<p><img src=""https://i.stack.imgur.com/9fdnq.jpg"" alt=""enter image description here""></p>

<p>(CC image from <a href=""http://openwetware.org/wiki/20.309:DiodePrimer"" rel=""nofollow noreferrer"">openwetware.org</a>)</p>

<p>The reverse breakdown behavior (large reverse current when high reverse bias is applied) is normally considered a non-ideality rather than part of the ideal diode behavior.</p>

<p>Some diodes have other effects, such as LEDs, which emit light when current flows through them; or zener diodes which are normally used in the reverse breakdown region.</p>

<p><strong>Edit</strong></p>

<blockquote>
  <p>what's the purpose of including a garden-variety diode (not an LED) in a circuit?</p>
</blockquote>

<p>Typically, you use them when you want to be sure current can only flow in one direction. For example,</p>

<ul>
<li>To protect a circuit from a battery installed in reverse.</li>
<li>To form a <em>full-bridge rectifier</em> circuit (using 4 diodes) to convert AC power to DC.</li>
<li>In a <em>peak detector</em> circuit.</li>
</ul>

<p>In circuits using ac signals, proper manipulation of the dc bias point of a diode allows it to be used as a <em>switch</em> to route those signals.</p>

<p>You might also see a diode used in cases where the designer knows that current will be flowing in the proper direction to create a rough-and-ready ""fixed"" voltage drop of about 0.7 V. </p>

<p>Another use is to use a (properly designed) diode's ability to sink large amounts of current (in the forward direction) to protect more sensitive circuits from overload or ESD conditions, or in a <em>snubber</em> circuit to reduce transmission line ring.</p>

<p>Another use is that, going beyond the dc properties, a diode in reverse bias has a variable capacitance depending on the magnitude of the bias. This variable capacitance can be used to tune oscillators or filters. Diodes specially designed for this use are called <em>varicaps</em>.</p>
","52438"
"How do I define a module with a modified parameter in Verilog?","29615","","<p>I want to define an <code>add</code> module which has a modified parameter in my declaration of the new instance but it doesn't go well.</p>

<p>It is in Verilog.  I want to define an instance of this module:</p>

<pre><code>module add #(parameter wd=1) (input wire [wd-1:0] a,b, output wire [wd-1:0] o);
   assign o = a + b;
endmodule
</code></pre>

<p>I tried this line but I get an error:</p>

<pre><code> add len_plus_1 #(8)(.a(len),.b(8'h1),.o(lenPlus1));
</code></pre>
","<p>You've got the order wrong.  When using module-instance parameter value assignment (the rather wordy terminology for this method), the syntax is: </p>

<pre class=""lang-none prettyprint-override""><code>module-name #(parameter-assignment) instance-name (module-terminal-list) ;
</code></pre>

<p>where the parameter assignment can be by name or by the order of the values.  You're already familiar with the module terminal list, so I'll just give the parameter BNF:</p>

<pre class=""lang-none prettyprint-override""><code>parameter-assignment ::= (values-by-name / values-by-order) 
values-by-name ::= .parameter-name(parameter-value)*[, parameter-name(parameter-value)]
values-by-order ::= parameter-value*[, parameter-value]
</code></pre>

<p>So your example should be one of the following:</p>

<pre class=""lang-none prettyprint-override""><code>add #(.wd(8)) len_plus_1(.a(len),.b(8'h1),.o(lenPlus1));
add #(8) len_plus_1(.a(len),.b(8'h1),.o(lenPlus1));
</code></pre>

<p>The former (named) version is preferred, because it maintains its behavior if you add another parameter.</p>

<p>The following example gives additional options (this is adapted from Figure 9-4 in <a href=""http://rads.stackoverflow.com/amzn/click/0130449113""><em>Verilog HDL: A Guide to Digital Design and Synthesis</em> by Palnitkar</a>)</p>

<pre class=""lang-none prettyprint-override""><code>module bus_master;
  // Note: These could also be ANSI C-style parameter declarations with 
  // module bus_master (#parameter delay1 = 2, delay2 = 3, delay3 = 7);
  parameter delay1 = 2;
  parameter delay2 = 3;
  parameter delay3 = 7;
  ...
  &lt;module internals&gt;
  ...
endmodule

module top;
  // Assignment by name:
  bus_master #(.delay2(4), delay3(8)) b1();
     //delay1 = 2 (default), delay2 = 4, delay3 = 8
  bus_master #(.delay1(1), delay3(6)) b2();
     //delay1 = 1, delay2 = 3 (default), delay3 = 6

  // Assignment by order:
  bus_master #(7, 8, 9) b3();
     //delay1 = 7, delay2 = 8, delay3 = 9
  bus_master #(1, 3, 5) b4();
     //delay1 = 1, delay2 = 3 (default, but by assignment), delay3 = 5
  bus_master #(1, 5) b5();
     //delay1 = 1, delay2 = 5, delay3 = 7 (default)
endmodule
</code></pre>

<p>There is also another method which uses the <code>defparam</code> keyword to define the values before instantiation like this: </p>

<pre class=""lang-none prettyprint-override""><code>module top; 
  defparam b6.delay1 = 1;
  bus_master b6();
     //delay1 = 1, delay2 = 3 (default), delay3 = 7 (default)
endmodule;
</code></pre>

<p>but that's considered poor style (though personally, I'd prefer it to the values-by-order syntax).</p>
","24322"
"What is the difference between an alternator and a generator?","29512","","<p>What is the difference between an alternator and a generator ? </p>
","<p>Realistically, not a lot. An electrical generator is any electro-mechanical device that converts mechanical energy (typically a spinning shaft) into electrical energy (a current). This is the exact opposite of the operation of an electric motor which converts a current (electrical energy) into mechanical energy. As such, some motors can also function as generators if the shaft is externally driven.</p>

<p>Generator is an umbrella term; there are various types of generators, but the only ones pertinent to your question are a dynamo and an alternator. A dynamo is a common generator used on bicycles to power lights, but it has been used for many other purposes as well. It incorporates a ""commutator"" which periodically switches the direction of the current flow from the rotor to the external circuitry to generate DC power.</p>

<p>If the commutator is removed, a dynamo is essentially an alternator producing AC power. The frequency of the resulting signal is determined by the windings of the generator and the rotational speed of the internal rotor. Technically, any generator that produces AC power is an alternator, but usually only the smaller AC generators driven by internal combustion engines (such as the one in a car) are known as such.</p>
","68661"
"Is it worth really buying a Fluke for hobbyist use?","29505","","<p>Well, the question is the title: Is it worth really buying a Fluke for hobbyist use?</p>

<p>I have a cheap meter at the moment. Is it worth spending a 3 figure sum on a nice, shiny, new Fluke? I honestly don't think so, but I'm curious what other's opinions are.</p>
","<p>I think you should make sure you select a multimeter <strong>that answers the questions you need answered</strong>.  Or start with a cheap one, and if you need more features / better accuracy, get a better one.</p>

<p>Most folks working on digital electronics need to know if:</p>

<ul>
<li>Is this signal high or low?</li>
<li>Is this signal switching?</li>
<li>Is this wire continuous?</li>
<li>Is my transistor PNP or NPN, and is the Radioshack package correct? (it wasn't, once, for me)</li>
<li>How much current is running through this section of the circuit?</li>
<li>What is the duty cycle of the PWM signal?  (This is easily found by doing a little bit of math based on the voltage)</li>
</ul>

<p>Really, to solve all those problems, a $5USD digital multimeter does all that and more.</p>

<p>If you need to measure capacitors, inductors, are panicky about your duty cycle, or need tight accuracy, or you need the thing to survive falling down a waterfall or being inside crazy EMF fields or your'e gonna beat the thing up, I'd look for a Fluke or something.</p>

<p>If you need to watch really fast signals, you should be doing that with a logic analyzer or an oscilloscope anyway.</p>
","4669"
"Criteria behind selecting pwm frequency for speed control of a dc motor?","29492","","<p>I'm working on a speed control circuit for a brushed dc motor (24v, 500rpm, 2A, 4kgcm). </p>

<p>The main components that I plan to use are PIC16f873, 4n25 optocoupler, IRFZ44N MOSFET, BY 500 - 800 diode(for free wheeling). </p>

<ul>
<li>What is the criteria behind choosing the PWM frequency?</li>
<li>What are the effects of very high &amp; very low PWM frequencies on the system? </li>
<li>What are the drawbacks and improvements to be made in the hardware provided here?</li>
</ul>

<p><img src=""https://i.stack.imgur.com/O8Sg8.jpg"" alt=""Schematic""></p>
","<p>There are several issues effected by the PWM frequency when driving a motor:<ol></p>

<p><li>The pulses need to come fast enough so that the mechanical system of the motor averages them out.  Usually a few 10s of Hz to a few 100 Hz is good enough for this.  This is rarely the limiting factor.</p>

<p><li>In some cases, it is important that whining can't be heard at the PWM frequency.  Even if the mechanical system as a whole doesn't react to single pulses, individual windings of a coil can.  A electric motor works on magnetic forces, with every loop of wire in a coil arranged to create these forces.  That means every bit of wire in a winding has a sideways force on it proportional to current, at least part of the time.  The wire in the windings can't move far, but it can still vibrate enough for the result to be audible.  1 kHz PWM frequency may be fine in all other respects, but if this is going into a end user device the whining at that frequency could be unacceptable.  For this reason, PWM for end consumer motor control is often done at 25 kHz, being just a bit beyond what most people can hear.</p>

<p><li>Average coil current.  This can be a tricky issue.  Individual coils of the motor will look mostly inductive to the driving circuit.  You want the current through the coils to be mostly what you'd expect from the average applied by the PWM and not go up and down substantially each pulse.</p>

<p>Each coil will have some finite resistance, which causes lost power proportional to the square of the current through it.  The losses will be higher at the same average current when there is a large change in current over a pulse.  Consider the extreme example of the coil reacting to the pulsed voltage almost instantly and you are driving it with a 50% square wave.  The resistive dissipation will be 1/2 of driving the coil full on all the time, with the average current (therefore resulting motor torque) also being 1/2 of full on.  However, if the coil were driven with a steady 1/2 current instead of pulses, the resistive dissipation would be 1/4 of full on but with the same 1/2 of full scale current and therefore torque.</p>

<p>Another way to think about this is that you don't want significant AC current on top of the average DC level.  The AC current does nothing to move the motor, only the average does that.  The AC component therefore only causes resistive losses in the coils and other places.</p>

<p><li>Switching losses.  The ideal switch is either fully on or fully off, which means it never dissipates any power.  Real switches don't switch instantaneously and therefore spend some finite time in a transition region where they dissipate substantial power.  Part of the job of the drive electronics is to minimize this transition time.  However, no matter what you do there will be some time per edge where the switch is not ideal.  This time is usually fixed per edge, so its fraction of the total PWM period goes up with frequency.  For example, if the switch spends a total of 1 &micro;s in transition each pulse, then at 25 kHz PWM frequency, which is 40 &micro;s period, the transition time is 1/40 of the total.  That may be acceptable.  However, if the switching frequency were increased to 100 kHz, which means 10 &micro;s period, then the transition time would be 10%.  That will likely cause problems.</p>

<p></ol></p>

<p>As for your circuit, my biggest concern is how slowly Q1 will be driven.  Opto-isolators are notoriously slow (relative to most other components like individual transistors), especially when turning off.  You only have R2 (although I can read its value) pulling down on the FET gate to turn it off.  That's going to be slow.  That may be OK if you can tolerate a slow PWM frequency, considering all the other trade-offs I mentioned above.</p>

<p>You might consider putting a PIC on the motor side of the opto.  You can communicate digitally with that PIC via a UART interface or something that doesn't have to run at the PWM frequency.  That PIC then generates the appropriate PWM locally and drives Q1 hard on and off with extra circuitry for that purpose.  That way the high speed signals and fast edges don't go across a opto isolator.</p>
","67666"
"Getting PWM to work on STM32F4 using ST's HAL libraries","29424","","<p>I'm trying to switch to the ST HAL libraries and can't seem to get the PWM to work. Compiles fine, just doesn't start. </p>

<p>In my main() I call the Timer initialization function:</p>

<pre><code>/* TIM3 init function */
void MX_TIM3_Init(void)
{

  TIM_MasterConfigTypeDef sMasterConfig;
  TIM_OC_InitTypeDef sConfigOC;

  htim3.Instance = TIM3;
  htim3.Init.Prescaler = 0;
  htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
  htim3.Init.Period = 1300;
  htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  HAL_TIM_PWM_Init(&amp;htim3);

  sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
  sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
  HAL_TIMEx_MasterConfigSynchronization(&amp;htim3, &amp;sMasterConfig);

  sConfigOC.OCMode = TIM_OCMODE_PWM1;
  sConfigOC.OCIdleState = TIM_OCIDLESTATE_SET;
  sConfigOC.Pulse = 650;
  sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
  sConfigOC.OCFastMode = TIM_OCFAST_ENABLE;

  HAL_TIM_PWM_ConfigChannel(&amp;htim3, &amp;sConfigOC, TIM_CHANNEL_1);
  HAL_TIM_PWM_ConfigChannel(&amp;htim3, &amp;sConfigOC, TIM_CHANNEL_2);
  HAL_TIM_PWM_ConfigChannel(&amp;htim3, &amp;sConfigOC, TIM_CHANNEL_3);
  HAL_TIM_PWM_ConfigChannel(&amp;htim3, &amp;sConfigOC, TIM_CHANNEL_4);
  HAL_TIM_PWM_MspInit(&amp;htim3);

} 
</code></pre>

<p>The GPIO is initialized in the <code>HAL_TIM_PWM_MspInit()</code> function:</p>

<pre><code>void HAL_TIM_PWM_MspInit(TIM_HandleTypeDef* htim_pwm)
{

  GPIO_InitTypeDef GPIO_InitStruct;
  if(htim_pwm-&gt;Instance==TIM3)
  {
    /* Peripheral clock enable */
    __TIM3_CLK_ENABLE();

    /**TIM3 GPIO Configuration    
    PC9     ------&gt; TIM3_CH4
    PC8     ------&gt; TIM3_CH3
    PC7     ------&gt; TIM3_CH2
    PC6     ------&gt; TIM3_CH1 
    */
    GPIO_InitStruct.Pin = GPIO_PIN_9|GPIO_PIN_8|GPIO_PIN_7|GPIO_PIN_6;
    GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
    GPIO_InitStruct.Pull = GPIO_NOPULL;
    GPIO_InitStruct.Speed = GPIO_SPEED_HIGH;
    GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
    HAL_GPIO_Init(GPIOC, &amp;GPIO_InitStruct);

  }
</code></pre>

<p>}</p>

<p>finally my main() looks like this: (I'm calling SystemInit() from main because I'm using STCube generated files with coocox coide)</p>

<pre><code>int main(void)
{

    SystemInit() ;

  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();

  /* Configure the system clock */
  SystemClock_Config();

  /* Initialize all configured peripherals */
  MX_TIM3_Init();
  MX_GPIO_Init();
  MX_LWIP_Init();
  while (1)
  {

  }

}
</code></pre>
","<p>When using Cube Mx, the generated code initializes the timer peripheral but does not start it running. The solution is as suggested by others: add the Start functions.</p>

<pre><code>HAL_TIM_Base_Start(&amp;htim3); 
HAL_TIM_PWM_Start(&amp;htim3,TIM_CHANNEL_ALL); 
</code></pre>

<p>Place this code in the ""USER CODE"" section after the generated code that calls <code>MX_TIM3_Init()</code>.</p>
","210955"
"What is the common mode in common mode input voltage range?","29411","","<p>The common mode voltage at the input of a difference amplifier is defined as $$\dfrac{V_1+V_2}{2}$$ and common mode input voltage range is the range of voltages at the input for which the opamp works as it's supposed to.
But what is common mode about that?</p>
","<p>For an op-amp in normal operation, V1 ~= V2, so it collapses to just the input voltage. </p>

<p>The range of acceptable input voltages is the common mode input voltage range. </p>
","105008"
"Using a transformer to step down 230V to 12V","29351","","<p>My circuit uses main electricity in parts of the circuit. However my AVR and other components only need 5V. So I'm using a step down transformer to generate 12V. It's then regulated to 5V. </p>

<p>The transformer won't convert it to dc for me will it? </p>

<p>It just steps it down then outputs a certain voltage depending on it's coils. So I would need to convert it to dc myself right?</p>
","<p>You are correct. The transformer will only reduce the voltage (and increase the available current), so you need to add additional circuitry to rectify, smooth and regulate your 12\$V_{AC}\$ transformer output to 5\$V_{DC}\$.</p>

<p>This is the type of circuit you should be looking to build:</p>

<p><img src=""https://i.stack.imgur.com/WscTo.jpg"" alt=""AC to DC PSU""></p>

<ol>
<li>The transformer reduces the voltage from mains to 12\$V_{AC}\$ (RMS).</li>
<li>The Diode Bridge (known as a bridge rectifier) will convert 12\$V_{AC}\$ to 15\$V_{DC}\$. The voltage is \$\sqrt{2}\$ times minus two diode voltage drops higher than the input voltage because the rectifier output is the peak AC voltage, not the RMS AC voltage.</li>
<li>The first capacitor will smooth out the ripples that come from the output of the AC to DC bridge rectifier.</li>
<li>The <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""noreferrer"">LM7805</a> regulator will maintain a constant voltage as the load varies. For example if you are switching a light bulb on and off, the current will go up and down, and if you didn't have a regulator then the voltage would drop as the bulb is switched on. The regulator keeps it at the 5\$V_{DC}\$ your microcontroller needs.</li>
<li>The final small capacitor filters out any noise or interference on the regulated side of the circuit.</li>
</ol>
","12393"
"LED and lamp in series - why does the bulb not light?","29275","","<p>My 6 year old son has just started experimenting with a Snap Circuits style kit and already we have a very basic question.</p>

<p>If we arrange an LED and lamp in parallel powered by batteries then both LED and lamp light up brightly.</p>

<p><img src=""https://i.stack.imgur.com/iVehg.jpg"" alt=""enter image description here""></p>

<p>However, if we arrange the LED and lamp in series then only the LED comes on.</p>

<p><img src=""https://i.stack.imgur.com/FYAw6.jpg"" alt=""enter image description here""></p>

<p>Obviously current is passing through the lamp (if I unscrew the bulb the LED goes off).</p>

<p>So why does the bulb not light?</p>

<p>I'm a bit of a cheapskate so rather than buy proper Snap Circuits I bought a similar generic set from China on eBay (See: <a href=""http://whzhitong.en.alibaba.com/product/218196568-200371148/Electronic_Block_kit.html"">Electronic Blocks Kit W-58</a>)</p>

<p>(Apologies if this is too basic for this forum but I haven't yet found the answer via Google)</p>
","<p>For the parallel connected LED and lamp, each has the entire battery voltage across.</p>

<p>When series connected, the voltage across each must <em>sum</em> to the battery voltage.</p>

<p>Without any more information than is given, the most likely answer is that the voltage across the lamp, which must equal the battery voltage <em>minus</em> the voltage across the LED, is insufficient to produce visible light.</p>

<p>While typing this answer, I see that you've added some pictures.  It appears that the total battery voltage is about 3V.  Given that many LEDs have a forward voltage in excess of 2V, this leaves less than 1V across the bulb.</p>

<p>Do you have a voltmeter with your kit?  If so, measure the voltage across the lamp for the series connection.</p>
","97341"
"What is XBee and how is it different from Zigbee?","29258","","<p>It's easy to get an introductory explanation of Zigbee.</p>

<ul>
<li><a href=""http://en.wikipedia.org/wiki/ZigBee"">Zigbee on Wikipedia</a></li>
<li><a href=""http://www.eetimes.com/design/communications-design/4006430/Home-networking-with-Zigbee"">Home networking with Zigbee</a></li>
<li><a href=""http://www.zigbee.org/"">Zigbee alliance</a></li>
</ul>

<p>But technical information on XBee seems harder to find. It's unclear to me what its similarities and differences to Zigbee are.</p>
","<p>ZigBee / ZigBee Pro are mesh communication protocols that sits on top of IEEE 802.15.4 PHY.</p>

<p>XBee / XBee Pro are product names for radio communications modules made by Digi.  </p>

<p>The modules can be loaded with various firmwares to support ZigBee / ZigBee Pro / DigiMesh and come in several frequency bands.</p>

<p>DigiMesh is an alternative to ZigBee that changes a few things, and adds some features to make it generally better to work with.  </p>

<p>But, you sacrifice compatibility with ZigBee devices.  </p>

<p>For example DigiMesh allows routers to sleep, has lower overhead, has 1 node type vs zigbee's 3 leading to a more robust mesh, can run at higher data rates, etc.  </p>

<p>Frankly its a better protocol all around, in my opinion.  I wouldn't use ZigBee unless i needed interoperability with other vendor's nodes.  Not that DigiMesh is the only answer, there are other mesh protocols that sit on IEEE 802.15.4 as well.</p>
","5324"
"Efficient way to regulate voltage","29076","","<p>What is the most energy efficient way to lower voltage? I want to lower 9V to 5V. But if I use resistance doesn't it consume energy? </p>
","<p>Yes, a resistor will consume energy, but that's not the main reason not to use one. The voltage drop across the resistor will vary with the current, so if your load isn't constant (it never is) the voltage will vary. That's not what you want from a regulator. <em>Never</em> use a series resistor as a voltage regulator!  </p>

<p>There are two big categories of voltage regulator: linear and switcher.  </p>

<p>A <strong>linear regulator</strong> usually comes as a three-legger: an input pin, ground and an output pin. Typical example: <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""nofollow noreferrer"">LM7805</a>. They have good regulation and are easy to use. Main drawback: they're not efficient. The load current passes through the regulator, and causes a voltage drop there, like the series resistor would. If your 5V circuit draws 1A you'll draw that 1A from the 9V, so the load's 5W will require 9W from your power supply, that's an efficiency of 55%. This becomes even worse if your input voltage is higher, like 24V. With an input voltage this high the regulator needs <em>considerable</em> cooling. You don't want a linear regulator for this kind of application.  </p>

<p>A <strong>switcher</strong> (or SMPS, for Switched-Mode Power Supply) is the solution. This uses a coil to build up a magnetic field, which in turn is converted back into the output voltage. Switchers are a bit more complicated in operation than linear regulators, but they're much more efficient; efficiencies of 95% are often possible. Since they work at higher frequencies (100s of kHz to several MHz) board layout is premium to reduce radiation. Proper component selection and careful PCB layout are also important to get high efficiency.<br>
The good news is that switchers are very common nowadays, and designs are much simpler than 20 years ago; many switchers only need four external components. TI has a <em>Simple Switcher</em> series (née National Semiconductor) with <a href=""http://www.ti.com/ww/en/simple_switcher_dc_dc_converters/index.html"" rel=""nofollow noreferrer"">online design tools</a>.  </p>

<p>AndrejaKo made an interesting remark. There are switcher modules which can be used as drop-in replacement for a TO-220 linear regulator:  </p>

<p><img src=""https://i.stack.imgur.com/SYNli.jpg"" alt=""enter image description here""></p>

<p>Like he says these aren't cheap but may be the right solution if you need an efficient regulator but don't have the experience to design a switcher yourself.</p>
","29125"
"How do volume control headphones work?","29039","","<p>A recent question over on <a href=""https://android.stackexchange.com/a/27590/4229"">Android Enthusiasts</a> got me to wondering how volume control headphones work.</p>

<p>I don't mean volume control which works by <a href=""https://electronics.stackexchange.com/q/24421/3774"">attenuating the incoming signal</a>, but the kind of volume control that signals to the device to increase or decrease the signal output.</p>

<p>For instance, according to the <a href=""http://v-moda.com/crossfade-lp/"" rel=""nofollow noreferrer"">Crossfade LP product page</a>, the volume controls are only for apple devices:</p>

<blockquote>
  <p>Universal Compatibility and Microphone Communication
  LP comes with 2 cables for universal compatibility with all modern mobile and audio devices. The 3-Button remote microphone cable is designed for the latest Apple devices, including iPhone®,iPad®, iPod®, and Macbook series. The long audio-only cable and 1/4"" adapter is universally compatible with all audio devices and professional equipment.</p>
</blockquote>

<p>However this sort of device apparently works with some android phones and the question implies that it works with some computer sound cards on Windows machines too, but not being an Apple buyer (and only recently getting my first smartphone) I haven't seen this sort of thing before. I've done a quick google search, but can't find anything on standards for this technology.</p>

<ul>
<li>How does this work?

<ul>
<li>Is it something as simple as shorting left/right/mic channels?</li>
<li>If so, could using headphones of this type with equipment that doesn't support this technology, damage that equipment?</li>
<li>Is it a serial signal, for instance sent over the mic channel?</li>
<li>Does it just require a headphone <a href=""http://en.wikipedia.org/wiki/TRS_connector"" rel=""nofollow noreferrer"">TRS</a> connector or a headphone  +microphone TRRS connector? </li>
</ul></li>
<li>Does this technique have a name? 
<sub>Incidentally, is someone could answer this, I can probably look up the rest of the information myself. *8')</sub></li>
<li>Is it as standard as it appears, or is everyone just following Apple?</li>
<li>Is this something that is patented?

<ul>
<li>If so, who holds the patent and do they charge a license fee for people to use this technology?</li>
<li>If not, is there an open standard for it?</li>
</ul></li>
</ul>

<p>There is some excellent information in <a href=""https://electronics.stackexchange.com/a/12504/3774"">an answer</a> to the question <a href=""https://electronics.stackexchange.com/q/12498/3774"">What protocol does a headphone jack use?</a> but it doesn't answer the specifics of how this type of volume (etc.) control works, since it now seems to be rather more common and standard.</p>
","<p><a href=""http://www.instructables.com/id/Galaxy-Nexus-and-others-headset-remote-with-medi/"">This article</a> shows some good ways to make a volume control.  Basically it is just some buttons switching in different resistors between a couple of pins of the 1/8"" TRRS headphone connector.  Normally these buttons would put the resistor across (in parallel with) the microphone.</p>

<p>A standard microphone needs two wires:  The mic output signal and GND.  But the mic also needs power, and this is provided on the same wire as the mic output signal.  Inside the phone there will be a resistor between the mic signal and power.  Our remote volume control will switch in a resistor between the mic signal and GND.  These two resistors will form a simple resistive voltage divider, where the resulting voltage depends on which button is being pressed.</p>

<p>Inside the phone this mic signal goes into a simple analog-to-digital converter (ADC) that will measure the voltage and figure out from there what button is being pressed.</p>

<p>Doing it this way is a little tricky and creates some compromises.  First thing is that you can't use the mic and the buttons at the same time.  Most of the time this is not a problem, but occasionally you'll want to mess with stuff.  The phone has to mute the mic whenever a button is pressed.  Otherwise there will be a loud pop in the audio.  Even if this wasn't an electrical problem, most remote volume controls also house the microphone and you would get a lot of mechanical handling noise in the mic just from moving your fingers around.</p>
","38492"
"Why are inferred latches bad?","29036","","<p>My compiler complains about inferred latches in my combinatorial loops (<code>always @(*)</code>, in Verilog). I was also told that inferred latches should preferably be avoided.</p>

<p>What exactly is wrong with inferred latches? They certainly make combinatorial loops easier to write.</p>
","<p>A ""latch"" is different from a ""Flip-Flop"" in that a FF only changes its output in response to a clock edge.  A latch can change its output in response to something other than a clock.  For example, an SR-Latch has a set and a reset input and if either of them are active then the output can change.  Where as an SR-FF only responds to a set or reset when there is also a clock edge.</p>

<p>In an FPGA, you want your logic to be fully synchronous.  Meaning that all storage elements (like FF's) are all clocked from a single clock source.  Anything that is asynchronous to that clock needs to be treated very carefully otherwise timing errors will occur.</p>

<p>A latch is basically an asynchronous storage element.  It has no clock input, and thus cannot be synchronized with any clock.  I should note that there are FF's with asynchronous reset and reset inputs, and these should be treated with the same care as normal latches.  </p>

<p>Going into all of the timing issues that latches can cause is way beyond what can be covered here, but let me give you one example:</p>

<p>Let's say that you have an SR-Latch, and you want it to be set every time an 8-bit counter reaches a certain value.  I'm not sure what the Verilog code would be, but in VHDL the code is:  set &lt;= '1' when count=""11010010"" else '0';  That set signal goes to the set input on our SR-Latch.</p>

<p>The logic that is generates is purely combinatorial; a mix of and-gates, or-gates, and inverters (Or LUTs).  But the signal paths through that combinatorial logic is not always perfect and the ""set"" signal could have glitches on it.  The signal path through a particular group of gates could take longer than another group, causing the set output to go active for a brief moment before the output settles down into the final state.</p>

<p>This output glitch could cause our SR-Latch to be set, even though it wasn't supposed to.  If we switch from an SR-Latch to an SR-FF, clocked off the same clock that the counter is, then the SR-FF will wait for one whole clock cycle before changing state.  In essence it will wait for the set signal to settle before looking at it.</p>

<p>If the paths through combinatorial logic for the set signal is just routed differently (causing different delays), then the glitch behavior will change too.  The logic might work fine, but then because you changed something entirely unrelated this logic is routed differently and so the bug pops up.  Temperature and voltage will also change the signal timing, and thus can change the glitch behavior.</p>

<p>This uncertainly in the timing is why you should avoid latches in your logic.  FF's are much safer to use.  This is why your compiler is warning you about latches, since it is easy to mistakenly make a latch and you probably don't want it there anyway.</p>

<p>Of course, sometimes latches are required.  You just have to use them very rarely, only when absolutely required, and then you must design the logic right so there are no glitches possible.</p>
","38650"
"Arduino as modbus master with MAX485 doesn't get any response","29009","","<p>I'm having some troubles trying to query a modbus slave with an Arduino through RS485.</p>

<p>I've already succeeded in querying a software modbus slave running on my PC through the USB/COM port using the <a href=""http://www.arduino.cc/playground/Code/ModbusMaster"" rel=""nofollow noreferrer"">ModbusMaster libray</a>, hence it shouldn't be a software issue.</p>

<p>I read about TTL and level conversions and I put on a circuit like this on a breadboard:
<img src=""https://i.stack.imgur.com/Ff8Vo.png"" alt=""enter image description here""></p>

<p>Using the same firmware/sketch that worked for the software slave, I connected the arduino pin TX and RX to the max485 and A and B to the modbus slave and I issued several requests.</p>

<p>I can see the signals converted by the MAX485 (CPA1114) though the oscilloscope and it seems to be right. The led on the modbus slave lights on as it sees a modbus transaction. Still, what I read as result of the request is always <code>0xE0</code> (invalid slave id) or <code>0xE2</code> (timeout).</p>

<p>I queried the slave with the same equal request using another tool (a RS485/USB converter and CAS Modbus Scanner), and it gives the expected results, that is data <code>0x01</code>.</p>

<p>This is the code I'm running on an Arduino Ethernet (with a display for debug purpose):</p>

<pre><code>#include &lt;ModbusMaster.h&gt;
#include &lt;LiquidCrystal.h&gt;
LiquidCrystal lcd(12, 11, 4, 5, 6, 7);

ModbusMaster node(1);

void setup() {

  pinMode(3, OUTPUT);
  node.begin(19200);
  lcd.begin(16, 2);

}

void loop() {

  uint16_t m_startAddress=1;
  uint8_t m_length=1;
  uint8_t result;

  digitalWrite(3, HIGH); // TX
  result = node.readHoldingRegisters(m_startAddress, m_length);

  lcd.clear();

  if (result == node.ku8MBSuccess) {
    lcd.print(""DATA:"");
    digitalWrite(3, LOW); // RX
    for (uint8_t j = 0; j &lt; m_length; j++) lcd.print( node.getResponseBuffer(j), HEX );
  } else {
    lcd.print(""ERR "");
    lcd.print(result, HEX);
  }

  delay(500);

}
</code></pre>

<p>These are the request signals emitted by the Arduino, that always fail to get a data response, and the other tool, that always succeed:</p>

<p><img src=""https://i.stack.imgur.com/xzL0s.png"" alt=""Arduino request signal""><br>
<em>Arduino request signal</em></p>

<p><img src=""https://i.stack.imgur.com/kqkRW.png"" alt=""USB/RS485 converter signal""><br>
<em>USB/RS485 converter signal</em></p>

<p><img src=""https://i.stack.imgur.com/ydwQd.png"" alt=""Overlap of the two signals""><br>
<em>Overlap of the two signals</em></p>

<p>Is there something wrong with the request signal? Am I making any mistakes in the circuit or the code?</p>

<p>Any pointers would be greatly appreciated.</p>

<p><strong>EDIT:</strong></p>

<p>As suggested by Kvegaoro, I got it working by editing the ModbusMaster library in order to switch the D3 pin to the right status at the right moment. For doing so I used some code I found on <a href=""http://arduino.cc/forum/index.php/topic,36563.msg270235.html#msg270235"" rel=""nofollow noreferrer"">this post (italian)</a> in the Arduino forum.</p>

<p>This is the edit I've done in <code>ModbusMaster.cpp</code>, function <code>ModbusMasterTransaction</code>, starting at line 746:</p>

<pre><code>  // code edited to work with MAX485:
  // transmit request
  UCSR0A=UCSR0A |(1 &lt;&lt; TXC0);  
  Serial.flush();
  digitalWrite(3, HIGH);

  for (i = 0; i &lt; u8ModbusADUSize; i++)
  {
#if defined(ARDUINO) &amp;&amp; ARDUINO &gt;= 100
    MBSerial.write(u8ModbusADU[i]);
#else
    MBSerial.print(u8ModbusADU[i], BYTE);
#endif
  }
  while (!(UCSR0A &amp; (1 &lt;&lt; TXC0)));
  digitalWrite(3, LOW);
  // --

  u8ModbusADUSize = 0;
</code></pre>

<p>Note that the D3 pin is then hard-coded in the library so this is not a good design, if someone is going to need this would adjust it better. It works though!</p>
","<p>I think you have an issue with you line driving RE and DE because you set the D3 line high to transmit, then you issue a modbus function 3 (read holding registers). After this you check if the request was a success and after this you set the D3 line low and you read the response from the library buffer from the node. 
The issues stands that a modbus transaction includes the master querying the slave and the slave responding which seems to be taken care of by the node.readHoldingRegisters() fucntion therefore the master releasing the RS485 bus should happen within this fucntion not after it.<br>
What I guess its the problem, its that the modbus library you used is intended for RS232 as the physical layer therefore you might have to modify the library so the RS485 bus is released as soon as the master completely finishes sending the query
Hope this helps </p>
","49099"
"How to calculate magnitude and phase different of impedence","29000","","<p>How can I use a calculator to find the phase difference and magnitude of a circuit if the circuit has an impedance of, for example, \$Z = 5 + 3j\mbox{ }\Omega\$.</p>

<p>I have the answers \$|Z| = 5.83\$ and \$\theta = 30.96^{\circ}\$.</p>
","<p>Euler is your friend. Euler's Formula: </p>

<blockquote>
  <p>\$ e^{j  \theta} = cos(\theta) + j \cdot sin(\theta) \$  </p>
</blockquote>

<p>Euler helps you to calculate in an easy way with the complex impedance, by using the \$e\$ power. At the end of the calculation you can separate the complex power of \$e\$ into its real and imaginary parts. These agree with your resistance and reactive impedance resp.  </p>

<blockquote>
  <p>\$ |Z| = \sqrt{real^2 + imaginary^2} \$  </p>
</blockquote>

<p>and  </p>

<blockquote>
  <p>\$ \theta = arctan\left( \dfrac{imaginary}{real} \right) \$</p>
</blockquote>
","20036"
"Connecting AND Gate Chip to an Integrated Circuit","28995","","<p>I am trying to teach myself how to make integrated circuits and I'm having trouble integrating an AND gate into the circuit though.</p>

<p>I took a picture of it. The voltage running across the power rails is 4.7 V (the chip is TTL logic, I figured it would be enough). The gate is an AND gate 2 input 1 output (7408).</p>

<p>My question is why, with both DIP switches turned off, is that LED shinning?? It seems that the current doesn't run through the 'AND' circuitry but through the VCC and out through the supposed to be 'output of the inputs A and B'. If the connections are wrong what's the proper way to integrate the gate into IC?</p>

<p>Original
<img src=""https://i.stack.imgur.com/ahRNw.jpg"" alt=""""></p>

<p>Yellow- Path current is supposed to follow
<img src=""https://i.stack.imgur.com/6FRBu.png"" alt=""Yellow- Path current is supposed to follow""></p>

<p>Red- Path current apparently takes -.-
<img src=""https://i.stack.imgur.com/eSk87.png"" alt=""Red- Path current apparently takes -.-""></p>
","<p>You connected the DIP switches between Vcc and the AND gate's input, and that's wrong. A floating TTL input (DIP switches off) is seen as logical <code>1</code>, and when you close the switch you just enforce that <code>1</code>. So inputs are always seen a <code>1</code>, and output will be <code>1</code>, and the LED will light. </p>

<p>Two things:  </p>

<ol>
<li>connect the DIP switches between the inputs and ground  </li>
<li>connect the LED between output and Vcc. The logic will be inverted, but the output can sink more current than it can source, and your LED will light more visibly. Check the LED's polarity: the anode goes to Vcc. You also have to <strong>add a 150 \$\Omega\$ resistor in series with the LED</strong> to limit it's current.</li>
</ol>

<p><a href=""https://www.circuitlab.com/circuit/5v8asg/and/"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x2h6Z.png"" alt=""The right configuration, with inverted output""></a></p>
","34052"
"Why don't typical digital multimeters measure inductance?","28979","","<p>Even with predominantly digital circuits, I am using inductors much more often than I used to, generally because of all the buck or boost converters (a recent board I was involved in has 12 different voltage rails -- six of them needed just by the TFT LCD).</p>

<p>I've never seen a standard digital multimeter (DMM) with an inductance range.  So I ended up buying a separate meter that does LC measurements.</p>

<p>However a lot of DMMs have a capacitance scale.  Since capacitors and inductors can be thought of as mirror images of each other with voltage and current flipped, why don't DMMs include an inductance scale also?  What's so difficult about measuring inductance that it is left off of DMMs and relegated to specialty meters? </p>

<p>Since inductance meters are usually LC meters (even LCR), do they measure capacitance in a different way than DMMs?  Are they more accurate than the capacitance scale of a DMM?</p>
","<p>The only reason DMMs can't measure inductances is that it is more difficult to measure inductance than resistance or capacitance: this task requires special circuitry, which is not cheap. Since there are relatively few occasions when inductance measurements are required, standard DMMs do not have this functionality, which allows for lower cost.</p>

<p>Simple DMMs can measure capacitance by just charging the capacitor with a constant current and measuring the rate of voltage build-up. This simple technique provides surprisingly good accuracy and wide dynamic range, therefore it can be implemented in almost any DMM, without significant cost penalties. There are other techniques as well.</p>

<p>Theoretically, one could measure inductance by applying a constant voltage across an inductor and measuring the current build-up; however, in practice this technique is much more complicated to implement, and the accuracy is not that good as for capacitors due to the following reasons:</p>

<ul>
<li>Inductors may have relatively high parasitic resistance and capacitance</li>
<li>Core losses (in cored inductors)</li>
<li>EMI (incl. stray inductance and capacitance)</li>
<li>Frequency dependent effects in inductors</li>
<li>More</li>
</ul>

<p>There are few techniques for measuring inductances (some of them are described <a href=""http://dsp-book.narod.ru/MISH/CH50.PDF"">here</a>). </p>

<p>LCRs are special meters designed for inductance measurements and containing the required circuitry. These are costly tools.</p>

<p>Since the hardware for measuring the inductance may also be used for accurate measurement of R and C, LCRs also employ this circuitry in order to improve the accuracy of capacitance and resistance measurements (for example: AC resistance, AC capacitance, ESR etc.). I believe that the difference between measuring inductance and capacitance with LCR is just a matter of different firmware algorithms, though it is just a guess.</p>

<p>Therefore, the general answer to your question is ""yes, LCRs are usually more accurate in RC measurements than DMMs, and they can measure a wider range of measurable quantities"". However, this is just a rule of thumb - there are many superb DMMs and lousy LCRs out there... Read specs.</p>
","94368"
"Programming languages for electronics engineers","28978","","<p>I am an Electronics and Communications Engineering student, before I got to college, I have been interested in programming and computer applications. I had focused on designing Windows applications and learning its techniques, but now, I feel that this is useless in my field... I don't have to learn everything about computer science and developing software! (Am I right about this?)</p>

<p>I know VB .Net, C# and C++. I have plenty of time in my holiday so I want to delve deeper programmatically in ""electronics field"". So what would you recommend to learn or to focus on?</p>

<p>I want those languages used in programming Microcontrollers and other integrated circuits. Is C++ enough or I should master C as well? Tell me your thoughts please.</p>
","<p>Yes, it's almost certainly a good move to learn to use C as well as possible (C++ will give you a helpful starting point, although as <em>leftaroundabout</em> notes, there will still be plenty to pick up, especially the differences between coding for small embedded systems compared to writing for something like Windows) given it's ubiquity.</p>

<p>Most microcontrollers below a certain size (e.g. PIC, AVR, MSP430, etc) use C (or assembler) as there are many high quality (free and $$ versions - e.g. many commercial compilers are based upon the free GCC compiler) C compilers available.<br>
You do get other languages like the excellent JAL for PIC (original author Wouter Van Ooijen who is a member here), PICBASIC, Ada variants, but due to it's popularity and number of compilers available, I'd say C is the language of choice for most. While this certainly doesn't mean it's the best language, using the most popular language comes with obvious advantages (documentation, support, portability, collaboration, etc)<br>
For the more complex and larger 32-bit micros like many ARM variants, there are also C++ and other compilers available.  </p>

<p>I would jump right in and grab a few development boards and get coding. You could pick a low end 8-bit micro like the PIC16F (many starter kits on Microchip Direct)<br>
A middle of the range 16-bit micro like the PIC24, and also a C/C++/embedded linux ARM of some sort - the STM32F4 ARM Cortex M4 Discovery is an very cheap dev board that might be worth grabbing.<br>
On the programmable logic and hardware description language (HDL - the big two are Verilog and VHDL) side, it may be also worth getting hold of an FPGA or CPLD dev board from Diglent or similar.</p>

<p>If you don't want to wait for a dev board, you could download MPLAB or MPLABX and use the excellent simulator to try your hand at PIC development. Same goes for other tools too, for instance you can download Xilinx ISE Webpack for free and try out HDLs and programmable logic design.    </p>
","39601"
"Displaying a 2-digit integer on two 7-segment display","28974","","<p>I'm having trouble displaying a binary number into a display. I'm not sure of how to split a number in binary into its individual numbers.</p>

<p>For example, if I want to display 25, I want to split this into ""2"" and ""5"" in binary. 
I have 8 bits coming in and would like to split it into two 4 bit parts with the first 4 bits representing the first digit in binary and second 4 bits representing the second digit in binary. </p>

<p>EDIT: To clarify, I'm trying to do this using logic gates.</p>
","<p>The <a href=""http://en.wikipedia.org/wiki/Double_dabble"" rel=""noreferrer"">Double-dabble</a> technique converts binary to BCD by repeated shifting. Each repetition halves the remaining binary number and doubles the BCD number, after the complete binary value is shifted the result is obtained. After each shift a correction is applied to each 4-bit BCD column (or those having more than 3 bits shifted in by that point). This correction looks for digits that will 'BCD overflow' decimal 9 -> 10 <em>on the next shift</em> and patches the result by <em>adding three</em>.</p>

<p>Why three? BCD digits in the range zero to four (0,1,2,4) will double naturally to 0,2,4,8 after the shift. Examining 5 <code>b 0101</code>, that will shift to <code>b 1010</code> (0xA), which is not a BCD digit. 5 is therefore corrected to (3+5) i.e. <code>b 1000</code> (0x8) which during the shift doubles to 16 decimal (0x10), representing a carry out of 1 to the next digit and the expected zero.</p>

<p>Implementations repeat this process, either synchronously in time using a shift register and 'n' cycles for an n-bit input, or in space by placing the logic circuits for the  correction feeding each other and doing the shift with wiring. There is a carry path right through every digit, and the carry logic is not suited to FPGA (binary) carry chain logic, so the space implementation generally gives unacceptable timing results for large inputs. A typical engineering trade-off.</p>

<h2>For a parallel (asynchronous) conversion</h2>

<p>For narrow values like yours <a href=""http://www.johnloomis.org/ece314/notes/devices/binary_to_BCD/bin_to_bcd.html"" rel=""noreferrer"">Dr. John Loomis's site</a> has a guide to the logic structure required to implement in hardware. Modern reprogrammable logic can do 8 bits wide to maybe 100mhz after aggressive synthesis. The module <code>add3</code> takes a 4-bit input and outputs it verbatim, or if more than four, adds three:</p>

<pre><code>module add3(in,out);
input [3:0] in;
output [3:0] out;
reg [3:0] out;

always @ (in)
    case (in)
    4'b0000: out &lt;= 4'b0000;  // 0 -&gt; 0
    4'b0001: out &lt;= 4'b0001;
    4'b0010: out &lt;= 4'b0010;
    4'b0011: out &lt;= 4'b0011; 
    4'b0100: out &lt;= 4'b0100;  // 4 -&gt; 4
    4'b0101: out &lt;= 4'b1000;  // 5 -&gt; 8
    4'b0110: out &lt;= 4'b1001;  
    4'b0111: out &lt;= 4'b1010;
    4'b1000: out &lt;= 4'b1011;
    4'b1001: out &lt;= 4'b1100;  // 9 -&gt; 12
    default: out &lt;= 4'b0000;
    endcase
endmodule
</code></pre>

<p>Combining these modules together gives the output.
<img src=""https://i.stack.imgur.com/1rrqM.png"" alt=""modules together""> </p>

<h2>For a sequential (multi-cycle, pipelined) variant</h2>

<p>For wide signals a serial technique described in <a href=""http://www.ingelec.uns.edu.ar/dclac2558/BCD2BIN.PDF"" rel=""noreferrer"">Xlinx App Note ""XAPP 029""</a> runs 1-bit per cycle, probably at 300mMhz+.</p>

<p>If anyone knows a good hybrid technique I'd be interested to know it. I modelled both in Verilog with test benches in my <a href=""https://github.com/shuckc/verilog-utils/tree/master/bcd"" rel=""noreferrer"">verilog-utils</a> collection.</p>
","64544"
"Why don't we use wireless electricity today?","28923","","<p>I was reading about Nikola Tesla today (via <a href=""http://theoatmeal.com/comics/tesla"">the Oatmeal</a>) and read about the Wardenclyffe Tower which (among other things) was intended to transmit electricity wirelessly. Forgive the naivety of the question, but if technology that could transmit electrical current wirelessly was invented over 100 years ago, why don't we use wireless electricity in our day to day lives today? In other words, why do we have to physically plug in our electrical devices (phones/computer, etc) if there exist such a thing as wireless electricity? If its an issue of efficiency/cost then I would imagine that some rich people still wouldn't mind paying extra, in light of the waste, for the added convenience.</p>

<p>Please explain in layman's terms (though a simple answer would suffice).</p>
","<p>I use wireless electricity everyday.</p>

<p>In my toothbrush:</p>

<p><img src=""https://i.stack.imgur.com/nc3i5.jpg"" alt=""toothbrush""></p>

<p>And in my cell phone:</p>

<p><img src=""https://i.stack.imgur.com/e7rub.jpg"" alt=""qi phone""></p>

<p>The method used in my devices is called <a href=""http://en.wikipedia.org/wiki/Inductive_charging"" rel=""nofollow noreferrer"">Inductive Charging</a>. I talk a bit more about it in my answer to <a href=""https://electronics.stackexchange.com/questions/36767/do-magnetics-connectors-exist/36853#36853"">this question</a>. This is the most common and most practical form of transmitting energy wirelessly at the moment. But as many of the comments have noted, this is considered near field transmission. And with an effective range of only a few millimeters, it is <em>very</em> near field.</p>

<p>The <a href=""http://en.wikipedia.org/wiki/Resonant_inductive_coupling#Energy_transfer_and_efficiency"" rel=""nofollow noreferrer"">amount of energy transferred and the efficiency</a> of the transfer can be increased quite a bit (although still considered to be near field) by adding a capacitor to each of the inductor coils and tuning the resultant RLC networks to have a high Q factor at the same (resonant) frequency. A team from MIT did research into using <a href=""http://electronics.howstuffworks.com/everyday-tech/wireless-power2.htm"" rel=""nofollow noreferrer"">inductive resonance</a> as a wireless power transfer system.</p>

<p><img src=""https://i.stack.imgur.com/uglGt.jpg"" alt=""resonant induction recharging""></p>

<p>The researchers have since formed a company called <a href=""http://www.witricity.com/pages/technology.html"" rel=""nofollow noreferrer"">WiTricity</a> to further develop the technology. While they still haven't brought a product to the commercial market, they have made some impressive <a href=""https://en.wikipedia.org/wiki/WiTricity"" rel=""nofollow noreferrer"">demonstrations</a>:</p>

<blockquote>
  <p>The term WiTricity was used for a project that took place at MIT, led
  by Marin Soljačić in 2007. The MIT researchers successfully
  demonstrated the ability to power a 60 watt light bulb wirelessly,
  using two 5-turn copper coils of 60 cm (24 in) diameter, that were 2 m
  (7 ft) away, at roughly 45% efficiency. The coils were designed to
  resonate together at 9.9 MHz (≈ wavelength 30 m) and were oriented
  along the same axis. One was connected inductively to a power source,
  and the other one to a bulb. The setup powered the bulb on, even when
  the direct line of sight was blocked using a wooden panel. Researchers
  were able to power a 60 watt light bulb at roughly 90% efficiency at a
  distance of 3 feet. The research project was spun off into a private
  company, also called WiTricity.</p>
</blockquote>

<p>It's important to note that the distance between the transmitter and the receiver plays a crucial factor in determining how much energy can reliably be transferred. As can be seen in <a href=""http://www.cornellcollege.edu/physics/files/mandip-sibakoti.pdf"" rel=""nofollow noreferrer"">this paper</a> based on the MIT project, the decay in voltage with respect to distance between the coils is exponential:</p>

<p><img src=""https://i.stack.imgur.com/RelbL.png"" alt=""exponential decay""></p>

<p>But there are many <a href=""http://en.wikipedia.org/wiki/Wireless_energy_transfer"" rel=""nofollow noreferrer"">other methods</a> such as microwave and laser that are capable of much greater distances. However, these methods are very directional and so are applicable over a much smaller area than Tesla's proposed Wardenclyffe Tower which would be omnidirectional. There are also many other factors to consider when implementing one of these methods:</p>

<blockquote>
  <h1>Microwave:</h1>
  
  <p>Power transmission via radio waves can be made more directional,
  allowing longer distance power beaming, with shorter wavelengths of
  electromagnetic radiation, typically in the microwave range. A
  rectenna may be used to convert the microwave energy back into
  electricity. Rectenna conversion efficiencies exceeding 95% have been
  realized. Power beaming using microwaves has been proposed for the
  transmission of energy from orbiting solar power satellites to Earth
  and the beaming of power to spacecraft leaving orbit has been
  considered.<br>
  ...<br>
  For earthbound applications a large area 10 km diameter receiving
  array allows large total power levels to be used while operating at
  the low power density suggested for human electromagnetic exposure
  safety. A human safe power density of 1 mW/cm2 distributed across a 10
  km diameter area corresponds to 750 megawatts total power level. This
  is the power level found in many modern electric power plants.<br>
  ...<br>
  Wireless high power transmission using microwaves is well proven.
  Experiments in the tens of kilowatts have been performed at Goldstone
  in California in 1975 and more recently (1997) at Grand Bassin on
  Reunion Island. These methods achieve distances on the order of a
  kilometer.</p>
  
  <h1>Laser</h1>
  
  <p>Advantages of laser based energy transfer compared with other wireless
  methods are:</p>
  
  <ol>
  <li>collimated monochromatic wavefront propagation allows narrow beam cross-section area for energy transmission over large ranges.</li>
  <li>compact size of solid state lasers-photovoltaics semiconductor diodes fit into small products.</li>
  <li>no radio-frequency interference to existing radio communication such as Wi-Fi and cell phones.</li>
  <li>control of access; only receivers illuminated by the laser receive power.</li>
  </ol>
  
  <p>Its drawbacks are:</p>
  
  <ol>
  <li>Laser radiation is hazardous, even at low power levels it can blind people and animals, and at high power levels it can kill through
  localized spot heating</li>
  <li>Conversion to light, such as with a laser, is inefficient</li>
  <li>Conversion back into electricity is inefficient, with photovoltaic cells achieving 40%–50% efficiency. (Note that conversion efficiency
  is rather higher with monochromatic light than with insolation of
  solar panels).</li>
  <li>Atmospheric absorption, and absorption and scattering by clouds, fog, rain, etc., causes losses, which can be as high as 100% loss</li>
  <li>As with microwave beaming, this method requires a direct line of sight with the target.</li>
  </ol>
</blockquote>

<p>And of course there is the ""disturbed charge of ground and air"" method used by Tesla. As far as the Tesla system goes, that got shut down because <a href=""http://www.damninteresting.com/teslas-tower-of-power/"" rel=""nofollow noreferrer"">funding ran out and the stock market crashed</a>. As for why it's not been tried since, it's primarily because such a system could not be strictly metered. Therefore, the power companies could not charge per usage and make lots of money. Without a way to monetize the technology, no investment into research and development will ever be made. That's the (conspiracy) theory, anyways. Although there are <a href=""http://www.straightdope.com/columns/read/934/whats-up-with-broadcast-power"" rel=""nofollow noreferrer"">many other reasons</a> why this method is either unfeasible or just outright wouldn't work.</p>

<p>I couldn't find an article with definitive numbers as to efficiency. But it's my guess that efficiency is the main reason you do not see this technology in more wide spread usage. However, it does exist, people like me (read: not rich) do have access to it, and it works quite well.</p>

<p><strong>Edit:</strong></p>

<p>I found a <a href=""http://www.wirelesspowerconsortium.com/technology/comparison-of-power-savings.html"" rel=""nofollow noreferrer"">case study</a> done by the Wireless Power Consortium, makers of qi charger for my phone, which states (emphasis mine):</p>

<blockquote>
  <p>In this section we compare the total power consumption in a 5-year
  period</p>
  
  <p>Case Study:</p>
  
  <p>Average system efficiency of <strong>wireless</strong> charger N <em>sys-wireless</em> = 0.50 (50%)</p>
  
  <p>Average system efficiency of <strong>wired</strong> power adapter N <em>sys-wired</em> = 0.72 (72%)
  Assume that the average charging power is 2W.</p>
</blockquote>

<p>So the wired part of their system has an efficiency of 72% and the wireless part has an efficiency of 50%. That is using an inductive method where the coils are a few millimeters apart. Compare that to the WiTricity from Joel which states an efficiency of 40% over 2 meters.</p>

<p>Factor in the additional costs associated with the extra circuity and components for a wireless system as compared to the cost of a length of copper wire and you can see why long distance wireless energy transfer is still considered impractical for mass market use.</p>
","38204"
"Can an Arduino use a 12 V relay?","28791","","<p>So I wanted to play around with relays and clearly got it wrong even before I got started. I wanted to control a 12 Volt fan - thinking that it would have a capacity of 12 V to control.. But now I know that it takes 12 V input and can control upto 250VAC...</p>

<p>I have ordered some new 5 Volt relays, but want to know how I can use the 12V relay with an arduino _____________? (bear in mind that I'm a newbie)</p>

<p><a href=""http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&amp;item=400388077692&amp;ssPageName=ADME:L:OU:GB:3160"" rel=""nofollow noreferrer"">This is the relay module I bought</a>:
<img src=""https://i.stack.imgur.com/dhR0r.jpg"" alt=""enter image description here""></p>

<hr>

<p><strong>UPDATE</strong></p>

<p>Thank you all so much for finding your time to help me out, I really appreciate it!
First now I found the time to try out your suggestion. </p>

<p>@jippie comment:</p>

<blockquote>
  <p>..(or Vin on Arduino if you are feeding it from a 12V supply)</p>
</blockquote>

<p>got me think about what I really wanted. I wanted to use the 12V power supply to also feed the arduino (hehe..)
- but posting the question I needed to know the anwser to whether an ""under""-powered arduino could control a 12V relay.</p>

<p>But first validate that the relay is actually working! So found a 12 V adapter and connected it to a breadboard.</p>

<p><img src=""https://i.stack.imgur.com/AQHX1.jpg"" alt=""12V adapter"">
Then connected it to the relay by NC and COM
<img src=""https://i.stack.imgur.com/ToQSI.jpg"" alt=""relay connections"">
Compiled the Blink code example and hooked it up using Vin, GND and D13
<img src=""https://i.stack.imgur.com/J7ZAz.gif"" alt=""Relay working with 12 V"">
I then hooked my Arduino to a 9V battery and tried the 5V output
<img src=""https://i.stack.imgur.com/BWYpd.gif"" alt=""Not working relay with 5V"">
Unfortunately this did not work..</p>

<p>@Madmanguruman and @Kurt thank you both for your answers - I'm just too newbie to figure out all the things you were talking about.</p>

<hr>

<p><strong>UPDATE 2</strong></p>

<p>Forgot one more possible combination
<img src=""https://i.stack.imgur.com/hKo35.gif"" alt=""Relay not working""></p>

<p>This kinda brings me down to these options with my relay:</p>

<ul>
<li>Control something that requires more than 12 Volts, but power the arduino with 12 Volts</li>
<li>Use it to control DC gear motors without using and H-bridge and diode (kinda expensive)</li>
<li>Use the NC (Normally Closed) and NO (Normally Open) logic to do something neat</li>
</ul>

<p>All this got me thinking.. If I need to power my Arduino with 12 Volts to control a 12 Volts device - why don't I just connect my device directly to my Arduino ____?</p>

<p>As mentioned many times: I'm a newbie and just want to learn electronics mostly by <em>Learning-by-doing</em> - but without putting myself at risk and breaking things (like my Arduino)</p>

<p>But why would this not work:</p>



<p><img src=""https://i.stack.imgur.com/vcQ7S.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fvcQ7S.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p><strong>EDIT</strong>: </p>

<p><a href=""http://arduino-for-beginners.blogspot.se/2011/03/controlling-12v-dc-motorfan-with.html"" rel=""nofollow noreferrer"">Controlling 12v DC motorfan with arduino</a></p>

<blockquote>
  <p>Firstly, even if a motor or pump or fan (anything with coils inside) is 3V or 5V, do NOT power it directly from the Arduino pins as the Arduino pins can only supply a maximum of 40mA. As per my previous article on Arduino pins, they are not designed to drive a DC motor or coils. </p>
</blockquote>

<hr>

<p><strong>UPDATE 3</strong></p>

<p>Using 9V and Vin also worked :)
<img src=""https://i.stack.imgur.com/JeSEK.gif"" alt=""Using 9V and Vin""></p>

<p>So guess the answer is: </p>

<ul>
<li>Yes, but I have to use >= 9V (perhaps lower, but not 5V) and the Vin.</li>
</ul>
","<p>I'll leave the long talks to the other answerers. If the exact module you bought is the one on the picture then:</p>

<p>Connect: </p>

<ul>
<li><code>GND</code> to <code>GND</code> on Arduino</li>
<li><code>Vcc</code> to 12V (or <code>Vin</code> on Arduino if you are feeding it from a 12V supply)</li>
</ul>

<p>At this moment I would verify the voltage on pin <code>IN</code>, this should be near 0V with respect to GND, if it is higher than 5V stop here. If it is near 0V, the last step is to connect:</p>

<ul>
<li><code>IN</code> to the digital output pin you conotrol on Arduino.</li>
</ul>

<p>So my answer is: If memory serves me right, my answer is: yes you can drive this type of module from Arduino.</p>
","64842"
"High accuracy (0.1°C) digital temperature sensor","28754","","<p>What kind of digital temperature sensor can provide a high accuracy (0.1°C)? Especially, 1-wire. I want to use it in medical thermometer.</p>
","<p>Like Russell says \$\pm\$0.1°C is a tall order. Most commercial temperature sensors won't give you anything better than 0.5°C, others will give you 0.01°C resolution, but 2°C initial accuracy.  </p>

<p>Digikey lists <a href=""http://media.digikey.com/pdf/Data%20Sheets/U.S.Sensors/USP11493.pdf"">this sensor</a> with a \$\pm\$0.1°C accuracy, and even the price is reasonable. </p>

<p>If you want to use integrated sensors, either with analog or digital output, you'll have to calibrate them. Their accuracy is not always very good, but their linearity often is. Since you want to use them for a medical application I presume that you'll only need to measure over a small temperature range, around 37°C. (CMIIW)  </p>

<p>The boiling point of pentane is 36.1°C, so that could be perfect for a single point calibration.</p>
","33139"
"AC current sensor","28753","","<p>What would be a simple circuit to monitor a 120 volt line current?</p>

<p>Connecting an Arduino to the circuit would allow one to detect when the attached device has shut down, for example a washer, dryer; or perhaps to monitor usage, a child's TV.</p>
","<p>Many exist:</p>

<p>Two possibilities: </p>

<ul>
<li>Current transformer (CT) - search this site for recent dicussion. Available from many surplus and hobbyist sites. </li>
</ul>

<p>A CT consists of a single ""turn"" ""winding"" on a magnetic core with an N turn secondary. The 1 turn winding can be just a wire transiting the enclosed core centre. Many CTs are available with ""split cores"" which may be opened to allow the CT to be inserted over existing wiring.</p>

<p>A CT must ALWAYS be used with a terminating resistor so that the output current can produce an output voltage. Without this it will make very very very large voltages indeed.  For 1:N transformer</p>

<ul>
<li>Vout = Iin/N x Rload </li>
</ul>

<p>If desired a CT can be used stand alone with very few other pars as an on/off current monitor. </p>

<p><a href=""http://www.sparkfun.com/products/10341"" rel=""nofollow noreferrer"">Buy a CT here from Sparkfun</a></p>

<p><a href=""http://openenergymonitor.org/emon/node/58"" rel=""nofollow noreferrer"">The fabulous Arduino enegy monitor project</a> </p>

<p>LOOKS easy :-)</p>

<p><img src=""https://i.stack.imgur.com/qbKUk.jpg"" alt=""enter image description here""></p>

<hr>

<ul>
<li><p>Hall sensor </p>

<p><a href=""https://electronics.stackexchange.com/questions/14713/split-core-current-transformer"">Stack exchange discussion here</a></p></li>
</ul>

<p><a href=""https://electronics.stackexchange.com/questions/4348/how-to-go-about-sensing-ac-power-in-existing-wiring"">Related by=ut not identical</a></p>

<p><a href=""https://electronics.stackexchange.com/questions/6227/magnetic-field-sensor"">Related - Hall sensor</a></p>
","23594"
"Arduino: better microsecond resolution than micros()? ","28735","","<p>The micros() documentation notes that the return value will always be a multiple of 4.</p>

<p>Is there any way to get a higher resolution microsecond click, preferably down to the 1 microsecond level?</p>

<p>Dropping down to the AVR level is acceptable.</p>
","<p>Yes, depending your Arduino's basic clock rate.  For example here are the counter-timer input frequencies and periods after pre-scaling, for an ATMega2560's counter-timer 2, and a basic clock rate of 16MHz. The timer has built in ""prescaler"" value options which determine frequency/period, shown in this table:</p>

<pre><code>    TCCR2B bits 2-0    Prescaler    Freq [KHz], Period [usec] after prescale
          0x0          (TC stopped)      --         --
          0x1                1        16000.        0.0625
          0x2                8         2000.        0.500
          0x3               32          500.        2.000
          0x4               64          250.        4.000
          0x5              128          125.        8.000
          0x6              256           62.5      16.000
          0x7             1024           15.625    64.000
</code></pre>

<p>For better timing resolution, you use a value called TCNT2. There is build in counter that goes from 0 to 255 because the timer is 8 bit. When the counter reaches the value assigned by TCNT2 it triggers an interrupt. This interrupt is called TIMER2_OVF_vect.</p>

<p>given this information, the resulting interrupt rate would be: 
16MHz / (prescaler * (255 - TCNT2))</p>

<p>You could get the timer to run at the full 16MHz (62.5nSec) though that's way faster than you need; 2MHz with an initial count of (255-2) would give you 1MHz interrupt rate.  Divide that by 2 in your ISR:</p>

<pre><code>extern uint32_t MicroSecClock = 0;

ISR(TIMER2_OVF_vect) {// this is a built in function that gets called when the timer gets to the overflow counter number
  static uint_8 count;            // interrupt counter

  if( (++count &amp; 0x01) == 0 )     // bump the interrupt counter
    ++MicroSecClock;              // &amp; count uSec every other time.

  digitalWrite(53,toggle);// pin 53 is arbitrary
  TCNT2 = 253;                    // this tells the timer when to trigger the interrupt. when the counter gets to 253 out of 255(because the timer is 8 bit) the timmer will trigger an interrupt
  TIFR2 = 0x00;                   // clear timer overflow flag
};
</code></pre>

<p>The data sheet for your MCU is the basic resource; <a href=""http://arduinomega.blogspot.com/2011/05/timer2-and-overflow-interrupt-lets-get.html"" rel=""nofollow noreferrer"">this article</a> will give you (and gave me!) a good head-start.</p>
","22777"
"How are logic gates created electronically?","28708","","<p>So we have AND, NOT, NAND, NOR, OR gates, but how are they created electronically/electrically?</p>

<p>For example, what makes NOT gate reverse the value?</p>
","<p>I've turned this into a community wiki so we can collect cool logic gate implementations to which to refer to in the future.</p>

<p>To start with you have to understand transistors in a simple way.  I will deal with CMOS since  99% of all logic that has ever existed (in number count) exists as CMOS.</p>

<p>There are two kinds of transistors used, PMOS and NMOS, here are their symbols:
<img src=""https://i.stack.imgur.com/zOtYh.png"" alt=""Fig 1""></p>

<p>The transistors are electrically controlled current sources/sinks. The PMOS will source current (the dotted line in the diagram shows current flow when on) from a power supply (attached to source) through the drain and into other circuits when the Gate voltage is LOWER than the source.  The NMOS will sink current into ground through the drain into the source (which in this case you should think of as a sink).</p>

<p>Please note that I've taken some liberties with naming for the sake of clarity.</p>

<p>PMOS is usually connected to a positive voltage and NMOS is usually connected to negative voltages typically ground.</p>

<p>Interestingly you can stack the devices to make various functions.  Stacking two PMOS gives a current source that is controlled by two voltages, stacking two NMOS gives a current sink that is controlled by two voltages.</p>

<p><img src=""https://i.stack.imgur.com/P9SNd.png"" alt=""enter image description here""></p>

<p>Notice that both Voltage at A (we'll call it A) and B BOTH have to be below +V for current to flow.  Also notice that Both C and D have to be higher than Ground (that funny hatched triangle symbol) for current to be sinked (sunk ?).  You could say ""Both A AND B have to low for current to flow"" and ""Both C AND D have to be high for current to flow"".</p>

<p>Just like you can ""stack"" (actually put in series), you can parallel devices.
<img src=""https://i.stack.imgur.com/HbMC7.png"" alt=""enter image description here""></p>

<p>You could say that ""either A OR B can be low for current to flow"" for the PMOS and you could say that ""either C OR D can be high for current to flow"" for the NMOS circuit.</p>

<p>You will notice that already we are using logic language to describe function (AND, OR) so now we can start piecing together circuits.</p>

<p>First off the Invertor:</p>

<p><img src=""https://i.stack.imgur.com/3H0Yg.png"" alt=""enter image description here""></p>

<p>When Vin is at ground, the PMOS is turned on and can source current, but the NMOS is off and cannot sink current.  As a result, the Vout pin tries to put charge onto any available capacitance and charges that capacitance up until it reaches the V+ level.</p>

<p>Likewise when the Vin is High, the NMOS is turned on and can sink current, but the PMOS is now off and cannot source current.  as a result, the Vout pin tries to pull charge off of any available capacitance and discharges that capacitance until it reaches the Ground level.</p>

<p>A ""high"" on the input gives a ""low"" on the output, a ""low"" on the input gives a ""high"" on the output.  It inverts!</p>

<p>If you look at the symbol for both the PMOS and the NMOS you'see that the gate looks like a capacitor on the symbol.  This is deliberate as a MOS transistor IS a capacitor and it is mainly this capacitance that is charged and discharged during operation.  Current is the flow of charge per time and capacitance is the storage of charge per voltage.  Transistors turn gate voltage into controlled currents that then charge and discharge gate capacitances that turns that change in charge back into a change in voltage.</p>

<p>Now for the first two input gate the NAND gate:</p>

<p><img src=""https://i.stack.imgur.com/DiFW7.png"" alt=""enter image description here""></p>

<p>The NMOS ""stack"" will only ever sink current under one condition, and that is when BOTH A &amp; B are high.  Notice that for that condition that BOTH the PMOS are off (i.e. do not source current).  So in that condition Vout will sink current and the Vout will be Low.</p>

<p>In all other conditions at least one of the PMOS will be sourcing current and the NMOS stack will not be able to sink current.  The output is then charged up and Vout = high.</p>

<pre><code>A B Out
0 0 1
0 1 1
1 0 1
1 1 0
</code></pre>

<p>This truth table shows that if Not(A&amp;B) AKA NAND.  0 = gnd, 1 = V+.</p>

<p>To turn into a AND gate you just need to invert the output.</p>

<p><img src=""https://i.stack.imgur.com/EPrKX.png"" alt=""enter image description here""></p>

<p>And it's truth table:</p>

<pre><code>A B Out
0 0 0
0 1 0
1 0 0
1 1 1
</code></pre>

<p>And next the NOR gate</p>

<p><img src=""https://i.stack.imgur.com/mgH1T.png"" alt=""enter image description here""></p>

<p>I hope by now you should be able to get the truth table yourself.</p>

<pre><code>C D Out
0 0 1
0 1 0
1 0 0
1 1 0
</code></pre>

<p>There is pleasing symmetry from NOR to NAND.  the structure is a simple inversion.</p>

<p>Now the OR</p>

<p><img src=""https://i.stack.imgur.com/2X9Lq.png"" alt=""enter image description here""></p>

<p>and truth table</p>

<pre><code>C D Out
0 0 0
0 1 1
1 0 1
1 1 1
</code></pre>

<p>Extending the designs to higher order inputs is easy, as shown by a 3 input NAND.</p>

<p><img src=""https://i.stack.imgur.com/EQkHq.png"" alt=""enter image description here""></p>

<p>By placing NMOS and PMOS in series/parallel combinations you can implement various logic functions at a transistor level.  This is often done for area efficiency, power efficiency or even for speed.  These functions need not be strictly AND, OR or Xor functions.  The following is known as as a AND/OR gate:</p>

<p><img src=""https://i.stack.imgur.com/s8pKz.png"" alt=""enter image description here""></p>

<p>and has the following truth table.</p>

<pre><code>C A B Out
0 0 0 0
0 0 1 0
0 1 0 0
0 1 1 0
1 0 0 0
1 0 1 1
1 1 0 1
1 1 1 1
</code></pre>

<p>Least you think that this is the only way to implement these functions, I'll introduce a device that is called the transmission gate.</p>

<p><img src=""https://i.stack.imgur.com/C0p96.png"" alt=""enter image description here""></p>

<p>Both the NMOS and PMOS gates must be driven in opposition to work properly.</p>

<p>Here is a sample circuit of what you can do with an additional NMOS.</p>

<p><img src=""https://i.stack.imgur.com/Uz8zP.png"" alt=""enter image description here""></p>

<p>Here /A = Not(A) in digital logic </p>

<p>A+B = A OR B</p>

<p>A*B = A AND B</p>

<p>So you can see that only using 3 transistors you can implement A OR B.  BE warned though that this circuit has serious side effects and is not generally used.  But it is illustrative nevertheless.</p>

<p>here is a whole collection of TG based logic functions:</p>

<p><img src=""https://i.stack.imgur.com/2Fp1O.png"" alt=""enter image description here""></p>

<p>There is also Pass-Transistor-Logic or PTL. An example of such: <img src=""https://i.stack.imgur.com/3Top3.png"" alt=""PTL""></p>
","53165"
"How to assign value to bidirectional port in verilog?","28698","","<p>I'm trying to use a bidirectional port in Verilog so I can send a receive data through it. My problem is that when I try to assign a value to the port inside a task, but I keep getting an error. </p>

<p>Which is the correct way to assign a value to these type of variables?</p>

<p>My code is the following:</p>

<pre><code>    module test(value,var);

    inout value;
    output var;
    reg var,value;

    task sendValue;
      begin
        var = 1;
        value = 1;
      end
    endtask

   endmodule
</code></pre>

<p>and the error that I'm getting is: 
** Error: C:/[...]: (vlog-2110) Illegal reference to a net ""value"".</p>

<p>Thanks.</p>
","<p>If you must use any port as inout, Here are few things to remember:</p>

<ol>
<li>You can't read and write inout port simultaneously, hence kept highZ for reading.</li>
<li>inout port can <strong>NEVER</strong> be of type reg.</li>
<li>There should be a condition at which it should be written. (data in mem should be written when Write = 1 and should be able to read when Write = 0). </li>
</ol>

<p>For e.g. I'll write your code in following way. </p>

<pre><code>module test (value, var);
  inout value;
  output reg var;

  assign value = (condition) ? &lt;some value / expression&gt; : 'bz;

  always @(&lt;event&gt;)
    var = value;

endmodule
</code></pre>

<p>BTW When var is of type wire, you can read it in following fashion:</p>

<pre><code>assign var = (different condition than writing) ? value : [something else];
</code></pre>

<p>Hence as you can see there is no restriction how to read it but inout port <strong>MUST</strong> be written the way shown above.</p>

<p>I hope that explains it to you. </p>
","23095"
"When a battery is your power source, what is ground?","28695","","<p>For the sake of not incorrectly connecting my power supply and damaging my board I'm going to ask a relatively dumb question. Is ground on my board the negative terminal on my battery? Explicitly Should I connect the ground to the negative terminal of the battery?</p>
","<p>Yes - just remember that your ground in that case will only be relative to the battery.  If you go to connect this to another device (serial interface, etc) you need to link the ground lines so they're a common ground.</p>

<p>So long as it is isolated, you're fine.</p>
","10136"
"What is ""common-mode"" noise?","28658","","<p>Can someone explain what ""common-mode"" noise is, and how it can be problematic?</p>

<p>I understand ""noise"" on a signal in general.  If I have a ""noisy"" +5V rail on a circuit board, I'm not going to be getting a constant value of +5, it will be bouncing around above and below that nominal value... ... <em><strong>but still relative to circuit COM</strong></em>.</p>

<p>My very vague understanding of ""common-mode"" noise is that it is where both sides are <em>varying equally together</em>.  (This is where my understanding breaks down)  That is, the pair is bouncing around with respect to ... ... to what?  Earth ground?</p>
","<h2>What is common-mode noise?</h2>

<p>Practically all integrated circuits (and circuits in general) have a pin named ""ground"" or ""GND"", or the datasheet says things like ""connect VSS to ground"".</p>

<p>When transmitting data ""a long distance"", the wires act as antennas and can easily pick up a few volts of noise, and also radiate noise.
So, for example, an output pin on a chip in one box may transmit a ""0"" as about 0.5 V and transmit a ""1"" bit as about 2.5 volt, measured relative to the ground pin of that same ""line driver"" chip.</p>

<p>At a distant location, the other end of the wire is often connected to a pin on a ""line receiver"" chip.
Because of noise, the voltage on that input pin, measured relative to the ground pin of that same line receiver, might often be anywhere in the range -1.5 V to +2.5 V when the transmitter is trying to send a ""0"", and anywhere in the range 0.5 V to 4.5 V when the transmitter is trying to send a ""1"".</p>

<p>So how can the receiver possibly know whether the transmitter is trying to send a 1 or a 0, when it gets a voltage like 0.9 or 2.2 ?</p>

<p>Because of this, data transmitted over long distances is often sent using <a href=""http://en.wikipedia.org/wiki/differential_signaling"" rel=""noreferrer"">differential signaling</a> over a <a href=""http://en.wikipedia.org/wiki/balanced_pair"" rel=""noreferrer"">balanced pair</a>, often a <a href=""http://en.wikipedia.org/wiki/twisted_pair"" rel=""noreferrer"">twisted pair</a>.
In particular, USB, CANbus, and MIDI cables include a single twisted pair for data; ""2-line"" telephones and FireWire use two twisted pairs; CAT5e Ethernet cables include four twisted pairs; other systems use even more pairs.
Often (but not always), there is some other ""ground wire"" in the same bundle of cables.</p>

<p>We label one of these wires ""plus"" or ""positive"" or ""+"" or ""p"", and the other wire ""minus"" or ""-"" or ""negative"" or ""n"".
So when I want to transmit a ""CLK"" and a ""MOSI"" signal from one place to another, my cable has 4 wires labeled pCLK, nCLK, pMOSI, nMOSI.</p>

<p>The <a href=""http://en.wikipedia.org/wiki/Common-mode_signal"" rel=""noreferrer"">common mode voltage</a> of CLK is the average of the two CLK wires, (pCLK + nCLK)/2, measured at the receiver -- relative to the GND pin of that receiver.</p>

<p>The common mode voltage of MOSI is the average of the two MOSI wires, (pMOSI + nMOSI)/2, measured at the receiver -- relative to the GND pin of that receiver.</p>

<p>People who design line drivers try to make them pull the ""p"" line up just as much and at the same time as the ""n"" line goes down, and vice versa, so the average voltage (measured at the driver) is constant -- in this example, the average at the driver is a constant 1.5 V. (Alas, they are never completely successful).</p>

<p>If there were no noise, then the common mode voltage would also be the same constant value -- but alas, it is not.</p>

<p>Whenever data is transmitted with differential signaling, the difference between the noise-free common mode voltage and the actual common mode voltage is entirely caused by noise.
That difference is called common-mode noise.</p>

<p>There are 3 main causes of common-mode noise:</p>

<ul>
<li>Many differential pairs are driven in ways that don't switch the ""+"" and ""-"" wires at <em>exactly</em> the same time, or by exactly the same voltage, or perhaps small amounts of noise on the line driver's power rail leaks onto only the ""+"" wire and not the ""-"" wire, causing some common-mode noise. (A <a href=""http://en.wikipedia.org/wiki/ferrite_choke"" rel=""noreferrer"">ferrite choke</a> on the ""driver"" end of the cable is commonly used to reduce common-mode noise from this source).</li>
<li>Other wires in the cable bundle can leak more energy into one wire of the pair than the other -- typically through capacitive coupling. (Twisting each pair a <em>different</em> number of twists per length is commonly used to reduce common-mode noise from this source).</li>
<li>Outside interference -- often through inductive coupling.</li>
</ul>

<h2>how can common-mode noise be problematic?</h2>

<p>People try to design line receivers to reject common-mode noise.
(Alas, they are never completely successful).
But even in a system that uses differential signaling with such line receivers, common-mode noise can still be problematic:</p>

<ul>
<li><p>Long communication wires act as antennas. If the line driver sends too much common-mode noise down the wires, it causes radio-frequency interference with other devices, and causes the system to fail FCC testing or CE testing or both, for electromagnetic compatibility (EMC).</p></li>
<li><p>Some of the common-mode noise leaks through the line receiver -- the <a href=""http://en.wikipedia.org/wiki/common-mode_rejection_ratio"" rel=""noreferrer"">common-mode rejection ratio</a> is not infinite. This is a big problem with analog signals; usually not a problem with digital ones and zeros.</p></li>
<li><p>Most integrated circuits don't work right when <em>any</em> pin is forced too high or two low -- voltage lower than 0.6 V below the GND pin and higher than 0.6 V above the power pin usually causes problems. Since common-mode noise can easily push the ""+"" or the ""-"" signal, or both, outside that range, line receiver circuits must either connect the wires to special integrated circuits (such as ""Extended Common-Mode RS-485 Transceivers"") that can handle such excursions; or connect the wires to some non-integrated circuit component that protects the ICs from such excursions -- such as the opto-isolators used in MIDI or the transformers used in Ethernet.</p></li>
</ul>
","79786"
"How to check if my multimeter's fuse is damaged?","28576","","<p>I recently bought a cheap multimeter. I played around measuring stuff on simple circuits and I think I managed to damage it as I don't seem to be able to measure current anymore (always get zero amperes, although voltage, resistance, and the rest work just fine). I googled around and found out that it is not uncommon for beginners to blow their multimeter's fuse when trying to measure current the wrong way; I think I've fallen in this category.</p>

<p>Though I would like to confirm, so I took out the fuse from the multimeter. I'm not sure how a damaged fuse should look like, yet it doesn't look broken, it is nice and clear and a very fine wire is visible. It is around 2cm long and on it is written <em>F200mAL250V</em> which I guess means that it is a fast glass 200mA fuse rated for 250V.</p>

<p>Can I use my multimeter to find out if the fuse is broken? What metering mode should I use for this particular fuse and what should I look for?</p>
","<p>Measure the resistance of the fuse. If it's very low (close to 0 ohms), it's still good. If it's very high (open circuit), it's blown.</p>

<p>A 200 mA fuse should have a very fine wire visible inside the glass. If it's completely clear, the wire is gone (blown).</p>
","52474"
"How to power Arduino Pro Mini via VCC pin (12v input)","28413","","<p>According to the <a href=""http://arduino.cc/en/Main/ArduinoBoardProMini"" rel=""nofollow"">Arduino Pro Mini spec</a> it has Input Voltage of 5 - 12 V (5V model). Is it possible to input 12v by using any method other than usb? If so are there any downsides/limitations?</p>
","<p>If you want to feed 12v to the board then you should use the raw input which feeds the onboard regulator input and will step down the voltage to 5v (vcc).</p>

<p><img src=""https://i.stack.imgur.com/KBASx.jpg"" alt=""enter image description here""></p>

<p>You should not connect any voltage >5v to Vcc or USB directly </p>

<p>The location of the raw input pin on the board is</p>

<p><img src=""https://i.stack.imgur.com/AmluC.jpg"" alt=""enter image description here""></p>
","97186"
"Is it safe to drive a MOSFET from an output pin of a microcontroller?","28380","","<p>I have used commonly-available BJTs such as the 2N2222 and 2N3904 as switches by operating them in ""saturation mode"" from my MCU. I believe, however, that for these sorts of applications, a MOSFET is a more appropriate device. I have a few questions, however.</p>

<p>1) Does a MOSFET have a ""saturation mode"" like the BJT does? Is this ""saturation"" achieved by simply providing a high enough voltage on the base that the MOSFET is completely ""on""?</p>

<p>2) Is it safe to drive the MOSFET directly from the MCU? I understand that the gate of the MOSFET behaves like a capacitor, and therefore draws some current while ""charging"", and then none thereafter. Is this charging current high enough to damage the MCU pin? By placing a resistor in series with the gate, I can protect the pin, but this will slow down the switch, possibly resulting in high heat dissipation by the MOSFET?</p>

<p>3) What is a common ""hobbyist"" MOSFET suitable for various low-power situation? I.E., what's the MOSFET equivalent to a 2N2222 or 2N3904?</p>
","<p>Many power MOSFETs require a high gate voltage for high-current loads, to ensure that they are fully turned on. There are some with logic-level inputs, though. The data sheets can be misleading, they often give the gate voltage for 250 mA current on the front page, and you find that they need 12V for 5A, say.</p>

<p>It's a good idea to put a resistor to ground on the gate if a MOSFET is driven by an MCU output. MCU pins are usually inputs on reset, and this could cause the gate to float momentarily, perhaps turning the device on, until the program starts running. You won't damage the MCU output by connecting it directly to a MOSFET gate.</p>

<p>The BS170 and 2N7000 are roughly equivalent to the BJTs you mentioned. The Zetex ZVN4206ASTZ has a maximum drain current of 600 mA. I don't think that you will find a small MOSFET that can be driven from 3.3V, though.</p>
","13077"
"What are the practical reasons to use a voltage-follower?","28330","","<p>Could you give a particular example why is a voltage follower is used? </p>
","<blockquote>
  <p>Could you give a particular example why is a voltage follower is used?</p>
</blockquote>

<p>A voltage follower typically has a very high input impedance and a very low output impedance.  Why is this important or necessary?</p>

<p>Well, it is often the case that a voltage amplifier stage will have a moderately high output impedance.  This output impedance will form a voltage divider with the load impedance and reduce the voltage gain of the stage.  For example:</p>



<p><img src=""https://i.stack.imgur.com/vZjoT.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fvZjoT.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"">CircuitLab</a></sup></p>

<p>Here, I model a voltage amplifier with an <em>open circuit</em> (unloaded) gain of 100 and an output resistance of \$1k \Omega\$.</p>

<p>But, with an \$8 \Omega\$ load connected, the <em>loaded</em> gain drops to </p>

<p>$$A_v = 100 \dfrac{8}{8 + 1000} = 0.794$$</p>

<p>The voltage gain of the stage is reduced to less than 1!</p>

<p>However, by inserting an (ideal) voltage follower between the amplifier and the load:</p>



<p><img src=""https://i.stack.imgur.com/YlHhS.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fYlHhS.png"">simulate this circuit</a></sup></p>

<p>The overall <em>loaded</em> voltage gain is now 100, the <em>unloaded</em> voltage gain.</p>

<p>This may seem paradoxical since the voltage follower has a voltage gain of 1 but remember, the voltage follower is still an amplifier.  That is, it increases the <em>power</em> of the signal.</p>

<p>Specifically, by presenting an open (or effectively open) circuit to the preceding voltage amplifier stage, no (or effectively no) signal power is required to drive the voltage follower and thus, <em>no signal power is lost in the output resistance of the voltage amplifier</em></p>

<p>And, by presenting a zero (or effectively zero) output impedance to the load, <em>there is no (or effectively no) power lost in the output resistance of the voltage follower</em>.</p>

<p>We say then that the voltage follower is a <em>buffer</em> between the voltage amplifier and the load.</p>
","90921"
"How long would a 150 Farad Capacitor light up an LED","28294","","<p>I have a bright white LED from a flashlight. Aproximatley How long will it light up with a 150 farad 2.5 volt capacitor. Do I need a resistor? And if so how many Ω? The capacitor is a maxwell 150 farad 2.7 volt boostcap <a href=""http://www.cdiweb.com/ProductDetail/BCAP0150P270T07-Maxwell-Technologies-Inc/24185/#.UYZpJisjo-U"">here</a>.</p>
","<h2>Direct answer to the question</h2>

<p>The direct answer to your question, assuming you intend to just connect the capacitor to the LED with a series resistor is <i>no time at all</i>.  That is because a white LED takes more than 2.7 V to light.  Check its datasheet.  These things usually need a bit over 3 V.</p>

<p>There are two options.  The simplest is to use a LED with a lower forward drop.  Let's say you try this with a red LED that has a 1.8 V drop at 20 mA.  That means at full charge, there will be 2.7V - 1.8V = 900 mV accross the resistor.  If you want the maximum brightness at full charge, which we are saying is 20 mA, then you need a 900mV / 20mA = 45 &Omega; resistor.  Let's pick the common nominal value of 47 &Omega;.</p>

<p>Now that we have a capacitance and resistance we can compute the time constant, which is 150F x 47&Omega; = 7050 s = 118 minutes = 2 hours.  At full charge, the LED will be nearly at full brightness, which will then decay slowly.  There is no fixed limit at which it will suddenly go out, so we have to pick something.  Let's say 5 mA is dim enough to be considered not usefully lit anymore in your application.  The voltage accross the resistor will be 47&Omega; x 5mA = 240mV.  Using the first approximation of the LED having constant voltage accross it, that means the capacitor voltage is 2 V.</p>

<p>The question is now how long does it take to decay from 2.7 V to 2.0 V at a 2 hour time constant.  That is .3 time constants, or 2100 seconds, or 35 minutes.  The actual value will be a bit longer due to the LED having some effective series resistance too and therefore increasing the time constant.</p>

<h2>A better way</h2>

<p>The above tries to answer your question, but is not useful for a flashlight.  For a flashlight you want to keep the light at close to the full brightness for as long as possible.  That can be done with a switching power supply, which transfer Watts in to Watts out plus some loss but at different combinations of voltage and current.  We therefore look at the total energy available and required and not worry about specific volts and amps too much.</p>

<p>The energy in a capacitor is:</p>

<p>&nbsp;&nbsp;E = C * V<sup>2</sup> / 2</p>

<p>When C is in Farads, V in Volts, then E is in Joules.</p>

<p>&nbsp;&nbsp;150F * (2.7V)<sup>2</sup> / 2 = 547 J</p>

<p>The switching power supply will need some minimum voltage to work with.  Let's say it can operate down to 1 V.  That represents some energy left in the cap the circuit can't extract:</p>

<p>&nbsp;&nbsp;150F * (1.0V)<sup>2</sup> / 2 = 75 J</p>

<p>The total available to the switching power suppy is therefore 547 J - 75 J = 470 J.  Due to the low voltages, the losses in the switching power supply will be quite high.  Let's say that in the end only 1/2 the available energy gets delivered to the LED.  That leaves us with 236 J to light the LED.</p>

<p>Now we need to see how much power the LED needs.  Let's go back to your original white LED and pick some numbers.  Let's say it needs 3.5 V at 20 mA to shine nicely.  That's 3.5V * 20 mA = 70 mW.  (236 J)/(70 mW) = 3370 seconds, or 56 minutes.  At the end of that, the light would go dead rather quickly, but you will have fairly steady brightness up until then.</p>
","68228"
"How many GPS channels make sense?","28285","","<p>You need 4 channels to determine your position (including elevation), and I can understand that a few extra channels increase accuracy. However, there are maximum 12 satellites in view at any time, so why have receivers with more channels? I've seen receivers with 50 or even <a href=""http://www.sparkfun.com/products/8975"">66 channels</a>, that's more than the number of satellites up.<br>
I don't see any advantages in this explosion of number of channels, while I presume that it does increase the receiver's power consumption.<br>
So, why do I need 66 channels?</p>
","<p>The answer is complex due to the way the GPS system operates, so I'm going to simplify a number of things so you understand the principle, but if you are interested in how it's really implemented you'll need to go find a good GPS reference. <strong>In other words, what's written below is meant to give you an idea of how it works, but is technically wrong in some ways.  The below is not correct enough to implement your own GPS software.</strong></p>

<h2>Background</h2>

<p>All the satellites transmit on essentially the same frequency.  They are technically walking all over each others' signals.</p>

<p>So how does the GPS receiver deal with this?</p>

<p>First, each satellite transmits a different message every mS.  The message is 1024 bits long, and is generated by a pseudo random number generator.</p>

<p>The GPS receiver receives the entire spectrum of all the transmitters, then it performs a process called correlation - it generates the specific sequence of one of the satellites, multiplies it by the signal input, and if its signal matches a satellite's signal exactly then the correlator has found one satellite.  The mixing essentially pulls the satellite's signal out of the noise, and verified that 1) we have the right sequence and 2) we have the right timing.</p>

<p>However, if it hasn't found a match, it has to shift its signal by one bit and try again, until it's gone through all 1023 bit periods and hasn't found a satellite.  <em>Then</em> it moves on to trying to detect a different satellite at a different period.</p>

<p>Due to the time shifting (1023 bits, 1,000 transmissions per second), in theory it can completely search a code in one second to find (or determine there's nothing) at a particular code.</p>

<p>Due to the code shifting (there are currently 32 different PRN codes, one each for each satellite) it can therefore take 30+ seconds to search each satellite.</p>

<p>Further, doppler shift due to the speed of the satellite relative to your ground speed, means that the timebase could be shifted by as much as +/- 10kHz, therefore requiring searching about 40 different frequency shifts for a correlator before it can give up on a particular PRN and timing.</p>

<h2>What this means</h2>

<p>This leaves us with a possible worst case scenario (one satellite in the air, and we try everything but the exact match first) of a time to first fix off a cold start (ie, no information about the time or location of the receiver, or location of the satellites) of 32 seconds, assuming we don't make any assumptions, or perform any clever tricks, the received signal is good, etc.</p>

<p>However, if you have two correlators, you've just halved that time because you can search for two satellites at once.  Get 12 correlators on the job and it takes less than a few seconds.  Get a million correlators and in theory it can take a few milliseconds.</p>

<p><strong>Each correlator is called a ""channel"" for the sake of marketing.</strong>  It's not wholly wrong - in a sense, the correlator is demodulating one particular coded frequency at a time, which is essentially what a radio receiver does when you switch channels.</p>

<p>There are a lot of assumptions a GPS receiver can make, though, that simplify the problem space such that a generic 12 channel receiver can get a fix, in the worst case, in about 1-3 minutes.</p>

<p>While you can get a 3D fix with a 4 channel GPS, when you lose a GPS signal (goes beyond the horizon, or you go under a bridge, etc) then you lose 3D fix and go to 2D fix with three satellites while one of your channels goes back into correlation mode.</p>

<p>Now your receiver starts to downloaded the ephemeris and almanac, which allows the receiver to very intelligently search for signals.  After 12 minutes or so it knows exactly which satellites <em>should</em> be in view.</p>

<p>So the search goes pretty quickly because you know the position and code for each satellite, but you still only have a 2D fix until you actually find a new satellite.</p>

<p>If you have a 12 channel receiver, though, you can use 4 of the strongest channels to provide your fix, a few channels to lock onto backup satellites so it can switch the calculations to them if needed, and several channels to keep searching for satellites the receiver should be able to see.  In this way you never lose the full 3D fix.</p>

<h2>Since you can only see up to 12 satellites, why would you need more than 12 channels?</h2>

<p>There are 24 or so GPS satellites operating at any given time, which means that on one point on the earth you can really only see half of them.</p>

<p>But remember - you can only search for one satellite per correlator, so the primary reason to increase correlators past twelve is to improve the time to first fix, and the main reason to improve that is for power consumption.</p>

<p>If your GPS chipset has to be powered all the time, it's a 100mW power drain all the time.  If, however, you only need to turn it on once per second for only 10mS each time, then you just cut your power consumption down to 1mW.  This means your cell phone, location beacon, etc can operate for two orders of magnitude longer time on the same set of batteries while still maintaining a full real time fix on their location.</p>

<p>Further, with millions of correlators, one can do more exact searches which can help reduce the effects of radio reflections in urban canyons (tall buildings in big cities used to foul up GPS receivers with fewer correlators).</p>

<p>Lastly, while only 4 satellites are needed to get a 3D fix, good receivers use more satellites in its position algorithm to get a more accurate fix.  So only a 4 channel receiver is required, but a 12 channel receiver can get more accuracy.</p>

<h2>Conclusion</h2>

<p>So the millions of correlators:</p>

<ul>
<li>Speeds up satellite acquisition</li>
<li>Reduces power consumption</li>
<li>Reduces likelihood of losing a 3D fix even in urban canyons</li>
<li>Provide better sensitivity, allowing fixes in dense forests, and even in some tunnels</li>
<li>Provides better positioning accuracy</li>
</ul>

<p><sub><sup>Thanks to borzakk for <a href=""http://www.reddit.com/r/ECE/comments/gavf7/what_do_they_mean_by_gps_channels/c1m81y7"">some corrections</a>.</sup></sub></p>
","11900"
"What is IP and NK transformation (seen on earphones)?","28276","","<p>By the side of my earphones, there's a switch that flips between two initials, IP and NK.</p>

<p><a href=""https://www.quora.com/What-are-IP-and-NK-transformations-in-earphones"" rel=""noreferrer"">This Quora question</a> suggests that this is the IP / NK transformation, which somehow makes the earphone universal.</p>

<p>What exactly is this and what is it for?</p>

<p>NB: I bought the earphones from China, and the manual is of very little use.</p>
","<p>Ok. Here it is. <strong>IP stands for Iphone and NK stands for Nokia.</strong> Both companies connect different part of earphone to different conductor point (read below). Although, other companies also follow one of the two connecting methods, but Apple and Nokia was where it all started.</p>

<p>An earphone Jack looks like this (Parts are labelled)</p>

<p><a href=""https://i.stack.imgur.com/OBPrk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OBPrk.png"" alt=""enter image description here""></a></p>

<p>The tip, two rings and sleeve are called conductor points. The black rings are Insulation Rings that separate conductor points. An earphone consists of many parts ( a mic, two earpieces etc). All the parts are connected to a separate conductor point. The only difference is in ""which part is connected to which point"". There are two standards for this. The first, known as <strong>CTIA (Cellular Telephone Industries Association) or American Headset Jack (AHJ) standard</strong> which has the microphone connector point on the sleeve end (i.e. microphone wire is connected on sleeve end), with the signalling (or ground) connector on the second ring.Apple uses a similar connector arrangement. <strong>The second one is OMTP (Open Mobile Terminal Platform) standard.</strong> Nokia &amp; Lenovo Mobile initially adopted this standard. It has the signalling connector (ground) next to the sleeve, with the microphone connector on the second ring. See the image below:</p>

<p><a href=""https://i.stack.imgur.com/RR0uB.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RR0uB.jpg"" alt=""enter image description here""></a></p>

<p><strong>IP and NK switch is basically a switch between the two standards ie CTIA and OMTP thus making the earphones universal.</strong></p>

<p>PS: Apple uses CTIA standard but uses a non-standard microphone and control signalling method due to which many Headphones/earphones specifically designed for iPhones or other apple products are incompatible with other devices.</p>
","230263"
"Arduino: faster alternatives to digitalread() and digitalwrite()?","28261","","<p>What are the fastest alternatives to calling the Arduino functions <code>digitalread()</code> and <code>digitalwrite()</code>?  AVR-specific or chip-specific solutions are acceptable.</p>
","<p>Access the digital ports directly!</p>

<ul>
<li><a href=""http://www.billporter.info/ready-set-oscillate-the-fastest-way-to-change-arduino-pins/"">http://www.billporter.info/ready-set-oscillate-the-fastest-way-to-change-arduino-pins/</a></li>
</ul>
","22589"
"Ceramic capacitors: how to read 3-digit plus 1-letter markings?","28233","","<p>It seems that reading a ceramic capacitor value out of its written values is harder than decoding enigma machine.</p>

<p>I wonder if experienced users here does have a trick to quickly figure out these values. Some examples:</p>

<p>I know that 103M is 0.01µF but how does one figure this out?
Another example 104Z/LK ...this one I cant get it at all. All I know is that Z is for assymetric capacitors with tolerence between 80% and -20% ... Am I right? If not would be nice to correct me and tell me where these Z ceramic capacitors are used mostly?</p>
","<p>The numbers work like a resistor.</p>

<p>The first two numbers are just numbers.</p>

<p>The third number is the number of 0's after.  It's in picofarads.</p>

<p>So:</p>

<ul>
<li><strong>103</strong> is 1 0 000 or 10,000pf or 10nF</li>
<li><strong>104</strong> is 1 0 0000 or 100,000pf or 100nF</li>
</ul>

<p>The letter next is the tolerance:</p>

<pre><code>B   +/- 0.10pF
C   +/- 0.25pF
D   +/- 0.5pF
E   +/- 0.5%
F   +/- 1%
G   +/- 2%
H   +/- 3%
J   +/- 5%
K   +/- 10%
M   +/- 20%
N   +/- 30%
P   +100% ,-0%
Z   +80%, -20% 
</code></pre>

<p>Anything after that is usually manufacturer specific.</p>
","16637"
"Correct wiring for 3 wire single phase motor","28207","","<p>I have a single phase 3 wires ( + ground ) submersible pump , I need to understand the correct wiring what type of motor is this and is the capacitor important ?  the previous owner was not using this capacitor.</p>

<p>nameplate info :</p>

<blockquote>
  <p>MultiMotors System <br>
  Model : 4H07M22/A <br>
  Motor: 1~ <br>
  KW 0.75   Hz 50 V 220 A 5.7 cosφ 0.98 min 2825 <br>
  C30µF/450V ( I assume this is the value of the capacitor to use )<br>
  CI B IP 58</p>
</blockquote>

<p>and the diagram on the side of the pump is :</p>



<p><img src=""https://i.stack.imgur.com/iB1pu.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fiB1pu.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","<p>Generally for submercible pump the cap. is mounted outside in the control box (NOT IN THE WATER!), thats why probably that is missing..
the circuit diagram appears to be correct..generally electrolytic A.C.capacitors are used being smaller in size.buy one of the rating specified on the name plate and fix.
v t ingole</p>
","169236"
"How do I measure differential signals (like RS-485 or DMX) on an oscilloscope?","28077","","<p>I've encountered differential signals in a few places, such as a <a href=""https://electronics.stackexchange.com/q/51709/2028"">differential output audio amplifier</a> and now in a project working with DMX which is similar to RS-485. (Here's a similar <a href=""https://electronics.stackexchange.com/q/22451/2028"">question about RS-485</a>.)</p>

<p>Looking at a waveform from a DMX lighting controller for example, I connected the channel 1 probe to D+, channel 2 probe to D-, and both ground leads to ground.</p>

<p>It produces this display:</p>

<p><img src=""https://i.stack.imgur.com/5Rhzs.png"" alt=""Differential Signal Measurement""></p>

<p>While this is usable, I know it's still not the correct way to look at differential signals.</p>

<p>What is the correct way? I've heard of ""differential probes;"" does that mean I need to purchase new probes? </p>
","<p>The reason you can't measure differential signals quite as easily with an oscilloscope has to do with the fact that oscilloscopes are (generally) <em>not</em> floating. The ground lead on the probes are connected to the oscilloscope chassis, which in turn is earth grounded. Because of this, anything you connect the ground lead to will also be connected to earth ground. (As videos I link below demonstrate, this is dangerous if measuring high voltage!)</p>

<p>When you measure two random points with a multimeter, the meter <em>is</em> floating, so you're not connecting either point to actual earth ground, which lets you measure differences between points without concern that you're creating a short circuit.</p>

<p>In low voltage signal applications, tying one side of a differential signal to ground can cause problems and might damage a transceiver.</p>

<p>There are two ways to measure differential signals with an oscilloscope:</p>

<p>If you have a two-channel oscilloscope, connect one side of the signal to channel 1, and the complementary signal to channel 2. The ground leads stay unconnected.</p>

<p>Since you are interested in the <em>difference</em> between the signals, you want to <em>subtract</em> channel 2 from channel 1. Most scopes provide a way to add or subtract channel 1 and channel 2 inputs. On some scopes you might have to <em>add</em> channel 2, but <em>invert</em> it so that you are effectively subtracting it.</p>

<p>In this image, the scope has an A-B mode which subtracts channel 2 from 1:</p>

<p><img src=""https://i.stack.imgur.com/bZaPO.png"" alt=""Differential Measurement Subtracting Second Channel""></p>

<p>The other way is indeed using differential probes, and provides better results without reducing the number of usable channels on the oscilloscope. (And are usually designed for safer high-voltage measurements.) However these probes are expensive.</p>

<p>W2AEW does a superb job explaining these concepts in his <a href=""http://youtu.be/RDLWQFgJ1uU"" rel=""noreferrer"">video on differential measurements using oscilloscopes</a>. There's also a <a href=""http://youtu.be/VWodjUSkYVE"" rel=""noreferrer"">video by BTC Instrumentation</a> which shows the channel subtraction method in more detail.</p>
","76515"
"How do you remove insulation from headphone wires?","28059","","<p>How do you remove insulation from headphone wires (these tiny) to prepare it for soldering?</p>
","<p>Usually, you can remove laquer by melting solder onto the wires</p>
","7490"
"STM32 & ST-LINK - Cannot connect to MCU after successful programming","28004","","<p>I have built my own board with STM32F7-45VGT6. I have successfully programmed it with ST-LINK v2 (not the original one though) and now I cannot even connect with MCU.</p>

<p>I use ST-Link Utility from ST and SWD interface. It can be the case that I use SWD pins as output and in my code I set them as GPIO output. Can it be the case?</p>

<p>Nevertheless, I connect my reset pin to GND and set ""Connect under reset"" option in ST-Link Utility but it doesn't work... What can I do?</p>

<p>On the Internet, I have found something about using BOOT0 Pin, but I don't know exactly... </p>
","<p>I managed to solve that problem. If anybody encounters similar problem, here's what I've done:</p>

<p>I used ST-Link v2 and ST-Link Utility. In setting, I set ""Connect under reset"" and SWD interface (I'm not sure about frequency).
<br/>Then I press the reset button on my board and clicked ""Target"" -> ""Erase chip"" and just after clicking I released the button - It erased the chip so I can now reprogram my MCU.</p>

<p><br/></p>

<p>Anyway, if you need to use SWD pins as output, then add some delay at the beginning of the program or use some jumper to disable/enable setting these pins as outputs.</p>
","205513"
"How do step-up transformers work?","27984","","<p>I’m trying to figure out how a step-up transformer works. A step-down transformer is simple and logical enough; you start out with a higher voltage and end with less, the remainder being wasted as heat. But with a step-up transformer, you end up with <em>more</em> voltage than you start with.</p>

<p>I tried looking it up, but all I can find (whether online or even in some electronics texts) is general information on how transformers work (induction, Faraday’s law, construction, etc.) and explanations of the difference between step-ups and step-downs in terms of the number of turns, but not specifically how step-ups result in <em>more</em> voltage.</p>

<p>Where does that extra voltage come from? Not  magic…</p>
","<p>I think what you're missing is the current...</p>

<ul>
<li><p>Step down transformers change a high voltage/low current, to low voltage/high current.</p></li>
<li><p>Step up transformers change a low voltage/high current, to high voltage/low current.</p></li>
</ul>

<p>So, in an ideal 100% efficient transformer, the power doesn't change and no heat will be generated by the transformer, i.e. the power in = the power out, because Power = Volts x Amps.</p>
","11005"
"How can I learn electronics at home?","27949","","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/6283/learning-about-electronics"">Learning about electronics</a>  </p>
</blockquote>



<p>I am 40. I am an architect by profession. I am very interested in learning electronics. </p>

<p>I don't have time to go to college for an electronics degree. </p>

<p>What should I do to learn electronics at home?</p>

<p>Or is it possible at all?</p>

<p>What minimum instruments do I need to buy?</p>

<h2>EDIT:</h2>

<p><a href=""https://electronics.stackexchange.com/questions/6283/learning-about-electronics"">This question helped me a lot.</a></p>
","<p>I would suggest perusing YouTube for projects that might hold your interest (this is key). Once you find one you can begin researching it to determine how complex it might be, chose an initial one that might be completed in a few days. For now, I would suggest staying away from items that need programming (connections to a PC or a micro controller) because debugging software is a bit of a distraction.</p>

<p>Most of the YouTube posters are quite willing to discuss their creations so you can ask them if they think their projects would be suitable for a novice.  </p>

<p>For almost guaranteed success, you might want to purchase a kit that comes with all the components and instructions. What could missing from these is the critical experience of blowing something up (aka letting the magic smoke out) and then figuring out what exactly happened.</p>

<p>Useful things to buy at the onset:  a breadboard or two, a small power supply, solid core connecting wire, and some wire cutters.</p>

<p>I would also recommend this:  <a href=""http://rads.stackoverflow.com/amzn/click/0521370957"">http://www.amazon.com/Art-Electronics-Paul-Horowitz/dp/0521370957</a></p>
","28317"
"Can non-rechargeable batteries be used in place of rechargeable ones?","27912","","<p>I am aware that attempting to charge a non-rechargeable battery is a terrible idea, and I have no intention of doing so. But supposing that, in a pinch, I needed to use non-rechargeable batteries in a device that originally came with rechargeable ones, and I don't use the charging cable the device came with while the non-rechargeable batteries are in use, could there still be a problem? How long would it take to manifest? Would it damage the device or batteries? </p>

<p>Sorry if this is off-topic, I'm thinking my question is along similar lines to <a href=""https://electronics.stackexchange.com/questions/7772/can-i-break-batteries-by-putting-them-in-the-wrong-way"">this one</a>.</p>
","<p>RB = Rechargeable battery.<br>
 NRB = non rechargeable battery.<br>
 I'll limit the following to AA and AAA cells and then comment on others at the end.  </p>

<hr>

<ul>
<li><p>When standard cell types such as AA, AAA PP3 (9V ""transistor battery) and similar are used, the use of non-rechargeable batteries rather than rechargeable ones will almost never  damage equipment. Essentially never in normal situations. </p></li>
<li><p>Almost no equipment that employs AA/AAA cells is made specifically for RB rather than NRB and it is expected that consumers will plug in NRB on some occasions.</p></li>
<li><p>The range of RB of NimH or NiCd is about 0.9V - 1.3V and the range of NRB such as Alkaline cells is about 0.9V - 1.6V. </p></li>
<li><p>So, at the high end a NRB may make (1.6-1.3)/1.3 x 100% = ~= 23% more voltage. This could conceivably cause a problem if tightly designed but is exceedingly unlikely to in practice.</p></li>
<li><p>A RB may output in excess of 10A for short periods under very heavy load and a NRB probably under 1/2 that in most cases BUT RB systems do not rely on such currents as they are not consistently available and cannot be maintained for long or for a large % of battery capacity.</p></li>
</ul>

<p>""Standard"" AA and AAA cells are expected to produce the voltages mentioned above. There are nn standard cells available that may give MORE voltage from a NRB than usual. eg primary Lithium Thionyl Chloride, Mercury, Lithium ion all MAY be found in AAA, AA, C, D sizes but they are rare an specialised and users are usually trained in the difference. Some of these are rechargeable and some are not. </p>

<p>Even then - as the voltages of th standard NRBs are LOWER than the special batteries the system is liable to simply treat them as ""flat"".</p>

<p>SO while some interesting an unusual situation MAY produce damage when very special batteries are expected , this is unlikely to happen and may never happen. </p>

<hr>
","22404"
"Why is there such a strong preference for 45 degree angles in PCB routing?","27903","","<p>I've always wondered this: every single modern PCB is routed at 45 degree angle increments. Why does the industry prefer this so much? Doesn't any-angle routing offer more flexibility?</p>

<p>One plausible theory would be that the existing tools only support 45 degree increments and that there isn't much pressure to move away from this.</p>

<p>But having just researched this topic on google, I stumbled across <a href=""http://eda.eremex.com/products/topor/"" rel=""noreferrer"">TopoR - Topological Router</a> - which does away with the 45 degree increments, and according to their marketing materials it does a considerably better job than the 45-degree-limited competitors.</p>

<p>What gives? What would it take for you personally to start routing arbitrary angles? Is it all about support in your favourite software, or are there more fundamental reasons?</p>

<p>Example of non-45-degree routing:
<img src=""https://i.stack.imgur.com/y5y1Q.jpg"" alt=""alt text""></p>

<p>P.S. I also wondered the same about component placement, but it turns out that many pick &amp; place machines are designed such that they can't place at arbitrary angles - which seems fair enough.</p>
","<p>Fundamentally, it basically boils down to the fact that the software is way easier to design with only 45° angles.</p>

<p>Modern autorouters are getting better, but most of the PCB tools available have roots that go back to the DOS days, and therefore there is an enormous amount of legacy pressure to not completely redesign the PCB layout interface.</p>

<p>Furthermore, many modern EDA packages let you ""push"" <em>groups</em> of traces, with the autorouter stepping in to allow one trace to force other traces to move, even during manual routing. This is also much harder to implement when you aren't confined to rigid 45­° angles.</p>
","7918"
"STM32 Understanding GPIO Settings","27887","","<p>In STM32 Standard Peripheral library, we need to configure the GPIO.</p>

<p>But there are 3 functions which I not sure how to configure them;</p>

<ul>
<li>GPIO_InitStructure.GPIO_Speed</li>
<li>GPIO_InitStructure.GPIO_OType</li>
<li>GPIO_InitStructure.GPIO_PuPd</li>
</ul>

<p>In the <strong>GPIO_Speed</strong>, there are 4 settings to pick from</p>

<pre><code>GPIO_Speed_2MHz  /*!&lt; Low speed */
GPIO_Speed_25MHz /*!&lt; Medium speed */
GPIO_Speed_50MHz /*!&lt; Fast speed */
GPIO_Speed_100MHz
</code></pre>

<p>How do I know which speed do I choose from? Is there any advantage or disadvantages using high speed or low speed? (eg: power consumption?)</p>

<p>In the <strong>GPIO_OType</strong>, there are 2 settings to pick from</p>

<pre><code>GPIO_OType_PP // Push pull
GPIO_OType_OD // Open drain
</code></pre>

<p>How to know which to choose from? and what is open drain and push pull?</p>

<p>In the <strong>GPIO_PuPd</strong>, there are 3 settings to pick from</p>

<pre><code>GPIO_PuPd_NOPULL // No pull
GPIO_PuPd_UP     // Pull up
GPIO_PuPd_DOWN   // Pull down
</code></pre>

<p>I think this settings is related to initial setting of push pull.</p>
","<ul>
<li><p>GPIO_PuPd (Pull-up / Pull-down)</p>

<p>In digital circuits, is is important that signal lines are never allowed to ""float"".  That is, they need to always be in a high state or a low state.  When floating, the state is undetermined, and causes a few different types of problems.</p>

<p>The way to correct this is to add a resistor from the signal line either to Vcc or Gnd.  That way, if the line is not being actively driven high or low, the resistor will cause the potential to drift to a known level.</p>

<p>The ARM (and other microcontrollers) have built-in circuitry to do this.  That way, you don't need to add another part to your circuit.  If you choose ""GPIO_PuPd_UP"", for example, it is equivelent to adding a resistor between the signal line and Vcc.</p></li>
<li><p>GPIO_OType (Output Type):</p>

<p>Push-Pull: This is the output type that most people think of as ""standard"".  When the output goes low, it is actively ""pulled"" to ground.  Conversely, when the output is set to high, it is actively ""pushed"" toward Vcc.  Simplified, it looks like this:</p>

<p><img src=""https://i.stack.imgur.com/Hwge5.png"" alt=""pushpull"">  </p>

<p>An Open-Drain output, on the other hand, is only active in one direction.  It can pull the pin towards ground, but it cannot drive it high.  Imagine the previous image, but without the upper MOSFET.  When it is not pulling to ground, the MOSFET is simply non-conductive, which causes the output to float:</p>

<p><img src=""https://i.stack.imgur.com/I1HbF.png"" alt=""opendrain""></p>

<p>For this type of output, there needs to be a pull-up resistor added to the circuit, which will cause the line to go high when not driven low.  You can do this with an external part, or by setting the GPIO_PuPd value to GPIO_PuPd_UP.</p>

<p>The name comes from the fact that the MOSFET's drain isn't internally connected to anything.  This type of output is also called ""open-collector"" when using a BJT instead of a MOSFET.</p></li>
<li><p>GPIO_Speed</p>

<p>Basically, this controls the slew rate (the rise time and fall time) of the output signal.  The faster the slew rate, the more noise is radiated from the circuit.  It is good practice to keep the slew rate slow, and only increase it if you have a specific reason.</p></li>
</ul>
","156943"
"What are the differences between an AC and DC coil relay?","27869","","<p>If a DC coil was just a coil, it would saturate. If an AC coil was just a coil, the magnetic field would drop to zero at 120 Hz and the relay would chatter. Presumably the designs in some way prevent these problems. How? And does it prevent me from putting DC on an AC-rated coil?</p>
","<p>The DC coil relay has a resistance from the copper wire typically used. The current is limited by that resistance. </p>

<p>AC coil relays have inductance as well (the DC relays have inductance as well, of course, but it does not affect the 'on' current). They also typically have a <a href=""http://www.te.com/commerce/DocumentDelivery/DDEController?Action=srchrtrv&amp;DocNm=13C3250_AppNote&amp;DocType=CS&amp;DocLang=EN"" rel=""noreferrer"">shading ring</a> that acts as a shorted turn in order to cause a magnetic field 90° out of phase with that from the coil, so that the total magnitude of flux does not drop to zero at the zero crossings. </p>

<p><img src=""https://i.stack.imgur.com/pmVHQ.png"" alt=""enter image description here""></p>

<p>Edit: As Andy says, an AC relay will work on (greatly reduced) DC. Of course you can also make a DC relay work on AC by adding stuff to it (if you use a capacitor filter you might need only 18VAC (RMS) to operate a 24V relay, and 24VAC would cause it to overheat and fail early). </p>
","177464"
"Gate Capacitance and Miller Capacitance on the MOSFET","27748","","<p>How is the Gate capacitance and the Miller capacitance modeled for a MOSFET. What is the behavior for both when a Gate Voltage is applied?</p>
","<p>There is always capacitance between drain and gate which can be a real problem. A common MOSFET is the FQP30N06L (60V LOGIC N-Channel MOSFET). it has the following capacitance figures: -</p>

<ul>
<li>Input Capacitance 1040 pF (gate to source)</li>
<li>Output Capacitance 350 pF (drain to source)</li>
<li>Reverse Transfer Capacitance 65 pF (drain to gate)</li>
</ul>

<p>The Miller capacitance is the reverse transfer capacitance listed above and the input capacitance is the gate-source capacitance. Output capacitance is from drain to source.</p>

<p>For a MOSFET, the input capacitance is usually the largest of the three because to get decent throughput (change in drain current for a change in gate-source voltage), the gate insulation has to be very thin and this increases gate-source capacitance.</p>

<p>The Miller capacitance (reverse transfer capacitance) is usually the smallest but it can have a serious effect on performance. </p>

<p>Consider the MOSFET above switching a 10A load from a supply voltage of 50V. If you drive the gate to turn the device on the drain could be expected to fall from 50V to 0V within a few hundred nano seconds. Unfortunately the rapidly falling drain voltage (as the device turns on) removes gate charge via the miller capacitance and this can begin to turn off the device - it's called negative feedback and can result in less than ideal switching times (on and off).</p>

<p>The trick is to ensure that the gate is over-driven slightly to accommodate this. Look at the following picture taken from the FQP30N06L data sheet: -</p>

<p><img src=""https://i.stack.imgur.com/Oo10h.jpg"" alt=""enter image description here""></p>

<p>It shows what you can expect when the gate voltage is 5V and the drain current is 10A - you will get a volt drop across the device of about 0.35V (power dissipation of 3.5W). However, with the drain voltage dropping rapidly from 50V the charge removal from the gate <em>can</em> be such that a third of the gate voltage is temporarily ""lost"" in the switching process. This is mitigated by making sure the gate drive voltage is from a low source impedance but, if a third is lost, for a short time period it's like having the gate voltage at 3.5V and this dissipates more power in the switching process.</p>

<p>The same is true when turning off the MOSFET; the sudden rise in drain voltage injects charge into the gate and this has the effect of turning the MOSFET on slightly.</p>

<p>If you want better switching then look at the data sheet and over-drive the gate voltage to turn it on and if possible apply negative drive voltage to turn it off. In all cases use low impedance drivers. The data sheet for the FQP30N06L indicates that rise and fall time specs use a 25 ohm drive impedance.</p>

<p>It's also worth mentioning about how the various capacitances are affected by voltage. Look at this diagram: -</p>

<p><img src=""https://i.stack.imgur.com/WP3OV.jpg"" alt=""enter image description here""></p>

<p>For very small drain voltages the miller capacitance (Crss) is nearly 1nF - compare this when the device is turned off (say 50V on drain) - the capacitance has dropped to probably less than 50pF. See also how voltage affects the other two capacitances.</p>
","83730"
"Is a current-limiting resistor required for LEDs if the forward voltage and supply voltage are equal?","27738","","<p>For blue LEDs with a forward voltage of 3.3 V and supply voltage of 3.3 V, is a series resistor still needed to limit current?</p>

<p>Ohm's Law in this case says 0 &Omega;, but is this correct in practice?</p>

<p>Perhaps just a small value like 1 or 10 &Omega; just to be safe?</p>
","<p>No, it's not correct, if only because neither the LED nor the power supply are 3.3V. The power supply may be 3.28V, and the LED voltage 3.32V, and then the simple calculation for the series resistor doesn't hold anymore.  </p>

<p>The model of a LED is not just a constant voltage drop, but rather a constant voltage in series with a resistor, the internal resistance. Since I don't have the data for your LED let's look at this characteristic for another LED, the Kingbright <a href=""http://www.kingbright.com/manager/upload/pdf/KP-2012EC%28Ver1285904358.16%29"" rel=""noreferrer"">KP-2012EC</a> LED:  </p>

<p><img src=""https://i.stack.imgur.com/q53DQ.png"" alt=""LED characteristic"">  </p>

<p>For currents higher than 10mA the curve is straight, and the slope is the inverse of the internal resistance. At 20mA the forward voltage is 2V, at 10mA this is 1.95V. Then the internal resistance is  </p>

<blockquote>
  <p>\$R_{INT} = \dfrac{V_1 - V_2}{I_1 - I_2} = \dfrac{2V - 1.95V}{20mA - 10mA} = 5\Omega\$.</p>
</blockquote>

<p>The intrinsic voltage is  </p>

<blockquote>
  <p>\$V_{INT} = V_1 - I_1 \times R_{INT} = 2V - 20mA \times 5\Omega = 1.9V.\$</p>
</blockquote>

<p>Suppose we have a power supply of 2V, then the problem looks a bit like the original, where we had 3.3V for both supply and LED.
If we would connect the LED through a 0\$\Omega\$ resistor (both voltages are equal after all!) we get a LED current of 20mA. If the power supply voltage would change to 2.05V, just a 50mV rise, then the LED current would be  </p>

<blockquote>
  <p>\$ I_{LED} = \dfrac{2.05V - 1.9V}{5\Omega} = 30mA.\$</p>
</blockquote>

<p>So a small change in voltage will result in a large change in current. This shows in the steepness of the graph, and the low internal resistance. That's why you need an external resistance which is much higher, so that we have the current better under control. Of course, a voltage drop of 10mV over, say, 100\$\Omega\$ gives only 100\$\mu\$A, which will be hardly visible. Therefore also a higher voltage difference is required.  </p>

<blockquote>
  <p>You always need a <strong>sufficiently large voltage drop</strong> over the resistor to have a more or less constant LED current.</p>
</blockquote>
","17825"
"What are the differences between NAND and NOR flash?","27724","","<p>What are the differences and where would you use each?</p>
","<p>There is a lot of trade-off to it.</p>

<p>Wikipedia also:</p>

<blockquote>
  <p>Despite the additional transistors,
  the reduction in ground wires and bit
  lines allows a denser layout and
  greater storage capacity per chip. In
  addition, NAND flash is typically
  permitted to contain a certain number
  of faults (NOR flash, as is used for a
  BIOS  ROM, is expected to be
  fault-free). Manufacturers try to
  maximize the amount of usable storage
  by shrinking the size of the
  transistor below the size where they
  can be made reliably, to the size
  where further reductions would
  increase the number of faults faster
  than it would increase the total
  storage available.</p>
</blockquote>

<p>So, NOR flash can address easier, but is not even close to as dense.</p>

<p>If you take at a look at a <a href=""http://maltiel-consulting.com/NAND_vs_NOR_Flash_Memory_Technology_Overview_Read_Write_Erase_speed_for_SLC_MLC_semiconductor_consulting_expert.pdf"">pretty decent comparison PDF.</a></p>

<p>NOR has lower standyby power, is easy for code execution and has a high read speed.</p>

<p>NAND has much lower active power(writing bits is faster and lower cost), higher write speed(by a lot), much higher capacity, much much lower cost per bit and is very easy for file storage use. due to it's lower read speed when using it for code execution you really need to ghost it to ram.</p>

<p>To quote a small section with a great table above it...</p>

<blockquote>
  <p><a href=""http://maltiel-consulting.com/NAND_vs_NOR_Flash_Memory_Technology_Overview_Read_Write_Erase_speed_for_SLC_MLC_semiconductor_consulting_expert.pdf"">The characteristics of NAND Flash are:
  high density, medium read speed, high
  write speed, high erase speed, and an
  indirect or I/O like access. The
  characteristics of NOR Flash are lower
  density, high read speed, slow write
  speed, slow erase speed, and a random
  access interface.</a></p>
</blockquote>
","4761"
"How do I connect two identical batteries to increase the consumer lifetime?","27717","","<p>If I've got a device that uses a single battery, and with that single battery, the device lasts an hour, and I want the device to last for two hours, I'm assuming I can wire two batteries up and it should work. But how? Do I want to double the voltage (so serial) or double the current? (so parallel.)</p>

<p>Either way, if the device takes two batteries normally, and I want to double the running time, I do a combo of 2 parallel series of 2 serial batteries, right? But if I want to triple the run time, is that 3p2s or 2p3s?</p>

<p>Thanks.</p>
","<p>When you connect two batteries in parallel, you are effectively halving your discharge rate while doubling your capacity -- effectively, doubling battery life, as you are intending to do.</p>

<p>Serial connection does not increase life, but rather, increases operating voltage, which some devices need. If your device has two serial batteries, then you need to connect another two serial batteries in parallel.</p>

<p>If they are not going to be recharged in the configuration you are putting them in, then you should be able to connect them in parallel. They will end up using a small amount of power by charging each other a small amount, but you will probably see more than a doubling of battery life.</p>

<p>If you are pulling a lot of power from a battery, you will find that its battery capacity decreases and causes excess current draw to decrease life and decreased capacity to decrease life. <a href=""http://www.batteryuniversity.com/"" rel=""nofollow"">There are some excellent explanations about batteries online.</a> The link I gave is more lithium focused, but the general knowledge applies to most batteries. <a href=""http://www.batteryuniversity.com/partone-16.htm"" rel=""nofollow"">This link</a> is specifically about discharge rates and their effect on battery life.</p>

<p>Hope this helps. If you comment on anything that is not clear, I will edit and expand on it.</p>
","2676"
"How to find the ESR of a capacitor","27700","","<p>I am building a power supply circuit, and the switching regulator (<a href=""http://www.st.com/resource/en/datasheet/l4963.pdf"" rel=""nofollow noreferrer"">L4963</a>) calls for a low-<a href=""https://en.wikipedia.org/wiki/Equivalent_series_resistance"" rel=""nofollow noreferrer"">ESR</a> output capacitor. The capacitor in question is C3 of the evaluation board circuit.</p>

<p><a href=""https://i.stack.imgur.com/rh43I.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rh43I.png"" alt=""Figure 26 from the STMicro L4963 datasheet""></a></p>

<p>What does ""low"" mean? How low?</p>

<p>Also, how do I find or calculate the ESR for <a href=""http://nichicon-us.com/english/products/pdf/e-vr.pdf"" rel=""nofollow noreferrer"">a capacitor</a> whose datasheet does not have a parameter called ESR?</p>
","<p>If a datasheet just says 'low ESR' without specifying a value, you are usually fine with any style of capacitor with a relatively low ESR. All this really means that you should avoid cheap unrated aluminum electrolytic capacitors, since their ESR is terribly high and can be several ohms.</p>

<p>In this case it wants a 'low-ESR' capacitor for the 1000&nbsp;µF output capacitor. I don't think I've ever seen a ceramic 1000&nbsp;µF capacitor and a 1000&nbsp;µF tantalum capacitorwould probably cost US$50, so you are going to have to track down a low-ESR aluminum capacitor for this application. The output ripple will decrease linearly with the ESR of the capacitor, so lower is better up to whatever price you want to pay.</p>

<p>As an aside, that is a ridiculously high required output capacitance for a switching regulator in that voltage range. You may want to take a look around for a regulator that meets your needs, but is stable without such a requirement. Don't get me wrong, usually the more capacitance the better, but 1000&nbsp;µf is really high for a 1.5&nbsp;A power supply.</p>
","3545"
"How to measure component distances in EAGLE PCB","27671","","<p>How do I easily measure how far apart two objects are in EAGLE 5.11.0 Light? Is the easiest way to record the coordinates and subtract?</p>
","<p>Use the <code>mark</code> command or the Mark button:</p>

<p><img src=""https://i.stack.imgur.com/fUixu.png"" alt=""screenshot of mark button with freehanded red circle!!!1!""></p>

<p>Then click the location you want to measure from.  Unfortunately, the mark command doesn't accept coordinates; you have to click the location manually (and therefore, it must be on the current grid).</p>

<p>This will set a reference point, you'll see that a new box appears between the standard coordinates and the command line:</p>

<p><img src=""https://i.stack.imgur.com/T0fiE.png"" alt=""screenshot of coordinates, no freehanded red circles - sorry.""></p>

<p>The first set of parentheses in this new area contains the rectangular offset from the mark to your current cursor location, as indicated by the R. In this example, I'm 0.1"" to the right and 0.7"" above the mark.  The second set of parentheses is the offset in polar coordinates - I'm 0.71"" away at an 81.87<sup>o</sup> angle above the positive X axis.</p>

<p>This tool is available in both the schematic/symbol/component capture view and the layout/footprint editor. </p>

<hr>

<p>For some repetitive tasks, it's much easier to set your grid to the distance which you want to space things out by and then move that group into place later.  The [alt] key is your friend.  This isn't a generic answer to your question, but it should be considered if you're doing a lot of measurement.</p>
","11865"
"What is the typical max voltage out of a PC speaker Jack?","27666","","<p>I'm trying to use CD4051BCN chip to channel some speaker outputs from a computer. these chips handle analog voltages from +/-5V. 
What is the audio line max/min Voltage coming out of the desktop PC? I just need the audio line this is without any amplification.</p>

<p>Would it be better to use a series of relays with higher voltage/current ratings?</p>
","<p>I just measured the voltage from my smartphone headphone jack, which should be similar to what you'd get from a PC headphone jack.  I got +/- 1.5v (3.0 volts peak to peak).  This was not under controlled conditions with a known audio source.  I would guess that the output could peak at higher than +/- 3v (6v peak to peak).</p>
","37934"
"SPI Bus Termination Considerations","27648","","<p>So, in my <a href=""https://electronics.stackexchange.com/questions/33125/short-distance-board-to-board-communication"">previous question</a> I asked about using the SPI bus over short distance for board to board communication. I was recommended to try termination resistors. I placed a resistor close to the destination (but not exactly there, there was a distance of 1 cm) and grounded it [as this was a board without termination resistor footprints, I had to improvise. I couldn't solder the resistor onto the device as it's a TQFP and has delicate pins.]</p>

<p>From some basic testing, I found that a 1K resistor barely reduced the overshoot. 470 Ohms and 180 Ohms worked better. The lower I went, the better it worked. With 180 Ohms, the overshoot was about a volt or a little lower. Now, unfortunately, I can't go down much more than that because the current is more than my MCU can handle. I did fix the problem, on the current revision of the board, by using a 330 Ohm resistance in series. This brought the overshoot to 3.7 V and the rise time was 10 or 11 ns. But I would really like a 'proper' solution on the next revision. My frequency requirements stay the same: 2 MHz but would prefer 4 MHz.</p>

<p>So I felt I should ask here: on the next revision of the board, should I place beefy buffers on the lines? Finding a buffer isn't really a problem but the current draw will increase significantly - I have 8 devices on the SPI which need termination and 3 lines that are always active go to each. An example, SCK goes to all 8 devices. Each device will have, say, a 100 Ohm termination resistor. So that is a current draw of 12 * 3.3/100 = 390 mA!</p>

<p>So what is the best recourse here? Should I go for 'active termination' by using Schottky diodes as clamps?</p>

<p>EDIT: Regarding line impedance: As I mentioned previously, the intention is to connect 4 external board. The pad to pad distance is the same for all (12 inches). However, there are also devices on the same board as the MCU - but these don't need terminations - the lengths are about an inch (or less) and there is very little overshoot (300 or mV). The traces that go to external boards are rough the same length and width. The 2nd layer on my board is an unbroken ground plane.</p>
","<p>Talking about signal termination is like opening a can of worms.  This is a HUGE subject that is difficult to summarize in just a couple hundred words.  Therefore, I won't.  I am going to leave a huge amount of stuff out of this answer.  But I will also give you a big warning:  There is much misinformation about terminating resistors on the net.  In fact, I would say that most of what's found on the net is wrong or misleading.  Some day I'll write up something big and post it to my blog, but not today.</p>

<p>The first thing to note is that the resistor value to use for your termination must be related to your trace impedance.  Most of the time the resistor value is the same as your trace impedance.  If you don't know what the trace impedance is then you should figure it out.  There are many <a href=""http://emclab.mst.edu/pcbtlc2/"">online impedance calculators</a> available.  A Google search will bring up dozens more.  </p>

<p>Most PCB traces have an impedance from 40 to 120 ohms, which is why you found that a 1k termination resistor did almost nothing and a 100-ish ohm resistor was much better.  </p>

<p>There are many types of termination, but we can roughly put them into two categories:  Source and End termination.  Source termination is at the driver, end termination is at the far end.  Within each category, there are many types of termination.  Each type is best for different uses, with no one type good for everything.</p>

<p>Your termination, a single resistor to ground at the far end, is actually not a very good.  In fact, it's wrong.  People do it, but it isn't ideal.  Ideally that resistor would go to a different power rail at half of your power rail.  So if the I/O voltage is 3.3v then that resistor will not go to GND, but another power rail at half of 3.3v (a.k.a. 1.65v).  The voltage regulator for this rail has to be special because it needs to source <em>AND</em> sink current, where most regulators only source current.  Regulators that work for this use will mention something about termination in the first page of the datasheet.</p>

<p>The big problem with most end-termination is that they consume lots of current.  There is a reason for this, but I won't go into it.  For low-current use we must look at source termination.  The easiest and most common form of source termination is a simple series resistor at the output of the driver.  The value of this resistor is the same as the trace impedance.</p>

<p>Source termination works differently than end termination, but the net effect is the same.  It works by controlling signal reflections, not preventing the reflections in the first place.  Because of this, it only works if a driver output is feeding a single load.  If there are multiple loads then something else should be done (like using end termination or multiple source termination resistors).  <strong>The huge benefit of source termination is that it does not load down your driver like end termination does.</strong></p>

<p>I said before that your series resistor for source termination must be located at the driver, and it must have the same value as your trace impedance.  That was an oversimplification.  There is one important detail to know about this.  Most drivers have some resistance on it's output.  That resistance is usually in the 10-30 ohm range.  The sum of the output resistance and your resistor must equal your trace impedance.  Let's say that your trace is 50 ohms, and your driver has 20 ohms.  In this case your resistor would be 30 ohms since 30+20=50.  If the datasheets do not say what the output impedance/resistance of the driver is then you can assume it to be 20 ohms-- then look at the signals on the PCB and see if it needs to be adjusted.</p>

<p>Another important thing:  when you look at these signals on an o-scope you MUST probe at the receiver.  Probing anywhere else will likely give you a distorted waveform and trick you into thinking that things are worse than they really are.  Also, make sure that your ground clip is as short as possible.</p>

<p>Conclusion:  Switch to source termination with a 33 to 50 ohm resistor and you should be fine.  The usual caveats apply.</p>
","33380"
"Pull-up and Pull-down Resistor Usage on Input or Output MCU Pins","27633","","<p>Are pull-up/down resistors (whether internal or external) only needed for MCU INPUT pins? In contrast, an MCU pin configured as an OUTPUT ""knows what level it's at"" because it does the driving - a ""floating"" MCU OUTPUT pin tied to some input of another circuit doesn't make sense, because the state of the MCU pin can only be high or low... do I have this right? Now, upon MCU bootup or failure, it may be beneficial to have a pull-up/down tied to this ""MCU output to IC input"" line to ensure that the input to some IC is never floating.</p>

<p>Maybe I just answered my own question here... pull-up/down resistors can be used on both input and output pins, depending on application?</p>
","<p>Pull-up and Pull-downs are normally used to ensure a line has a defined state while not actively driven. They are used on inputs to prevent floating lines, rapidly switching between high and low and a middle ""undefined"" region. Outputs normally do not need them.</p>

<p>But most mcu pins are GPIO, and sometimes on startup are defined as inputs instead of outputs. As you said, sometimes you don't want an IC pin input floating on startup, especially like a reset pin that you would normally drive with your microcontroller's GPIO.</p>

<p>This is when you use a <strong>Weak</strong> Pull-up or Pull-down on the line. Because they are weak, and you choose the default state, they provide no interference with your circuit (If the input is supposed to be low at all times, then pulled high, you choose a weak pull-down, and vis versa), but they do consume a bit of current. This is why you choose a resistor weak (Higher the value, the weaker) enough for the job.</p>

<p>Another normal output setup that uses pull-ups (or pull-downs, rarer) is <strong>Open Drain</strong> or <strong>Open Collector</strong> connections. These only drive a connection low, or release the line, leaving it floating. The pull-ups are used to bring the line to a high logic state.</p>
","58545"
"How is saltwater able to conduct electric charge between two wires?","27576","","<p>Say I put some wires in a container filled with saltwater, but the wires do not touch, and I connect these wires to a battery:</p>



<p><img src=""https://i.stack.imgur.com/ZHUud.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fZHUud.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>I know that the saltwater will complete the circuit, and some current will flow. But how can this happen? Do the electrons fly off one wire and jump through the saltwater to the other wire? Aren't the electrons stuck in the wire? Why would they be able to do this when there is saltwater between the wires, but not when there is air between the wires? If the electrons can't leave one wire, travel through the saltwater, and get to the other wire (can they?), then how is there a complete circuit?</p>
","<p>The salt (NaCL) water solution is an <a href=""http://en.wikipedia.org/wiki/Electrolyte"" rel=""nofollow noreferrer"">electrolyte</a> solution which is, essentially, a conductive solution.</p>

<p>The conductivity of the salt water is due to the presence of both positively and negatively charged <a href=""http://en.wikipedia.org/wiki/Ion"" rel=""nofollow noreferrer"">ions</a>.  These ions in solution are free to accelerate in the presence of an electric field and thus, like the free electrons in a metal conductor, are able to participate in an <a href=""http://en.wikipedia.org/wiki/Electric_current"" rel=""nofollow noreferrer""><em>electric</em> current</a> (not to be confused with an <em>electron</em> current).</p>

<p>When there is an electric current through the salt water, there are actually two contributions:  (1) the positive sodium ions drifting in the direction of the electric current and (2) the negative chlorine ions drifting the opposite direction.</p>

<p>While it may seem that the oppositely directed ion currents should cancel they, in fact, <em>add</em>.  The flow of negative ions contributes to an electric current in the opposite direction <em>due to the negative sign of their charge</em>.</p>

<p>At the interface between the metal conductor and salt water, there are reactions that either remove electrons or add electrons to the conductors thus completing the path for charge to flow around the circuit.</p>

<p>From the online GenChem Textbook section on <a href=""http://chemed.chem.wisc.edu/chempaths/GenChem-Textbook/Electrolysis-696.html"" rel=""nofollow noreferrer"">Electrolysis</a>:</p>

<p><img src=""https://i.stack.imgur.com/Nrjvt.jpg"" alt=""enter image description here""></p>

<blockquote>
  <p>Figure 1 An electrolytic cell. The battery pumps electrons away from
  the anode (making it positive) and into the cathode (making it
  negative). The positive anode attracts anions toward it, while the
  negative cathode attracts cations toward it. Electrical current is
  carried by electrons in the wire and electrodes, but it is carried by
  anions and cations moving in opposite directions in the cell itself.
  Since the anode can accept electrons, oxidation occurs at that
  electrode. The cathode is an electron donor and can cause reduction to
  occur.</p>
</blockquote>

<p>It is important to note that <em>electric</em> current is simply defined as the flow of <em>electric charge</em> and this definition does not depend on the species of <em><a href=""http://en.wikipedia.org/wiki/Charge_carrier"" rel=""nofollow noreferrer"">charge carrier</a></em>.</p>

<p>There is, in fact, just <em>one</em> electric current in the circuit while there are <em>three</em> (or more) different species of charge carriers along the circuit's path:  (1) electrons in the metal conductors, (2) positive sodium ions in the salt water, (3) negative chlorine ions in the salt water, and (4+) if the voltage source is a battery, ions in the battery's electrolyte.</p>
","75263"
"Battery Ampere-hour rating vs Battery Amps (not an experienced user)","27543","","<p>I have almost no experience whatsoever with the technicals of electronics so this is probably a very easy question for someone who does.</p>

<p>Do you know if a battery with a 200Ah rating can put out 200A for one hour or are there limitations? According to this website's third paragraph (<a href=""http://www.allaboutcircuits.com/vol_1/chpt_11/3.html"" rel=""nofollow noreferrer"">Battery Ratings - Chapter 11 - Batteries And Power Systems</a>), you can.</p>

<blockquote>
  <p>For example, an average automotive battery might have a capacity of about 70 amp-hours, specified at a current of 3.5 amps. This means that the amount of time this battery could continuously supply a current of 3.5 amps to a load would be 20 hours (70 amp-hours / 3.5 amps). But let’s suppose that a lower-resistance load were connected to that battery, drawing 70 amps continuously. Our amp-hour equation tells us that the battery should hold out for exactly 1 hour (70 amp-hours / 70 amps), but this might not be true in real life. With higher currents, the battery will dissipate more heat across its internal resistance, which has the effect of altering the chemical reactions taking place within. Chances are, the battery would fully discharge some time before the calculated time of 1 hour under this greater load.</p>
</blockquote>

<p>But wouldn't that mean you could hook up a 200Ah battery and ask it to put out 12000A for one minute or 720000A for a second?  That seems very unrealistic, lol.  I'm trying to find the proper kind of off grid battery that can power a microwave through a 3000 watt power inverter.  The microwave needs 1800 watts and the battery needs to be 12 volts so that would mean I need about 150 amps, I'm wondering if a battery with a 200Ah rating could do it?</p>
","<p>Your hunch that batteries have a current limitation is correct.  In general, it's hard to tell the current rating [A] from capacity [A&middot;h].  You have to look it up in the datasheet.  A lot depends on the design of the battery.  </p>

<p>For example: coin cells with 500mAh capacity may have only 3mA max current.<br>
Another (opposite) example: automotive starter battery with 40Ah capacity may have 500A max current.</p>

<p>Lead-acid batteries are interesting in this respect, because there are two distinct types.</p>

<ol>
<li><em>Starter</em> lead-acid batteries are designed specifically to deliver high peak current for a short period of time.  Deep discharge, however, dramatically shortens the life of a starter battery.  So, it's not suited for routine operation at high depths of discharge.  Your typical starter battery in the automobile works at very shallow depth of discharge.</li>
<li><em>Deep cycle</em> lead-acid batteries are designed (as name suggests) to discharge further.  But they can not provide as much instantaneous current.<br>
Here's an example <a href=""http://www.mouser.com/ds/2/331/PS-121100_11_Feb_21-3993.pdf"" rel=""noreferrer"">datasheet</a> for a deep cycle battery. Have a look at the nominal capacity on p.1.  Notice that capacity depends on discharge current (i.e. the rate of discharge).</li>
</ol>

<p>-</p>

<pre><code>Depth of Discharge    Starter Battery    Deep-cycle Battery

100%                  12–15 cycles       150–200 cycles

50%                   100–120 cycles     400–500 cycles

30%                   130–150 cycles     1,000 and more cycles
</code></pre>

<p>(<a href=""http://batteryuniversity.com/learn/article/lead_based_batteries"" rel=""noreferrer"">Source.</a>)</p>

<p><em>p.s.</em>  If you want to read-up, here's an excellent web site on batteries - <a href=""http://batteryuniversity.com"" rel=""noreferrer"">Battery University</a>.</p>
","122734"
"Why would clipping a wire cause a bomb to explode?","27543","","<p>There are a lot of movies and video games that depict defusing bombs, most of which boils down to picking the right color wire.   Something like this:
<img src=""https://i.stack.imgur.com/K9jSi.jpg"" alt=""enter image description here""></p>

<p>Now, that's a part I don't understand.</p>



<p><img src=""https://i.stack.imgur.com/8JjTU.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f8JjTU.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>I'm not  very familiar with circuitry and electrical engineering, but I assume this would be the place to ask it.  I'm confused as to how clipping a wire would cause a bomb to explode.  I assumed that if you clipped a wire, there'd be no connection from the switch to the bomb, so it wouldn't explode, but apparently, in a lot of movies as well, clipping the wrong wire leads to dangerous things.</p>



<p><img src=""https://i.stack.imgur.com/FELha.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fFELha.png"">simulate this circuit</a></sup></p>

<p>Is this a realistic scenario? I really don't understand why clipping a wire would cause a bomb to explode. Rather, shouldn't it ""defuse"" the bomb?</p>
","<p>There are plenty of ways of having an active open circuit. Below is just one simple example, using a single PNP transistor.</p>



<p><img src=""https://i.stack.imgur.com/NOwXD.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fNOwXD.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>The Blue wire carries the power to the Primer/Explosive/Bomb. Current through the PNP is blocked by holding the base high through a resistor and the Red wire. Cut the Red wire and the PNP transistor's base is pulled low, allowing current through and <strong>GAME OVER MAN, you're dead</strong>. Cut the Blue wire, you are safe.\</p>

<p>Now multiply that by multiple wires, multiple transistors, or relays, or multiple paths, microcontrollers, False wires, etc, and that's how you get a realistic hollywood scene, logically speaking.</p>
","129657"
"Sizing a trace on a PCB to carry 2.5 amps","27527","","<p>I need a trace on my PCB to carry up to 2.5 amps (average) current, with 5-6 amp spikes (it's going to a switch mode power supply.) How wide should the traces be? I've got a trade off between reliability and size, as the product is space constrained. Any tips would be appreciated. </p>
","<p>After doing a quick google of ""PCB Current Calculator"", I found a <a href=""http://www.smps.us/pcb-calculator.html"" rel=""nofollow"">PCB Current Calculator</a> based on IPC-2152. It bases the width of the track on how much of a temperature rise the trace is allowed to have. It's nice in that it shows how much power you waste through your trace. I would design for your worst-case RMS current, since it's going to be a periodic signal.</p>

<p>If you use 2 oz/ft<sup>2</sup> copper instead of the standard 1 oz/ft<sup>2</sup> copper, you won't need as wide of a trace to achieve the same resistance. For example, allowing for a <strong>10 <sup>o</sup>C rise</strong>, you can get away with these numbers at <strong>3 A</strong> with no copper plane nearby:</p>

<ul>
<li>177 mil (4.50 mm) on <sup>1</sup>/<sub>2</sub> oz/ft<sup>2</sup> copper</li>
<li><strong>89 mil (2.26 mm) on 1 oz/ft<sup>2</sup> (35µm) copper</strong></li>
<li>47 mil (1.19 mm) on 2 oz/ft<sup>2</sup> (70µm) copper</li>
</ul>

<hr>

<p>Note: IPC-2221 (The standard used in the original answer) uses old measured values for its design charts, and these charts are implemented in many calculators. As best as I can tell, this data was claimed to be 50 years old, which makes IPC-ML-910 (1968) a possible source. As @AlcubierreDrive pointed out, a new standard, IPC-2152, contains new measured data, and presumably is more accurate. More importantly, a comparison of IPC-2221 values gives the following result for trace widths: IPC-2221 (internal) > IPC-2152 > IPC-2221 (external). Actual numbers for the example above (1oz copper) are</p>

<pre><code>IPC-2152:             89 mil 
IPC-2221 (internal): 143 mil (+60%)
IPC-2221 (external):  55 mil (-38%)
</code></pre>

<p>Also note that the original numbers in this answer were based on the IPC-2221 <em>internal</em> calculations, which will provide a conservative estimate for all values.</p>
","8420"
"134.2 kHz RFID reader for Arduino","27510","","<p>I am looking for an Arduino-compatible RFID reader supporting <a href=""http://en.wikipedia.org/wiki/ISO_11784_&amp;_11785"">ISO 11784 &amp; 11785</a>, in order to read tags used for animals (mostly cats and dogs) identification.</p>

<p>I found both <a href=""http://iteadstudio.com/store/index.php?main_page=product_info&amp;cPath=16&amp;products_id=128"">RMD660</a> and and <a href=""http://iteadstudio.com/store/index.php?main_page=product_info&amp;cPath=16&amp;products_id=220"">Sniffer Nano v2.0</a> from <a href=""http://iteadstudio.com/"">ITead Studio</a>, but they are out of stock. Is there any alternative?</p>

<p>The final goal is to build an intelligent cat door, that does not require adding a new RFID tag to my cat (he already had one implanted, and doesn't wear a collar).</p>
","<p>I got a reader dirt cheap from Priority1 Design.  There based in Australia but with shipping it only cost $61 ($43 for the reader + shipping).  The electronics are exposed so I needed to make a custom case for it but it works great.  They have readers for both 125 KHz and 134 KHz but both seem to read the 134 KHz chips fine.  I get my RFID tags from Oregon RFID.  Links below.  </p>

<p><a href=""http://www.priority1design.com.au"" rel=""nofollow"">http://www.priority1design.com.au</a></p>

<p><a href=""http://www.oregonrfid.biz"" rel=""nofollow"">http://www.oregonrfid.biz</a></p>
","42691"
"What is the difference between 3 axis and 6 axis gyros?","27400","","<p>Is there any real difference between those two modules? If so what is that?</p>
","<p>There is no ""6 axis gyroscope""...</p>

<p>If you read ""gyro: 6 axis"" somewhere, this is possibly because of a limited knowlege of the person filling in the fields or a limit of the fields given (e.g. there is a description field for ""gyro"" but none for ""accelerometer"").</p>

<p>It will actually mean 3D gyro (3 axis) + 3D accelerometer (in 99% of the cases, could be a 3D-compass too).</p>

<p>There are only 3 possible axes for a gyro. So having 6 measurement values, would mean: measuring (at least indirectly) all the axis twice.
This could make sense, if you want to avoid failure of the whole device if one gyro is defective. Also: achieving more accurate measurements. But note that most measurement noise is due to spikes/noise of the power supply. So you would have to have 2 independent power supplies to have really independet measurements (therefore achieving a 3dB improvement of the measurement noise  [=half the noise]).</p>
","38415"
"Connecting a potentiometer","27356","","<p>I know how to connect potentiometer, but to be honest I don't know why. I would really like to understand what I'm doing.</p>

<p>From what I have read the input voltage and the ground should be connected extreme terminals and the output to the middle one.</p>

<p>Now few questions:<br>
1) What would happen if ground was switched with the output?<br>
2) Why do we need all three terminals? Can't I just use two of them?</p>

<p>Edit 2014-07-11 9:47  </p>

<p>So basically potentiometer is something like this.
Few thoughts about potentiometer:<br>
1) The total resistance of R1 and R2 is constant but we can split it as we want.<br>
2) If we use just extreme terminals then it would behave like normal resistor.<br>
3) It doesn't matter whether ground in connected to middle or extreme terminal.</p>

<p>Please correct me if I misunderstood the concept.</p>



<p><img src=""https://i.stack.imgur.com/IkSJL.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fIkSJL.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Edit 2014-07-11 10:49<br>
Basically what I'm asking in question one and thought 3 is whether following circuit is correct if I want to measure voltage in analog input?
<img src=""https://i.stack.imgur.com/ireRo.png"" alt=""enter image description here""></p>
","<p>A potentiometer is just a variable resistor:</p>

<p><img src=""https://i.stack.imgur.com/iiTjO.gif"" alt=""poti""></p>

<p>-> The longer the ""trace"" from W to either A or B, the higher the resistance.</p>

<blockquote>
  <p>1) What would happen if ground was switched with the output?<br>
  2) Why do we need all three terminals? Can't I just use two of them?</p>
</blockquote>

<p>In general nothing, a resistor has no polarity. However, it depends on how you intend to use it (connecting only two or all three terminals to essentially have two dependent resistors)</p>
","120731"
"Will doubling thinner wire in lieu of thicker wire work?","27347","","<p>I've been needing a jumper cable for a while and have plenty of 10 AWG copper wire lying around. From what I've read, 6 AWG wire is recommended for jumper cables. I want to make a 7 foot cable. </p>

<p>So, I was wondering if it would be possible to use three (or more if needed) 7-foot pieces of 10 AWG wire, and use them instead of one 7-foot piece of 6 AWG wire? Would the 10 AWG x 3 cable be able to handle as many amperes as a single 6 AWG wire can?</p>
","<p>Yes, keeping in mind that the rule is that an increment of 3 in AWG numbers represents a halving of the cross-sectional area of a wire. The current capacity is directly related to that area.</p>

<p>This means that to create the equivalent of a wire of AWG(N), you need two strands of AWG(N+3), or three strands of AWG(N+5). Three strands of AWG(N+4) gives you some extra safety margin.</p>
","110905"
"Why does an LED have a maximum voltage?","27338","","<p>When powering a simple LED circuit (DC power source, LED, resistor), does the supply voltage matter, as long as the correctly calculated current limiting resistor value is used?</p>

<p>In other words, is there / could there be something inherently wrong by powering an LED with 12V or 24V as long as I used the correct resistor, knew the forward voltage of the LED, knew the maximum current, and calculated it using something <a href=""http://ledcalc.com"" rel=""noreferrer"">like this</a>, when I could have powered the same LED with a 3.5V supply knowing the same variables and using the same website?</p>

<p>I'm assuming there is a limit to the maximum amount of voltage to use for the LED here... when I look at the electrical characteristics chart for the CREE XP-G for example, it shows current as a function of voltage, with voltage starting at around 2.5V @ 0ma, maxing out at around 3.25V @ 1500ma (the maximum current the LED is rated at, as described in the Characteristics table in the same document.</p>

<p>After 3.25V, the chart depicts current quite rapidly approaching infinity.</p>

<p>I'm assuming this relates to my question, I'm just curious how its all related. I'm sure its all basic Ohm's law stuff, I'd just appreciate a clarification of the math at work.</p>
","<p>There is no limit on the voltage, per se, that you use to power the circuit that drives the diode.  The diode only cares about what the diode can see, and it can't see the voltage drop across the current limiting resistor.</p>

<p>That said, at some point what you're going to care about is the power dissipated across the resistor, which is \$ I^2R \$.  If you want to keep the current to be constant in the case of growing required voltage drop, then R will eventually get big, and it will dissipate too much power.  The power that run of the mill axial lead resistors can dissipate is 1/4 watt. For a 20mA current, that means to limit power across the resistor to 1/4 watt, you can't exceed 625 ohm, which means you can maximally drop 12.5 volts across it, and you're ceilinged out at a power supply of about 14.5V for a red LED.  It's worse for small package SMD resistors, which are often 1/8 Watt or less.  If you need more of a voltage drop, you would have to change to a higher power rated resistor, which can get physically big, as well as more expensive.</p>

<p>As to why the actual voltage across the LED doesn't change too dramatically given proper choice of current limiting resistor, one convenient way to look at this is with the ""load line"" technique.  From <a href=""https://i.stack.imgur.com/1cUKU.png"" rel=""noreferrer"">http://i.stack.imgur.com/1cUKU.png</a>, (Public domain image from Wikimedia): </p>

<p><img src=""https://i.stack.imgur.com/1cUKU.png"" alt=""enter image description here""></p>

<p>The negative sloped line represents the resistor.  If \$ V_D = 0 \$ there would be \$V_{DD}/R \$ of current through the resistor, and if  \$ V_D = V_{DD} \$, then there is no current through the resistor (as there's no voltage drop across the resistor).  The circuit ""lives"" at the equilibrium point where the resistor line and the diode curve intersect, as you MUST have the same current through the diode and the resistor.  Note that changing R and \$ V_{DD} \$ less than dramatically won't move this point as much as you think it might in terms of the final voltage drop across the diode, because of how steep the diode curve gets.</p>
","151653"
"Design a 3-to-8 Decoder Using Only Three 2-to-4 Decoders","27274","","<p>Using only three 2-to-4 decoders with enable and no other additional gates, implement a 3-to-8 decoder with enable. The inputs of the resulting 3-to-8 decoder should be labeled X[2..0] for the code input and E for the enable input. the outputs should be labeled Y[7..0].</p>

<p>Here's my current solution. My question is, is there a better/cleaner way to do this?</p>

<p><img src=""https://i.stack.imgur.com/rijJq.png"" alt=""Current Solution of 3-to-8 Decoder implementation""></p>
","<p>There is no problem with your circuit. although I would suggest that you set pull-down resistors on the outputs. that's because the decoders usually set their outputs to high-impedance (high-Z) when they're not enabled. so the output may remain the same on the output node (because of node capacitance) and the wrong value may be read by the device that is reading the current output. making all the outputs pulled-down to GND will eliminate this problem and it will work correctly. Look at the picture below...</p>

<p>You can use a resistor array which is a nine pin element that has 8 resistor inside with a common pin that will be connected to ground! Easy! ;-) </p>



<p><img src=""https://i.stack.imgur.com/l0Bmq.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fl0Bmq.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","132407"
"Is full wave rectifier better than half wave one?","27259","","<p>I am curious if there are practical differences between a DC power supply based on a half wave rectifier or a full wave rectifier.</p>

<p>I mean I have a few small DC power supply units which should give 12V 0.1A each. They all have a transformer 240V->18V, then 1 diode or 4 diodes, then 78L12 (0.1A regulator) and one or two capacitors (typically 220uF or 470uF).</p>

<p>My question is if the power supply can give a good quality DC voltage with just a half wave rectifier (a single diode) when a 470uF capacitor and 78L12 is added, or if bridge rectifier (4 diodes) is better.</p>

<p>I also have one old 12V 0.2A power supply based on a Zener diode instead of 7812 regulator. It also has 18V going to just a single diode, then 33R resistor which limits current to 0.2 Amp, then Zener diode parallel with a 1000uF capacitor. Again: Would it be better to have 4 diodes there, or is the half wave rectification good enough here thanks to the 1000uF capacitor?</p>

<p>(All my power supplies work well, I am just curious ""why"" and ""how"" these things work.)</p>

<p><strong>Update:</strong></p>

<p>I found two more interesting information:</p>

<ol>
<li><p>Capacitor should be approximately 500 uF for each .1 Amper of output (or more). This applies to full wave rectifier. Since I saw the same values in half wave rectifiers, it isn't enough and they are bad design.</p></li>
<li><p>4-diode rectification cannot be used when we want to have a combined 5V/12V output (or any other two voltages) with a simple transformer, because it can't provide a common ground for two different circuits. (A more complicated real example: I have got a power supply with four output wires from transformer -7/0/+7/+18 Volt. Then it uses 2-diode rectification to get full wave 7V output, and 1-diode rectification to get half wave 18V output. The 18V line can't be ""upgraded"" to 4-diode rectification here.)</p></li>
</ol>
","<p>Either can work correctly if designed properly.  If you have a dumb rectifier supply feeding a 7805, then all the rectifier part needs to do is guarantee the minimum input voltage to the 7805 is met.</p>

<p>The problem is that such a power supply only charges up the input cap at the line cycle peaks, then the 7805 will drain it between the peaks.  This means the cap needs to be big enough to still supply the minimum 7805 input voltage at the worst case current drain for the maximum time between the peaks.</p>

<p>The advantage of a full wave rectifier is that both the positive and negative peaks are used.  This means the cap is charged up twice as often.  Since the maximum time since the last peak is less, the cap can be less to support the same maximum current draw.  The downside of a full wave rectifier is that it takes 4 diodes instead of 1, and one more diode drop of voltage is lost.  Diodes are cheap and small, so most of the time a full wave rectifier makes more sense.  Another way to make a full wave rectifier is with a center tapped transformer secondary.  The center is connected to ground and there is one diode from each end to the raw positive supply.  This full wave rectifies with only one diode drop in the path, but requires a heavier and more expensive transformer.</p>

<p>A advantage of a half wave rectifier is that one side of the AC input can be directly connected to the same ground as the DC output.  That doesn't matter when the AC input is a transformer secondary, but it can be a issue if the AC is already ground-referenced.</p>
","25183"
"Can an audio circuit be powered by a switched-mode power supply?","27255","","<p>Most audio circuits a powered with large, heavy transformers and a small ripple after smoothing. SMPS are smaller and more efficient. EMI can be shielded by a metal enclosure and the output filtered for noise suppression.</p>

<p>Especially where the power is going to be further regulated. Why aren't switched-mode power supplies used in audio circuits, eg. power amplifiers, and what improvements can be done to make a SMPS suit an audio circuit?</p>
","<p>Let me give you a little background on myself...  I've been working professionally in the audio industry for more than 14 years.  I've designed circuits for most of the major pro-audio companies, one audiophile company, and several consumer audio companies.  The point is, I've been around and know a lot about how audio is done!</p>

<p>SMPS can and are used for audio circuits!  I've used them from sensitive microphone preamps to huge power amplifiers.  In fact, for the larger power amplifiers they are mandatory.  Once an amplifier gets over a couple of hundred watts then the power supply needs to be super efficient.  Imagine the heat produced by a 1000 watt amp if it's power supply was only 50% efficient! </p>

<p>But even on a smaller scale, the efficiency of a SMPS often makes a lot of sense.  If the analog circuitry is properly designed then the noise from the power supply gets rejected by the analog circuitry and doesn't impact the audio noise (very much).</p>

<p>For those super-noise-sensitive applications you can do a hybrid approach.  Let's say that you have an ADC that requires +5v.  You can use a SMPS to generate +6v, then a super-low-noise linear regulator to bring that down to +5v.  You get most of the benefit of the SMPS, but the low-noise of the linear regulator.  It is not as efficient as just a SMPS, but those are the trade-offs.</p>

<p>But one thing to keep in mind... A SMPS for audio applications needs to be designed with audio in mind.  Of course you'll need better filtering on the output.  But you will also need to keep other details in mind.  For example, at very low current the SMPS might go into something called ""burst mode"" or ""discontinuous mode"".  Normally a SMPS will switch at a fixed frequency, but in one of these modes the switching will become somewhat erratic.  That erratic behavior might push the output noise into the audio frequency band where it becomes more difficult to filter out.  Even if the SMPS is normally switching at 1 MHz, when in one of these modes you could get 10 KHz noise.  Controlling how this happens depends on the design of the chip that the power supply uses.  In some cases, you can't control it.  In that case you have no choice but to use a different chip or use a hybrid approach.</p>

<p>Some people advocate using only linear power supplies for audio.  While linear supplies are less noisy, they have lots of other issues.  Heat, efficiency, and weight being the biggest ones.  In my opinion, most of the people who preach linear supplies only are either misinformed or lazy.  Misinformed because they don't know how to handle switching supplies or lazy because they don't care to learn how to design robust circuits.  I've designed enough audio gear with SMPS to prove that it can be done without too much pain.</p>
","36679"
"What resistor to use with this RGB LED?","27244","","<p>i have <a href=""http://www.superbrightleds.com/moreinfo/component-leds/1-watt-rgb-led-130-degree-viewing-angle-43-lumens/637/"" rel=""noreferrer"">this</a> led, and im not sure what resistor to use to drop the 5v current to an appropriate voltage and produce the appropriate current. </p>

<p>the LED is rated at 200mA, but the <a href=""http://www.superbrightleds.com/pdfs/1W_PM6B-1LFx_v1%200.pdf"" rel=""noreferrer"">data sheet</a> says i should apply 150mA through it. my micro-controller outputs 5v i think, but im not sure as i do not have a multimeter, but i apply 5v to the vcc of the micro-controller.  </p>

<p><img src=""https://i.stack.imgur.com/hosnt.jpg"" alt=""RGB LED voltage""></p>

<p>my questions are:</p>

<ul>
<li>what resistor should i use with this led? (i got 33 ohms as the
answer, making me thing i dont need a resistor).</li>
<li>if i do need a resistor, would a 1/2 watt rated resistor work? the lowest value i have is 100 ohm, is that close enough? </li>
<li>the data sheet does not explain how to solder the LED- do i just connect the b- and r- points to ground and the b+ and r+ to micro-controller outs, and if i want blue i do low r+ and high b+?</li>
</ul>

<p>Sorry about the extensive questions, i never had any formal education or experience in this field. thanks!</p>
","<p>You should use 3 different resistors, one for each color, although the blue and green have the same specs. </p>

<p>At 150mA the forward voltage for the red is 2.2v, green is 3.5v and blue is 3.5v. So you should use a 22ohm 1watt resistor for the red, and 10ohm .5watt resistor for the green and blue. You have a bit of wiggle room on these figures, and if you don't have a resistors that can handle that wattage you can use more than one in parallel just make sure you calculate the correct resistance between them.</p>

<p>Also I doubt your microcontroller can provide 150mA (it's probably more like 20mA,) so you will probably need to use a transistor on each color so that they can pull enough power. Take a look at this image for how to hook up the transistor to your system. Although ignore the 12v and multiple LEDs.</p>

<p><img src=""https://i.stack.imgur.com/qZJT0.gif"" alt=""enter image description here""></p>

<p>You may also want to have each color driven by a PWM pin, so that you can alter the brightness of each color to change the overall color at will. </p>
","48526"
"Why is it dangerous use a coiled extension cord","27215","","<p>What aspect using a coiled extension cord makes it more dangerous than using an unrolled power cord.</p>

<p>Many fire safety websites reference that an extension cord should not be used while coiled.</p>

<p>Is this due to the cord acting as an air core inductor (I can't really see why this should cause fires). If this is the case, if every second loop is in the opposite direction is it safe.</p>

<p>My theory is that if the cord is getting heated from high current draw, when coiled all of this heat is in a much more condensed location, causing a greater temperature rise than if the cable was unrolled.</p>

<p>Is it dangerous, if so what is the cause. Am I missing anything, do parameters like loop size, loop direction etc make any appreciable difference.</p>
","<p>The normal cable ratings assume that the wire can adequately disperse heat generated in the cable due to the current flowing.</p>

<p>If you coil it up and use close to the maximum rating then it stands a good chance of melting the plastic insulation and then causing a short.</p>

<p><a href=""https://i.stack.imgur.com/ApDEd.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/ApDEd.jpg"" alt=""Overheated cable on drum""></a></p>
","192928"
"Noise and what does V/√Hz actually mean?","27214","","<p>Noise figures in (opamp) datasheets are in expressed in V/√Hz, but </p>

<ol>
<li>Where does this unit come from, why the square root? and how should I pronounce it?</li>
<li>How should I interpret it? </li>
<li>I know lower is better, but will a noise figure that doubles also double the trace width on my scope?</li>
<li>Is this value useful in calculating signal to noise ratio? Or what fun calculations can I do with this number? </li>
<li>Is noise always expressed in V/√Hz?</li>
</ol>
","<p>""Volt per square root hertz"".</p>

<p>Noise has a power spectrum, and as you might expect the wider the spectrum the more noise you'll see. That's why the bandwidth is part of the equation. The easiest is to illustrate with the equation for thermal noise in a resistor:  </p>

<p>\$ \dfrac{v^2}{R} = 4kT\Delta f \$  </p>

<p>where \$k\$ is Boltzmann's constant in joules per kelvin, and T is temperature in kelvin. \$\Delta f\$ is the bandwidth in Hz, just the difference between maximum and minimum frequency.<br>
The left hand side is the expression for power: voltage squared over resistance. If you want to know the voltage you rearrange:  </p>

<p>\$ v = \sqrt{4kT R\Delta f} \$  </p>

<p>That's why you have the square root of the bandwidth. If you would express the noise in terms of power or energy you wouldn't have the square root.  </p>

<p>All noise is frequency related, but energy spectra may differ. White noise has an equal power across all frequencies. For pink noise, on the other hand, noise energy decreases with frequency. Flicker noise is therefore also called \$1/f\$ noise. In that case bandwidth in itself is meaningless.  </p>

<p>The left graph shows the flat spectrum of white noise, the right graph shows pink noise decaying 3dB/octave:  </p>

<p><img src=""https://i.stack.imgur.com/g9YMn.jpg"" alt=""enter image description here""></p>

<p>You can make noise visible on an oscilloscope, but you can't measure it that way. That's because what you can see is the peak value, what you need is the RMS value. The best thing you're getting out of it is that you can compare two noise levels, and estimate one is higher than the other. To quantify noise you have to measure its power/energy.</p>
","32258"
"Transistor Delay","27202","","<p>I'm attempting to make an alarm for a freezer so that if the door gets left open, after 1 minute  or so, an alarm will sound. </p>

<p>I've got something similar to the schematic below. When the switch is open the capacitor starts to discharge through the base of the transistor but I have the LED in parallel with the transistor so that when the capacitor is discharged, the LED turns on. This is working fine, however I cant make the delay long enough. If I increase the capacitor value or the transistors base resistor, the delay time is longer, however because the capacitor is discharging slower the LED/Alarm is gradually faded on which I don't really want. I would like the alarm/LED to come on as suddenly as possible.</p>

<p><img src=""https://i.stack.imgur.com/aaJlj.png"" alt=""enter image description here""></p>

<p>Is there a way for me to increase the delay but keep the alarm turning on relatively suddenly?</p>

<p>As a footnote, I do not want to use any ICs (i.e. the 555 timer)</p>
","<p>You're charging the capacitor directly from the battery. So the charging time is related to the product RC, where R is just the internal resistance of the battery. </p>

<p>Try something like this:</p>



<p><img src=""https://i.stack.imgur.com/XAC7B.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fXAC7B.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Here, I have split the base resistance so that the capacitor is charged through a large portion of it. </p>

<p>This not only achieves the goal of slowing down the charging of the resistor, but it has another side benefit. When the switch is released, C1 discharges into the base of the transistor through only a 1K resistance, resulting in a discharge which is much faster than the charge. We can't make that resistor too small, because we need to protect the transistor's BE junction from the discharge current.</p>

<p>In simulation, the LED current starts to build at around 1.5 seconds and reaches a maximum at around 1.8. So that is not a sudden turn-on, obviously. But the turn-on increases with faster delays.</p>

<p>For a faster turn on, we need to add another transistor stage. The following circuit has a similar time delay to the above one, but the LED current ramps up more quickly, over a spread of 70 ms or so.</p>



<p><img src=""https://i.stack.imgur.com/Y3YeV.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fY3YeV.png"">simulate this circuit</a></sup></p>

<p>For longer times with fast turn-on, we need more gain. One way to do that is to replace the load resistor with an active load. According to an LTSpice simulation of this circuit, it generates a 55s delay, at which point the LED ramps up over an interval of about a quarter second. This graph shows the charging of the capacitor (blue) versus LED current (green):</p>

<p><img src=""https://i.stack.imgur.com/Ivnr8.png"" alt=""enter image description here""></p>

<p>However, it is getting more complicated than some IC based solutions. This approach is good for gratifying the hobbyist ego. (""I did it with discrete components, none of these easy to use op-amp or timer IC's, and look, there is even a current mirror and stuff!"").</p>



<p><img src=""https://i.stack.imgur.com/QshUi.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fQshUi.png"">simulate this circuit</a></sup></p>

<p>Can we make some small changes so that we don't need the huge charging resistor, and can use a smaller capacitor? Yes! Here is one way. We can raise the transitor Q1 so that there is a higher turn-on voltage at the base, by putting a Zener diode in the emitter, say 8.2V.  Then a 100K charging resistor, and a 470uF capacitor give us a bit over a minute.  By raising the voltage that the capacitor must develop, we can obtain a larger delay for the same RC values.</p>



<p><img src=""https://i.stack.imgur.com/AMJdo.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fAMJdo.png"">simulate this circuit</a></sup></p>
","68231"
"Eagle - How to attach a pin not shown on schematic symbol?","27168","","<p>In Eagle, I would like to include SN74HC595 shift registers in my project. I found a library online a few months ago (can't find source anymore) that has this part. </p>

<p>The symbol looks like this:</p>

<p><img src=""https://i.stack.imgur.com/o8TPf.jpg"" alt=""enter image description here""></p>

<p>However, I noticed the symbol does not have power and ground pins, which is contrary to all of the other devices I've seen and created before. I had no idea how I would actually connect it to the same power supply I'm using for all other components in my schematic. </p>

<p>So I opened up the device in the library, and it looks like this:</p>

<p><img src=""https://i.stack.imgur.com/Wg5Ix.jpg"" alt=""enter image description here""></p>

<p>It seems there's a second symbol (on the left) that goes only to VCC and GND, and those are assigned to the relevant power and GND pads on the package. </p>

<p>My issue is that my power rails on my schematic are labeled '5V' and 'GND'. I've read that I can 'simply' rename the 'VCC' pin to '5V' and that it will automatically connect to any '5V' net in whatever schematic I put it in. This, however, didn't work. </p>

<p>I've also consulted Eagle's awful product support pages to no avail. </p>

<p>How do I hook this component up to my '5V' line?</p>

<p>[ note: GND hooks up automatically to the 'GND' net in my schematic ]</p>
","<p>""Invoke"" command resolves this.</p>

<p><img src=""https://i.stack.imgur.com/Gw4D7.png"" alt=""enter image description here""></p>

<p>I've got only Eagle 5.11.0 in front of me at the moment.  But, this haven't changed in 6.3.0</p>

<p>@ScottSeidman had beat me to the answer, while I was annotating the screenshot.</p>
","74183"
"What wattage should a headphone amp be?","27137","","<p>I was at a local surplus store today and I got two <a href=""http://www.ti.com/lit/ds/symlink/lm386.pdf"" rel=""noreferrer"">LM386N</a> ICs.  I thought I could make a really simple headphone amp out of these.  But I have no idea what the wattage of a normal headphone amp is.</p>

<p>These LM386 are rated 325 mW at 8 Ohm, which should be about 81.25 mW at 32 Ohm load.</p>

<p>Is 81.25 mW a reasonable power for a headphone amp?  How does that compare to, say, a Laptop's 3.5 mm jack's power; how about an iPhone's?</p>
","<p>Alfred already explained that for a <em>voltage</em> source (which an amplifier is) you'll have less power at higher impedance, because the current decreases. If your amplifier would be a <em>current</em> amplifier you would get a higher power, because the same current in a higher impedance will increase voltage.  </p>

<p>Citing from <a href=""http://www.rane.com/pdf/old/note100.pdf"">this document</a>, because I can't explain it better myself:  </p>

<blockquote>
  <p>Headphone manufacturers specify a “sensitivity” rating
  for their products that is very similar to loudspeaker sensitivity
  ratings. For loudspeakers, the standard is to apply 1 watt
  and then measure the sound pressure level (SPL) at a distance
  of 1 meter. For headphones, the standard is to apply 1
  milliwatt (1 mW = 1/1000 of a watt) and then measure the
  sound pressure level at the earpiece (using a dummy head
  with built-in microphones). Sensitivity is then stated as the
  number of dB of actual sound level (SPL) produced by the
  headphones with 1 mW of input; headphone specifications
  commonly refer to this by the misleading term “dB/mW.”
  What they really mean is dB SPL for 1 mW input.  </p>
  
  <p>Think about these sensitivity definitions a moment:
  headphone sensitivity is rated using 1/1000 of a watt; loudspeaker
  sensitivity is rated using 1 watt. So a quick rule-of-thumb
  is that you are going to need about 1/1000 as much
  power to drive your headphones as to drive your loudspeakers
  since both of their sensitivity ratings are similar (around 90-
  110 dB SPL). For example, if your hi-fi amp is rated at 65
  watts, then you would need only 65 mW to drive comparable
  headphones. (Actually you need less than 65 mW since most
  people don’t listen to their loudspeakers at 1 meter.) And this
  is exactly what you find in hi-fi receivers—their <strong>headphone
  jacks typically provide only 10-20 mW of output power</strong>.  </p>
  
  <p>Take another moment and think about all those portable
  tape players. They sound great, and loud. Why, you can even
  hear them ten feet away as the teenage skateboarder that ran
  over your foot escapes.  </p>
  
  <p>Power output? About 12 mW.</p>
</blockquote>

<p>(emphasis by me)  </p>

<p>Thanks to marketing numbers of 100 W amplifiers most people don't realize this, but 1 W is <em>a lot</em> of power for a good speaker. It can give you more than 90 dB SPL at 1 m. At full power a 100 W amplifier just won't break the windows. Claiming to play 2000 W at full power in your living room is nothing to brag about: it just says that you have lousy speakers :-). 2000 W in 92 dB speakers delivers 125 dB SPL, which will <strong>turn you deaf</strong> in no time. (That may be OK, once you're deaf it also stops hurting your ears. :-)</p>

<p><strong>Further reading</strong><br>
<a href=""http://www.rane.com/pdf/old/note100.pdf"">Understanding headphone power requirements</a></p>
","36495"
"What does it mean when there is a voltage difference between ground and neutral?","27084","","<p>Between ground and hot there's approximately 120V as expected.</p>

<p>I had expected the voltage difference between ground and neutral to be 0v, but instead it's 0.4V.  Why would this not be the case?  Is it a hazardous condition?  How would it be corrected?</p>

<p><img src=""https://i.stack.imgur.com/WOPWE.png"" alt=""enter image description here""></p>
","<p>It's the drop caused by current flowing through the neutral wire as Andreja says. Under normal circumstances there should be no current flowing through the earth wire.  </p>

<p>I see you have it plugged into a 4-way adaptor. If you turn on/off something plugged into that same adaptor (e.g. a light) and monitor the voltage, you should see it change (it will rise on turn on and drop on turn off)<br>
I just did this simple experiment with a 4-way and a halogen lamp, here are the results:</p>

<p>With light off:</p>

<p><img src=""https://i.stack.imgur.com/E3R6E.jpg"" alt=""Neutral Drop""></p>

<p>With light turned on:</p>

<p><img src=""https://i.stack.imgur.com/ycc1Q.jpg"" alt=""Neutral Drop 2""></p>

<p>The multimeter was on 2VAC range and attached to the adjacent socket neutral and earth as shown in your question. You can see the voltage drop increases by ~400mV when the light turns on. If you know the current drawn by the appliance you can make a rough calculation of the wire resistance.     </p>
","36276"
"Does LED brightness change with voltage?","27042","","<p>When I was young and learning about electricity, a fabulous tool for understanding voltage/current/resistance was an incandescent lightbulb (in my case it was a small 3V bulb). When you doubled the voltage by putting two batteries in series, it glowed 4x as bright, but heated up more and was more prone to burning out. When you put two lightbulbs in series, they glowed 1/4 as bright. When you put them in parallel, they glowed normally, but drained the battery twice as fast. Etc.</p>

<p>This day and age however incandescent bulbs are on the way out, and LEDs are replacing them for a good reason (like not burning out every few months or so). But LEDs are different and follow different rules, which I don't understand myself very well.</p>

<p>I was wondering - can LEDs be used in the same way? I know that for a LED to be usable in a similar way as a classical lightbulb, you need to put it in series with a resistor, otherwise it draws too much current and burns out. I think you can even buy LEDs with built-in resistors. But would they work in the same fashion? Would changes in voltage be accompanied with corresponding changes in brightness?</p>
","<p>LEDs are a very very different beast compared to incandescent light bulbs. LEDs belong to a class of device known as <em>non-linear devices</em>. These don't follow Ohm's Law in the classic sense (however Ohm's Law is still used in conjunction with them).</p>

<p>An LED is (obviously) a form of diode. It has a <em>forward voltage</em> which is the voltage at which the diode starts to conduct. As the voltage increases so does how well the diode conducts, but it does that in a <em>non-linear</em> fashion.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=""https://i.stack.imgur.com/jwHV9.png""><img src=""https://i.stack.imgur.com/jwHV9.png"" alt=""enter image description here""></a></p>

<p>With an LED it's the amount of current flowing through it that determines how bright it is. Increasing the voltage increases the current, yes, but the region where that happens without the current getting too much is very small. In the red curve above it may be that tiny little bit around 1.5V, and by the time you get to 2V the current is off the scale and the LED burns out.</p>

<p>Putting LEDs in series does sum the forward voltages, so you have to provide a higher voltage for conduction to start, but the controllable region is still just as tiny.</p>

<p>So we control the current instead of the voltage, and take the forward voltage as a fixed value. By either including a resistor in the circuit to fill the gap between the supply voltage and the forward voltage, limiting the current in the process, or by using a <em>constant current</em> supply, we can set the current that we want to flow through the LED and thus set the brightness. By increasing the current, but not increasing the voltage (or only a negligible amount, and purely incidentally), we increase the brightness.</p>

<p>The formula for calculating the resistance to use for a specific current is:</p>

<p>$$
R = \frac{V_S - V_F}{I_F}
$$</p>

<p>Where \$V_S\$ is the supply voltage, \$V_F\$ is the LED forward voltage, and \$I_F\$ is the desired LED forward current.</p>
","256339"
"What does short to ground mean? How to do that?","27016","","<p>I've just started a simple project using raspberrypi and a capacitive touch sensors breakout board. I had a few problems using I2C, but after some time of research I managed to get stuck on one only... On one of the forums I found an answer that solved the same issue for another user, so I'd like to try it out:</p>

<blockquote>
  <p>Turns out I forgot to short the ADD to GND to set address 0x5a.</p>
</blockquote>

<p>The thing is, I don't really know what that means... Am I just supposed to solder ADD to GND? There's GND already on this board (apart form ADD). Do I just connect them both to GND? What does shorting to ground actually mean?</p>

<p>Thanks a lot for your help and sorry for the trouble :)</p>
","<p>Short to ground, just means to have a direct connection to Ground. A ""short"" is any direct connection between two nodes. In any circuit, technically, you have shorts everywhere, but the term ""short to.."" is generally used for ground or some power node.</p>

<p>So you have a direct connection between ADD and GND would be a short.</p>
","134583"
"Simple transistor switching example should show LED off","27005","","<p>UPDATE</p>

<p>So even when I remove the switch, the LED is still on (see image below). I.e. there's nothing connected to the base; only to the collector. I'm using the same 2N2222-331 transistor that's in the book (I actually got all my components from the Kit sold separately at <a href=""http://www.makershed.com/Make_Electronics_Components_Pack_1a_p/mecp1.htm"" rel=""nofollow noreferrer"">http://www.makershed.com/Make_Electronics_Components_Pack_1a_p/mecp1.htm</a>).</p>

<p>I also tried another transistor (of the same type) to make sure that the one I was using wasn't faulty but to no avail. </p>

<p>Is it possible the author messed up the transistor type? In at least 90% of these kinds of cases it's my error an not the author's.</p>

<p><img src=""https://i.stack.imgur.com/ozKSI.jpg"" alt=""enter image description here""></p>

<hr>

<p>Reading ""Make: Electronics"". Trying to implement Experiment 10 on Transistor Switching. Diagram shown below:
<img src=""https://i.stack.imgur.com/MUiNL.jpg"" alt=""Book diagram""></p>

<p><strong>Problem I'm having is that my circuit always has the LED ON when in theory the LED should be off when the button is not pressed because there is no voltage applied to the base of the transistor.</strong></p>

<p><img src=""https://i.stack.imgur.com/28zgX.jpg"" alt=""enter image description here""></p>

<p>What am I doing wrong here? I'm sure I have the right components (except possibly for the push button) and that I'm using 12V DC. My guess is that I've got the orientation of something wrong but I'm not sure.</p>
","<p>Very nice presentation of your problem. Well done, and thanks.</p>

<hr>

<p>(1) Check that your switch connects left to right when pressed and not top to bottom.<br>
 Remove switch - does LED go out.<br>
 Use a piece of wire. Does LED turn on?</p>

<hr>

<p>(2) It appears that the problem is that the circuit they have given you is utterly and completely and inexplicably scrambled. It would be hard to have the circuit much wronger that that and still light the LED! It just MAY be sort of correct given several unlikely assumptions.</p>

<p>How can this be?<br>
 I so didn't believe what I was seeing that I checked several times.</p>

<p><a href=""http://www.onsemi.com/pub_link/Collateral/P2N2222A-D.PDF"" rel=""nofollow noreferrer"">2N2222 data sheet here</a></p>

<p><img src=""https://i.stack.imgur.com/7gYqe.jpg"" alt=""enter image description here""></p>

<p>What transistor are YOU using?
What is the pinout.</p>

<p>Even if YOU are not using a 2N2222 they should be.</p>

<p>The circuit is wrong because:</p>

<ul>
<li><p>They say 2n2222 so it should be NPN</p>

<p>It is normal to put the LED in the collector circuit but not essential.  </p>

<p>If R3 is in collector then it should not go to V- power rail but to V+.  </p>

<p>If we assume LED is in Emitter circuit then R1 must be in collector circuit and the transistor is being used as an ""emitter follower"". Not what you would usually do or for a beginner but say that's correct.  And the pinout is backwards. Let's assume it is.</p>

<p>Then base should be being pulled +ve to turn on. It is.  </p>

<p>They should have a pulldown on the bas to ground to turnthe transistor off - especially when used as an emitter follower. Connect another 10k from SW1/R1 junction to ground. Test . report.</p></li>
</ul>

<p>BUT</p>

<p>Ensure transistor is CBE bottom to top as per 2N2222 datasheet or find what it really is.  </p>

<ul>
<li><p>Identify C B E with certainty. Ensure NPN transistor.</p></li>
<li><p>Collector via R3 and LED to V+</p></li>
<li><p>Emitter to ground</p></li>
<li><p>10K from Base to ground</p></li>
<li><p>10K via switch to V+</p></li>
</ul>

<p>Like this with different values, but I have added extra 10k from base to ground (a wise precaution). </p>

<p><img src=""https://i.stack.imgur.com/WPSqU.jpg"" alt=""enter image description here""></p>

<hr>

<p>I checkd 2N2222 data sheets from several manufacturers. ALL I found including metal can ones show transistor is CBE readingUP the breadboard as shown. (terminals 48-49-50) SO there is NO DOUBT that they have the circuit VERY WRONG as shown. Their C (terminal 48( goes via R3 to B- (ground). For an NPN transistor it should be B+ / +12v. etc. Build the circuit as I have suggested. It will work ;-). Transistor MAY be dead.</p>

<p>Datasheets</p>

<p><a href=""http://61.222.192.61/mccsemi/up_pdf/2N2222,2N2222A(TO-18).pdf"" rel=""nofollow noreferrer"">metal can</a></p>

<p>[TO18 &amp; TO39 metal can both the same](<a href=""http://61.222.192.61/mccsemi/up_pdf/2N2222,2N2222A(TO-18).pdf"" rel=""nofollow noreferrer"">metal can</a>
)</p>

<p>All TO92 plastic seem to be ONSemi - several distributors:</p>

<p>Did they provide a proper circuit diagram?<br>
 If so please show it.</p>

<p><a href=""http://www.onsemi.com/pub_link/Collateral/P2N2222A-D.PDF"" rel=""nofollow noreferrer"">ONSemi TO92 plastic</a></p>

<hr>

<p>Update:</p>

<p>Here is <a href=""http://bit.ly/uUcHmz"" rel=""nofollow noreferrer"">the book concerned</a> .</p>

<p>(1) The transistor is reversed. Turn it around 180 degrees and their circuit is as they intended. Their basic data shows the transistor wrongly.</p>

<p>(2) And / But  - the circuit is an emittee follower as it was obvious it would be if you ""just"" reversed the transistor. This is such an 'interesting' way to do things that it was hard to believe that it was intended. It was.</p>

<p><img src=""https://i.stack.imgur.com/Rfuu0.jpg"" alt=""enter image description here""></p>

<p>Their ""rather interesting"" circuit:</p>

<p><img src=""https://i.stack.imgur.com/GGTrB.jpg"" alt=""enter image description here""></p>
","23655"
"How do I step down voltage and current in a DC application?","26996","","<h2>Background</h2>

<p>I am currently building a RC <a href=""http://en.wikipedia.org/wiki/Multicopter"">multicopter</a> that utilizes an 11.1 V 20 C 2200 mAH LiPo battery as it's main power supply.  This is fine to run the ESC's and motors; however, I also need a 5 V/2 A power source to run a PCB that is laden with an Arduino project consisting of digital sensors, GPS, LED controllers, etc.</p>

<h2>Question</h2>

<p>How do I produce the proper voltage (5V) and minimum current (2 A) from the primary source (11.1 V/20 C)?  Is it as simple as calculating a correct resistor value or should I do something else?  I don't want to fry my sensors!</p>
","<p>Basically there are two types of voltage regulators: <strong>linear</strong> and <strong>switching</strong>. Linears are bad: if your 5 V needs 2 A it will also draw 2 A from the 11 V input, and the difference, 6 V x 2 A = 12 W, will go up in heat.  </p>

<p>You need a switcher. Since you're going from a higher to a lower voltage that will be a <strong>buck</strong> converter. (Lower to higher voltage is called <strong>boost</strong>.) Buck converters can reach efficiencies higher than 90 %, then the power loss will be less than 1 W. <a href=""http://parametric.linear.com/step-down_%28buck%29_regulators#!1646_Buck!1032_%3C=9!1033_%3E=12!1105_%3C=5!1034_%3E=5!1107_2:4.5!vinmin_9!vinmax_12!vout_5!iout_2"">Here</a> is a selection of switchers that fit your requirements.  </p>

<p>For maximum efficiency I would suggest that you remove the NPC1117 voltage regulator from the Arduino (I'm referring to the Uno, other Arduinos will have a similar linear regulator), and connect the output of the switcher to the 5 V net directly. Otherwise you would have to supply at least 6 V, and lose 800 mW in the NPC1117 regulator (it can supply maximum 800 mA).</p>

<p>Whenever possible try to run as much as possible at lower voltages, like 3.3 V. A switcher going from 11 V to 3.3 V will have a lower efficiency than one going to 5 V, but you'll gain by less dissipation in the 3.3 V devices. I even think (not checked!) that Arduino can run at 3.3 V.</p>
","34261"
"Reducing the sensitivity of a PIR sensor?","26980","","<p>I have several standard BISS0001 based PIR sensor modules, but lack any sensitivity trim pot.</p>

<p>I am hoping there might be a way to reduce range/sensitivity to a very small field. Currently they are detecting motion about 15-20 feet away. </p>

<p>Does anyone know of a way to reduce the field as low as maybe a 1 foot radius?</p>

<p>I am using them with an Arduino Mega 2560 or an Arduino Uno.</p>

<p>I have tried placing various objects / films in front of the sensor. </p>

<p>Running the sensor through a tube (cardboard or PVC) seems to effectively reduce the sensor to a very narrow beam of detection, however I also need to reduce the overall range, as even with through the tube the sensor fires off at 15-20 feet away.  I have tried placing plastic wrap or the reflective static free plastic that electronics are shipped in over the end of the tube, these do not seem to do the trick.</p>
","<p>You can attenuate by using thin sheets of polyethylene. Polyethylene is the same material that the PIR lens is made of. It will pass, but attenuate the wavelengths you are interested in. Find something around .015"" and begin stacking until you hit your desired range.</p>

<p>Here is a source: <a href=""http://www.mcmaster.com/#polyethylene-plastic-sheets/=hc4uvj"">http://www.mcmaster.com/#polyethylene-plastic-sheets/=hc4uvj</a></p>
","30987"
"I burnt a pin. Now, what do I do?","26948","","<p>I accidently shorted pins 10 and 11 with 10 set to output HIGH and 11 set to input. The pin 11 is not working. How do I figure out what component I burned?</p>

<p>Can the problem be fixed?</p>
","<p><sub><strong>Assumption:</strong> <em>As the specific Arduino model has not been specified, using the Arduino Uno to illustrate this answer. The rationale applies identically to the other Arduinos, for their respective pin-outs and microcontroller operating voltages.</em></sub></p>

<p>Please refer to this <a href=""http://www.pighixxx.com/pgdev/Temp/ARDUINO_V2.png"" rel=""nofollow noreferrer"">pin-out diagram for the Arduino Uno</a>: <sup>(<em><a href=""http://arduino.cc/forum/index.php/topic,146315.0.html"" rel=""nofollow noreferrer"">source</a></em>)</sup></p>

<hr>

<p><img src=""https://i.stack.imgur.com/wKz2l.png"" alt=""Arduino Uno pin-out""></p>

<hr>

<ul>
<li>As can be seen, Pin 10 and 11 are both standard GPIO pins. </li>
<li>Any <strong>GPIO can not output a voltage higher than</strong> the microcontroller's supply voltage <strong>(V<sub>CC</sub>)</strong>, in the Arduino. For the Uno V<sub>CC</sub> is 5 Volts.</li>
<li>Any GPIO pin <strong>can withstand input voltage up to V<sub>CC</sub></strong> and a slight bit higher (5.5 Volts is tolerated as standard)</li>
<li>Also, when any Arduino GPIO is set to input, it is in a high impedance state, thus making it impossible to pass enough current into it for the voltages involved, for any damage to occur.</li>
<li>Thus, <strong>shorting pins 10 and 11 <em>can not cause any damage</em> to either pin</strong>, in the circumstances reported in the question. </li>
</ul>

<p>Now let us examine the alternative possibilities:</p>

<ul>
<li>If the Uno is powered from the DC barrel jack instead of 5 volts from the USB connection or other regulated power supply, the Vin pin outputs 1 diode drop lower than this input voltage: This would be around <strong>8.3 Volts</strong> if the supply is a 9 Volt battery attached to the barrel jack.</li>
<li><strong>Shorting this VIN pin</strong> to any of the analog or digital pins of the Arduino (<em>other than specific pins which are protected by resistors</em>) is very likely to destroy either the internal ESD diode / protection circuitry for that pin within the microcontroller, or destroy the microcontroller itself. This could be the cause of the problem.</li>
<li>Another hypothesis is that Pin 11 was exposed to some other source of high voltage, beyond the board's Vcc. This could be due to <strong>back-EMF</strong> from a motor, or from the high voltage (can be <strong>10+ volts</strong>) generated by a piezoelectric bender (piezo speaker) if it is knocked against something. This could cause damage to ESD diodes / protection circuitry as noted above</li>
<li>Next, <strong>electrostatic discharge</strong> from static electricity can damage any given GPIO pin even while the device is not powered up. Did you happen to comb your hair and then touch the Arduino board at some point, for example? The problem will only show up later, when attempting to use that pin on the board, so causality is often difficult to pin-point.</li>
<li>Finally, if two pins are <strong>both set to output</strong>, one set high and the other low, and these are shorted, the ""High"" pin sees a short to ground through the ""Low"" pin. This source to sink contention can cause the microcontroller to heat up, and though the AVR microcontrollers typically have output protection on GPIOs, this may cause one or the other of the pins to stop functioning - though the entire microcontroller failing is more likely in this case. </li>
</ul>

<hr>

<p>Having said all that, if for whatever reason Pin 11 no longer performs input or output, the MCU's corresponding internal protection circuitry is irrevocably damaged. There is no way to repair this. This has been covered well in the answer by <em>Manishearth</em>.</p>

<p>Consider yourself fortunate that the entire microcontroller did not get destroyed, and re-code your applications to not use Pin 11 any more. </p>

<p><strong><em>Personal tip:</em></strong> <em>I've blocked the VIN sockets on my Arduino boards a long time ago by sticking some stripped insulation into them, to avoid ever accidentally exposing any jumper wire to that voltage. If I ever actually need to use VIN some day, I'll spend a delightful hour struggling to extract that bit of insulation stuck in there.</em></p>
","67002"
"Resistance Vs Impedance?","26944","","<ul>
<li><p>What is the difference between the Resistance and Impedance?</p></li>
<li><p>When we will say it is an Impedance and when we will say it as an
Resistance?</p></li>
<li>Can you explain it with diagram (If possible) and real time example.   </li>
<li><p>And how the reactances will form in the circut where the Capacitors
and inductors are not available in our circuit?</p></li>
<li><p>How we will find the reactances in the circuit and its values in real time?  </p></li>
<li><p>I means is this possible to calculate the reactance by using any
instrument?</p></li>
<li><p>Do the reactance was intentionally kept by the designer or generally
it'll forms with in the circuit?</p></li>
</ul>

<p>All answers are appreciated. </p>
","<p>Diagram!  </p>

<p><img src=""https://i.stack.imgur.com/FvYEP.png"" alt=""enter image description here""></p>

<p>This is for a complex impedance:  </p>

<blockquote>
  <p>\$Z = R + \dfrac{1}{j \omega  C} \$</p>
</blockquote>

<p>Resistance \$R\$ is in phase with the applied voltage, so the vector points in the same X direction. The impedance of a capacitor is almost completely reactive, i.e. its resistive part is much smaller than the \$\dfrac{1}{j \omega C} \$. The \$j\$ causes a \$\theta\$ = 90° rotation, and since the \$j\$ (= \$\sqrt{-1}\$) is in the denominator the angle is negative \$\left( \dfrac{1}{j} = -j \right) \$.<br>
To calculate the current \$ I = \dfrac{U}{Z} \$, we note that when dividing by an impedance with angle \$\theta\$ we subtract the angle from our reference, so that the angle's sign is inverted.<br>
The result shows how for a capacitive load the current leads the voltage by an angle \$ \theta\$, where \$ 0 \le \theta \le 90°\$.<br>
For inductive loads a similar diagram can be drawn, only \$ j \omega L\$ points in the opposite direction of \$\dfrac{1}{j \omega C} \$, and the current will trail the voltage.</p>

<p><strong>edit</strong> (after your edit of the question)<br>
So, resistance will cause the current to be in phase with the voltage. If there's an imaginary term (the \$j\$) then that term represents the reactance, either capacitive or inductive, and </p>

<blockquote>
  <p><strong>Resistance + Reactance = Impedance</strong>  </p>
</blockquote>

<p>In an ideal world, if you don't have capacitors or coils you wouldn't have reactance either. But a circuit may have parasitic impedance: the length of a PCB trace will cause an inductive reactance (it behaves as a coil), and two adjacent traces will have a capacitive reactance (they behave as a capacitor). Parasitic impedances are unintentional, and most of the time a nuisance, though sometimes a designer can make good use of them.<br>
You can measure components impedances with an <strong>RLC-meter</strong>, which will give you resistance in series or parallel with a reactance (inductive or capacitive).<br>
Reactance will show as a phase shift in voltage or current. This phase shift can be shown on an oscilloscope in X-Y mode; a zero phase shift will show a straight line, a 90° phase shift will show a circle, anything in between will give you an ellipse. </p>
","21796"
"Compatible/Equivalent/Substitute Diode for 1N5819?","26941","","<p>I am just new to the electronics field. basically I am a software developer but currently my job profile changed and I have to teach students some electronics subject and electronics project.</p>

<p>Currently me with my team decided to develop the <a href=""http://www.hobby-circuits.com/circuits/power-supply/battery-charger/711/mobile-phone-and-ipod-battery-charger-circuit"" rel=""nofollow noreferrer"">project over here</a>.</p>

<p><img src=""https://i.stack.imgur.com/lZj6p.jpg"" alt=""enter image description here""></p>

<p>but as shown in the part list of that project,
I couldn't find component <strong>D3 = 1N5819</strong> here in my local area.
So could any one suggest me the <strong>compatible/equivalent/substitute</strong> for that diode?</p>

<p><img src=""https://i.stack.imgur.com/1Yz3n.gif"" alt=""enter image description here""></p>
","<p>A 1N5819 is a 40V 1A Schottky diode.</p>

<p>Any Schottky diode with a similar rating will be acceptable (see below)</p>

<p>BUT in fact a 1N5817 or equivalent would be slightly superior here. The difference is small but there is no point in throwing away efficiency for no resultant benefit. The 1N5817 has a SLIGHTLY lower forward voltage drop when conducting so cause very slightly less losses overall. You may get a percent or two extra efficiency by using it.</p>

<p>1N5817 - 20 V  450 mV drop at 1A<br>
1N5818 - 30 V 550 mV drop at 1A<br>
1N5819 - 40 V 600 mV drop at 1A  </p>

<p>For 5V output (5 + .450) / (5 + .6) = 0.973<br>
 ie notionally at 1A you need to make about 2% more voltage at thesame current with the higher voltage diode.  </p>

<p><a href=""http://www.diodes.com/datasheets/ds23001.pdf"" rel=""nofollow"">1N5817, 1N5818, 1N5819 data sheet</a></p>

<p>The output voltage is 5V so a diode of 10V and above rating will be notionally OK for D3.<br>
  A 20V rating will be very safe.<br>
 Looking through tables and checking forward voltage drops would allow you to select a Schottky diode that was best suited, but most of similar ratings will be OK.</p>

<p>1N5819 is axial leaded through hole mount - but you could easily solder an SMD part on the board bottom if one had especially good specs. One does, if you can get it - see below.</p>

<p>You don't say where you are and that affects availability somewhat, but using memory &amp; digikey as a guide:</p>

<ul>
<li><p>Generic SMD: SS12 = 20V,  SS14 = 40V</p></li>
<li><p>ST STPS1L20MF 1A 20V  430 mV at 1A  </p></li>
<li><p>Microsemi LSM115JE3/TR13 15V 1A <strong>220 mV at 1A</strong> !!!!!!!!!! 
<a href=""http://www2.microsemi.com/datasheets/msc1300.pdf"" rel=""nofollow"">Datasheet</a></p></li>
</ul>

<p>Digikey's component database selector guide is a powerful design aid.</p>
","28162"
"How to carry high current on PCB","26885","","<p>I need to pass high current on some part of my circuit. I used <a href=""http://www.desmith.net/NMdS/Electronics/TraceWidth.html"">an online PCB track width calculator</a> to see that required track width is about 5mm and minimum clearance is 1mm, which makes it about 7mm width at total just for one track. I need several of these high current carrying tracks on my PCB which will consume too much space to afford.</p>

<p>I am thinking of soldering copper wires on the top side of the PCB which will be parallel to the thin and symbolical tracks on the bottom side. But I would like to know if there is a more professional way of overcoming this problem.</p>
","<p>High-current PCB bus bars are available from several suppliers, such as:</p>

<p><a href=""http://www.espbus.com"" rel=""nofollow noreferrer"">http://www.espbus.com</a></p>

<p>and are an ideal solution.</p>
","18879"
"What does it mean when multimeter accuracy is marked as: ±0,03%+10Digit?","26849","","<p>I have a digital multimeter and its accuracy for VDC is marked like this: </p>

<blockquote>
  <p>±0,03%+10Digit</p>
</blockquote>

<p>This multimeter has maximum display of 80000. So in the 80 V range it can show for example 79.999V.</p>

<p>0.03% of 80V is 0.024V - that is clear for me. But what does the <code>+10Digit</code> mean?</p>

<p>The device in question in <a href=""http://www.elv.de/Digitalmultimeter-DT-80000/x.aspx/cid_74/detail_10/detail2_6061"">Digitek DT-80000</a>.</p>
","<p>The 1 digit means that the least significant digit can be off by +/- 1. In this resolution 1 digit would mean +/- 0.001V. 10 digit means that basically of your 79.999V displayed, it could also be 79.989V (not including the 0,03%!)</p>

<p>So basically in your range the 10 digit specification means that +/- 0.03% + 0,01V is your error. For measuring 79.999V it means an absolute maximum error or +/- 79.999*0.03% + 10*0.001V = 0.034V.</p>
","23183"
"Considerations in a bench/lab power supply?","26721","","<p>I'm looking at adding a low-cost variable power supply to my electronics hobby bench. After years of cobbling together LM317's and LM7805's, it's about time...</p>

<p><strong>Considerations:</strong></p>

<p>I've found a few options which I am unsure about.</p>

<p>Dave at EEVBlog states in various videos (<a href=""http://www.eevblog.com/2009/05/10/eevblog-8-part-2-of-2-bk-precision-1697-programmable-lab-power-supply/"" rel=""nofollow noreferrer"">#8</a>, <a href=""http://www.eevblog.com/2009/09/11/eevblog-30-jaycar-bench-lab-power-supply-review/"" rel=""nofollow noreferrer"">#30</a>, <a href=""http://www.eevblog.com/2011/04/22/eevblog-166-hp-agilent-e3610a-lab-power-supply/"" rel=""nofollow noreferrer""><strong>#166</strong></a> (@04:16), <a href=""http://www.eevblog.com/2011/04/30/eevblog-168-how-to-set-up-an-electronics-lab/"" rel=""nofollow noreferrer"">#168</a>, <a href=""http://www.eevblog.com/2012/05/02/eevblog-272-manson-9400-40a-3-15v-switchmode-psu-teardown/"" rel=""nofollow noreferrer"">#272</a>, <a href=""http://www.eevblog.com/tag/powersupply/"" rel=""nofollow noreferrer"">#314</a>) that you should look for the following:</p>

<ul>
<li>Multi-turn knobs for voltage and current adjustment (as opposed to pushbuttons and separate coarse/fine knobs)</li>
<li>A power supply that can range from 0 volts on the low end instead of 1 or 1.2 volts</li>
<li>A switch to turn on/off the load</li>
<li>The supply shouldn't overshoot the target voltage when switched on</li>
<li>It should have a separate mains earth ground terminal (to allow combining supplies)</li>
<li>Prefer linear for less ripple and noise (though switching offers smaller size and cost for higher currents)</li>
</ul>

<p>Of course some factors depend on the intended use, some depend on preference, and some depend on budget.</p>

<p><em>(My intended usage is primarily microcontroller projects (3.3V-5V, &lt;1A), automation and control projects (solenoid, stepper motor, etc) (12-24V, &lt;5A), and low voltage lighting projects (12-24V, &lt;3A). Budget ideally &lt; $300.)</em></p>

<p>I asked earlier about the last point, linear vs switching, in a <a href=""https://electronics.stackexchange.com/q/51431/2028"">previous question</a>. Olin convinced me that the disadvantages of a switching supply are minor, and certainly for my application, make sense for budget, bench space, and other reasons.</p>

<p><strong>Thoughts:</strong></p>

<p>To touch on the other points:</p>

<ul>
<li>Multi-turn pots must be preference. I think they are better than single-turn pots, but I would prefer coarse/fine adjustments (or direct-entry via buttons) over turning a knob multiple times to make a larger adjustments.</li>
<li>I haven't needed to work on projects below 3.3 volts, but I am mindful of the <a href=""http://www.atmel.com/technologies/lowpower/default.aspx"" rel=""nofollow noreferrer"">pico-power AVR micros</a>, which can run at 0.7V. Certainly a supply that can go below 1 volt would be useful for this.</li>
<li>A load switch is nice, but not a deal-breaker.</li>
<li>How essential is it to have separate earth ground? I don't think I need to combine power supplies.</li>
</ul>

<p><strong>Possible Supplies:</strong></p>

<p>I've found a few supplies that I like, but I can't commit because none meet all the criteria.</p>

<ol>
<li><a href=""http://www.bkprecision.com/products/power-supplies/1550-switching-dc-bench-power-supply-with-usb-charger-output-1-36v-0-3a.html"" rel=""nofollow noreferrer"">BK Precision 1550</a>, 1-36V 0-3A, $150. <em>Concerns: Doesn't go below 1 volt. Uses up/down buttons for adjustment.</em></li>
<li><a href=""http://www.circuitspecialists.com/dc-bench-power-supply-csi3005x5.html"" rel=""nofollow noreferrer"">Circuit Specialists CSI3005X5</a>, 0-30V, 0-5A, $130. <em>Concerns: Unfamiliar brand and low price. (quality issue?)</em></li>
<li><a href=""http://www.bkprecision.com/products/power-supplies/1671A-triple-output-30v-5a-digital-display-dc-power-supply.html"" rel=""nofollow noreferrer"">BK Precision 1671A</a>, 0-30V 0-5A, $220. <em>Concerns: Unknown adjustment turns; no earth ground terminal.</em></li>
</ol>

<p>Is there some other supply or brand that meets all of these requirements? What points (if any) above, are truly important?</p>
","<h2>BK Precision 1550</h2>

<p>This is a switching supply.</p>

<p>The up-down adjustments would make this a non-starter for me.</p>

<h2>CSI3005X5</h2>

<p>A <strong>whole bunch</strong> of companies re-brand this unit. They're actually fairly decent. The voltage pot is a 10 turn, the current limit is button-driven in 0.03A increments.</p>

<p>The most common resaler of the power-supply is MPJA. It also comes in a bunch of voltage and current ranges: 0-30V 5A, 0-60V 3A, 0-120V 1A.</p>

<p>One thing you can't see in the pictures is that the unit has a set of screw terminals in parallel with the output banana jacks, below the cover plate labeled ""EXT OUTPUT"". If you need more permanent connections, you can use the screw terminals.</p>

<p><strong>The schematic for the whole supply is available.</strong> This makes it <em>enormously</em> more repairable (and hackable) then ANY of the others.</p>

<h2>BK Precision 1671A</h2>

<p>The funky extra output connections on this make me nervous (speaker terminals? really?). </p>

<p>I would guess that the potentiometers are single-turn, both from the artwork on the case near the knobs, and the fact that it does not mention multi-turn knobs, as that's normally a significant selling point at this price range.</p>

<hr>

<p>On the whole, If I had to choose from the supplies listed, I would wholeheartedly recommend the CSI3005X5, more because the alternatives are considerably worse.</p>

<p>Anyways, I would say that even if you don't think you need a floating output power supply (what you really mean when you discuss a separate earth terminal), you almost certainly <em>will</em> find it useful in the future, so I think you shouldn't dismiss it. Just being able to string multiple power supplies in series for higher output voltages is tremendously useful.</p>
","52036"
"Braking a DC brushed motor","26651","","<p>What would happen if I short the terminals of a DC motor together while power is disconnected but it is still freewheeling?</p>

<p>According to several sources, it would brake the motor. This makes sense. But they also mention using an array of power resistors and not just shorting the terminals. What would happen if I just shorted the terminals?</p>
","<p>What they said ... plus / but:</p>

<p>When a short circuit is applies to a DC motor's terminals the rotor and any attached load will be braked rapidly. ""Rapidly"" is system dependant but as braking power may be somewhat above peak motor design power the braking will usually be significant. </p>

<p>In most cases this is a bearable thing to do if you find the result useful.</p>

<p>Braking power is about I^2R </p>

<ul>
<li><p>where I = motor initial short circuit braking current (see below) and </p></li>
<li><p>R = resistance of circuit formed including motor-rotor resistance + wiring + brush resistance if relevant + any external resistance. </p></li>
</ul>

<p>Applying a short circuit achieves the maximum motor braking that you can achieve without applying external reverse EMF (which some systems do). Many emergency stop systems use rotor shorting to achieve a ""crash stop"". The resultant current will probably be limited by core saturation (except in a few special cases where an aircore or very large air gaps are used.) As motors are generally designed to make reasonably efficient use of their magnetic material you will usually find that maximum shorted current due to core saturation is not vastly in excess of maximum rated design operating current. As others have noted, you can get situations where the energy that can be delivered is bad for the motors health but you are unlikely to be dealing with these unless you have a motor from a spare electric locomotive, forklift or generally seriously large piece of equipment.</p>

<p>You can ""ease into this"" by using the method below. I've specified 1 ohm for current measurement purposes but you can use whatever suits. </p>

<p>As a test try using a say 1 ohm resistor and observe the voltage across it when used as a motor brake. Current = I = V/R or here V/1 so I = V. Power dissipation will be I^R or for 1 ohm peak Wattage with be peak amps squared (or resistor Volts squared for a 1 ohm resistor. eg 10A peak motor current will temporarily produce 100 Watt into 1 ohm. You can often but power resistors of say 250 Watt rating in surplus stores for very modest sums. Even a ceramic bodied 10 Watt wire wound resistor should withstand many times its rated power for a few seconds. These are usually wire wound, but the inductance should be low enough as to not be relevant in this application.</p>

<p>Another excellent source of resistor element is Nichrome or Constantan (= Nickel Copper) or similar wire - either from an electrical distributor or the former from old electric heater elements. 
Electric heater element wire is typically rated for 10 Amps continuous (when it glows heater-bar-cherry-red). You can place multiple strands in parallel to reduce resistance. This is hard to solder by normal means. There are ways, but easy for ""playing"" is to clamp lengths in screw down terminal blocks. </p>

<p>A possibility is a light bulb of about correct ratings. Measure its cold resistance and establish its rated current by I = Watts_rated/Vrated. 
Note that the hot resistance will be several to many times the cold resistance. When a current step (or current die to a voltage step) is applied to a bulb it will initially present its cold resistance which will then increase as it warms up. Depending on the energy available and bulb rating the bulb may glow up to full brightness or may hardly glimmer. 
eg a 100 Watt 100 VAC incandescent bulb will be rated at 100 Watt/110 VAC ~= 1 Amp. It's hot resistance will be about R = V/I = 110 /1 =~100 Ohms. It's cold resistance will be able to be measured but may be in the say 5 to 30 Ohm range. If initial power into the bulb is say 100 Watt's it will ""bright up"" rapidly. If power in initially is say 10 Watts it will probably not get above a glimmer. Best analysis of what a bulb is doing would be by two channel data logger of Vbulb and I bulb and subsequent plotting of V &amp; I and  summing the VI product as the motor brakes. A carefully handles oscilloscope will give a fair idea and use of two meters and great care may be good enough.  </p>

<p>Some SMALL wind turbines use rotor shorting as an overspeed brake when windspeeds get too fast for the rotor. When the motor is not saturated power out rises approximately as V x I  or square of wind (or rotor) speed. When the machine magnetically saturates and becomes a near constant current source, power increases approximately linearly with rotor speed or wind speed.  BUT as wind energy is proportional to rotor speed cubed, it is evident that there will be a  maximum rotor speed beyond which input energy exceeds max available braking effort. If you are going to depend on rotor shorting for over-speed control then you really really really want to start rotor shorted braking well below the input/output crossover speed. Failure to do this may mean that a sudden gust pushes rotor speed above the critical limit and it will then happily run away. Runaway wind turbines in high velocity winds may be fun of sorts to watch if you don't own them and are standing somewhere very safe. If both of these do not apply use lots of safety margin.</p>

<p>Likely braking profile can be determined semi empirically as follows.</p>

<ol>
<li><p>This is the hard part :-). Calculate rotor and load stored energy. This is beyond the scope of this answer but is standard text book stuff. Factors include masses and the moment of inertia of rotating parts. The resultant stored energy will have terms in RPM^2 (probably) and some other factors.</p></li>
<li><p>spin shorted rotor at various speeds and determine losses at given RPM. This could be done with a Dynamometer but some current measurements and circuit characteristics should suffice. Note that the rotor will heat under braking. This may or may not be significant. Also, a motor that has run for some while may have warm rotor windings prior to braking. These possibilities need to be included.</p></li>
<li><p>Do either an analytical solution based on the above (easier) of write an interative program to determine speed/power loss curve. Something like an excel spread sheet will do this easily. Timestep can be altered to observe results.</p></li>
</ol>

<p>For maximum safety of playing the motor can be connected to a 1 ohm (say) resistor and spun up using an external drive - eg drill press, battery hand drill (crude speed control) etc. Voltage across the load resistor gives current. </p>
","16666"
"How can an FPGA outperform a CPU?","26651","","<p>I hear of people using FPGAs to improve performance of systems that do things like bit-coin mining, electronic trading, and protein folding.   </p>

<p>How can an FPGA compete with a CPU on performance when the CPU is typically running at least an order of magnitude faster (in terms of clock speed)?</p>
","<p>All of the other popular answers presented here talk about literal differences between FPGAs and CPUs.  They point out the parallel nature of the FPGA vs the sequential nature of a CPU, or give examples of why certain algorithms might work well on an FPGA.  All of those are good and true, but I would suggest however that there is a more fundamental difference between CPUs and FPGAs.</p>

<p>What’s the common denominator between an FPGA and a CPU?  It is that they are both built on top of silicon.  And in some cases literally the same silicon processes.   </p>

<p>The fundamental difference is the abstractions that we pile on top of that silicon.  It’s not possible for one human to understand the full detail of a single modern CPU design from silicon to packaged IC.  So as part of the engineering process we divide that complex problem into smaller manageable problems that humans can wrap their heads around.  </p>

<p>Consider what it takes to turn that silicon into a functioning CPU.  Here’s a somewhat simplified view of the layers of abstraction necessary for that goal:</p>

<ol>
<li><p>First we have engineers who know how to create transistors from silicon.  They know how to design tiny transistors that sip power and switch at the rate of 10’s or even 100’s of gigahertz, and they know how to design beefy transistors that can drive signals with enough power to send them out of an IC package and across a PCB to another chip.</p></li>
<li><p>Then we have digital logic designers who know how to put those transistors together to libraries with hundreds of different logic cells.  Logic gates, flip flops, muxes, and adders, to name a few.  All in a variety of configurations.  </p></li>
<li><p>Next we have various groups of engineers who know how to put those digital (and sometimes analog) blocks together to form higher level functional blocks as as high speed transceivers, memory controllers, branch predictors, ALUs, etc.</p></li>
<li><p>Then we have CPU designers to architect high end CPU designs by pulling together those functional units into a complete system.</p></li>
</ol>

<p>And it doesn’t stop there.  At this point we have a working CPU which runs assembly code but that’s not a language most programmers write to these days.</p>

<ol start=""5"">
<li>We might have a C compiler to that compiles to assembly code (probably through some intermediate representation)</li>
<li>We could add another abstraction on top of C to get an object oriented language</li>
<li>We might even write a Virtual machine on top of C or C++ so that we can interpret things like Java byte code</li>
</ol>

<p>And the abstraction layers can go on from there. The important point here is that those abstraction layers combine to yield a CPU based system that scales massively and costs a tiny fraction of a custom silicon design.  </p>

<p>HOWEVER, the important point to be made here is that each abstraction also carries a cost itself.  The transistor designer doesn’t build the perfect transistor for every use case.  He builds a reasonable library, and so sometimes a transistor is used that consumes a little more power or a little more silicon than is really needed for the job at hand.  And similarly the logic designers don’t build every possible logic cell.  They might build a 4 input NAND gate and a 8 input NAND gate but what happens when another engineer needs a 6 input NAND?  He uses an 8 input NAND gate and ties off 2 unused inputs which results in lost silicon resources and waisted power.  And so it goes up the chain of abstractions.  Each layer giving us a way to handle the complexity, but at the same time charging us an additional incremental cost in terms of silicon and power.</p>

<p>Now compare those abstractions to what is needed for an FPGA.  Essentially, the FPGA abstractions stop at #2 in the list above.  The FPGA allows developers to work at the digital logic layer.  It’s somewhat more sophisticated than that because CPUs are ‘hard coded’ at this layer and FPGAs must be configured at run time (which, BTW, is why CPUs typically run a much higher frequencies), but the essential important truth is that that are far few abstractions for FPGAs than for CPUs.</p>

<p><strong>So, <em>Why can an FPGA be faster than an CPU?</em>  In essence it’s because the FPGA uses far fewer abstractions than a CPU, which means the designer works closer to the silicon.  He doesn’t pay the costs of all the many abstraction layers which are required for CPUs.  He codes at a lower level and has to work harder to achieve a given bit of functionality but the reward he gets higher performance.</strong></p>

<p>But of course there is a down side for fewer abstractions as well.  All those CPU abstractions are there for good reason.  They give us a much simpler coding paradigm which means more people can easily develop for them.  That in turn means that there are many more CPU designs in existence and thus we have massive price/scale/time-to-market benefits from CPUs.</p>

<p>So there you have it.  FPGAs have fewer abstractions and so they can be faster and more power efficient but difficult to program for.  CPUs have many abstractions design to make them easy to develop for, scalable, and cheap.  But they give up speed and power in trade for those benefits.</p>
","176496"
"How does an astable multivibrator LED blinking circuit work?","26647","","<p>I am a beginner in electronics. I come to know about the oscillator using RC circuits (capacitor charge and discharge and time constant tells the behavior of circuit).</p>

<p>Then I saw the following circuit that blinks 2 LEDs timely in sequence.
Will somebody explain its working? I know that capacitor will charge and during charging the LED will be off and when they discharge they will turn on the LED.</p>

<p>But why are the transistors there?</p>

<p><img src=""https://i.stack.imgur.com/G6Bx6.png"" alt=""This Circuit will blink LEDs timely""> </p>
","<p>This circuit is called an astable multivibrator, and the reason this circuit works is a little difficult to put into words.</p>

<p>Take a look at this <a href=""http://www.falstad.com/circuit/e-multivib-a.html"" rel=""nofollow noreferrer"">circuit simulation</a> that shows visually what is happening. You can slow the speed right down and look carefully at how the current is flowing.</p>

<p>While one of the capacitors is charging, current flows to the base of the alternate transistor, making the emitter-collector path conduct, making one of the LEDs light. When the capacitor is charged, it stops conducting and switches off the transistor, and then the other capacitor begins to charge switching on the other transistor, at the same time the first capacitor discharges, then the cycle repeats. </p>
","12284"
"Arduino Mega 2560 not detected when connected to USB port","26608","","<p>I've just received <strong>Funduino Mega 2560</strong>. This is a Chinese product and should be the exact copy of Arduino.</p>

<p>I am having problems connecting it to my computer and have spent several hours trying to figure it out to no avail.</p>

<p>My operating system is <strong>Windows 7 x64</strong> and here are the steps that I tried:</p>

<ul>
<li>Restarting Windows.</li>
<li>Pressing Reset button on the device.</li>
<li>Switching to other USB ports on my computer.</li>
<li>Using different cables (including the one that works with my printer).</li>
</ul>

<p>None of this helps. The device is not listed in Device Manager and Windows does not produce the sound when connecting plug-and-play device. Because of this, I am unable to get to the point to install the drivers for it.</p>

<p>I have also tried to <a href=""http://arduino.cc/en/Hacking/DFUProgramming8U2"" rel=""nofollow"">put the device in DFU mode</a> by shortening <em>RESET</em> and <em>GND</em> next to Mega8U2 chip in order to try to upload a new firmware. The device is not responding.</p>

<p>Here's the <a href=""https://plus.google.com/103516984778686258515/posts/NsXS4zgRKDi"" rel=""nofollow"">video footage</a> when the device is plugged in. Power LED is constantly on and L LED is flashing in a specific pattern.</p>

<p>Can anybody help me on how to get this thing detected by my computer?</p>
","<p>After many hours of trying to find a solution, I've concluded that Mega8U2 chip serving as USB to serial converter is dead.</p>

<p>I could not get it to respond in any way and I ended up using my AVRISP mkII programmer and ISP interface to program Mega2560, while using TX0/RX0 pins for serial communication.</p>
","82055"
"How do USB charging and ""smart"" charging ports (e.g. Anker's PowerIQ) work?","26606","","<p>Software engineer with a hobbyist understanding of EE here.</p>

<p>I've noticed lately lots of claims from producers of USB battery packs that their ports are ""smart"" and ""identify the device"" to ""deliver the maximum current for the device."" A cursory look into the matter seems to imply that this isn't completely marketing language, and there is actually something more complicated going on.</p>

<p>Not understanding the subtle chemistry of lithium-ion batteries or the nature of charge controllers, I would guess that to charge a battery as quickly as possible, you would draw as much current as possible, limiting it only to the battery specs. This must not be the case, since it is documented that devices limit their charging to 1A in some cases, when surely they could draw more. Why is this?</p>

<p>If the current draw is so controlled, what's going on with these smart ports to enable the device to draw more current? From a product page for an Anker battery, they claim their ports identify the device and ""speak its unique charging language"" (that phrasing makes me nauseous). Maybe I shouldn't react so harshly to that phrasing though - are the USB data lines actually used to negotiate some charging pattern?</p>

<p>Thanks!</p>
","<p>There are two additions to the USB specification that allow for more than 500mA current.</p>

<p><a href=""http://www.usb.org/developers/docs/devclass_docs/batt_charging_1_1.zip"" rel=""nofollow noreferrer"">usb battery charging specification 1.1</a>. Allows for up to 1.3A.</p>

<p><a href=""http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip"" rel=""nofollow noreferrer"">usb battery charging specification 1.2</a> (and <a href=""http://www.usb.org/developers/docs/devclass_docs/USB_Battery_Charging_1.2.pdf"" rel=""nofollow noreferrer"">this</a>). Allows for up to 5A.</p>

<p>Summary:</p>

<ul>
<li>USB 2.0 - BCS 1.1: 1.3A current, no data transmission.</li>
<li>USB 2.0 - BCS 1.2: 5A current with data.</li>
<li>USB 3.0 - BCS 1.2: 5A current handling but current limited to 1.5A, no data.</li>
</ul>

<p>More can be found <a href=""http://www.usb.org/developers/docs/devclass_docs/"" rel=""nofollow noreferrer"">here</a></p>

<p><strong>Edit:</strong> Sometimes the manufacturer doesn't follow the standard and uses something proprietary. Sometimes the ""something proprietary"" would be to just let the data pins hanging in the air or at a certain voltage and then provide an arbitrary amount of current...</p>
","121411"
"How to enable serial emulation through USB in a STM32F4 Discovery board?","26585","","<p>I've been searching for this and still haven't found anything about it. This board connects directly to the host PC with a USB bus. Is it possible to emulate a serial port in this case?</p>
","<p>This project implements CDC USB serial on the STM32F4 Discovery.</p>

<p><a href=""https://www.das-labor.org/trac/browser/microcontroller/src-stm32f4xx/serialUSB"" rel=""nofollow"">https://www.das-labor.org/trac/browser/microcontroller/src-stm32f4xx/serialUSB</a></p>
","29158"
"What's the third wire on a piezo buzzer?","26514","","<p>Most piezos I've seen have just two connections, but this type has three.<br>
<img src=""https://i.stack.imgur.com/AV9no.jpg"" alt=""3-wire piezo""><br>
What's the third wire for?</p>
","<p>They're called <strong>self drive</strong> types, and they're meant to be used as part of the oscillator:  </p>

<p><img src=""https://i.stack.imgur.com/0SsfD.png"" alt=""piezo self-drive"">  </p>

<p>The piezo effect works both ways: if you apply a voltage the piezo stretches, but also if it stretches it creates a voltage. This principle is used to create a feedback signal which drives the oscillator.<br>
The advantage of the self drive is that it will automagically work at its <strong>resonance frequency</strong>, where it produces the loudest sound. In 2-wire circuits the oscillator's frequency is independent of the piezo's resonance frequency, and it's the designer who has to make that they're close.   </p>

<p>For the piezo of your picture:  </p>

<blockquote>
  <p>""G"" = black<br>
  ""M"" = red<br>
  ""F"" = blue  </p>
</blockquote>

<p>(I guess <code>M</code>, <code>F</code> and <code>G</code> stand for <code>Main</code>, <code>Feedback</code> and <code>Ground</code>, resp. CMIIW)</p>
","18213"
"Why are there no 256-bit or 512-bit microprocessors?","26447","","<p>In an 8-bit microprocessor its data bus consists of 8 data lines.  In a 16-bit microprocessor its data bus consists of 16 data lines and so on.</p>

<p>Why is there neither a 256-bit microprocessor nor a 512-bit microprocessor?  Why don't they simply increase the number of the data lines and create a 256-bit microprocessor or a 512-bit microprocessor?</p>

<p>What is the obstacle that prevents creating a 256-bit microprocessor or a 512-bit microprocessor?</p>
","<p>Think about it.  What exactly do you envision a ""256 bit"" processor being?  What makes the bit-ness of a processor in the first place?</p>

<p>I think if no further qualifications are made, the bit-ness of a processor refers to its ALU width.  This is the width of the binary number that it can handle natively in a single operation.  A ""32 bit"" processor can therefore operate directly on values up to 32 bits wide in single instructions.  Your 256 bit processor would therefore contain a very large ALU capable of adding, subtracting, ORing, ANDing, etc, 256 bit numbers in single operations.  Why do you want that?  What problem makes the large and expensive ALU worth having and paying for, even for those cases where the processor is only counting 100 iterations of a loop and the like?</p>

<p>The point is, you have to pay for the wide ALU whether you then use it a lot or only a small fraction of its capabilities.  To justify a 256 bit ALU, you'd have to find an important enough problem that can really benefit from manipulating 256 bit words in single instructions.  While you can probably contrive a few examples, there aren't enough of such problems that make the manufacturers feel they will ever get a return on the significant investment required to produce such a chip.  If it there are niche but important (well-funded) problems that can really benefit from a wide ALU, then we would see very expensive highly targeted processors for that application.  Their price, however, would prevent wide usage outside the narrow application that it was designed for.  For example, if 256 bits made certain cryptography applications possible for the military, specialized 256 bit processors costing 100s to 1000s of dollars each would probably emerge.  You wouldn't put one of these in a toaster, a power supply, or even a car though.</p>

<p>I should also be clear that the wide ALU doesn't just make the ALU more expensive, but other parts of the chip too.  A 256 bit wide ALU also means there have to be 256 bit wide data paths.  That alone would take a lot of silicon area.  That data has to come from somewhere and go somewhere, so there would need to be registers, cache, other memory, etc, for the wide ALU to be used effectively.</p>

<p>Another point is that you can do any width arithmetic on any width processor.  You can add a 32 bit memory word into another 32 bit memory word on a PIC 18 in 8 instructions, whereas you could do it on the same architecture scaled to 32 bits in only 2 instructions.  The point is that a narrow ALU doesn't keep you from performing wide computations, only that the wide computations will take longer.  It is therefore a question of speed, not capability.  If you look at the spectrum of applications that need to use particular width numbers, you will see very very few require 256 bit words.  The expense of accelerating just those few applications with hardware that won't help the others just isn't worth it and doesn't make a good investment for product development.</p>
","42788"
"Communication between multiple microcontrollers","26381","","<p>I'd like to start implementing a system consisting of N microcontrollers (N >= 2 MCUs), but I would like to know the possibilities to let them communicate one with the other.</p>

<p>Ideally, (N-1) microcontrollers are placed inside the house acting as clients, while the last (the ""server"") one is connected to a PC via USB. The problems I have right now is how to connect these (N-1) microcontrollers to the ""server"". The clients MCUs perform very simple tasks, so it may not be a good solution to use ARMs to do such simple jobs just because they provide CAN / <a href=""http://en.wikipedia.org/wiki/PHY_%28chip%29"">PHY-MAC</a>.</p>

<p>The communication will not happen more than once every few minutes for most of the devices and on demand for others. The speed is not very critical (message is short): 1&nbsp;Mbit/s I think is WAY overkill for my purposes.</p>

<p>The MCUs I plan on using are the following.</p>

<ul>
<li>Atmel AVR Tiny / Mega</li>
<li>TI MSP430</li>
<li>ARM Cortex M3/M4</li>
<li>(Possibly Atmel AVR UC3 - 32-bit)</li>
</ul>

<p>I'd like to avoid <a href=""http://en.wikipedia.org/wiki/PIC_microcontroller"">PICs</a> if possible (personal choice), simply because there are less possibilities to program them (all the above have more or less open source tools as well as some official tools).</p>

<p>I know some ARMs provide <a href=""http://en.wikipedia.org/wiki/CAN_bus"">CAN</a> functionality and am not so sure about the others.</p>

<p>Right now I came up with these possibilities:</p>

<ol>
<li>Simple GPIO to send data (say > 16 bits at HIGH to indicate start of message, > 16 bits at LOW to indicate end of message). However it has to be at a standard frequency &lt;&lt; (frequency_client, frequency_server) to be able to detect all bits. Only need one cable per client MCU.</li>
<li><a href=""http://en.wikipedia.org/wiki/RS-232"">RS-232</a>: I think this is by far the most commonly used communication protocol, but I don't know how well it scales. I'm considering up to 64 client MCUs right now (probably more later)</li>
<li>USB: AFAIK this is mostly like RS-232, but I don't think it scales very well in this case (though USB supports lots of devices - 255 if I remember correctly - it may be overly complicated for this application)</li>
<li>RJ45 / Ethernet: this is what I'd really love to use, because it allows transmission over long distances without a problem (at least with shielded ><a href=""http://en.wikipedia.org/wiki/Category_6_cable"">Cat 6</a> cable). The problem is the cost (PHY, MAC, transformer, ...). I don't know if you can actually solder it well at home though. This way I wouldn't need a client MCU</li>
<li>Wireless / <a href=""http://en.wikipedia.org/wiki/ZigBee"">ZigBee</a>: modules are very expensive, though it may be the way to go in order to avoid ""spaghetti"" behind the desk</li>
<li>RF modules / transceivers: I'm speaking of those in the 300&nbsp;MHz - 1&nbsp;GHz band, so they should be difficult to solder at home. The modules are all built-in, but they are quite as expensive as the ZigBee (at least the RF's modules at Mouser, at Sparkfun there seem to be cheaper ones).</li>
<li>CAN? It seems to be very robust. Even though I don't plan to use it in automotive applications, it may still be a good alternative.</li>
<li><a href=""http://en.wikipedia.org/wiki/I%C2%B2C"">I²C</a> / <a href=""http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus"">SPI</a> / <a href=""http://en.wikipedia.org/wiki/Universal_asynchronous_receiver/transmitter"">UART</a>? Again - better avoid ""spaghetti"" with the cables if possible</li>
<li><a href=""http://en.wikipedia.org/wiki/Programmable_logic_controller"">PLCs</a> are not really an option. Performance degrade pretty fast as the length increases and depends on the capacitance load of the power network. I think price-wise is about the same as Ethernet.</li>
</ol>

<p>Furthermore, which protocol would be ""better"" in case of simultaneous transmissions (let's assume the rare case that at the very same instant two devices begin transmitting: which protocol provides the best ""conflict management system"" / ""collision management system""?</p>

<p><strong>To sum it up</strong>: I'd like to hear what may be the best solution for a distributed client system that do very light data communication, considering both flexibility (max number of devices, conflict / collision management system, ...), price, easy to make at home (soldering), ... I'd like to avoid spending 20$ on just the communication module, but at the same time having 30 wires behind the desk would suck.</p>

<p>The solution I'm imaging right now would be to do basic communication between near MCUs by GPIO or RS-232 (<strong><em>cheap</em></strong>!) and use Ethernet / ZigBee / Wi-Fi on one MCU per ""zone"" to communicate with the server (<strong><em>expensive</em></strong>, but it is still a lot cheaper than one Ethernet module per each client MCU).</p>

<p>Instead of cables it may as well be possible to use fiber optic / optical fibers. Though additional conversions are necessary, and I'm not sure if it'd be the best solution in this case. I'd like to hear additional details on them.</p>
","<p>CAN sounds the most applicable in this case.  The distances inside a house can be handled by CAN at 500 kbits/s, which sounds like plenty of bandwidth for your needs.  The last node can be a off the shelf USB to CAN interface.  That allows software in the computer to send CAN messages and see all the messages on the bus.  The rest is software if you want to present this to the outside world as a TCP server or something.</p>

<p>CAN is the only communications means you mentioned that is actually a bus, except for rolling your own with I/O lines.  All the others are point to point, including ethernet.  Ethernet can be made to logically look like a bus with switches, but individual connections are still point to point and getting the logical bus topology will be expensive.  The firmware overhead on each processor is also considerably more than CAN.</p>

<p>The nice part about CAN is that the lowest few protocol layers are handled in the hardware.  For example, multiple nodes can try to transmit at the same time, but the hardware takes care of detecting and dealing with collisions.  The hardware takes care of sending and receiving whole packets, including CRC checksum generation and validation.</p>

<p>Your reasons for avoiding PICs don't make any sense.  There are many designs for programmers out there for building your own.  One is my <a href=""http://www.embedinc.com/products/lprog/index.htm"" rel=""nofollow noreferrer"">LProg</a>, with the schematic available from the bottom of that page.  However, building your own won't be cost effective unless you value your time at pennies/hour.  It's also about more than just the programmer.  You'll need something that aids with debugging.  The Microchip PicKit 2 or 3 are very low cost programmers and debuggers.  Although I have no personal experience with them, I hear of others using them routinely.</p>

<h2>Added:</h2>

<p>I see some recommendations for RS-485, but that is not a good idea compared to CAN.  RS-485 is a electrical-only standard.  It is a differential bus, so does allow for multiple nodes and has good noise immunity.  However, CAN has all that too, plus a lot more.  CAN is also usually implemented as a differential bus.  Some argue that RS-485 is simple to interface to electrically.  This is true, but so is CAN.  Either way a single chip does it.  In the case of CAN, the MCP2551 is a good example.</p>

<p>So CAN and RS-485 have pretty much the same advantages electrically.  The big advantage of CAN is above that layer.  With RS-485 there is nothing above that layer.  You are on your own.  It is possible to design a protocol that deals with bus arbitration, packet verification, timeouts, retries, etc, but to actually get this right is a lot more tricky than most people realize.</p>

<p>The CAN protocol defines packets, checksums, collision handling, retries, etc.  Not only is it already there and thought out and tested, but the really big advantage is that it is implemented directly in silicon on many microcontrollers.  The firmware interfaces to the CAN peripheral at the level of sending and receiving packets.  For sending, the hardware does the colllision detection, backoff, retry, and CRC checksum generation.  For receiving, it does the packet detection, clock skew adjusting, and CRC checksum validation.  Yes the CAN peripheral will take more firmware to drive than a UART such as is often used with RS-485, but it takes a lot less code overall since the silicon handles so much of the low level protocol details.</p>

<p>In short, RS-485 is from a bygone era and makes little sense for new systems today.  The main issue seems to be people who used RS-485 in the past clinging to it and thinking CAN is ""complicated"" somehow.  The low levels of CAN are complicated, but so is any competent RS-485 implementation.  Note that several well known protocols based on RS-485 have been replaced by newer versions based on CAN.  NMEA2000 is one example of such a newer CAN-based standard.  There is another automotive standard J-J1708 (based on RS-485) that is pretty much obsolete now with the CAN-based OBD-II and J-1939.</p>
","35776"
"Is it more energy efficient to remove the ballast by using LED Tube?","26304","","<p>I was research about this topic, I am not an electrical engineer student.</p>

<p>According to this website:</p>

<p><a href=""http://www.everled.com/led-tube-lights/frequently-asked-questions/#faq1428"" rel=""nofollow"">http://www.everled.com/led-tube-lights/frequently-asked-questions/#faq1428</a></p>

<blockquote>
  <p>No, removing the ballast does not make your LED conversion consume
  less electricity. The ballast is an essential component which converts
  and regulates power delivered to a fluorescent tube. LEDs also require
  this power conversion and regulation; it can not be avoided. While it
  is true that the ballast is not 100% efficient  (nothing is), the LED
  Tube Lights which require removing the ballast have, simply put, a
  ballast inside the tube itself. As a result, those products suffer
  from the exact same inefficiencies as the existing ballast.</p>
</blockquote>

<p>Do you all agree about this? How true is it? It is because I am thinking to switch from fluorescent tube to LED Tube. Want to get more information in this area.
Thanks!</p>
","<p>Summarey:</p>

<ul>
<li><p>You MUST use a ballast with an EverLED TR tube.</p></li>
<li><p>You should <strong>not</strong> use a ballast with tubes <strong>where the manufacturer says</strong> that you should not use a ballast.</p></li>
<li><p>If the manufacturer does not make it clear whether you should or should not use a ballast then you should buy another brand of tube. This is such a fundamental issue that all competent manufacturers will address it.</p></li>
</ul>

<hr>

<p>You need to carefully read what EverLED, who you are quoting, say</p>

<p>It is clear from what they say that they are claiming that:</p>

<ul>
<li><p>THEIR LED tubes MUST use an external (existing) electromagnetic ballast.</p></li>
<li><p>Most other LED tubes that require the external ballast to be removed still need a ballast BUT have it internally. </p></li>
</ul>

<p>In fact, they are speaking rubbish in the second case above. LED tubes can be designed so that they do NOT need have to have a ballast, either external or internal. They do not need a ballast because they work entirely differently to how fluro tubes work.</p>

<p>BUT - just because they are talking rubbish about other people's products, it does not mean that you can  ignore what they say about using their product. It does not matter whetrher the external ballast ""wastes"" energy - they say you MUST use one with their tubes - leaving it in place may waste energy, but removing it will probably waste the complete $s that you paid for their tube. </p>

<p><strong>Their FAQ says:</strong></p>

<ul>
<li>Do you have to remove the ballast when installing the EverLED TR?
No. Unlike other LED replacements for linear fluorescent tubes, the EverLED TR LED Tube Light is the worlds first ballast compatible LED product.<br>
<strong>The EverLED-TR is designed to function with both T8 and T12 standard electronic and magnetic ballasts.</strong><br>
This unique feature makes the EverLED-TR a true ""drop-in"" solution and saves the considerable expense of hiring electricians to rewire the fixture and remove the existing ballast.</li>
</ul>

<p>and</p>

<ul>
<li>Is it more energy efficient to remove the ballast?
No, removing the ballast does not make your LED conversion consume less electricity. <strong>The ballast is an essential component</strong> which converts and regulates power delivered to a fluorescent tube. LEDs also require this power conversion and regulation; it can not be avoided. While it is true that the ballast is not 100% efficient  (nothing is), <strong>the LED Tube Lights which require removing the ballast have, simply put, a ballast inside the tube itself.</strong> As a result, those products suffer from the exact same inefficiencies as the existing ballast.</li>
</ul>

<hr>

<p><strong>Proper use of information:</strong></p>

<p>(1) For most LED fluorescent tube replacements, <strong>the manufacturer's instructions</strong> probably <strong>REQUIRE</strong> you to remove the ballast. </p>

<p>(2) <strong>For the example you have given</strong> they are <strong>DESIGNED</strong> to work with the ballast in place. </p>

<p>SO</p>

<p>(3) You have two examples that are identifiably different, and you cannot extend what it says to the other without taking note of what the manufacturer says in each case.</p>

<p>From what I read on the page that you cited, they are designed to work WITH the ballast BUT I did not see if they say that they NEED the ballast or if it is optional. It is quite possible, but not certain, that removing the ballast <strong>in this case</strong> would damage the new ""tube"".  </p>

<p>If the page you had found was about replacing mercury lights, or metal halide lights, or low or high pressure sodium lights, or Xenon arc lights,... with some different sort of lights there would be no reason to think that the advice for one type necessarily applied to all the others. And similarly there is no reason to think so here when there are two types of replacement being talked about. </p>
","95668"
"How do I calculate the thermal resistance of aluminum flat stock","26247","","<p>It's common for a lot of power circuits to bolt to a piece of aluminum flat stock. How large does the stock need to be?</p>

<p>Say that I'm mounting a tip122. The worst case condition is for it to have a 24V drop at 3A and a 50% duty cycle. So it is dissipating  36W.  </p>

<p>Looking at the datasheet, at 35W, the max case temp is ~80C. Assume a 25deg ambient temperature.</p>

<p>Temp drop = 35W * Tr = 55 delta or 1.57C/W for the plate.</p>

<p>So how much surface area do I need to achieve that?</p>

<p>Did I approach it correctly?</p>
","<p>You can use <a href=""http://www.efunda.com/formulae/heat_transfer/convection_forced/calc_lamflow_isothermalplate.cfm#calc"" rel=""nofollow noreferrer"">this calculator</a> to run some numbers for a <em>flat plate</em> (your design should have fins).  Beware that you have a limited number of tries, and that it requires an air velocity parameter.  Plug in your desired case temperature from the derating curves, which I'll go into further later.</p>

<p>Are you stuck with the TIP122?  How about the TO-220 package?  Both the TIP122 and TO-220 are only designed for medium power applications.  This type of application would be better served by a high power transistor and a metal can package. </p>

<p>The difference between a high power, medium power, or small-signal transistor is not only in their packages-it's in the device's construction as well.  The maximum ratings table for the [TIP122 <a href=""http://www.fairchildsemi.com/ds/TI%2FTIP122.pdf"" rel=""nofollow noreferrer"">datasheet</a>] show that it has a maximum collector power dissipation Pc of 2W in 25°C air, or 65W with Tc=25°C.  The second stat assumes that you could have an infinite heat sink, connected with the ultimate heat sink compound to the tab (technically the case, but the tab's all that matters) on the TO-220, such that the heat sink tab is at 25°C.  Even in that case, the transistor junction, which is what you're concerned about, will go over 150°C.  There is thermal resistance between the junction and the tab. (Sidenote: I'd agree with jluciani - I like my silicon 125°C or cooler).  (Sidenote 2: Metal heatsinks on BJTs are usually connected to the collector, so you'll have a 3A source connected the case, at a voltage greater than the emitter/ground, and won't want it to be somewhere that it can short out.)</p>

<p>Take a look at the derating curves (Figure 5 in the TIP122 datasheet):<br>
<img src=""https://imgur.com/fZ7sW.png"" alt=""TIP122 Derating curve""><br>
If you need to dissipate 72W, you simply can't do it.  If you need 36W, you would have to keep your heat sink less than 50°C above ambient (25°C.  It's this 50 degree temperature gradient that gives you power dissipation).  Compare that curve to a high-power transistor such as the <a href=""http://www.onsemi.com/pub_link/Collateral/MJ11021-D.PDF"" rel=""nofollow noreferrer"">MJ11022 [datasheet]</a>:<br>
<img src=""https://imgur.com/kPALt.png"" alt=""MJ11022 derating curve"">  </p>

<p>Your heatsink can now be a burn hazard long before the transistor is damaged.  72W corresponds to almost 100°C above ambient, and 36W to an absolute operating temperature of almost 150°C.  Beware of thermal cycling if you want to run it really hot.  </p>

<p>I'd strongly suggest that you use a high-power TO-3 or TO-204 transistor instead of your TIP122.</p>
","3795"
"Mobile/Cell Phone Power consumption?","26239","","<p>I'm trying to work out the amount of watts my mobile phone uses and thus how much power it needs to charge back to full power. My handset is the Nokia 820 Lumia and the specs are as follows:
Battery 3.7v, 1650mAh. </p>

<p>I have calculated the watts by using the following:
(1650mAh x 3.7)/(8 x 1000) = 0.76 with 8 being the talk time in hours when on 3G. However, I have become confused when reading the specs of the handset on CNET where it states the following:
Power Consumption Operational: 55.0W
Standby/Idle: 3.0W</p>

<p>Can anyone explain what the Power Consumption Operational is? This is what is confusing me. Does this mean that the handset is using 55W when fully operational and if so, how much wattage is needed to charge it (ie if I'm using the phone &amp; it's charging).</p>

<p>Thanks, 
Ads</p>
","<p>Your post deals with several different aspects, which I'll clarify:</p>

<p>1) The power necessary to charge the battery can be almost anything. You can charge a battery with 1W or with 5W. The voltage must always be the same. If you use less watts, the resulting lower current means less charge and therefore longer chargning time. There is a maximum current at which a battery can be charged. Ususally this is 1C, where the C is the capacity of the battery which is 1650mAh. So, battery max current is 1650mA. In reality, it can be C/2 or other values depending on the battery chemistry. Chargers must remain below this</p>

<p>2) CNET must be wrong about 55W.  At 3.7V you're talking about 14.86A which is very high and a battery of 1650mAh would likely get destroyed. I've worked with Cell Phones and although the peaks are high, they are never this high. Given a 1650mAh battery, you can draw 1650mA in one hour, or double in half an hour. In reality, the rate of discharge ends up changing the nominal capacity, so this isn't linear but an approximation.</p>

<p>As you calculated, the wattage is about 0.76W at 3G.</p>
","53414"
"Why do we use 32.768 kHz crystals in most circuits?","26217","","<p>Why do we use 32.768 kHz crystals in most circuits, for example in RTC circuits? What will happen if I use a 35 or 25 kHz crystal? </p>

<p>I assume because the IC internal Xin, Xout pin circuitry should be in CMOS/TTL/NMOS technology. Is it that true?</p>
","<p>The frequency of a real time clock varies with the application. The frequency 32768 Hz (32.768 KHz) is commonly used, because it is a power of 2 (2<sup>15</sup>) value. And, you can get a precise 1 second period (1 Hz frequency) by using a 15 stage binary counter.</p>

<p>Practically, in majority of the applications, particularly digital, the current consumption has to be as low as possible to preserve battery life.
So, this frequency is selected as a best compromise between low frequency and convenient manufacture with market availability and real estate in term of physical dimensions while designing board, where low frequency generally means the quartz is physically bigger.</p>
","177846"
"What is the purpose of ""MOSFET driver"" IC's","26193","","<p>There are dedicated ""MOSFET driver"" IC's available (ICL7667, Max622/626, TD340, IXD*404).
Some also control IGBTs. What is the practical purpose of these? Is it all about maximizing the switching speed (driving gate capacitance) or are there other motives?</p>
","<p>A MOSFET driver IC (like the ICL7667 you mentioned) translates TTL Or CMOS logical signals, to a higher voltage and higher current, with the goal of rapidly and completely switching the gate of a MOSFET.  </p>

<p>An output pin of a microcontroller is usually adequate to drive a small-signal logic level MOSFET, like a 2N7000. However, two issues occur when driving larger MOSFETs: </p>

<ol>
<li>Higher gate capacitance - Digital
signals are meant to drive small
loads (on the order of 10-100pF). 
This is much less than the many
MOSFETs, which can be in the
thousands of pF.</li>
<li>Higher gate voltage - A 3.3V or 5V
signal is often not enough.  Usually 
8-12V is required to fully turn on 
the MOSFET.</li>
</ol>

<p>Finally, many MOSFET drivers are designed explicitly for the purpose of controlling a motor with an H-bridge.</p>
","3354"
"Do MOSFETs have voltage drop across source and drain when turned on?","26139","","<p>Like diode and BJT having around 0.6V drop, is there any voltage drop across the MOSFET drain and source when the MOSFET is turned on? In the datasheet, they mention diode forward voltage drop, but I assume that it for the body diode only.</p>
","<p>The MOSFET behaves like a resistor when switched ON (i.e. when Vgs is large enough; check the data sheet). Look in the data sheet for the value of this resistor. It's called Rds(on). It may be a very small resistance, much less than an Ohm. Once you know the resistance, you can calculate the voltage drop, based on the current flowing.</p>
","144609"
"How do I get gyro sensor data (L3G4200D) into degrees/sec?","26115","","<p>I've been using a <a href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATASHEET/CD00265057.pdf"" rel=""nofollow"">gyroscope sensor</a> for an Arduino project.  It's all hooked up and working but I have no idea what the units of the data it's giving me are in.  I try to spin the board in my hand at what should be roughly 90 deg/sec but I'm getting numbers from the gyro of 2000-5000 range.  I've just tried scaling it down and calibrating the scale factor by visually rotating the board 90 deg/sec.  I know there has to be a better way to do this.  I've been over the data sheet many times and I'm still not getting it.  It says the units are mdps/digit which I've never heard of before.</p>
","<p>It says the range can be set to 250/500/2000 DPS, which I think is the maximum angular speed the device can measure (i.e 2000 DPS is the fastest setting)<br>
DPS stands for Degrees Per Second, so 360 DPS means 60 RPM (revolutions per minute) or 1 revolution per second.  </p>

<p>The mdps/digit stands for Milli Degrees Per Second, so (I think) for instance the value of 70 mdps/digit for the 2000 full scale range could be converted to degrees per second by dividing by 1 / 0.07 = 14.286. 1 revolution per second should therefore be 360 * 14.286 = 5413
Make sure you are reading the output registers correctly, the data is a 16-bit value in 2's complement (i.e the MSB is the sign bit, then 15 bits for the value)  </p>

<p>Try the above and see how it goes.  </p>
","39028"
"How to read data from a 3.5mm headphone jack?","26038","","<p>I was searching for a way to read data from a 3.5mm hack using an Arduino, but I couldn't find a well-detailed, beginner-friendly, tutorial on how to make this, at least how to wire everything and create a simple I/O code. Anyone know a good, beginner-friendly, tutorial about this topic?</p>

<p><em>PS: I don't want to use a <a href=""https://www.sparkfun.com/products/10331"">modem like this</a>, I to learn and make it not communicate only with iOS/Android devices.</em></p>
","<blockquote>
  <p>Analyzing audio with a Arduino isn't very simple for someone that just
  wants to get data from a TI-84, and other devices, via a 3.5mm jack.</p>
</blockquote>

<p>If you just want to communicate with a device like a TI-84 that uses a 3.5mm jack as just a connector for some type of serial interface, this shouldn't be too hard (although most of the helpful links online are dead.)</p>

<p>I don't know much about the TI-84 protocol, but since you wanted a basic tutorial, I'm guessing you may need some help with Arduino serial communication. <a href=""http://arduino.cc/en/Reference/serial"" rel=""nofollow noreferrer"">Arduino Serial</a> is a great place to start, and LadyAda has a good <a href=""http://www.ladyada.net/learn/arduino/lesson4.html"" rel=""nofollow noreferrer"">serial introduction</a>.</p>

<p>Here is an image that shows you to make the connection, (I'm not sure if any level converters are needed, but you can read the link below.)</p>

<p><img src=""https://i.stack.imgur.com/yMCAn.jpg"" alt=""enter image description here""></p>

<p>And the code and discussion can be found here: <a href=""http://www.cemetech.net/forum/viewtopic.php?t=4771&amp;start=0"" rel=""nofollow noreferrer"">Arduino to TI Calculator Linking Routines</a></p>

<blockquote>
  <p>PS: I don't want to use <a href=""https://www.sparkfun.com/products/10331"" rel=""nofollow noreferrer"">a modem like this</a>, I to learn and make it not
  communicate only with iOS/Android devices.</p>
</blockquote>

<p>I think the board you quoted is basically a level converter, converting 3.3volt signal to 5volt arduino, and vice versa. Also it said it was a 4 conductor cable so it is different than the TI-84 cable, I believe the TI's is only a 3 conductor.</p>

<p>Links:</p>

<ul>
<li><a href=""http://www.youtube.com/watch?v=cMNOGHKQDQk"" rel=""nofollow noreferrer"">Video: Arduino to TI-84+ Linking</a></li>
<li><a href=""http://www.youtube.com/watch?v=nepNMTSL09Q"" rel=""nofollow noreferrer"">Video: TI-84+ to Arduino communication</a></li>
<li><a href=""http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=96301&amp;start=0"" rel=""nofollow noreferrer"">Slightly complex discussion</a></li>
<li><a href=""http://arduino.cc/forum/index.php?action=printpage;topic=80479.0"" rel=""nofollow noreferrer"">Less helpful discussion, but with code example</a></li>
<li>A somewhat not relevant, but very cool project, <a href=""http://www.embedds.com/expand-ti-84-calculator-with-touch-screen/"" rel=""nofollow noreferrer"">Expand TI 84+ calculator with touch screen</a></li>
</ul>
","51496"
"7812 minimum input voltage?","25973","","<p>On <a href=""http://www.fairchildsemi.com/ds/LM/LM7812.pdf"" rel=""nofollow"">the datasheet</a> it doesn't mention an input voltage. Must the input voltage be higher than the output voltage or does it increase to 12&nbsp;V if I input 8&nbsp;V for example?</p>

<p>If so, what is the current like that it outputs?  </p>
","<p>A 7812 is a linear regulator, and does not step up the input voltage if the input is below the output (for that you need a DC-DC boost regulator).  The input voltage must be above the output.  All linear regulators have a minimum <em>dropout voltage</em>, or difference.</p>

<p>The 7812 is not a LDO (low-dropout regulator), as the typical dropout voltage is around 2 volts.  (An LDO might have a dropout voltage of 0.7 volts).</p>

<p>On page 6 of the datasheet, the maximum dropout voltage Vd is listed as 2.5 volts, meaning you need a minimum of 14.5 volts input to the device to guarantee an output of 12 volts..</p>
","7465"
"How to make a peak detector circuit","25967","","<p>I wasn't able to find a good guide on this and I only recently discover electronics for myself so have a little knowledge.
I was able to find something like what I need
<a href=""http://www.planetanalog.com/author.asp?section_id=396&amp;doc_id=562072"" rel=""noreferrer"" title=""Article"">Article</a></p>

<blockquote>
  <p>How does the circuit operate? It's simple: the input signal charges the hold capacitor, and the diode prevents the capacitor from discharging. The input op amp, in conjunction with the capacitor, presents that held value as the output via the driver op amp. As the input voltage increases further, the capacitor is charged to the higher voltage; if the input voltage decreases below the previous value, the voltage on the capacitor stays at the previous peak value.</p>
  
  <p>By adding a simple comparator to the output to compares the present input value to the already held value, it can also indicate that a peak has been reached when the present input value is less than the held peak by some desired amount, Figure 2. This transforms the circuit from providing a peak-hold function to implementing the peak-detect function, with comparator hysteresis to establish a valid-peak threshold.</p>
</blockquote>

<p><img src=""https://i.stack.imgur.com/qdJsc.png"" alt=""enter image description here""></p>

<p>And here is more thorough info about peak detectors
<img src=""https://i.stack.imgur.com/WD0mp.jpg"" alt=""enter image description here""></p>

<p>What I want is </p>

<p><img src=""https://i.stack.imgur.com/MndzB.png"" alt=""enter image description here""></p>

<p>And add peak resetting feature.
Question is, how to unite this two circuits from article and youtube into one?
I just think that some resistors were omitted if not in youtube picture then in schematics from article.
And another one, how to make negative peak detector(ND)? In video he says it easy task.. I mean which can detect gaps between peaks, and then positive peak detector(PD) will reset ND and vice versa.
<img src=""https://i.stack.imgur.com/jtMzf.png"" alt=""enter image description here""></p>

<p>Think I will be able to increase voltage between top and bottom, so for peak detection and resetting negative peak detector let's have (peak-20mv).</p>
","<p>What you want to do (or at least the way you want to do it) is actually quite complex. First, you need 2 peak detectors, one for positive peaks (let's call it PDA), and one for negative peaks (PDB). Your proposed schematic will work for PDA with a few modifications. If you use a 0.1 uF cap, it needs about a 100 ohm resistor in series with it. This will prevent the current spike / voltage step behavior seen in the video.</p>

<p>PDB is the same as PDA, except that the diode is reversed. </p>

<p>Assuming your signal has no noise at higher frequencies, you don't need to look for 20 mV differences. The output of the first opamp will do the job quite nicely, and all you have to do is detect when its output is above or below ground, depending on whether you're looking at PDA or PDB. For discussion, we'll call these opamps A1 and B1.</p>

<p>Here's where it gets tricky. The capacitors in PDA and PDB must not be tied to ground, but rather, each must be tied to the output of as sample/hold which is driven from the signal input (call them SH1 and SH2). When the  output of A1 goes below zero, generate a pulse which causes SH2 to acquire the input, and when A1 goes above zero, generate a pulse which causes SH1 to acquire the input. If the signal you are trying to analyze (the high frequency part whose peaks you are looking at) has a minimum period T, then the pulse width should be about T/10. At the same time as you acquire the SH signal, you also need to short the capacitor to zero. </p>

<p>Since you are talking about fairly low frequencies, the construction of these circuits should be fairly straightforward. I didn't say simple, I said straightforward.</p>

<p>In the presence of higher frequency noise, you may have problems, that is, the system may go berserk. This is left as an exercise for the reader.</p>

<p>There is another, possibly simpler way to do what you want. If (and you need to determine this for yourself) you can view your signal as a high frequency signal riding in a larger, lower frequency signal, and you know what those frequencies are, and they are not too close, then do this. Make a high-pass filter with 90 degrees phase shift at the signal frequency. This can be as simple as a couple of RCs and op amps. For a reasonably large frequency difference, </p>



<p><img src=""https://i.stack.imgur.com/8vvc9.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f8vvc9.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>is the sort of thing I'm suggesting. R1, C1, and OA1 provide a high-pass filter, while R2, C2 and OA2 provide 90 degrees of phase shift. This 90 degrees can also be described as differentiation (for sinusoids, they're the same thing).  Please ignore the TL081 label on OA2 - it's the default for the editor and I missed deleting it (and I'm too lazy to go back and redo the schematic).</p>
","112515"
"Connecting old webcam via USB","25905","","<p>I have removed the webcam (Chicony CNF-9157) from an old laptop with the intention of connecting it up to a computer via USB. The webcam and the LCD were connected to the motherboard by LVDS. Supposedly this webcam has a USB interface according to a <a href=""http://tim.id.au/laptops/acer/aspire%207745%207745g.pdf"" rel=""nofollow noreferrer"">manual</a> - see bottom of page 17.</p>

<p>I would like to know what I would need to do to connect this board (picture of connector pins) to a computer. </p>

<p><img src=""https://i.stack.imgur.com/2S2Psm.jpg"" alt=""enter image description here""></p>
","<p>Background:</p>

<p>One of the more common things in the last decade is laptop (and some desktop) producers using usb as a catch all bus, instead of dedicated hardware for peripherals. Instead of designing and including sometimes space intensive hardware for many parts, they just design with bridges with a few usb ports in mind, and hubs to expand them. Everything from keyboards to touchpads, fingerprint scanners, audio cards, sd/memory card readers, ir remote ports, touchscreen controllers, bluetooth, wireless and most importantly, webcams are built in as modules, using usb. Lets them reuse the same mainboard for multiple models in a modular design. On my Apple Macbook Pro, the camera, keyboard, trackpad, bluetooth, ir, and sd card are all USB devices. Even older, 1990's laptops had PS/2 and USB standard trackpads.</p>

<hr>

<p>Your question:</p>

<p>Okay, so no picture needed. Aside from the obvious label on the back, some googling confirmed that the camera has no onboard regulator. This makes it slightly harder to use than just wiring it up to a spare cable. Oh, and the Connector between the motherboard and display part carries lvds for the display, power for the inverter/backlight, usb for the camera and audio for the mic. It's not lvds for all, just a combined flex cable.</p>

<p>That camera module uses USB, with standard drivers. But instead of using 5v, and then regulating it down as needed, it expects to be powered by 3.3v. Without a manufacturer schematic or detailed parts list, we can't tell if it is 5v tolerant, and should assume it is not.</p>

<p><img src=""https://i.stack.imgur.com/5IOnM.jpg"" alt=""Usb pinout""></p>

<p><strong>The D-, D+, Gnd, and Shield Ground are easy.</strong> Those can be wired directly to the matching cables on a spare USB cable (Either cut off the end or find one that does it for you. Colors might not be the same, always check with a multimeter). Shield Ground could be omitted if needed, the computer you plug it into should have it connected on that end, but I suggest connecting it anyway.</p>

<p><strong>The 3v3 line is harder.</strong> As stated, you should not connect 5v directly to it, you will fry something. You have to bring that 5v down. From best to simplest option:</p>

<ul>
<li>LDO Switching Regulator</li>
<li>LDO Linear Regulator (LM1117-3.3 or similar)</li>
<li>Zener Diode (3.3v)</li>
<li>Two simple signal Diodes in series (1n4001 or similar)</li>
</ul>

<p>A LDO would be recommended, especially if you are worried about perfection or your investment. Connect the USB 5v to the LDO with the appropriate caps (probably not even needed, but recommended), and the LDO output to the 3v3 line.</p>

<p>Or you can go with simple (and maybe a bit daring). A standard signal diodes will at a moderate current draw, drop 0.6 to 0.7 volts. Two in series with 5 volts in will drop 1.4 volts, bringing the line down to 3.6v, which is often enough to work within tolerances of most 3.3 devices. <strong>This is a very basic option, and not guaranteed to work, but is not unheard of</strong> (Especially usb bluetooth devices that do this, or for V-USB attiny projects or msp430 usb projects).</p>

<p>Examples of this being done (without the 3.3v regulator, not needed for those cameras):<br>
<a href=""http://translate.googleusercontent.com/translate_c?depth=1&amp;ei=m1AkUd79J6et0AGUhIDYDw&amp;hl=en&amp;prev=/search?num=30&amp;hl=en&amp;tbs=sbi:AMhZZisUqD5GkM1fSgbmcifC4aO1QdyUFDjORJWdkK-8HC3ynrxHGCxUkxmzLJvKLCjAs9uDKh_18Pq-wSBfR3BN7ehniPTVcLfybUf-ODfVfVs5-AhIePkrYDEtk_1qFizpVW9nEsW3xfRCmW2uNSwFuUBc9VMLGkDFW3jRQaVbBaxx5BiRya48YjCst9tjFrcfpKMCxYz-GtrlXS8BzvVaXCslwxbKiL4l6TP9jiq5aT6tk90xFA5s7ABDe_1OtPeHT9h-AaKWWVzYdbGqyb1P3BYN3uVkcHqO5S6BqJZBtWy5HsZdckSRagEaNurrj54g6qP-pyvKY_1UQBGgz7RcR3-gRu3vTcPhZV0J3dDwYgnJHE3sVHVnu13ArxVGrtwZiqCwpf2DAZi8rqRgdNP5QyI7MgRsuASdVE-i7S2fc7eoMlsBEDDg61GuMyFThmXhpGIcSdQTEmIHjwocqf6hNESLx_1jm5hEho9vCIsEdwRESskHgSx2Suc98k7rdoN1tmhD_15bj89gVb_193BUKjv_1MU-Wp3XXbeU38pF3zQGRSQ-XLbXIwTjiAgoupZ1WX_14qHCrHp_1NKY5rcqRLSVystonrQSIjKxwVFVRQFWJR8jJv_1k0rX4mTvlIadkfGmVUD90S-gGdhY946ueYZVxzbfF802i2hEXklKvhBze_1bDMq5z5mBcLGQ3pon-sAk0E-u1XwIMQKeY-Q87qHkFlUUSzTFxcIsSn7T94FeGndECf1fVh_1Cf3hdqlLvQFzZL2o4dRIG_17COSO-Zmyd01ZC2wVT7MD1Fc1LSi9hmKVEfmMW25qZXgpi2WvzQ4tCRUBhmwG8fykdjF8Vgwhd8GPfxpRxoHQz7zabuYDPVWMckDoE0-n7j9RrYisR3AdR6_1wjUVdrkZkQ2vZy0MWlGi71iiOYoejA2TnRSocW_1q6-PI3tov3cFse_1u94Qgp1DXEIcC3JOnHYuO7QKMZ47B9tiZ1pE2-owWMh1D1q6xrfeYbgH5MwLJxC3hFVbdJh5p9EFk5yqz3R0FtNmoGAymHGNNM0I0Q4ObwZ8M7aqXNPeZeV3UM96pQBRrpP5aex_1PvMoFPxC2BGsepcAiA6Ioza_15FJWO9E1K12B5sJhJNBvcbOVYQWidi1Z_167VjT6ybkTZT6z5ywF50dbY_17_1XPJb8HzpzXAvfomFBrEWc1AVc5FCxjn4Zg_1nhOrsw&amp;rurl=translate.google.com&amp;sl=de&amp;twu=1&amp;u=http://particleflux.hostingsociety.com/2011/10/07/interne-laptop-webcam-als-externe/&amp;usg=ALkJrhjeIkzMy8xk9g6fsHd1q0ytc4h-Yw"" rel=""nofollow noreferrer"">Internal laptop webcam as External (Translated)</a><br>
<a href=""http://www.sunbizhosting.com/~spiral/Webcam/"" rel=""nofollow noreferrer"">Internal laptop webcam board as external cam</a></p>

<hr>

<p><strong>Summary:</strong> This is not a common, but trivial mod. Connect D-, D+, Gnd and Shield Ground to matching USB wiring. Connect USB 5v to regulator circuit to bring to 3.3 (3.6v), and connect to 3v3 line. Install Drivers. Enjoy.</p>
","58574"
"Calculate DC motor frequency","25871","","<p>I am driving a DC motor with H-Bridge Mosfet using PWM. 
The problem is I don't know exactly which frequency should I use.</p>

<p>1- Do the DC Motors have a very specific frequency for their best performance at all or they have a range of the frequencies they are able to work with?</p>

<p>2- What happen if I work with a DC Motor with Higher or Lower frequency that it can work with? Am I damaging that? 
(Because I have done that and with higher frequency my Motor make a strange noise like zzzz and with lower frequency it is shaking)</p>
","<ul>
<li><p>The PWM frequency supplied to a (presumably) brushed DC motor needs to be high enough that the combination of mechanical inertia and inductance of the coils is sufficient to smooth out the mechanical impulses of each pulse. This minimum would differ from motor to motor. Too low a frequency, and the motor motion will be perceived as a series of jerks, or a rattle. </p></li>
<li><p>The frequency needs to be not so high that the switching device (MOSFET, other) and connecting wiring do not waste significant power in switching losses. Too high a frequency, and the efficiency will drop. This maximum would differ depending on the switching mechanism, the length of wires to the motor, the drive voltage (higher voltage = slew-rate limitations), shielding, perhaps some other factors too.</p></li>
<li><p>The frequency should, if possible, avoid the audio spectrum: below 20 Hz (not a good idea except for really massive motors) or above 20 KHz, so that the magnetostrictive vibration in windings or sympathetic vibration in the mechanical rotor, will not be heard by humans.</p></li>
<li><p>In addition to all of this, a specific motor + load + mounting combination will have a resonant frequency at a given temperature. While this is likely to be not as high as the 20 KHz+ applied for typical motor PWM, certain types of rigid mounting can indeed reach ultrasonic resonant frequencies. If the PWM frequency matches the resonant frequency, resonant oscillations can cause the motor to vibrate uncontrollably. This is why rubber / nylon / elastomer buffers are commonly applied for motor mountings. </p></li>
</ul>

<p>This last issue is somewhat self-curing though, since after a bit of resonant oscillation the mounting tends to give / wear, even if it is rigid metallic mounting, and this changes the resonant frequency. </p>
","80157"
"Correct use of Flyback or Snubber diode across Motor or Transistor?","25859","","<p>From seeing a few schematics where the flyback or snubber diode has been placed across the transistor C-E terminals (Right Configuration), instead of what I typically seen as the the flyback being placed across the coil terminals (Left Configuration).</p>

<p>Which of these are ""correct""? Or does each have a separate purpose?</p>

<p>As a note, the diodes are normally listed as external 1N400x type diodes (on TIP120 Darlingtons), not the internal body diode of the BJT or Mosfet.</p>

<p>Final note, I have seen a few schematics that have both diodes, one across the coil and another across the CE terminals. I assume that one is just redundant without really affecting the circuit in that case, is that a wrong assumption?</p>



<p><img src=""https://i.stack.imgur.com/pSVOW.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fpSVOW.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>The answer to <a href=""https://electronics.stackexchange.com/questions/26944/when-why-would-you-use-a-zener-diode-as-a-flywheel-diode-on-the-coil-of-a-relay/26948#26948"">When/why would you use a Zener diode as a flywheel diode (on the coil of a relay)?</a> touches on this slightly, by showing a regular Diode in the above left configuration, while showing a Zener Diode in the right configuration. It doesn't say that the opposite isn't true (<em>or why</em>) <strong>So as a second part</strong>, can a Zener work in the left configuration, and a regular diode in the right configuration? If so, how does it change how it operates?</p>
","<p>Consider the operation of the circuit.</p>

<p>When the transistor is on current is flowing in the coil from top to bottom as the circuit is drawn we now switch the transistor off. The current in the coil still wants to flow.</p>

<p>For the circuit on the left this current can now flow back to Vcc via the diode the voltage across the coil has reversed direction and is limited by the diode the current can decay to zero safely.</p>

<p>For the circuit on the right the diode does not help. The current flowing in the coil will force the voltage on the collector to rise to the point where the transistor (or possibly the diode) breaks down and starts to conduct. At this point the current can start to decay in the coil but the energy in the broke down transistor (or less likely diode) will be excessive and may well result in the transistors death. Note a zener diode here will work because you allow the voltage on the coil to reverse so the current can decay to zero while limiting the voltage across the transistor to a safe value.</p>

<p>It should be noted the allowing the voltage across the coil to reverse to an higher voltage means the current can decay more quickly which is why you sometimes see a zener in the right hand circuit or more than one diode in series in the left hand one.</p>
","93463"
"Identifying USB wires","25810","","<p>I need help identifying which wire is which inside my USB cable. So I stripped the outer insulator for the USB cable, and it revealed 4 wires: Red, White, Green, and Yellow.</p>

<p>I thought Red would be VCC, but then I checked the circuit board for the mouse I ripped it off of and the board labeled where the four wires were soldered on.</p>

<p>It showed four characters each associated with a wire color: V (White), G (Green), D (Yellow), C (Red). Very strange from what I have learned about USB so far, but strangest being that Red is not VCC! Why is there no standard for these wire colors?</p>

<p>Anyways, how can I confirm which is which (VCC, GND, D-, D+)? I have a multimeter, and confirmed that between White and Green, White and Red, and White and Yellow, there is 5V. I don't think that is much of a development, but what should I do?</p>

<p>I do have other USB cables lying around as well, but that's an easy way out and my absolute last resort. Thanks.</p>
","<p>It's easy to just test the connectivity from the pins on the connector-end of the cable to the bare wires at the other end. </p>

<p>Even a hardware store multimeter is good enough for this test.</p>

<p>Disconnect the cable at both ends. Set your meter to the ohms function. </p>

<p>Touch one probe of the meter to one pin of the connector. Touch the other probe to one of the wires. If the wire is connected to the pin, you'll see (near) zero ohms. Depending on your meter you might also get a beep for continuity.</p>

<p>The pin assignments for the connector are readily available. Here's a picture from Wikipedia:
<img src=""https://i.stack.imgur.com/KgpAd.png"" alt=""enter image description here""></p>

<p>If your connector is a mini or micro type, those pinouts are also available from the Wikipedia article on <a href=""http://en.wikipedia.org/wiki/USB"" rel=""nofollow noreferrer"">USB</a>.</p>
","38549"
"Which products should have FCC certification and about how much does that cost?","25771","","<p>I'm aware that nobody actually does this at the hobbyist level, that successful commercial products have been launched without certification, and it's probably something I can't afford if I have to ask. However, I've always wondered about the ballpark cost. About how much does it cost to receive FCC certification?</p>
","<p>As a rough estimate, the cost is $10k-20k, plus your labor cost.</p>

<p>In the US, all products containing electronics that oscillate above 9 kHz must be certified. The law that governs this is FCC Part 15. The lawyers call this ""Title 47 CFR Part 15,"" meaning that it is the 15th subsection of the 47th section of the Code of Federal Regulations. In Europe, there is a similar regulation called CISPR 22. The requirements are almost the same, but slightly stricter about emissions at certain frequencies.</p>

<p>You can read <a href=""http://www.access.gpo.gov/nara/cfr/waisidx_05/47cfr15_05.html"">47 CFR 15</a> online. It's not as incomprehensible as you might expect. It seems overwhelming, but if you read the first few PDF's, you'll realize that most of it irrelevant for any single product.</p>

<p>Within 47 CFR 15, there are two classes of testing: Class A and Class B. Class A is an easier test to pass, intended for devices that are used in industrial settings. Class B is stricter, intended for devices that are targeted at consumers.</p>

<p>There is additional testing for ""intentional radiators,"" meaning radios, Wi-fi, Bluetooth and such. There may be an exception if your device is intended for use as a component in a larger system (like a microprocessor or memory card in a PC), but I'm not sure of the legal details there.</p>

<p>The major expense is renting the test chamber. This is what's called an ""anechoic chamber,"" instrumented with a pile of sensors for detecting electromagnetic radiation. To my knowledge, these cost around $1000/hour, and each testing session takes 2 or 3 hours. It's unlikely, but not impossible, that you will pass on the first try.</p>

<p>Here's a <a href=""http://en.wikipedia.org/wiki/File%3aRadio-frequency-anechoic-chamber-HDR-0a.jpg"">decent picture</a> of a test chamber. The one I've been in was actually much larger, like a squash court. I think it was an <a href=""http://www.intertek.com/"">Intertek</a> facility in Menlo Park, CA.</p>

<p>Unless you're experienced with emissions testing, it is worth hiring an expert, which costs around $500/hour. They can tell you things like, ""Put a ferrite bead on that power cable, and that will reduce the emissions at this frequency."" The folks I've worked with arrive with a bunch of ferrite beads and inductors (and maybe caps?) of various sizes that you can use in the chamber to hack your device into compliance. </p>

<p>(Perhaps it goes without saying, but I'm an engineer, not a lawyer. I have taken a few products through Part 15, but not in the last couple of years.)</p>

<p>If you're thinking about doing this, start by reading <a href=""http://rads.stackoverflow.com/amzn/click/0750681705"">EMC for Product Designers</a> by Tim Williams. I'd avoid the books by Mark I. Montrose; I found them less helpful and more expensive.</p>
","5205"
"Sine wave to square wave - Schmitt trigger","25714","","<p>I need to transform a bipolar sine wave (varies from -5&nbsp;V to 5&nbsp;V, 1&nbsp;kHz) to a square wave for further digital processing (0 to 3.3&nbsp;V), as in this image:</p>

<p><img src=""https://i.stack.imgur.com/MN1ay.png"" alt=""Sine wave to 3.3 V square wave""></p>

<p>The important thing is that this sine wave can't be distorted, so there can't be any limiting diodes at the input.</p>

<p>I have got only 3.3&nbsp;V and 5&nbsp;V voltage supplies. An obvious way to go is an op-amp working as a Schmitt trigger, but I'm not sure it can handle -5&nbsp;V at the input with a single positive 3.3&nbsp;V supply.</p>

<p>Should I reduce the amplitude on the input by using a resistor divider? And perhaps add some offset voltage for the signal to fit the input voltage range of the op-amp?</p>
","<p>I would like to suggest that the comparator circuit shown by @hwengmgr could use some small improvements over what was posted. </p>

<p>Improvements include:</p>

<ol>
<li>Bigger capacitor value to reduce filter effect of the capacitor at frequency.</li>
<li>Larger value resistors in dividers to reduce current load on source supply.</li>
<li>Added hysteresis at the comparator to make the circuit less sensitive to noise that may be on the input waveform.</li>
<li>Changed pullup resistor on output of comparator to a more sane value for 1mA load instead of 33mA.</li>
</ol>

<p><img src=""https://i.stack.imgur.com/68lOI.png"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/Q6i4W.png"" alt=""enter image description here""></p>

<p>This was simulated with LT-Spice. I used a model for a comparator that was built into the package library. You can substitute a comparator of choice as long as it is specified for operation at a Vdd of 3.3V.</p>

<p>The addition of the hysteresis feature necessitated the swapping of the '+' and '-' inputs of the comparator which causes an inversion of the output waveform. If this is a problem it can be easily flipped with a logic element. If you select a dual comparator the other half of the package could be used to invert the signal.</p>
","163267"
"Calculating a simple CRC","25709","","<p>In the datasheet for the <a href=""http://download.beckhoff.com/download/Document/EtherCAT/Development_products/EtherCAT_ET1200_Datasheet_all_v1i7.pdf"" rel=""nofollow"">ET1200</a> EtherCAT ASIC (page 94), I am told that I need to calculate a CRC of some of the 16-bit data in its EEPROM. The only description of this CRC is:</p>

<blockquote>
  <p>Low byte [of word 7] contains remainder of division of word 0 to word 6 as unsigned number divided by the polynomial x8+x²+x+1 (initial value 0xFF).</p>
</blockquote>

<p>For some reason, reading the Wikipedia page on <a href=""http://en.wikipedia.org/wiki/Computation_of_CRC"" rel=""nofollow"">Calculating a CRC</a> makes my brain melt. Especially since the example code is written in a special language.</p>

<p>Can someone please just tell me what I need to add to what, and shift where and whatnot? In C preferably.</p>
","<p>This sounds like CRC8.</p>

<pre><code>/*  
 * crc8.c
 * 
 * Computes a 8-bit CRC 
 * 
 */

#include &lt;stdio.h&gt;


#define GP  0x107   /* x^8 + x^2 + x + 1 */
#define DI  0x07


static unsigned char crc8_table[256];     /* 8-bit table */
static int made_table=0;

static void init_crc8()
     /*
      * Should be called before any other crc function.  
      */
{
  int i,j;
  unsigned char crc;

  if (!made_table) {
    for (i=0; i&lt;256; i++) {
      crc = i;
      for (j=0; j&lt;8; j++)
        crc = (crc &lt;&lt; 1) ^ ((crc &amp; 0x80) ? DI : 0);
      crc8_table[i] = crc &amp; 0xFF;
      /* printf(""table[%d] = %d (0x%X)\n"", i, crc, crc); */
    }
    made_table=1;
  }
}


void crc8(unsigned char *crc, unsigned char m)
     /*
      * For a byte array whose accumulated crc value is stored in *crc, computes
      * resultant crc obtained by appending m to the byte array
      */
{
  if (!made_table)
    init_crc8();

  *crc = crc8_table[(*crc) ^ m];
  *crc &amp;= 0xFF;
}
</code></pre>

<p>Taken from: <a href=""http://www.rajivchakravorty.com/source-code/uncertainty/multimedia-sim/html/crc8_8c-source.html"" rel=""nofollow"">http://www.rajivchakravorty.com/source-code/uncertainty/multimedia-sim/html/crc8_8c-source.html</a></p>

<p><a href=""http://sbs-forum.org/marcom/dc2/20_crc-8_firmware_implementations.pdf"" rel=""nofollow"">http://sbs-forum.org/marcom/dc2/20_crc-8_firmware_implementations.pdf</a></p>

<p>C implementations without lookup table (especially good for the 8-bit CPU optimised function):</p>

<p><a href=""http://websvn.hylands.org/filedetails.php?repname=Projects&amp;path=%2Fcommon%2FCrc8.c&amp;sc=1"" rel=""nofollow"">http://websvn.hylands.org/filedetails.php?repname=Projects&amp;path=%2Fcommon%2FCrc8.c&amp;sc=1</a></p>
","33823"
"Waterproofing outdoor wiring","25680","","<p>I have a small 12v aquarium pump (submersible), and I'd like to hook it up to a small solar panel and put it in an outside pond. This would mean cutting some leads and soldering. Pretty simple job. For inside work, I would usually just put some electrical tape or heatshrink around the joins, but in this case, the joins will be exposed to the weather (but not submersed in water).</p>

<p>What's the best way of waterproofing joins like this? Heatshrink + silicon? Hot glue? Something else? If there are multiple options, what are the pros and cons of each?</p>
","<p>In order from lowest to highest cost (roughly):</p>

<p>1) For something simple like this, grease filled wire nuts aren't the most beautiful option, but you can readily pick up a pack of them for a few bucks at your local hardware store.</p>

<p>Pros:  Cheap, available, work<br>
Cons:  Messy if you need to disassemble, clunky, look bad</p>

<p><img src=""https://i.stack.imgur.com/RxmwP.png"" alt=""enter image description here""></p>

<p>2) You could also use grease-filled IDC (insulation displacement) connectors.  </p>

<p>Pros:  Cheap, available<br>
Cons:  Like other IDC connectors, not great at high current, messy to service</p>

<p><img src=""https://i.stack.imgur.com/DHRhv.png"" alt=""enter image description here""></p>

<p>3) Use adhesive-lined heatshrink tubing.  It works just like heatshrink, but has an inner liner of hot melt glue which will melt as the tube shrinks, creating a (mostly) environmentally protected connection.</p>

<p>Pros:  Moderately easy to service, fun to shrink, looks clean<br>
Cons:  More expensive, is stiff when finished (can cause stress risers in the wire)</p>

<p><img src=""https://i.stack.imgur.com/cS5mN.png"" alt=""enter image description here""></p>

<p>4) Use adhesive-lined crimp splices or adhesive-lined solder splices.  Outer sleeve is similar to adhesive-lined heashrink but is usually transparent for inspection.  Crimp style are crimped, then shrunk.  Solder style have low temp solder pre-applied inside, just insert the wire, apply heat, and you've got a waterproof solder splice.</p>

<p>Pros:  Professional, adhesive layer can be inspected to ensure full coverage<br>
Cons:  Really, really expensive.</p>

<p><img src=""https://i.stack.imgur.com/QlKHz.png"" alt=""enter image description here""></p>
","55172"
"Connect speaker output to microphone input","25617","","<p>What exactly is the difference between a microphone signal and a speaker signal?</p>

<p>I want to make a simple cable to connect a PC speaker output to a microphone input. Does anyone have a good idea or circuit for doing this?</p>

<p><strong>Edited</strong></p>

<p><img src=""https://i.stack.imgur.com/RVFWX.jpg"" alt=""enter image description here""></p>

<p>I want to transfer data with audio cable and a way to connect speaker output to microphone input. I found <a href=""http://circuits.radio-electronics.co/audio/speakers-systems/connecting-speaker-signals-to-line-level-inputs/"" rel=""nofollow noreferrer"">this circuit</a>. Is it a good solution?</p>

<p><img src=""https://i.stack.imgur.com/gRoHO.gif"" alt=""enter image description here""></p>
","<p>Better make R2 switchable or variable with 1k being the upper limit.  But the basic approach is probably OK.</p>

<p>Speaker signals are relatively high voltage and relatively low impedance (meaning they can deliver a lot of current). What that means depends on the speaker; anything from a couple of volts and a fraction of an amp (total power 0.25 watts or so) for a little multimedia speaker up to tens of thousands of watts for an AC/DC gig...</p>

<p>Microphones are delicate devices delivering millivolts into a high impedance input (low current, very low power). </p>

<p>So you need to attenuate the speaker output (reduce the voltage) to avoid overloading the microphone input. The circuit you provided will protect it from damage, but it might still overload enough to distort the input signal.</p>

<p>HOWEVER if you are referring to the coloured connectors shown, the green one is ""Line Out"" - 0.1 to 0.5V rms, not enough power to drive a speaker directly; a lot of PC speakers have amplifiers built in to work with this low level signal. </p>

<p>In that case your suggested circuit is fine, but there is a simpler approach : just connect ""Line Out"" (green) to the ""Line In"" (blue) on the other end; they use the same signal levels and need no circuitry in between.</p>
","60955"
"PWM to vary the light intensity of a 220V bulb","25583","","<p>How is it possible to construct a ""light intensity varier"" (increse/decrease lighting) of a 220V bulb using pwm? The main requirement is to make use of pwm</p>

<p>I was thinking of this connection:</p>

<pre><code>220V mains --&gt; rectifier --&gt; smoothing --&gt; regular (to convert to dc) --&gt; relay --&gt; 220V bulb
where one end of the relay is connected to the 220V dc and the other end to ground;
and is switched one to the other using the output of a PWM as shown in the block diagram 
below:
</code></pre>

<p><img src=""https://i.stack.imgur.com/rEbZq.png"" alt=""Block Diagram""></p>

<p>However, I am afraid that this is a poor design and not safe: no transformer to lower down the ac voltage (so I can drive the 220V bulb); and in effect, other components might blow up.</p>

<p>My problem is not actually on the PWM but on the connection of other components.</p>

<p>Please give me a better solution to this. Diagrams or schematics or even links may help me a lot. Thank you.</p>
","<p>If the relay is a mechanical one it's an Awfully Bad Idea™. Relays need several ms to activate and release, so the switching frequency will be limited to about 100Hz. Your actual control cycle will be much slower than this so you'll end up with noticeable <strong>flicker</strong> to start with. The relay will also make a lot of <strong>noise</strong>, and <strong>spark</strong> all the time, so that a 100 000 cycle relay will reach its <strong>end of life</strong> after less than an hour. So the relay is out.  </p>

<p>What you could try is to use a <strong>MOSFET</strong> to do the switching. You'll have to place it in a rectifier bridge, and control it through an opto-coupler, but that's no problem.<br>
The MOSFET, when on, can have a very low resistance (the infamous \$R_{DS(ON)}\$), so we might think that power losses may be low. Unfortunately in general this isn't the case. The MOSFET dissipates power while switching on or off, appropriately called <strong>switching-power</strong>, and the more frequently you switch the higher the dissipation. And then there's the <strong>EMI</strong> you're radiating.<br>
On my previous job a colleague of mine worked for a while on what we called the ""100kHz dimmer"", which was supposed to use PWM to control brightness for high power dimming (4kW). But while internally the name remained the principle was left because it simply isn't worth the trouble.  </p>

<p>That's the reason most dimmer use phase control of your mains frequency.  </p>

<p><img src=""https://i.stack.imgur.com/NY73o.gif"" alt=""enter image description here"">  </p>

<p>This image shows <strong>forward phase dimming</strong>, which most dimmers do, including the simplest ""four-component dimmers"". They work well, and your switching frequency is fixed to twice the mains frequency (100Hz or 120Hz).
For incandescent bulbs there's a variant, called <strong>reverse phase dimming</strong>  </p>

<p><img src=""https://i.stack.imgur.com/DpcyT.gif"" alt=""enter image description here""></p>

<p>which doesn't cut in on the phase, but cuts it off. Simple dimmers using a triac as switching element can't do this; once a triac is on you have to wait until a zero-crossing before it automatically switches off. Advanced dimmers can select forward or reverse phase dimming depending on the kind of load.  </p>

<p>I suggest you stick to phase cutting. If you plan to use a microcontroller you may make it intelligent enough to have a <strong>linear power curve</strong>. Most dimmers have their phase congruential with the potmeter rotation, but because of the mains sine shape this doesn't agree with the power curve.</p>
","19255"
"Protecting AVR flash from reading through ISP?","25581","","<p>I'm trying to protect whole flash from reading through ISP. It has bootloader, able to self program application section. </p>

<p>Setting lock byte to: </p>

<p><code>LB1/LB2</code> will not let user to use bootloader to upload new firmware. </p>

<p><code>BLB12/BLB11</code> and <code>BLB01&amp;BLB02</code> will not prevent reading flash through ISP, if I am not mistaken. </p>

<p>So there is no way to let user update firmware by custom bootloader and protect flash from reading at the same time? </p>
","<p><strong>You didn't specify a chip, the following is mostly geared to the 8 bit atmega devices, but it's general information. Read the 'Memory Programming' section for you specific chip's datasheet for more specific information!</strong></p>

<p>That being said, and as you said, all AVR devices contain two Lock bits named LB1 and LB2. Programming these (to 0, low) will add protection to the contents written to Flash and EEPROM memories according to the table below. The level of protection is divided in three modes, where mode 1 offers no protection and mode 3 offers maximum protection. It is possible to move to a higher mode of protection simply by reprogramming the Lock bits. </p>

<p><strong>The AVR allows changing ""high"" bits to ""low"", but not the other way around. It is not possible to change a ""low"" Lock bit to a ""high"", thus lowering the level of protection is not possible. To clear the Lock bits, a complete Chip Erase is required, which erase the Flash memory.</strong></p>

<p><img src=""https://i.stack.imgur.com/17y2X.png"" alt=""AVR lock bit table""></p>

<p>These 2 lock bits alone (LB1 and LB2) when low will prevent 99.9% of people from stealing your firmware! Probably more than 99.9%. It would almost always be easier to reverse engineer your code.</p>

<blockquote>
  <p>So there is no way to let user update firmware by custom bootloader
  and protect flash from reading at the same time?</p>
</blockquote>

<p>To the best of my knowledge (I could be mistaken but I think I would have had issue with this before,) on devices that have the bootloader protection fuses (BLB12 and BLB11), you can lock <strong>your custom bootloader</strong> section, disable SPI and be protected from 97-98% of people. </p>

<p><strong>However when none of the Lock bits are programmed, there are no memory lock features enabled!!!</strong> The ISP disable is only enough to block 70% of people.</p>

<p>For some extra information, the Lock bits and Fuses are not located in the normal flash or EEPROM space, nor are they accessible from the software, except for Lock bits related to the Boot Loader in devices with the Self-Programming feature. Table 2 in <a href=""http://www.avrfreaks.net/modules/FreaksFiles/files/382/DN_020.pdf"">this app note</a> will help you identify what you can do for your particular device!</p>

<p><strong>Atmel's AVR line are not high security devices (unless explicitly noted!) and as such they absolutely don't come with any code safety guarantee, nor should they! Like all non-secure devices (and sadly even some secure ones,) they are prone to common attacks!</strong></p>

<hr>

<p><strong>Edit</strong></p>

<blockquote>
  <p>I will put HV programming interface header onboard. But can someone
  use HV programmer to READ flash? I know HV programmer can make chip
  erase even ISP/Jtag are disabled.</p>
</blockquote>

<p><strong>I don't think you should include the HV programmer in your board design unless absolutely needed and you know for sure it won't cause problems with anything.</strong> HV programmer's (12 volt signals,) are available only as a safety measure to program locked (error locked, mostly) chips. In theory this is <strong>only</strong> meant to program the device not read anything. <strong>And I have never heard of an exploit that would allow reading.</strong></p>

<blockquote>
  <p>For upgrading bootloader(occasionally) I will put HV programming
  interface header onboard. But can someone use HV programmer to READ
  flash? I know HV programmer can make chip erase even ISP/Jtag are
  disabled.</p>
</blockquote>

<p>I think there <strong>may</strong> be a way to update the locked flash via bootloader, (something to do with an internal write flag and/or ISR maybe???) But I'll have to search my notes and maybe have to test it. I won't be able to do this for ~20 hours; <strong>so I highly recommend asking a new question</strong> focused on this only and for the processor you mentioned. <strong>It's a very good question</strong>!</p>
","53293"
"Very Slow Electric Motor","25574","","<p>A customer has asked:</p>

<blockquote>
  <p>I want to slow down a small hobby
  sized DC motor to a user variable
  range that runs from slow to zero
  RPM. I would simply use a wall wart
  for a power supply and a potentiometer
  to set the speed but the load on the
  motor might change slightly. Although
  the drag on the motor will be very
  low, if that drag does change, I would
  like the speed of the motor to stay
  fairly steady in spite of this.</p>
  
  <p>A couple of people told me to use a
  PWM controller for this purpose
  because a PWM has a range of 0 to
  100%. Of course this in not in RPM.
  One other person said that the motor
  might not slow down properly because
  the hertz rating on the PWM could be
  to high to allow this or because the
  pulses might not have an adequate
  amount of strength to excite motor
  enough to move it at all when the
  motor speed is set near zero.</p>
  
  <p>I thought about using a steper motor so
  I looked a an Adafruit
  Motor/Stepper/Servo Shield for Arduino
  kit - v1.0 but I know almost nothing
  about this stuff so I don't know if
  this would be just the right thing
  either.</p>
  
  <p>I want to turn a knob to vary the
  speed of a motor form a few parts of
  an RPM up to a ""slow"" speed ...say 60
  RPM? ...maybe?</p>
  
  <p>Oh ...comparatively inexpensive and
  simple to set up would be great as
  well !</p>
</blockquote>

<p>Any thoughts? </p>
","<p>DC motors don't work well at low RPMs.  They stall and have horrible torque. (i.e. they can't turn very hard)  So people have created gear motors: motors with integrated gearing.  The result looks like a slightly bulkier motor, but one that has low RPMs and high torque.  If you were to take apart a running a gear motor, you'd see the motor part actually runs at several thousand RPMs, but it's geared down to something like 60 RPM max.  </p>

<p>A common specialized one is the standard hobby servo, which has some additional electronic bits but is fundamentally a gear motor.  Check out any place that sells motors for robotics or surplus electronics and you'll see several different gear motors to choose from.</p>

<p>DC gear motors are controlled just like normal DC motors, so an Arduino motor shield works just fine with them.</p>
","1156"
"Is MOSFET gate threshold voltage a limit or minimal ""Full-on"" switching voltage?","25524","","<p>I've been shopping for some mosfet transistors, for a starter kit, and noticed listings that state a mosfet is suitable for 5v logic, but the data sheets says Gate Threshold is 1-2v. 
4v gated mosfets, which are closer to 5v, by the same seller are not advertised as suitable.</p>

<p>I understand that applying Vgs voltage to the gate will switch the mosfet on, but how does it interact with different voltages?</p>

<p>So for example if a mosfet had Vgs range of 2-3 and I applied voltage ranges of 0-1,2-3,3-7 to it I assume it would go something like this (correct me if I'm wrong):</p>

<ul>
<li>0-1v - off</li>
<li>2-3v - on with proportional conductivity (with 3v having maximum).</li>
<li>3-7v - heat/burn?</li>
</ul>
","<p>The gate-source threshold voltage is the voltage that is required to conduct (usually) 100 uA of current into the drain. Different MOSFETs have different definitions and some devices define the threshold voltage at up to 1 mA drain current.</p>

<p>It's a fairly useful comparitive indicator of how a certain device might operate when given a proper logic level signal but it's always best to examine the data sheet. Typical you might find this: -</p>

<p><a href=""https://i.stack.imgur.com/vrKFw.jpg""><img src=""https://i.stack.imgur.com/vrKFw.jpg"" alt=""enter image description here""></a></p>

<p>You can see V\$_{GST}\$ causes very little current to flow but raising the gate voltage above this you'll see that the device conducts far more current.</p>

<p>Usually, maximum rated voltages for MOSFET gates is +/- 20V and so there is a fair bit of margin between operate and damage levels.</p>
","195074"
"How are Verilog ""always"" statements implemented in hardware?","25469","","<p>The Verilog <code>always</code> statement, namely</p>

<pre><code>always @(/* condition */)
    /* block of code */
</code></pre>

<p>executes the <code>block of code</code> whenever <code>condition</code> is satisfied. How is such an <code>always</code> block implemented in hardware?</p>
","<p>First, note that not all Verilog designs are synthesizable. Usually, only a very specific subset of constructs can be used in a design that is to be realized in hardware.</p>

<p>One important restriction that pops up is that every <code>reg</code> variable can only be assigned to in at most one <code>always</code> statement. In other words, <code>reg</code>s have affinity to <code>always</code> blocks.</p>

<p>The following types of <code>always</code> blocks can generally be used.</p>

<pre><code>always @(*) begin
    // combinational
end

always @(posedge clk) begin
    // sequential
end
</code></pre>

<p>In the former case, the <code>*</code> indicates that the block should be executed whenever any signal used in the block changes or, equivalently, that the block should be executed continuously. Therefore, <code>reg</code>s that have affinity to combinational <code>always</code> blocks are implemented as signals computed from other signals using combinational logic, i.e. gates.</p>

<p>Registers that have affinity to <code>always</code> blocks of the latter type, on the other hand, are outputs of D flip-flops that are clocked on the rising edge of <code>clk</code> (falling edge if <code>negedge</code> is used). Inputs to the flip-flops are, again, computed with combinational logic from other signals.</p>

<p>Consider the following, somewhat contrived example.</p>

<pre><code>reg out, out_n;
always @(*) begin
    out_n = !out;
end
always @(posedge clk) begin
    out &lt;= !out;
end
</code></pre>

<p>Here, <code>out_n</code> is associated with the first <code>always</code> block, <code>out</code> with the second. <code>out_n</code> will be implemented with a single NOT gate that will drive <code>out_n</code> and be driven from <code>out</code> (note that it is a pure combinational logic). On the other hand, <code>out</code> will be driven by a flip-flop clocked from <code>clk</code>. The input to the flip-flop will again be computed by a NOT gate from <code>out</code> (which is driven by the aforementioned flip-flop). Optimizing synthesizers will combine the two NOT gates and use one NOT gate and one flip-flop.</p>

<p>Depending on the hardware you have available, other types of constructs can be used. For example, if the flip-flops have asynchronous resets, the following construct is also synthesizable.</p>

<pre><code>always @(posedge clk or posedge rst) begin
    if (rst)
        // reset
    else
        // sequential
end
</code></pre>
","29560"
"which kinds of electrical equipment need a pure sine wave inverter to work correctly?","25457","","<p>I am planning to purchase a good inverter, and pure sine wave inverters cost about 3 times as much as modified sine wave ones of the same power. I am thinking about a 2000W continuous/4000W peak inverter 12/24VDC -> 230VAC.</p>

<p>Which commonly used equipment requires a pure sine wave, and what kind of equipment will be equally fine with a modified sine wave?</p>

<p>I am especially wondering about compressor and absorption refrigerators, dehumidifiers, electric drills, fans, microwave ovens, common power tools and kitchen tools. Purely electronic, computer and lighting equipment will not be used through this inverter, as these will have dedicated low-voltage DC-DC converters straight from the battery.</p>

<p>Are pure sine wave inverters any more efficient then much cheaper modified sine wave ones, in terms of input battery consumption per 230VAC output power?</p>

<p>Do there exist inverters which can accept a wide range of input DC voltage, for example will work on all of: 12V, 24V and 48V DC?</p>
","<p>Some people claim that certain loads ""may"" not work as well, or <a href=""http://en.wikibooks.org/wiki/Talk:Basic_Electrical_Generation_and_Distribution#damage"" rel=""nofollow noreferrer"">""may"" be damaged</a>, with anything other than a pure sine wave.</p>

<p>Since the power coming out of my wall sockets is significantly different from a pure sinewave, I suspect these sincere and well-meaning people are merely repeating propaganda from the manufacturer of a pure sinewave inverter manufacturer,
much like people repeat urban legends.</p>

<p>There is only one kind of device that I <em>know</em> doesn't work as well with a non-sine-wave inverter: devices that use a ""capacitive power supply""
-- see 
<a href=""https://electronics.stackexchange.com/questions/5572/how-efficient-is-a-capacitive-power-supply"">How efficient is a capacitive power supply?</a>
for details.</p>

<p>Since a ""capacitive power supply"" has a power factor near 0, it is questionable whether any ""capacitive power supply"" meets EU-mandated power factor laws, such as EN61000-3-2.</p>

<p>I suspect that all products -- as long as they were designed after EU-mandated power factor laws went into effect -- should work just as well on ""modified sine wave"" as with ""pure sine wave"" inverters.</p>

<p>Of course, I can't possibly know about every product ever designed -- if there is any specific product (that was designed after those EU-mandated power factor laws went into effect) that can't work or doesn't work as well with ""modified sine wave"" power, I would be interested. If anyone can explain <em>why</em> it doesn't work, in enough detail that I can try to avoid that kind of failure, I would be fascinated and grateful.</p>
","13163"
"How to remove enamel from wire?","25451","","<p>I want to repair my computer mouse cable which has become disconnected from the PCB.
The wire is insulated with enamel and I have to remove it before soldering it back onto the board.</p>

<p>How should I remove the enamel?</p>
","<p>If you are only doing this for a few wires (assuming USB or PS/2, that's only four to 6), just scrape it off with a knife, or use some sand paper (or even an emery nail board).</p>

<p><img src=""https://i.stack.imgur.com/TwDLe.jpg"" alt=""This is all you need""></p>
","53029"
"What is the name of the equation P=IV?","25434","","<p>Ohm's law is \$V=IR\$, but what is the equation \$P=IV\$ called? I've never heard anyone refer to it with a name, and my text books and wikipedia don't refer to it by any name.</p>
","<p>Informally, this is referred to as the ""power law"" or ""power formula"". It seems that there is a widespread practice to refer to it, incorrectly, as ""Watt's law"". </p>

<blockquote>
  <p>However, note that the first term potentially conflicts with a widely used meaning of ""power law"" which describes any situation in which two quantities are related via any any power higher than 1: quadratically, or cubically, and so on. For example, if a doubling in some independent variable X causes some dependent variable Y to quadruple, then X and Y are linked by a power law.</p>
</blockquote>

<p>It closely corresponds to what Wikipedia calls <a href=""http://simple.wikipedia.org/wiki/Joule%27s_laws"" rel=""nofollow"">Joule's first law</a>:</p>

<p>$$Q = I^2 \cdot R  \cdot t$$</p>

<p>Watts is just \$P = \displaystyle\frac{Q}{t}\$, which reduces it to \$P = I^2R\$, and by Ohms we get all the variants.</p>

<p>It looks like there is justification in just calling all variations of the electric power law ""Joule's First Law"".</p>

<p>However, people (who otherwise know a thing or two about electronics, as well as Ohm's Law) might not understand ""Joule's First Law"". In casual conversation, in which I don't want to get uppity and educate people about terminology, I would call it the ""voltage-current product law"".</p>
","87626"
"How to find the resistor value using the color codes?","25433","","<p>The title says it.</p>
","<p><img src=""https://i.stack.imgur.com/WLemG.jpg"" alt=""alt text""></p>
","6471"
"Why daisy chaining surge protectors not recommended","25418","","<p>I know MOVs inside surge protectors degrade over time, but I also see manufacturer put note in box that protection warranty void if I do daisy chaining of surge protector.</p>

<p>So questions:</p>

<ol>
<li><p>Is there an estimate of what life of MOV is if:</p>

<p>i. it never face surge before</p>

<p>ii. it face some surge before</p></li>
<li><p>I buying surge protectors with indicator showing effectiveness of surge protection: how they work?</p>

<p>How that indicator know if surge protection still effective?</p></li>
<li><p>Why manufacturer discourage daisy chaining of surge protector?</p></li>
</ol>

<p>I assuming most off-the shelf/commercial ""computer"" grade surge-protectors using MOVs</p>

<p>I was interest in find out if MOVs are connect in parallel to AC output of surge-protectors?</p>

<p>If so, how does MOVs connect in parallel effect them (something like connect R or C in parallel or series change their value/property)</p>
","<p>You should not daisy chain protective devices (fuses, MOVs, breakers, etc.) without first doing the appropriate research because generally speaking, they are rated to interrupt in <em>x</em> seconds given a particular fault current. When you have two protection devices with similar ratings in the circuit, they end up both trying to interrupt and may very well end up interfering with each other's interruption capability, possibly to the point where neither will properly clamp or interrupt the fault, causing excessive current flow and possibly fires.</p>

<p>e.g. A <a href=""http://www.littelfuse.com/data/en/Data_Sheets/313_315.pdf"">fuse</a> chosen more or less at random will clear in 1s with a ~20A fault current. If you have a second fuse with similar ratings in series, they will actually start limiting the fault current as they open up, and the fault current is no longer 20A, it may be 15A, or 10A, or ... you get the idea. That same fuse will clear a 10A fault in ~10s, which could be enough time to heat up wire or traces or cause a semiconductor to fail because it wasn't designed to handle that kind of current for that kind of time.</p>

<p>e.g. A <a href=""http://www.littelfuse.com/data/en/Data_Sheets/Littelfuse_Varistor_C-III.pdf"">MOV</a> series chosen more or less at random will clamp a surge at 130V. Two in parallel will have (slightly or significantly) different clamping voltages, usually with the lower one ""winning"". The breaker/fuse and MOV are usually selected so that the MOV will clamp and the breaker will open with the surge current, but when you mix and match you end up with a MOV clamping earlier, which the fuse/breaker wasn't designed to trip at, which now alters its fault ratings, leading to unpredictable protection.</p>

<p>In the industrial power world this kind of interaction is actually a significant part of the overall electrical design, since you have substation transformers protected with fuses, and the downstream equipment protected with their own fuses or breakers, and then the load controllers protecting their semiconductors or motors again with their own protective devices, usually a combination of MOVs or fused MOVs and either breakers or fusing. There's a lot to look at, including the I2T ratings of the protective devices, interrupting capabilities, pulse withstand capabilities, temperature derating, clearing times, current limiting effects as the devices become active, Joule ratings and so on. Here are a <a href=""http://www.cooperindustries.com/content/dam/public/bussmann/Edison/Resources/Catalogs/Bus_Edison_Glossary_of_Terms.pdf"">few</a> <a href=""http://ep-ca.mersen.com/fuseology.html"">good</a> <a href=""http://www.littelfuse.com/data/zh/Product_Selection_Guides/Fuseology.pdf"">references</a> if you wish to look into it further. The term ""fuseology"" has come about to describe this particular aspect of electronics design.</p>

<p>... and I bet you thought fuses, breakers and TVS type devices were pretty simple, didn't you. :-)</p>
","34883"
"Which programming languages are supported to program Arduino? ","25411","","<p>I would like to start to play with Arduino.</p>

<p>I've read that C and C++ are the official languages but I've also found other way to communicate using <a href=""http://www.arduino.cc/playground/Interfacing/Python"">Python</a> or <a href=""http://www.arduino.cc/playground/Interfacing/Java"">Java</a> for example.</p>

<p>Which programming languages are supported to program Arduino?<br>
Are there any limitations using Python or Java?</p>
","<p>You are a bit confused.  I would stick with the c/c++ arduino enviroment for the arduino.  Java, Python, Processing are used on the pc to run communications with the arduino, they are not laguages for the arduino.  One limitation for them is that they do not run on the arduino.</p>
","13621"
"How to easily calculate transfer function of an LC filter","25380","","<p>Consider a simple LC network:</p>



<p><img src=""https://i.stack.imgur.com/jjqVt.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fjjqVt.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Is there an easy way to compute its transfer function in the Laplace domain? I would consider as ""transfer function"" the ratio \$ H(s) = V_{out} (s) / V_{in} (s) \$.</p>

<p>I am looking for a <strong>hint</strong> to proceed (consider the branches? The voltages? The currents? KVL only or KCL only?) and I'm not asking others to do my homework.</p>
","<p>A simple (mathematical!) way to compute a transfer function for a circuit is to find the voltage at the output using the impedances of the components.</p>

<p>For a simple \$L\$-\$C\$ circuit (i.e. if you remove \$L_2\$ from the above circuit), we can use voltage divider rule to find the voltage across \$C\$:</p>

<p>$$V_o = V_i \times \frac{Z_C}{Z_C + Z_L} $$</p>

<p>(Where \$Z_C\$ is the impedance of the capacitor (= \$1/j\omega C\$) and \$Z_L\$ is the impedance of the inductor (= \$j\omega L\$))</p>

<p>Which gives you the transfer function as</p>

<p>$$\frac{V_o}{V_i} = \frac{Z_C}{Z_C + Z_L} = \frac{1}{1-\omega^2LC} $$</p>

<p>If we add ""\$L_2\$ + a series resistance \$R_L\$"" parallel to \$C\$, then we need to consider the combined impedance of ""\$C\$ parallel (\$L_2\$ series \$R_L\$)"" in the place of \$Z_C\$ in the above equation. After doing all the math, it gives us something big for the final transfer function:</p>

<p>$$\frac{V_o}{V_i} = \frac{R_L}{R_L + j\omega(L_1+L_2) - \omega^2L_1R_LC - j \omega^3L_1C}$$</p>

<hr>

<p>Now, if you want to see the transfer function without \$R_L\$, just set \$R_L = \infty\$ in the above equation.</p>
","148071"
"Best methods to fix broken tracks","25370","","<p>I've made a couple of PCBs which need the odd few 10 mil tracks, but are mostly 20/30 mil. Unfortunately the etching process isn't fantastic and there are numerous breaks in the traces, most of them small.</p>

<p>I've managed to convince solder lumps to go over the top of the smaller gaps, and have used components legs to bridge some of the larger ones. The solder lumps don't feel particularly reliable though, and there are some gaps which are too small and awkward to get a piece of wire across but too big to be bridged with just the iron.</p>

<p>Are there any standard ways to reliably fix up broken traces?</p>

<p><b>Update:</b> Thanks for the suggestions everyone!</p>

<p>I found and tried out a silver conductive pen. As a first time user I found it difficult to dispense, and obviously I didn't use enough of it or mix it properly because it didn't even end up being conductive.</p>

<p>It seems like the main problem was that I was trying to use pieces of wire which are too short. I found some small gauge tinned wire and used longer lengths, running it over significant lengths of good track on either side of the fault. That makes it much easier to position, and you can tack them down one end at a time.</p>
","<p>I use wire-wrap wire to fix broken tracks, or to modify boards. It's very thin, and easy to solder because of the silver coating. It breaks easily so some sort of glue to hold the wires in place is advisable, I just use masking tape, sometimes.</p>
","1416"
"Why the conversion to Intermediate Frequency?","25355","","<p>While studying about various communication systems (Superheterodyne receivers and Television receivers, to name a few) I often come across blocks that convert RF signals to Intermediate Frequency (IF) signals. What is the need for this conversion? Can't the RF signals be processed directly without converting them to IF signals?</p>

<p>I referred <a href=""https://electronics.stackexchange.com/questions/39617/questions-about-heterodyne-receivers"">this</a> question, but its answer didn't explain about the need for IF conversion.</p>
","<p>This answer is focussing on radio receivers such as AM and FM.</p>

<p>If you are only interested in receiving a signal from one station you may not need to have or use an intermediate frequency. You can build your receiver to tune in to just that frequency - the tuning needs to be sharp - you need to reject all possible other sources that may pollute the signal you want.</p>

<p>This is done by a bunch of band pass filters that together, have a passband that is wide enough to cope with the signal you wish to receive but not so wide that it lets others in.</p>

<p>Now say you wanted to tune in to 2 stations - you'd have to re-align all this filtering to coincide with a new station. Historically radios were simple and moving a bunch of tuned band pass filters to a new centre frequency would be hard.</p>

<p>It was a lot easier to have a bunch of fixed band-pass filters that did the majority of all the unwanted channel rection rather than trying to align them as you tuned the dial.</p>

<p>Thus super-heterodyne receivers were conceived. The incoming broad range of many radio stations were ""mixed"" with an oscillator that can be simply tuned with a dial - this produced sum and difference frequencies and usually the difference frequency became the new ""wanted"" frequency. So for FM (88MHz to 108MHz), the I.F. frequency became 10.7MHz and the oscillator would be (typically) at 98.7MHz for tuning 88MHz signals and at 118.7MHz for tuning 108MHz signals.</p>

<p>Don't hang me on this - it could equally be at 77.3MHz rising to 97.3MHz to produce the same set of difference frequencies. Maybe someone can modify my answer or advise me on this.</p>

<p>It's a small matter though because the point is that once you were able to manipulate the incoming signal's carrier frequency you can feed the result through a tightly tuned fixed set of band-pass filters before you demodulate.</p>

<p><strong>A bit more info about the VHF FM band</strong></p>

<p>It goes from 88MHz to 108MHz and has an IF that is just slightly bigger (10.7MHz) than <strong>half</strong> the frequency range it covers. There is a sensible reason - if the oscillator were exactly tuned to pick up 88MHz (i.e. osc = 98.7MHz) the difference frequency it would produce from the top of the band at 108MHz would be 9.3MHz and this would be just out of band of the tuning centred at 10.7 MHz and therefore ""rejected"".</p>

<p>Of course if someone started transmitting just outside the FM band you may pick this up but I believe that legislation prevents this.</p>

<hr>

<p>Following recent activity in this question I remembered that there is another valid reason for using an intermediate frequency. Consider that the signal from an antenna might be in the order of 1 uV RMS and then consider that you'll probably want the radio circuit to amplify this to something like 1V RMS (forgive the hand waving) at the demodulator. Well, that's a gain of 1 million or 120 dB and, no matter how hard you might try, having a circuit board with a gain of 120 dB is a recipe for feedback disaster i.e. it will oscillate and turn into a ""theramin"".</p>

<p>What an IF gets you is a break in the signal chain which prevents oscillation. So, you might have 60 dB of RF gain then convert to your IF and have 60 dB of IF gain - the signal at the end of the chain is no longer frequency compatible with what happens at the antenna and therefore, there is no theramin effect!</p>

<p>Some radios might have two intermediate frequencies - for just this reason alone you can reduce the RF gain to 40 dB and each IF stage can have a gain of 40 dB and NO theramin.</p>
","79911"
"How to calculate the maximum current a AA battery can deliver for a short period of time?","25319","","<p>I want to measure the maximum current a AA battery (full charged) can deliver for a short period of time (let's say one second)</p>

<p>I have in mind to do this with a multimeter :</p>

<ul>
<li>setup multimeter to measure amps, on the highest value. My current multimeter has an input rated 10A (for max 30 seconds) </li>
<li>plug negative probe to negative side of battery </li>
<li>plug positive probe to positive side of battery (for one or two seconds)</li>
<li>read value on device</li>
</ul>

<p>Usually when you need to measure current for given load, the multimeter is wired in series in the circuit. Since here, there is practically (almost) not load at all I have decided (to best of my knowledge) to connect the multimeter directly to the battery.</p>

<p>This will create a short circuit. In theory, current should be incredibly high (because resistance is almost zero), but since AA battery has internal resistance (IR), it will be limited (fortunately). </p>

<p><strong>Is this a good idea? Or will it kill the device or give not the desired effect for measurement ?</strong></p>

<p>Note : I have in mind doing this using AA battery only, doing this on mains AC current for example would (I guess) be very dangerous (220V AC short circuit) and destroy device immediately.</p>

<p>by <em>current the battery can deliver</em> I mean ampere not ampere-hour (Ah) which is a different unit.</p>
","<p><strong>WARNING:</strong> If ""trying this at home"" be aware that there is a small potential for significant hazard occurring - see below. </p>

<p>What you propose is a viable and useful and <em>potentially</em> dangerous method.<br>
I consider it is extremely unlikely that you will harm yourself doing this but need to note that the possibility exists. </p>

<p>I would not do this with other than single Alkaline or NiMh cells. I would be extremely careful with cells above AA in size. I would not consider trying this with LiIon or LiPo of LiFePO4 cells - which all have higher terminal voltages, high potential discharge rates, and a known tendency (except for LiFePO4) to ""vent with flames"". </p>

<p>I have used the method for testing partially used Alkaline batteries for many years with good success. I have never had any problems with it BUT this does not mean that everyone else  will be so lucky. Comments at end re what might go wrong.</p>

<p>To determine the ""degree of goodness"" of an Alkaline AA 1.5V battery I do two things.</p>

<ul>
<li><p>Measure cell open circuit potential. This is a very safe and non damaging method. An unused Alkaline battery that has not used up much of its shelf life will have more than 1.6V potential - typically 1.65V. This is higher than the cheaper Carbon-Zinc / Le Clanche / Heavy duty cells and is a reliable way of determining both that a cell really IS an Alkaline one and that it is essentially new. A cell that gives more than 1.6V does not need to be ""tested"" by current discharge as described below (but can be if desired).</p></li>
<li><p>Measure cell short circuit current for about one second using the 10 amp range on a multimeter. The meter's internal resistance, lead resistances, plug in connection resistances and contact resistance with the battery all are potentially significant resistances in this test so the results will vary somewhat between meters and depending on how well the probes make contact and how well the lead-plugs make contact in the meter sockets. Despite these potential differences (pun noted) the test is useful and reasonably repeatable.</p></li>
</ul>

<blockquote>
  <p><strong>Information only:</strong>  My most usual reason for doing this test is to determine which cells in a batch of cells are unused, and which of the used ones are suitable for use in a high output camera flash. The flashes concerned present a heavy load. Capacity is probably around 100 flashes - depending on energy taken which varies with photo environment  - a flash into a dark large room takes a full charge whereas when photographing a light coloured subject at close range only a small fraction of the stored energy is used. When used repeatedly to exhaustion the batteries are too hot to handle when removed from the flash - probably 70 degrees C ! The average power supplied by the batteries at full load is probably 50 to 100 Watts. The batteries need to be in good condition to supply this. </p>
</blockquote>

<p>The short-circuit test typically returns a result of 5 to 10 amps for good quality new cells, with the current falling slightly during the approximately one second test period.</p>

<p>The results for used cells varies considerably. Anything in the 3 to 5 amp range means that the cell is liable to be useful for flash use. A result of a few amps means the battery is still useful for low drain equipment such as a clock or electronic scales. Less than that the cell is probably best discarded. </p>

<p>While the above test is used for AA Alkaline cells it is also usable for NimH AA cells - with more risk. A NimH cell MAY be capable of higher discharge rates when fully charged, although the resistances present in this test will usually limit current to about the same values. I just tried this with a fully charged 2000 mAh Eneloop AA cell (Panasonic Chinese made version). This peaked at about 7 amps. The Eneloop cells are of lower capacity than the market leading quality AA NimH cells, but have a much longer shelf life and higher terminal voltage at given discharge level. I'd expect them to give similar results to higher capacity ""normal"" AA NimH cells.</p>

<p>On a few occasions I have been silly enough to carry cells in my trouser pocket a number of charged AA cells and on 3 such occasions was also unlucky enough to have them form a stable circuit with various coins, keys etc in my pocket. Pocket temperatures rose to well above pain level nearly instantly and burns were a definite possibility. Pocket contents had to be shed with indecent hast on each occasion. While no cell ever gave any indication of mechanical damage, if one had 'exploded' in some fashion under such abuse I'd have been the sorrier but not surprised. </p>

<p>A meter set to 10A is unlikely to be damaged by shorting a single AA NimH cell for short periods. More than one cell in series or larger than AA may cause dismemberment of cell or conflagration or dismemberment of meter internals. Some meters are fused on their 10A range but many are not (and most cheap ones that I have seen are not). Extended 10A range over-current use may destroy the 10A shunt and possibly the meter itself a few milliseconds later.</p>

<p>Hard shorts on batteries MAY cause disproportionate decreases in capacity compared to actual energy taken and MAY cause long term permanent degradation in secondary cells. I have not noticed that this is the case but YMMV.</p>

<p>After shorting the Eneloop cell mentioned above for a total of about 5 seconds at 7A it took about 40 mAh of charge to restore it to full capacity. Energy out ~= 1V say x 7A x5 seconds = 35 Joules. Restoration energy ~~= 1.4V x 40 mAh ~= 200 Joules. This test sample (1 item) is too small and uncontrolled to allow any good conclusion, but is interesting. </p>

<p>Worst case it seems likely that under full short circuit a cell may dissipate around 10 Watts internally, and usually less than that. My informal inadvertent pocket testing of NimH cells under high discharge for probably 10-20s indicates that they will tolerate this without self-dismantlement (at least for the small sample I have experienced), and my use if a flash on many occasions of AA Alkaline cells so that they become too hot to handle suggests that that too tolerate heavy discharge and high temperatures ""well enough"". </p>

<p>So, I would not expect that short circuit testing any AA Alkaline or NimH cell as described above would be physically dangerous. But if it ever did turn out to be, I would not be totally surprised.</p>
","163341"
"Current over CAT6 ethernet cable","25287","","<p>How much current can a CAT6 cable reliably handle? I want to use 3 of the cores for +5V and 3 cores for GND. I'm wondering at what current I need to think of another power solution.</p>
","<p>At 5V you'll probably run into voltage drop issues before you run into current limitations (if the length is more than a few meters).</p>

<p>Some CAT6 cable is rated as low as 60°C, and some is AWG 24, so if your ambient could be as high as 50°C. the current limitation might be as low as 2-3A. See, for example, <a href=""http://www.pacificcable.com/Cat_6_Tutorial.htm"" rel=""noreferrer"">this</a> and <a href=""http://www.seas.gwu.edu/~ecelabs/appnotes/PDF/techdat/CCCofCC.pdf"" rel=""noreferrer"">this</a>. </p>

<p>Edit: If the length could be as long as 10m, and assuming AWG24 size-- resistance is nominally 84 ohms/km so 0.84\$\Omega\$/10m, so three in parallel, round trip, would be 0.56 ohm at 20°C. If 5% voltage drop (250mV) was acceptable, that would be a current of 440mA maximum, so maybe 350-400mA maximum allowing for temperature. </p>
","130347"
"LTspice: Vary a resistor's value over time","25244","","<p>I want to simulate the load regulation of a power-supply.  I'm sure I remember being able to vary the value of a resistor over the course of a simulation in LTspice, but I can't remember how. Anyone? </p>
","<p>Use the SpecialFunctions/Varistor.asy component with a time-varying voltage source </p>

<p><img src=""https://i.stack.imgur.com/CdUOr.png"" alt=""Screenshot""></p>
","3625"
"What is the purpose of a bias resistor?","25217","","<p>Could someone explain what ""bias"" is.</p>

<p>And why do some devices need an external bias resistor?</p>
","<p>If your device is powered from a single voltage and ground, it can't output anything below ground.  In order to reproduce a signal that varies between +V and -V, you need to shift it upwards so that it varies from 0 to +2V instead.  The DC offset is the bias.</p>

<p><a href=""http://en.wikipedia.org/wiki/Biasing"" rel=""nofollow"">http://en.wikipedia.org/wiki/Biasing</a></p>
","2023"
"Why is it important for mains power supplies to be isolated?","25203","","<p>In all the computer power supplies and other power supplies I've taken apart, I've noticed they are fully isolated from the mains. Galvanic isolation through transformers, and often optical isolation for feedback. There is usually a very visible gap in the traces between the primary and secondary sides, at least 8mm across. Why is it important that these supplies be isolated?</p>
","<p>Because the mains supply is very unpredictable, and can do all sorts of things outside its nominal specification, which might damage components or at least break the nominal design assumptions.   A non-isolated design also has all its voltages referenced to one of the mains conductors, which might or might not have a useful/safe relationship to other potentials in your environment (like earth/ground, for example).</p>

<p>If the only stuff on the low-voltage side is inaccessible electronics, then non-isolated supplies are fine - they tend to much be cheaper/simpler than isolated supplies, and lots of household equipment uses them.  Even things like televisions used to work like this, if you go right back to before the time when they had external video/audio connections.  The antenna connection was the only external socket, and that was capacitor-isolated.</p>

<p>If a human being or 3rd party piece of equipment needs to interconnect with the low-voltage side of your design, then an isolated supply both gives you a clear barrier across which dangerous voltages won't pass, even in the case of component failure, <em>and</em> it means your circuit is now 'floating' relative to the mains.  In turn, that means you can arrange for all the electronics to operate near ground potential, with all your interconnected equipment having at least roughly the same voltage reference to work from.</p>
","6763"
"How many shields can I plug into Arduino?","25186","","<p>I'm going to buy an Arduino Uno/Duemilanove and I would like to add a couple of shields like an LCD and a WIFI shiled. </p>

<p>How do I know if I can plug them both to Arduino?</p>
","<p>Go to <a href=""http://shieldlist.org/"" rel=""nofollow"">shieldlist.org</a> and look up the shields you are going to use. Then see if they both want to use the same pins. If your shield is not on <a href=""http://shieldlist.org/"" rel=""nofollow"">shieldlist.org</a> then look up their schematic/datasheet.</p>

<p>Generally if multiple shields need to use the one pin, you can't use them together, <em>unless</em> those pins happen to be SPI or I2C pins. Both of these protocols use a master-slave model, with one master and many slaves. In these cases you may be able to use shields that share some or all pins.</p>

<p>The SPI pins are digital 10, 11, 12, an 13 by default. Pin 10 is the <strong>Slave Select</strong> pin, which is used to specify which slave you want to talk to. You will need a <em>different</em> SS pin for each SPI slave you want to talk to.</p>

<p>The I2C pins are analog 4 and 5. I2C uses device addressing to differentiate between slave devices, so there is no equivalent of Slave Select. The same two pins can be shared by all I2C devices.</p>

<p>Keep in mind that stacking many shields introduces various issues like increased capacitance, which may start to deteriorate the signals, including those for SPI/I2C, and cause communication failures. </p>
","13627"
"Use of ground symbols in circuit diagrams","25182","","<p>In <a href=""https://electronics.stackexchange.com/questions/67887/boost-converter-to-5v"">this question</a> is the following diagram for a voltage booster intended for small battery powered devices</p>

<p><img src=""https://i.stack.imgur.com/2VKC7.jpg"" alt=""circuit diagram""></p>

<p>The <a href=""http://www.ti.com/lit/ds/symlink/tps61200.pdf"" rel=""nofollow noreferrer"">TPS61200 spec</a> says GND is <em>control/logic ground</em> and PGND is <em>power ground</em> but this isn't reflected in the symbols chosen in the diagram. I'm also puzzled why the link to earth is shown on GND rather than on PGND.</p>

<p>From <a href=""http://www.rapidtables.com/electric/electrical_symbols.htm#ground%20symbols"" rel=""nofollow noreferrer"">this key</a> it seems that various parts of the above circuit are to be tied to <em>chassis ground</em> and not to (say) digital/common/signal/control/logic ground.</p>

<p><img src=""https://i.stack.imgur.com/owJIM.jpg"" alt=""symbol chart""></p>

<p>Why specify chassis ground? Am I wrong in interpreting that as the metal part of an enclosure which is (usually) tied to earth through the mains electrical connection for safety purposes.</p>

<p>I have looked at similar questions here† but am still puzzled by the choice of symbols on the example circuit.</p>

<p><strong>Why are these particular symbols used in this circuit diagram?</strong></p>

<p>† Related questions</p>

<ul>
<li><a href=""https://electronics.stackexchange.com/q/59574/2191"">Schematic symbol confusion</a></li>
<li><a href=""https://electronics.stackexchange.com/q/56108/2191"">How is the following ground symbol different from conventional ground?</a></li>
<li><a href=""https://electronics.stackexchange.com/q/52694/2191"">Ground question</a></li>
</ul>
","<p>The designer has tried to indicate on the schematic the way the grounds should be separated, and done a reasonable job with the standard symbols available to him.</p>

<p>There ought to be a detailed description and written guidelines in the datasheet, and recommended PCB layouts either there, or in a separate Application Note (if you look up this chip on the TI website, the relevant App Notes should be easy to find)</p>

<p>But basically, the IC contains both a high gain amplifier with a sensitive input, and a high current switch, capable of generating a lot of noise. With incorrect grounding, high currents in the ground wires can generate unwanted signals on the amplifier input, causing instability or poor voltage regulation.</p>

<p>The solution is to - as far as practical - provide two separate grounds; one quiet one for sensitive signals (denoted by ""earth ground"" ) and one for high currents (denoted by chassis ground, which doesn't have to be connected to the actual chassis!) The two MUST be tied together - at one, carefully chosen point, sometimes called a ""star earth"" (useful search term for further reading!)</p>

<p>Thus R1 and R2 provide the voltage feedback to the error amplifier. You don't want to inject large errors via R2, so it is returned to  the quiet ground. The error amplifier will take its reference from the ""GND"" pin (again on the quiet ground)</p>

<p>Now...</p>

<p>Switching current through L imposes a huge AC current waveform on Vin, and generates a huge AC current on Vout respectively. These currents are communicated to ground via C1 and C2 respectively. </p>

<p>In fact the power side of this circuit can be read as one continuous loop <code>GND -&gt; C1 -&gt; L1 -&gt; (switch inside chip between L and Vout) -&gt; C2 -&gt; GND.</code></p>

<p>This loop is the most important part of the circuit and must be kept as small as possible. Best thing to do is to put the GND leads of C1 and C2 right next to each other - virtually all the AC current goes from one C pin directly to the other. The other connections (PGND, VAUX via C3) are less important but go to this point too. </p>

<p>And one (reasonably thick) trace from here to the low noise ground will carry relatively little current, with relatively little noise on it.</p>

<p>Learning to read this high current path and keep it separate from low noise ground will go  a long way to making your switchers trouble free.</p>
","67936"
"JTAG vs SWD debugging","25175","","<p>After skimming through <a href=""http://www.arm.com/products/system-ip/debug-trace/coresight-soc-components/serial-wire-debug.php"" rel=""noreferrer"">this article</a>, I am wondering what are the benefits of SWD debugging over JTAG debugging?</p>

<p>I understand SWD uses less wires/pins, takes up less space etc. But how does it play out in terms of performance, features and cost of the hardware programmer/debugger devices? Can code still be break pointed/paused and stepped through in IDE's like Eclipse?</p>

<p>Can an ARM chip be programmed using the SWD interface, like I believe can be done in JTAG?</p>
","<p>SWD should be able to program the ARM chipset plus you can debug and add breakpoints. The other good thing about SWD is you can use the serial wire viewer for your printf statements for debugging. I have only used it with the Keil compiler.</p>
","56087"
"Block diagram of 16:1 MUX using four 4:1 MUX only","25159","","<p>As far as I know we can make a 16:1 MUX using five 4:1 MUX. For four 4:1 MUX, I think we have to apply NOT to different selection lines but I am not getting the correct configuration to do that.</p>
","<p>You could've easily found it on the internet if you searched. </p>

<p><strong>The basis:</strong> See it this way: You need a combinational logic with 16 input pins, 4 select lines and one output. In a 4:1 mux, you have 4 input pins, two select lines and one output. </p>

<p>So, at the least you have to use 4 4:1 MUX, to obtain 16 input lines. But you'd then have a logic with 4 output pins. We can use another 4:1 MUX, to multiplex only one of those 4 outputs at a time. Hence, this would be your final design. There might be other designs methods too, but this is the most common. </p>

<p><a href=""https://i.stack.imgur.com/gao8r.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gao8r.jpg"" alt=""enter image description here""></a></p>

<p>Image courtesy: www.slideplayer.com </p>

<p><strong>EDIT:</strong>
Yes, we can implement it without using the last 4:1 MUX; but you have to use an OR gate there and also include <em>enable</em> pins for each 4:1 MUX. It utilizes the traditional method; drawing a truth table and then analytically deciding the design. Here is an example of an 8:1 MUX from 2:1 MUX without using a 2:1 MUX at the output. </p>

<p><a href=""https://i.stack.imgur.com/URaPp.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/URaPp.jpg"" alt=""enter image description here""></a></p>

<p>Image courtesy: <a href=""https://www.youtube.com/watch?v=neXhD9qyQmo"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=neXhD9qyQmo</a></p>

<p>But, to obtain the same for a 16:1 MUX you'll need to make a lot of modifications. Like if you draw the truth table and analyze (compare it with the above 8:1 MUX design), you'll require two enable pins for each MUX, each with different options. For example, the first MUX needs to be <em>enabled</em> only when the two enable pins(say, e1, e0) are low, the second MUS should be <em>enabled</em> only when e1= 0 and e0=1 and so on. </p>

<p>As the size of the MUX increases, it'll become too complex to design using this model. Hence, the first approach is utilized; the one with a MUX at the end. There may be other designs, but this is my approach.  </p>
","254569"
"Internal or external oscillator","25130","","<p>I always use the internal oscillator that pics have as I have never found the need to run anything at higher frequency than 8 MHz (which is the fastest the pics I use tend to be able to go). Are there any reasons, beyond going above 8 MHz, that mean I should use an external oscillator? It just seems like one more thing to go wrong to me but I'd be interested to hear what others do.</p>
","<p>As others have said, accurate frequency and frequency stability are reasons to use a external ceramic resonator or crystal.  A resonator is several times more accurate than the internal R-C oscillator and good enough for UART communication.  A crystal is much more accurate, and necessary if you are doing some other types of communication like CAN, USB, or ethernet.</p>

<p>Another reason for a external crystal is choice of frequency.  Crystals come in a wide range of frequencies whereas the internal oscillator is usually one frequency with maybe a choice of 4x PLL enabled.  Some newer 24 bit core PICs have both a multiplier and divider in the clock chain so you can hit a wide choice of frequencies from the single internal oscillator frequency.</p>

<p>There are of course various applications that inherently require accurate frequency or timing other than communications.  Time is the property in electronics that we can measure most accurately cheaply, so sometimes the problem is transformed into one of measuring time or producing pulses with accurate timing.</p>

<p>Then there are applications which require some long term synchronization with other blocks.  A 1% oscillator would be off by over 14 minutes per day if used as the basis for a real time clock.  Accurate long term time may also be needed without having to know real time.  For example, suppose you want a bunch of low power devices to wake up once every hour to exchange data for a few seconds and then go back to sleep.  A 50ppm crystal (very easy to get) will be off no more than 180ms in a hour.  A 1% R-C oscillator could be off by 36 seconds though.  That would add significant on-time and therefore power requirements to the devices that only needed to communicate for a couple of seconds every hour.</p>
","15471"
"Why use AutoCAD Electrical?","25052","","<p>I'm an electronic &amp; electrical engineering student in first year of university. I have had to use a few core programs as part of my course for programming and simulation software. However I came across AutoCAD Electrical and struggling to understand the use of the application.</p>

<p>It being an electrical CAD software, I assumed that I'd be able to carry out similar tasks as Micro-Cap (which I use to analyse AC, DC circuits) or Proteus (which I use to simulate code for PIC micro-controllers). However I've yet to find any tutorial that says that AutoCAD Elec does any of those.</p>

<p>If not, then I would like to know the essential point of it? If drawings is the main use of it, can't I just continue using Visio, which I had to map a fuse-box design for a side project. It is pretty fiddly on Visio, but if all AutoCAD Elec is, is a drawing tool, in what way would it excel Visio for the kind of drawings I need (all car related: looms, fuse-boxes, motors)?</p>
","<p>As I understand it, AutoCAD Electrical is normal AutoCAD, but with some features that support electrical designers. In this context, 'electrical designers' means people designing low-voltage motor control centres, industrial plant, control cubicles, and so on.</p>

<p>Note the distinction between <em>electrical</em> design and <em>electronics</em> design. <em>Electrical</em> design is concerned with switchboards, 200 metre long cables, motor control contactors, junction boxes, and so on. That is the audience AutoCAD Electrical is intended for.</p>

<p>We use AutoCAD Electrical to draw power single line diagrams, motor control circuit schematics, switchboard general arrangements, and so on.</p>

<hr>

<p>In industrial contexts, all wires and terminals need to be individually numbered. A feature I am aware of is that AutoCAD Electrical can automatically track wire numbers (ferrule numbers) and terminal numbers, making sure these numbers are all unique and sequential. I would have really appreciated this on the last electrical design job I did, where we numbered all the wires and terminals by hand, with frequent mistakes.</p>

<p><img src=""https://i.stack.imgur.com/lbohB.jpg"" alt=""Electrical patch panel""></p>

<p><img src=""https://i.stack.imgur.com/OdEe9.jpg"" alt=""Electrical installation""></p>

<p>If you aren't designing something like what's shown above, AutoCAD Electrical probably isn't for you.</p>
","161869"
"Why in 8085 microprocessor, the clock frequency is divided by two?","24980","","<p>Why is it that the produced clock frequency is 6.144 MHz, but internally it (8085 processor) uses only 3.072 MHz. Also what leads to the specific value of 6.144 in a clock. </p>

<p>I found an answer at yahoo.... <a href=""http://answers.yahoo.com/question/index?qid=20080810090119AAurr2i"">http://answers.yahoo.com/question/index?qid=20080810090119AAurr2i</a></p>

<p>but I must admit I didn't still get it it well. Could any of you guys throw out a few lines on this, please? </p>
","<p>One reason to divide a clock by two is to obtain an even 50% duty cycle square wave. It may be that the 8085 internally uses both clock edges, and wouldn't function if one half of the cycle happened to be much shorter than the other. </p>

<p>In the days when the 8085 was new, those nice canned oscillators weren't common, and people often cobbled together clock circuits out of discrete crystals, capacitors, and logic gates. Dividing by two ensures that you have equally spaced rising and falling edges.</p>

<p>As for 6.144MHz, you will find that it can be divided by an integer to get common baud rate values, at least up to 38400. </p>

<hr>

<h2><em>follow up ...</em></h2>

<p>Looking at an Intel data sheet for the 8085, there are three interesting statements</p>

<ol>
<li><blockquote>
  <p>The 8085 incorporates all of the features that the 8224 clock generator and 8228 system controller provided for the 8080A</p>
</blockquote></li>
<li><blockquote>
  <p>X1 and X2: Are connected to a crystal, LC or RC network to drive the internal clock generator. The input frequency is divided by 2 to give the processor's internal operating frequency.</p>
</blockquote></li>
<li><blockquote>
  <p>CLK: Clock output for use as a system clock. The period of CLK is twice the X1, X2 input period.</p>
</blockquote></li>
</ol>

<p>So, speculations about using the odd edges of the clock to move stuff around internally aside, it becomes apparent that when they designed the 8085, Intel was replacing the need for a special clock controller by integrating that feature into the chip. Dividing the X1-X2 timebase in half before outputting it as CLK ensures that the <em>system</em> gets a nice even duty cycle, if nothing else.</p>
","4460"
"Subtracting two voltages using an op-amp","24953","","<p>I'm essentially a digital guy, and am used to using a comparator to compare two voltages and give a high or low depending on their relative values.</p>

<p>Now instead I want to subtract one voltage from another, and have the difference be available as an output.</p>

<p>I breadboarded the following circuit, but it doesn't seem to work right:</p>

<p><img src=""https://i.stack.imgur.com/wSkHK.jpg"" alt=""enter image description here""></p>

<p>I am using two op-amps as voltage-followers, and feeding them into the inverting and non-inverting inputs of another amp-amp.  The quad op-amp chip (LM324) has a single supply (9v).</p>

<p>EDIT: see my comment to the accepted answer -- I was on the right track, but had a bent pin on one of the output pins.</p>

<p>Now, since I do not have a negative supply, so the output cannot go negative, what I really want is for the output to be biased by +2.5 volts, so that if both pots are set midway the output will be 2.5v, not zero.  Instead of adding the resistor from pin 12 to ground, I tried putting a 4.7K resistor from the non-inverting input (pin 12) to a 2.5v reference, and that seems to add in the offset I wanted.</p>

<p><img src=""https://i.stack.imgur.com/hBc8M.jpg"" alt=""enter image description here""></p>

<p>So it now appears to do what I want.</p>
","<p>This should work, but usually there's also a resistor from the non-inverting input to ground:</p>

<p><img src=""https://i.stack.imgur.com/f5ytK.png"" alt=""enter image description here""></p>

<p>If \$\dfrac{R4}{R2} = \dfrac{R3}{R1}\$ then:</p>

<blockquote>
  <p>\$V_{OUT} = \dfrac{R_{3}}{R_{1}} \times (V_{IN+} - V_{IN-})\$</p>
</blockquote>

<p>To minimize offset error both inputs have to see the same impedance, and therefore \$R1 = R2\$ and \$R3 = R4\$.<br>
Omitting R4 will only give a scaling factor for the voltage on the non-inverting input, namely:  </p>

<blockquote>
  <p>\$V_{OUT} = 2 \times V_{IN+} - V_{IN-}\$</p>
</blockquote>

<p>but changing the setting for the lower potmeter should definitely have a result in the output. Did you measure the voltages on both inputs?</p>

<p>What happens if you set the lower voltage to 2.5V and the upper to 1V? The inverting input should also be 2.5V, and the output 4V. What do you measure?  </p>

<p><em>Note: especially the lower voltage follower is not necessary in your version; the opamp's input current is low enough to be negligible for most uses, and by the way, you're connecting the potmeter's wiper to an exactly same input!</em></p>

<hr>

<p><strong>Further reading</strong><br>
<a href=""http://www.electronics-tutorials.ws/opamp/opamp_5.html"" rel=""noreferrer"">differential amplifier tutorial</a> (interesting site overall!)</p>
","18265"
"What is Overmodulation?","24923","","<p>The <a href=""http://en.wikipedia.org/wiki/Overmodulation"">Wikipedia article</a> is very short and doesn't explain the concept very well, and there aren't any other sites that I can find that give a simple explanation. What does it mean by 100% modulation? I understand the basic concepts behind amplitude modulation, frequency modulation, and pulse width modulation, but I have never really understood what is meant by the ""amount"" of modulation or modulation depth. </p>

<p>Can somebody please shed some light on the subject?</p>

<p>Thanks!</p>
","<p>In the image below a amplitude modulated sine wave:</p>

<ul>
<li>0% unmodulated, the sine envelope is not visible at all;</li>
<li>&lt; 100% modulation depth is normal AM use;</li>
<li>100% modulation depth, the sine envelope touch at y=0. Maximum modulation that can be retrieved with an envelope detector without distortion;</li>
<li>&gt; 100% modulation depth, ""overmodulation"", the original sine wave can no longer be detected with an envelope detector.</li>
</ul>

<p><img src=""https://i.stack.imgur.com/cu4fm.gif"" alt=""enter image description here""></p>

<p>A still overview of the most important modulation depths (0, 50, 100 and 200%):</p>

<p><img src=""https://i.stack.imgur.com/5m1o3.png"" alt=""enter image description here""></p>

<p>The animation was created using <a href=""http://www.gnuplot.info/"" rel=""nofollow noreferrer"">gnuplot</a> using the following script:</p>

<pre><code>unset xtics
set yrange [-3:3]
set samples 10000
do for [d=0:200] { plot sin(2*pi*3*x)*(1+(sin(2*pi*x/10))*d/100) title sprintf(""%3i%%"",d); }
</code></pre>
","107144"
"Neutral vs ground wire?","24878","","<p>I have a simple question about neutral and ground wire.</p>

<p>Since the neutral is connected to the ground, I have problems understanding the difference. Assuming it is connected to the ground, it should be just a ground?</p>

<p>I believe the only way it could be different is if the current can only go from the Neutral -> Ground and not the opposite?</p>

<p>If not, what is then the difference between both?</p>
","<p>The Neutral and Ground are generally connected together at your service panel, <em>not</em> at your devices.</p>

<p>At the device, neutral is the path for return current.  All the current that comes ""from"" the hot leg ""returns"" through the neutral wire.  I'm using quote marks because current actually alternates directions in an AC system.  Hence the name AC!</p>

<p>Anyway, the ground wire should only carry current in the case of a fault condition.  In the USA, residential ground wires are often just bare, uncovered copper.  When plugging in a grounded appliance or other device, the ground wire gets attached to the chassis.</p>

<p>Say, for example, that the insulation on your hot wire gets damaged and the conductor comes into contact with the metal body of your washing machine.  The current shorts through the chassis and then through the ground wire.  This high current causes your circuit breaker (or fuse) to trip.  If you didn't have the ground wire then the mains voltage would electrify the entire chassis.  Then the next person touching it becomes the return path :)</p>
","213485"
"What is the purpose of a capacitor to ground?","24869","","<p>I have here a filtering circuit from a microwave. What is the point of the capacitors to ground. Another answer in a previous question of mine said they were used for filtering however I don't understand why. The inductors by the way are part of a common mode choke.</p>

<p><img src=""https://i.stack.imgur.com/ppoYJ.png"" alt=""enter image description here""></p>
","<p>A capacitor's complex impedance is given by</p>

<p>$$
\frac{1}{j \omega C} \Omega
$$</p>

<p>where \$\omega\$ is the frequency, and \$C\$ the capacitance. For a low-frequency signal, you can see that the impedance will be relatively high. Conversely, you can see that for a high frequency signal, the impedance will be quite low.</p>

<p>A high-frequency signal will see the capacitor connected to ground, and travel through it, since it is a low impedance path, but a low frequency signal will not be affected by it. The capacitors to ground form a low-pass filter for the lines they're connected to, as they remove high-frequency signals from the line by giving those signals a low-impedance path to GND.</p>

<p><a href=""https://electronics.stackexchange.com/questions/18301/how-does-a-capacitor-block-dc"" title=""See this question."">See this question</a>.</p>
","52484"
"Have 60A 220V circuit, want to use one 110V leg of it. Can i?","24862","","<p>I have an 220V air compressor (30A) in the attic of my garage. </p>

<p>It has a 110V automatic drain valve connected to it.</p>

<p>A the breaker box downstairs I want to be able to turn the power off to BOTH. </p>

<p>Ideally I could simply turn off the 220V circuit (the compressor is the only load).</p>

<p>The 220V circuit is single phase and the receptacle is a <a href=""http://en.wikipedia.org/wiki/NEMA_connector"" rel=""nofollow"">NEMA 14-50</a>.  </p>

<p>It is my understanding that this is a <a href=""http://en.wikipedia.org/wiki/Split_phase"" rel=""nofollow"">split-phase 3-wire system</a>.  It's really 4-wires:  Ground, Neutral, Leg 1 (110V), Leg 2 (110V).</p>

<p>What I want to know is if there is any problem with me using one of the two legs (plus ground &amp; neutral) to power a 110V outlet for the automatic drain valve.  I'm 99% sure there's no technical problem.  I just want to double check on any safety issue or something I may not be aware of (as a DIY). </p>
","<p>Since I'm loosing confidence in the idea of using the single relay to control both circuits, I now think the right answer is to simply buy ANOTHER RELAY. I can get a less expensive 110v capable relay for the drain-valve circuit and wire them both to the same 24V signal from my digital IO controller.</p>

<p>This keeps all of the line voltage stuff ""clean"" and normal. </p>

<p>I'm not sure why I didn't think of this before.</p>

<p>[EDIT: 12pm 3/27] I'm 90% finished with constructing this thing. One more trip to the hardware store and the use of a my toner to find the 24v wire in the attic and it should be up and running. Here's a pic of the two pump-start relays mounted and mostly wired:
<img src=""https://i.stack.imgur.com/9sRft.jpg"" alt=""enter image description here""></p>

<p>[EDIT: 7pm 3/27] Done! Works like a champ. Here are some pictures of the final result:
<img src=""https://i.stack.imgur.com/dZFnj.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/F2zoE.jpg"" alt=""enter image description here""></p>
","12030"
"Correct Wiring of 1 phase 220v Electrical Motor","24853","","<p>I am trying to install a single phase 220v electric water pump. I am fairly certain that it is wired correctly however the water pressure it is pumping out is absolutely useless. </p>

<p>I have attached how I have wired it:</p>

<p><img src=""https://i.stack.imgur.com/mZMu9.jpg"" alt=""Picture""></p>

<p>It is a newly refurbished pump, so my first assumption is that I have messed it up.</p>

<p>As far as I am aware. The L and N should be connected to W1 and U1 respectively and then W2 should be connected to U1 (through the start capacitor).</p>

<p>Just some notes. The motor is running warmer than I would like? Im not sure what temp it should run at. But this could also be a result of heat not being cooled down by the water as its not pumping the desired quantity of water.</p>

<p>Here is the pump specs:
<img src=""https://i.stack.imgur.com/pvVHx.jpg"" alt=""enter image description here""></p>
","<p>This site is not meant to be for appliance repair.<br>
However -  things re motor design and operation may be able to be learned from this.<br>
Understanding what is being tried here and what may be wrong and how to try to be sure can be an immensely valuable learning exercise. ""Just doing it"" without understanding misses a major learning experience. </p>

<p>The following is ""bests guess""  - a competent appliance repairer / installer would ideally be used.</p>

<p>This has a good chance of working.<br>
It may not.</p>

<p>Short: Swap wires C &amp; D. BUT read all below first and try to understand.</p>

<p><strong>Longer:</strong></p>

<p>There are (you say) 4 red wires.<br>
These are probably 2 for run winding and 2 for start winding.<br>
The start winding is in series with the capacitor (large white cylinder).<br>
Run winding should connect across mains directly.<br>
Start winding should be in series with capacitor. </p>

<p>You MAY have start and run windings swapped.</p>

<p>I have labelled red leads A B C D in white.<br>
I have labelled terminals W1 U1 W2 in red.<br>
I have attached an image of the correct wiring diagram copied from your picture.  </p>

<p>A-C OR B-C should be Run winding.<br>
A-D or B-D should be Start winding.   </p>

<p>Start winding resistance is PROBABLY greater than run winding resistance. Probably.  </p>

<p>Find which wire pairs belong together.<br>
If the winding connected to W1-U1 is higher resistance than that between W1-W2 try swapping the windings - This SHOULD be as easy as swapping C on U1 with D on W2.</p>

<p>There is a very small chance that some other connection has been made by I'd not expect that to work at all EXCEPT if there was a wiring error in the cord - which is possible but less likely.</p>

<p>Swapping C &amp; D PROBABLY will not cause any damage and has a fair likelihood of working but</p>

<ul>
<li><p><strong>Continuity checks:</strong>  Check which wire belongs to which other one with a meter first as above.</p></li>
<li><p><strong>1st trial current limiter:</strong>  Adding a large wattage series light bulb or better still an electric kettle element in series with the motor in the phase lead makes it harder to blow things up. Adding a series kettle element is optional but greatly reduces the current than can flow if you do something ""inadvisable"" [tm]. </p></li>
<li><p><strong>Caveat Emptor, YMMV, ACNR, DTTAH, ...</strong> (ie - all responsibility is yours) </p></li>
</ul>

<p><img src=""https://i.stack.imgur.com/adMkO.jpg"" alt=""enter image description here""></p>

<p><a href=""https://i.stack.imgur.com/adMkO.jpg"" rel=""nofollow noreferrer"">Larger version here</a></p>

<hr>

<p><strong>Overall:</strong></p>

<p>1st test unloaded:</p>

<p>Phase -- Kettle -- Motor -- Neutral</p>

<p><strong>Inside motor:</strong></p>

<p>Phase -------------- RUN --- Neutral<br>
Phase -- Capacitor - START - Neutral </p>
","166849"
"How do Tx / Rx cable pairs work in an Ethernet cable?","24778","","<p>This question will be a simplification as I lack the proper knowledge.</p>

<p>Lets suppose we want to send a signal over the network. We will use this scheme as this is hopefully how the signals are send over the network:</p>

<p><img src=""https://i.stack.imgur.com/PSEb2.png"" alt=""enter image description here""></p>

<p>Providing the above is 'roughly' how a signal transmission works, how would a circuit scheme look like for an Ethernet 100TX network cable? (the cable uses wires 1,2,3 and 6 to transfer data, 1,2 pair for Tx (transmission) and 3,6 for Rx (receive). </p>

<p>By asking this question I want to understand, whether both Tx wires (1,2 wires) are used to transfer data simultaneously or maybe, I always have to have two wires to actually transfer a signal over a network. If the former is true, why do I <em>always</em> need two cables?</p>

<p><img src=""https://i.stack.imgur.com/4quPz.png"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/Ry5YQ.png"" alt=""enter image description here""></p>

<p>Ok, the ""ground wire"" concept. After reading your comment for the first time, I've thought that you measure the voltage between wire1 and wire1 (made no sense) or between wire1-wire2 (you can measure only one time, so how come 2 signals). After reading the comment for the second time, I realized there can be 'a third' cable in the system. And both PC1 and PC2 can have their own 'ground cables'. The drawing:</p>

<p><img src=""https://i.stack.imgur.com/m5CRQ.png"" alt=""enter image description here""></p>

<p>//edit:</p>

<ul>
<li>PC2 has its own 'ground' cable</li>
<li>PC1 and PC2 cables are separate (not connected)</li>
<li>on the picture, I'm sending 1111111... on the first wire and 0000000... on the second wire <em>simultaneously</em>. Also, notice that <em>the time</em> is passing by and there is no 'clock' signal in the circuit. The clock signal that tells, when one signal ends and where another signal begins.</li>
</ul>
","<p>One pair is used to transmit, the other - to receive.</p>

<p>If you connect two computers without a switch or a hub, in the past you had to use a cross-over cable, where one pair is connected to pins 1,2 on one end and pins 3,6 on the other end. Hubs had reversed pinout of the socket, so you can use a straight cable to connect a PC to a hub, but would need a cross-over cable to connect two hubs (unless one hub had an ""uplink"" port).</p>

<p>Modern Ethernet devices can be connected with any cable - they will figure out whether the cable is straight or crossed and will reconfigure themselves accordingly. Gigabit Ethernet works a bit differently - it uses all pairs (instead of just two) and can reconfigure each pair as ""transmit"" or ""receive"" as needed.</p>

<p>Now, as to why pairs are used instead of single wires:</p>

<p>To transfer data, you need to be able to get some current to the receiving device. As we know current only flows when there is a closed circuit, so you need at least two wires connecting the devices. Your ""scheme 2"" will not work as you drew the ""batteries"" not connected.
This can be done in one of two ways - easier is to have one or more data wires and one ground wire (called Single Ended system). Here ground is shared among all the signals and you need less wires. However, this system does not work well for long distances - noise can get in the cable quite easily and the receiving device may not be able to understand the transmission. One solution is to use a coaxial cable (it shields the data wire from noise), but they are expensive and you would need one cable for each data pin. Still, multiple coax cables are used, say, for connecting a VGA monitor to the computer (at least in the better monitor cables). It is also true for analog audio.</p>

<p>A better way to do things is to have two wires for each signal. Now you send the signal in both wires, but invert one of them, that is, if you send ""1"" in one wire, you send ""0"" on the other - so the voltage between those two wires is always non-zero. You also use a twisted pair cable. This is called differential signaling. Now, the noise affects both wires in a pair equally and the receiver can cancel it out (by measuring the voltage between the wires instead of each wire to ground). This allows the signal to be sent further using cheaper twisted pair cables. Professional analog audio also uses differential signalling for, say, microphones etc (the XLR connectors have three pins - positive signal, negative signal and ground), so that longer cables can be used without noise affecting the signal.</p>

<p>An example of differential signalling:
<img src=""https://i.stack.imgur.com/kEBYY.gif"" alt=""diff""></p>

<p>As you see, in this case what matters is the polarity of the received voltage, so if whatever noise affects both wires the same, the polarity will not change and the information will still be transmitted.</p>

<p>To transmit in both directions (but not at the same time, so-called ""half-duplex"") over the same pair of wires you can do it like this:</p>

<p><img src=""https://i.stack.imgur.com/F2kgs.gif"" alt=""half duplex""></p>

<p>Now when any switch is closed, both lamps light up, so any end can transmit taking turns. This arrangement is called ""open collector"".</p>
","32756"
"How do I increase the output voltage of a simple electro magnet generator","24754","","<p>I think I know the answer to this already but I can't seem to find this on Google. The keywords are all far too ambiguous apparently. </p>

<p>I want to create a electrical flow with a magnet passing through a cylinder wrapped with copper wire. Pretty basic. I want to increase the voltage output.</p>

<p>My theory is that if I wound the copper tighter, decreased the width between them and increase the copper on the cylinder that I will get a higher voltage. I haven't tried it yet because I haven't bought the equipment. I am trying to plan it all out before I purchase anything. Is my assumption correct?</p>
","<p>By Faraday's Law the voltage is proportional to the number of windings and the rate of the change in the magnetic field. So you can add windings, as you mentioned, move the magnet faster or use a stronger magnet at the same rate to increase the voltage. I would look at <a href=""http://hyperphysics.phy-astr.gsu.edu/hbase/electric/farlaw.html"" rel=""nofollow noreferrer"">http://hyperphysics.phy-astr.gsu.edu/hbase/electric/farlaw.html</a> and <a href=""http://www.electronics-tutorials.ws/electromagnetism/electromagnetic-induction.html"" rel=""nofollow noreferrer"">http://www.electronics-tutorials.ws/electromagnetism/electromagnetic-induction.html</a> for an explanation of Faraday's Law.
<p>
From wikipedia:
<img src=""https://i.stack.imgur.com/QlfSG.png"" alt=""enter image description here""></p>
","95865"
"What is this operator called as ""+:"" in verilog","24747","","<p>I am going through verilog test case and found a statement </p>

<pre><code>assign XYZ = PQR_AR[44*8 +: 64];
</code></pre>

<p>What does ""+:"" operator be known as. I tried to find this on google but didn't get any relevant answer.</p>
","<p>That syntax is called an <strong>indexed part-select</strong>.  The first term is the bit offset and the second term is the width.  It allows you to specify a variable for the offset, but the width must be constant.</p>

<p>Example from the SystemVerilog 2012 LRM:</p>

<pre><code>logic [31: 0] a_vect;
logic [0 :31] b_vect;

logic [63: 0] dword;
integer sel;

a_vect[ 0 +: 8] // == a_vect[ 7 : 0]
a_vect[15 -: 8] // == a_vect[15 : 8]
b_vect[ 0 +: 8] // == b_vect[0 : 7]
b_vect[15 -: 8] // == b_vect[8 :15]

dword[8*sel +: 8] // variable part-select with fixed width
</code></pre>
","74285"
"Finding air wires in Eagle","24730","","<p>I am almost done routing a board.  However,  is telling me that there is still one more  wire.  I have looked but I just can't seem to find it.  Is there a to make Eagle tell me where it is?</p>
","<p>I can think of three options:<br></p>

<ul>
<li><p>Zoom out as much as you can then use the route tool on the tiny board, this catches the air wire, then zoom in again and route it.</p></li>
<li><p>You can also disable the top and bottom layers so the air wire becomes more visible.</p></li>
<li><p>Yet another option is to run the provided ""length.ulp"" script (File->Run... or ULP button). This script shows a list of all the nets, on that list there is a column ""Unrouted"", some net is not completely routed a value should appear here instead of ""--"". You can then type on the command line ""show <i>net_name</i>"" to highlight it.</p></li>
</ul>
","34918"
"How to connect 20 wireless sensors in one receiver with arduino?","24671","","<p>I live in a house with many doors and windows and I plan - as an easy project - to be able to detect and see which door/window is open using simple leds. What I do not want to do is to have 2 or 3 wires for each sensor hanging on the wall or be on the floor... so I am searching for a way to connect simple wireless window/door contacts (rf 433mhz usually) sold very cheap on ebay. Also I do not want to have 1 receiver for each transmitter because it seems foolish, power &amp; space consuming..</p>

<p>XBee is a very expensive way to do this. Bluetooth could be another option. What's your opinion ?</p>
","<p>The sensors are battery powered and so to preserve power the sensor circuit must remain ""off"" most of the time. This means that the sensor only transmits when needing to transmit i.e. when the door or window opens or closes. This can be achieved with a low power 433MHz transmitter and a low power micro like a PIC. The PIC wakes up when the door or window switch changes state OR just wakes up every 5 minutes or so based on a low power timer oscillator.</p>

<p>All the windows and doors use the same methodology and transmission frequency. One receiver picks up the transmission and because sensors only transmit infrequently, collisions are few. However if collisions do happen this is unknown to the transmitter so, each transmitter should wake up on a slightly different timebase to avoid continual collisions and give the system a decent chance of working.</p>

<p>Each transmitter/sensor needs to encode it's own address in the data being transmitted so the receiver knows which device is sending data. It can even transmit a bit that communicates the battery status or using a lower power ADC the battery voltage can be transmitted. </p>

<p>The receiving radio stays on all the time and presents a micro with serial information that is decoded to light the various LEDs. Not a trivial project but a good one to do.</p>

<p>I did a freezer alarm system for a shop based on this very system. each freezer used a 433MHz transmitter and PIC and each transmitted based on a 20 minute period. Should one freezer start to defrost, a central control activated an alarm.</p>
","74287"
"Could a modified sine wave inverter destroy/damage the AC adapter for a laptop?","24670","","<p>I recently encountered a scenario where I attempted to use a <a href=""http://www.energizerpower.com/inverters/EN500.php"" rel=""nofollow noreferrer"">Energizer EN500</a> modified sine wave inverter to provide power to a Dell 180 watt AC adapter. The circuit powering the inverter was 12 volt, 15 amps DC. The AC adapter input is 100-240V ~ 2.34 amps, 50-60Hz, and output is 19.5V, 9.23 amps. I wasn't able to find any more specs online, but it's Dell part # 74X5J, and Dell Model # DA180PM111.</p>

<p>12 volts * 15 amps = 180 watts, and I (incorrectly?) assumed that the adapter wouldn't necessarily need a full 180 watts all the time, and that the worst case would be a blown fuse if it attempt to draw more watts than could be provided. As I'm reading the input on the AC adapter, though, I'm realizing that if it truly can draw up to 2.34 amps, at 110 volts that's over 250 watts...?</p>

<p>When I connected the inverter to the AC adapter, the ""power light"" on the AC adapter came on when I plugged it into the inverter (indicating connection to AC power), and when I then connected the adapter to the laptop, it started flashing on and off. There was a USB phone charger plugged into another DC power outlet, with a smaller ""power light"" that also flashed on an off simultaneously, in parallel with the light on the AC adapter. Ever since, this AC adapter has not worked to charge the laptop battery, even when plugged into household AC current. I don't know how many watts it's putting out, but it's just enough to power the laptop at severely reduced operating speed, and the battery won't charge at all.</p>

<p>So it appears that this fried my AC adapter. While it's (presumably) too late to do anything to fix the adapter, I would like to understand possible causes. Could it be due to the inverter putting out <a href=""http://en.wikipedia.org/wiki/Power_inverter#Modified_sine_wave"" rel=""nofollow noreferrer"">modified sine waves</a>? From looking it up online, modified sine waves <a href=""https://www.bing.com/images/search?q=modified+sine+wave+vs+pure+sine+wave&amp;qs=AS&amp;sk=IM1&amp;FORM=QBIR&amp;pq=modified%20sine%20wave&amp;sc=8-18&amp;sp=2&amp;qs=AS&amp;sk=IM1"" rel=""nofollow noreferrer"">hardly look like sine waves at all</a>:</p>

<p><img src=""https://i.stack.imgur.com/GE02y.png"" alt=""modified sine wave image from wikipedia""></p>

<p>Everything I've found online suggests that a laptop AC adapter should work fine with modified sine waves. I did check with Dell and they advised that I use a pure sine wave adapter, but a modified sine wave adapter would still work, although I was ""looking at a possibility of shortening the lifespan of the ac adapter."" Shortened lifespan indeed!</p>

<p>Or is it likely that the failure was due to the AC adapter trying to draw more current than the inverter, on a 12 volt, 15 amp DC circuit, was able to provide? I wouldn't have thought that insufficient power could kill an AC adapter... could it?</p>

<p>Or is it a combination of the fact that the inverter was providing modified sine waves, and was perhaps ""pulsing"" on and off due to the excess current requirements? In my question about topicality on meta, <a href=""https://electronics.meta.stackexchange.com/a/3887/52649"">DrFriedParts suggested</a> that the failure might have been due to the input <a href=""http://en.wikipedia.org/wiki/Clamper_(electronics)"" rel=""nofollow noreferrer"">clamp</a> circuit failing. Would the input clamp circuit be more likely to fail if the AC adapter experienced a rapid number of ""on/off"" cycles?</p>

<p>Getting some education on this will impact what I do next. In reviewing my vehicle's wiring diagram, I see that one of my three DC power outlets is a 20 amp dedicated circuit. I could get a pure sine wave inverter and connect it to that 20 amp circuit, providing a ""theoretical"" maximum output of 240 watts; I know that in reality there are losses and I can't expect a full 240 watts out of the inverter. If insufficient power was the culprit this time, I'd hate to fry my replacement AC adapter again in the same way! If the root of the problem, however, was a modified sine wave, then I can fix that with a better inverter.</p>
","<h1>""Modified Sine"" outputs are very bad approximations of AC</h1>

<p>This is a capture of the output of an APC 650 recorded by Jesse Kovach, while under load. </p>

<p><img src=""https://i.stack.imgur.com/uKkGT.jpg"" alt=""enter image description here""></p>

<p>Notice the severe over-amplitude events at the extremes (the spikes at top and bottom). In reality they are actually much greater in amplitude, but the oscilloscope in the image was not fast enough to capture it. </p>

<p>Sharp edges in the time domain equate to broad-spectrum noise in the frequency domain. All of this high-frequency content represents additional energy that must be absorbed by protection circuits. If not, it can exceed isolation withstanding limits in the various input stage components and ""burn through"". If this doesn't burn out the input it will result in a cascading failure where it will cause something to fail on the secondary side from the resulting overvoltage.</p>

<p>...and that's just one failure mode. There are others. Psuedo-sine waves are poor matches to sine-wave inputs. :(</p>

<h1>Go DC-DC instead of DC-AC-DC</h1>

<p>A much better (and much more efficient!) approach is to go DC-to-DC directly (note: you can't actually go DC-to-DC directly if your input voltage is lower than your output voltage, but the details of this are well contained inside a ""DC-DC converter"").</p>

<p>Self-contained switch-mode power supplies for Dell laptops that take DC inputs are available in the marketplace. Here's an example:</p>

<p><img src=""https://i.stack.imgur.com/1uzL5.jpg"" alt=""Car DC to Dell 18V SMPS""></p>

<p>which I sourced from:</p>

<p><a href=""http://rads.stackoverflow.com/amzn/click/B002BK7JEC"" rel=""noreferrer"">http://www.amazon.com/Adapter-Charger-Dell-Latitude-D630/dp/B002BK7JEC#</a></p>

<p>Please note that I have no personal experience with this particular product and many cheap DC converters are poorly designed internally. Be careful.</p>
","128427"
"How many volts can a 1 Watt 8 ohm speaker take?","24643","","<p>I am working on an Arduino project and the sound is too low because the output pins on my Arduino UNO is only 40 mA. I can hook up an NPN transistor to amplify the sound, but I don't want to blow the speaker. How much voltage can a 1 watt 8 ohm speaker handle?</p>
","<p>It can take 1W of power.  Voltage is not the problem.</p>

<p>Any more than 1W and the coil will overheat and melt.</p>

<p>It is 8Ω.  Look at it from the point of view of DC.  That means we can use simple Ohm's Law to examine it.</p>

<p>You have 1W and 8Ω.  There are two formulae that incorporate those two values:</p>

<p>\$P=I²R\$</p>

<p>and</p>

<p>\$P=\frac{V²}{R}\$</p>

<p>We're interested in voltage, so rearrange the second to give:</p>

<p>\$V=\sqrt{P×R}\$</p>

<p>So 1W through an 8Ω load must be 2.83V.  Rearrange the current one, so it is:</p>

<p>\$I=\sqrt{\frac{P}{R}}\$</p>

<p>and we get a current draw of .354A, or 353.55mA.</p>

<p>The fact that your IO ports are limited to 40mA (That's the <em>absolute maximum</em> by the way - Atmel don't recommend more than 20mA), means:</p>

<p>\$P=VI = 0.2W\$, which is why your speaker doesn't melt and isn't very loud.</p>

<p>So what do you want?</p>

<p>Well, you want 2.83V across your speaker with unlimited current available, or unlimited voltage available with 353.55mA current.  The former is more achievable, so we'll do that.</p>

<p>A simple voltage divider can limit the voltage to 2.83V.  The formula</p>

<p>\$V_{OUT}=\frac{R_2}{R_1+R_2}V_{IN}\$ can be re-arranged to give:</p>

<p>\$R_1=R_2(\frac{V_{IN}}{V_{OUT}}-1)\$</p>

<p>We know R2, that's 8Ω, Vin is 5V and Vout is 2.83V.  So substitute the values and we have:</p>

<p>\$R_1=8(\frac{5}{2.83}-1)\$</p>

<p>which gives us 6.134Ω. The closest E24 would be 6.8Ω, which would be ideal.  Of course, you need a nice chunky resistor, at least 1W, preferably a little more.</p>

<p>Your schematic could look like:</p>



<p><img src=""https://i.stack.imgur.com/5f2sM.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f5f2sM.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Or, for the more traditional class A amplifier arrangement:</p>



<p><img src=""https://i.stack.imgur.com/vxynt.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fvxynt.png"">simulate this circuit</a></sup></p>

<p>Of course, your 6.8Ω resistor would then have to cope with the full 5V across it, so would need to be a minimum of 3.6W.</p>
","129283"
"What is the difference between stepper motors and servomotors?","24640","","<p>I am not sure I understand what the difference between a stepper motor and a servomotor is. Could someone explain this to me?</p>

<p>Also how do these motors behave when they are paused or turned off, do they have enough resistance force to hold something in position (say 1kg) or do I need to do anything special for that?</p>

<p>Which of these two do you think would be a better choice for an application in which I would like to have slow movement in small steps (i.e. I will need a very small step followed by a pause in that position and then another small step and so on, and I would prefer each steps to change by exactly the same degrees).</p>

<p>Context for this question: I want to create a timelapse rig that will pan and tilt a DSLR camera over a period of time.</p>
","<p>While the other current answer to this question quotes a comprehensive enough answer courtesy WikiPedia, here is a simplified TL;DR:</p>

<hr>

<p><strong>Stepper motor</strong>: Moves in <strong>steps</strong>, with a fixed number of steps per revolution. Thus, controllable across any number of revolutions, in jumps of the step size. </p>

<p>Could be unidirectional or bidirectional. <strong>Each step is exactly the same number of degrees</strong>. </p>

<p>Holding torque is (relatively) high, and <strong>a reduced holding torque is sustained even with coils de-energized</strong>. </p>

<hr>

<p><strong>Servo motor</strong> (specifically, hobby servos): Moves smoothly from a ""rest position"" to a ""target position"", works to retain this position till control signal changes. <strong>No steps</strong>. </p>

<p>Inherently bidirectional, but inherently limited deviation range. Pure analog control is an option. Not necessarily linear control, though.</p>

<p>Holding torque is dependent on the <strong>motor being energized</strong>, unlike steppers. </p>

<p>Typical hobby servos will go from say -90 degrees to +90 degrees, or -170 degrees to +170 degrees. Multiturn servos will go from x revolutions deviation from rest in one direction, to x revolutions in the opposite direction. </p>

<hr>

<p>For a pan/tilt controller, a <strong>stepper motor</strong> matches the description in the question, since smooth panning / tilting is not a requirement. If smoothing of the movement is required, then a high enough gear reduction on the stepper achieves that.</p>
","92110"
"Why can't two series-connected diodes act as a BJT?","24630","","<p>Another form of the question is: will joining two diodes with wires (pn-np) make a transistor-equivalent?</p>

<p>I read that they are not equivalent, but why?</p>
","<p><em>Many people think that the answer to this question is related to the width of Base region in BJT transistors - it is incorrect. The answer got quite long. You can read starting from ""Tricky Question"" section if you want the bottom line.</em></p>

<p>I believe that you were led to ask this question due to something like this picture:</p>

<p><img src=""https://i.stack.imgur.com/aFZdn.jpg"" alt=""enter image description here""></p>

<p>This is a standard practice of teaching the basics of BJT, but it can confuse someone not familiar with semiconductors theory in details.</p>

<p>In order to answer your question at an acceptable level, I need to assume that you're familiar with the principles of operation of PN diode. <a href=""http://www.eecs.berkeley.edu/~hu/Chenming-Hu_ch4.pdf"" rel=""nofollow noreferrer"">This reference</a> contains a detailed discussion of PN junctions. </p>

<p>The answer concerns NPN transistor, but it also applies to PNP transistors after appropriate change of polarities.</p>

<p><img src=""https://i.stack.imgur.com/Ni8lG.png"" alt=""enter image description here""></p>

<p><strong>NPN in forward-active mode of operation:</strong></p>

<p>The most ""useful"" mode of operation of BJT transistor is called ""forward-active"": </p>

<p><img src=""https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/NPN_BJT_Basic_Operation_%28Active%29.svg/475px-NPN_BJT_Basic_Operation_%28Active%29.svg.png"" alt=""enter image description here""> </p>

<p>NPN is in forward-active mode when:</p>

<ul>
<li>Base-Emitter junction is forward biased (usually at \$V_{BE}\approx 0.6V\$)</li>
<li>Base-Collector junction is reverse biased (\$V_{CB}&gt;0\$)</li>
</ul>

<p>Due to Base-Emitter junction being forward biased, there is an injection of electrons from the Emitter to the Base (\$I_{E_n}\$ in the image above), and the simultaneous injection of holes from the Base to the Emitter(\$I_{B1}=I_{E_p}\$ in the image above). Emitter region (\$n^{++}\$) is much more heavily doped than the Base region (\$p\$), therefore the current due to electrons injected into Base is much higher than the current due to holes injected into Emitter. </p>

<p>Note that the holes injected into Emitter are supplied from Base electrode (Base current), whereas the electrons injected into the Base are supplied from Emitter electrode (Emitter current). The ratio between these currents is what makes BJT a current amplifying device - small current at Base terminal can cause a much higher current at Emitter terminal. The conventional current amplification is defined as Collector-to-Base currents ratio, but it is the ratio between the above currents which makes any current amplification possible.</p>

<p>Due to injection of huge amount of electrons from Emitter, electrons tend to diffuse through Base to Base-Collector reverse biased junction. Once an electron reaches there, it is swept across the Collector-Base depletion region and is injected into Collector thus contributing to Collector's current (\$I_C\$ in the image above).</p>

<p>Now, if all these electrons injected from Emitter could diffuse to the reverse biased Base-Collector junction without being subject to other effects - there were no importance at all to the width of the Base region. However, there is recombination going on in the Base. </p>

<p>In recombination process the injected electrons meet holes and ""neutralize"" each other. The injected electron is ""lost"" in this process and will not contribute to the current at Collector terminal. But wait, charge conservation requires that the hole which recombined with the injected electron will be supplied from somewhere, right? It turns out that the recombining holes are also supplied from the Base terminal (\$I_{B2}\$ in the image above) thus increasing Base's current and decreasing the Emitter-to-Base currents ratio (which represents transistor's current gain, remember?).</p>

<p>The above means that the more electrons recombine during diffusion through Base region, the lower the current gain of the transistor. It is up to manufacturer to minimize the recombination in order to provide a functional transistor. </p>

<p>There are many factors that affect recombination rates, but one of the most important ones is Base's width. It is evident that the wider the Base, the more time it will take to injected electron to diffuse through the Base, the higher the chance that it will meet a hole and recombine. Manufacturers tend to make BJTs with very short Base's.</p>

<p><strong>So, why can't two PN diodes back to back function as a single NPN:</strong></p>

<p>The above discussion explained why Base must be short. PN diodes (usually) don't have this short regions, therefore the recombination rate will be very high and the current gain will be approximately unity. What does this mean? It means that the current at ""Emitter"" terminal will be equal to the current at ""Base"" terminal, and the current at ""Collector"" will be zero:</p>



<p><img src=""https://i.stack.imgur.com/CjhY7.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fCjhY7.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>The diodes are functioning as standalone devices, not a single BJT!</p>

<p><strong>Tricky question:</strong></p>

<p>To various degrees of accuracy, many people can answer your initial question as I did. However, the more interesting question is this: if we make \$p\$ sides of both diodes very short, such that the sum of their widths will be no wider than Base region of NPN transistor, will the diodes function as a transistor?</p>

<p>This question is more difficult to answer because the straightforward answer of ""no, the Base of BJT is very short"" is not applicable anymore.</p>

<p>It turns out that this approach will not make two diodes similar in behavior to a single NPN transistor. The reason is that at metal contact of the diode, where metal and semiconductor are in touch, all the excessive electrons ""recombine"" with the ""holes"" supplied by the contact. It is not the usual recombination as metals don't have holes, but the fine distinction is not that important - once the electrons enter metal, no transistor functionality can be achieved.</p>

<p>The alternative way of comprehending the above point is to realize that Collector-Base diode is reverse biased, but still conducting high current. This mode of operation can not be achieved with standalone PN diodes which conduct a negligible currents under reverse bias. The reason for this restriction is the same - excess electrons from the P side of the forward biased diode can not be swept to the P side of the reverse biased diode through the metal wire in ""BJT like diode configuration"". Instead, they are swept to the power supply providing a voltage bias to the common terminal of the diodes. </p>

<p>There was a follow-up question which asked to provide a more rigorous reasoning for the above two paragraphs. The answer concerns metal-semiconductor interfaces and can be found <a href=""https://electronics.stackexchange.com/a/92193/25469"">here</a>.</p>

<p><strong>What the above means is that the discussion of the width of Base region is related to discussion of effectiveness of BJT transistors, and is completely irrelevant to the discussion of two back-to-back PN diodes as a substitute for a BJT.</strong></p>

<p><strong>Summary:</strong></p>

<p>Two back-to-back PN diodes can't function as a single BJT because transistor's functionality requires semiconductor only Base region. Once a metal introduced in this path (which is what two back-to-back diodes represent) , no BJT functionality is possible.</p>
","83268"
"Do electrolytic capacitors have a limited shelf life?","24627","","<p>Do electrolytic capacitors have a limited shelf life? I would like to know for both aluminium and tantalum.</p>
","<p><strong>Aluminium Electrolytic Capacitors:</strong></p>

<p>Epcos:
2 years, cf. <a href=""http://www.epcos.com/web/generator/Web/Sections/ProductCatalog/Capacitors/AluminumElectrolytic/PDF/PDF__GeneralTechnicalInformation,property=Data__en.pdf;/PDF_GeneralTechnicalInformation.pdf"">this applications information</a></p>

<p>Cornell Dubilier:
3 years as per <a href=""http://www.cde.com/catalog/smt/storage.pdf"">this document</a></p>

<p>Nichicon:
2 years; section 2-6 in <a href=""http://www.nichicon.co.jp/english/products/pdf/aluminum.pdf"">this document</a></p>

<p>Several documents say that longer storage is well possible, but will require reforming before use. Panasonic, amongst others, has a number: Apply the rated voltage via a series resistor of 1 kOhm for 30 minutes (for example <a href=""http://www.panasonic.com/industrial/components/pdf/aluminum_app_dne.pdf"">http://www.panasonic.com/industrial/components/pdf/aluminum_app_dne.pdf</a>). There is also <a href=""http://www.landandmaritime.dla.mil/Programs/MilSpec/ListDocs.asp?BasicDoc=MIL-HDBK-1131"">a military handbook about reforming stored electrolytic capacitors</a> (formerly known as <a href=""http://www.landandmaritime.dla.mil/Programs/MilSpec/ListDocs.asp?BasicDoc=MIL-STD-1131"">MIL-STD-1131</a>).</p>

<p>Without reforming and by applying the rated voltage after a long storage duration, the reforming current might be so high that capacitors may get (too) warm and even blow up, which we do not like because we are not Beavis or Butt-Head (he he).</p>

<p><strong>Tantalum Capacitors:</strong></p>

<p>I couldn't find similar data after my initial search, but it seems like the usual MSL (moisture sensitivity levels) ratings for surface-mount parts are given and applicable.</p>
","8800"
"How do I facilitate keeping multiple grounds, (i.e. AGND, DGND, etc...) separated in the layout when using Eagle?","24621","","<p>I've designed several PCBs where I needed to keep the ground returns of different parts of the circuit separated, i.e. analog, digital and high power. I use Cadsoft Eagle for schematic capture and layout. It is easy enough to define different ground symbols in the schematic editor. They each have their own net name. However, the grounds must all eventual be connected at one point on the PCB to define the overall ground reference. When connecting one ground (or supply) to another, Eagle generally overrides one of the net-names with the other, i.e. removing their distinctiveness. This is sensible from a idealistic electrical viewpoint that assumes that the wires have no impedance. However, in the real world there is no such as zero impedance, or ground for that matter! This net-name overriding behaviour is getting in the way of PCB design. How do I work around this behaviour? This isn't a big problem in the schematic drawing because the supply symbols are retained and the net names are hidden. However, in the layout editor, after connecting grounds, only one unique ground net-name remains.</p>

<p>It is possible in the layout to manually keep the distinct grounds separate even though they have the same net name, and to connect them at one point. Thus it is still possible to achieve the design goal with only one uniquely deified ground. However, it is a logistical nightmare keeping the distinct ground traces separated when they have the same net-names.</p>

<p>Is there a better way to do this? </p>

<p>I have tried making my own Eagle part where the multiple and distinct grounds connect electrically, but, do not have the same net-names. The part was just a series of physically overlapping SMD pads. Each pad could be connected to a unique net-name thereby preserving the distinct grounds, but, it provided an electrical connection between the grounds. This seemed to work well with the drawback that the Design Rules Check (DRC) thought that the overlapping pads were a problem. In fact, Sparkfun has an eagle part that does this, however, they opted to keep the pads separated, i.e. not overlapping. This solves the DRC problem, but, then the board is then not connected properly electrically. This caused bugs in one of my boards before.</p>

<p>Is there a good solution to this problem? Is Eagle weird in its handling of this? Do other EDA tools do better than Eagle in handling this? I am doing something wrong? This has been a source of irritation for me for some time now. </p>
","<p>Create a footprint with GND and AGND pads.  Draw copper between these pads. Yes, this will produce a DRC ""Overlap"" error as shown below:</p>

<p><img src=""https://i.stack.imgur.com/XxiPL.png"" alt=""DRC &quot;Overlap&quot; error in errors dialog""></p>

<p><em>This is OK</em>.  There three buttons at the bottom: </p>

<ul>
<li>Clear all</li>
<li>Processed</li>
<li>Approve</li>
</ul>

<p>""Clear all"" will temporarily clear the list for this run of the DRC.  I'm not sure why that's useful; just close the window if you want it shortened.</p>

<p>""Processed"" will fade out the color of the red X. This is potentially useful if you're iterating through a long list of DRC errors and fixing them as you go; you can keep track of the ones you think you've corrected.</p>

<p>""Approve"" is the only one I use on a regular basis.   This moves the error from the errors list to the approved list: </p>

<p><img src=""https://i.stack.imgur.com/cx5Gk.png"" alt=""Error moved to approved list in errors dialog""></p>

<p>and keeps it there on subsequent runs of the DRC.  Note that this only moves this specific error with this specific pair of nets at this specific location.  Closing this window and running the DRC again produces the notification ""DRC: 1 approved errors""</p>

<p><img src=""https://i.stack.imgur.com/RFSvx.png"" alt=""DRC: 1 approved errors""></p>

<p>and no ""DRC Errors"" dialog.  You can get this dialog back by creating an error, or (preferably) the <code>errors</code> command, the yellow exclamation point in the above screenshot, or the menu Tools -> Errors.</p>

<p>The ""Approve"" functionality exists for a reason, the same reason that we have tools like </p>

<pre><code>#pragma GCC diagnostic ignored ""-Warning""
</code></pre>

<p>Sometimes, it's OK to ignore a DRC error.  This is one of those times.</p>
","23505"
"How to autoregulate a TP4056 for maximum solar power extraction","24621","","<p>I'm using a solar panel (6V - 600mA at peak power) to charge a Li-Ion (3.7V) battery using a TP4065. The TP4065 I'm using has this configuration:</p>

<p><img src=""https://i.stack.imgur.com/5diA1.png"" alt=""TP4065 circuit""></p>

<p>Where the value of the resistor Rprog determines the charging current.</p>

<p><img src=""https://i.stack.imgur.com/0Z89W.png"" alt=""Resistor to current table""></p>

<p>The issue is that the current the solar panel provides is proportional to the light it received and the only way to keep extracting the maximum power from the solar panel is to adjust the load to keep to solar panel voltage around 6V which in my case is controlled by reducing the charging current.</p>

<p>What would be the best circuit to automatically adjust the Rprog resistor to keep the TP4056 Vcc at a constant voltage of around 6V?</p>

<hr>

<p>Here is an example of a solar panel IV curve showing the voltage where the maximum power is extracted.</p>

<p><img src=""https://i.stack.imgur.com/Yperd.gif"" alt=""Example of solar panel IV""></p>

<p>Here is the charging characteristic of the TP4065</p>

<p><img src=""https://i.stack.imgur.com/KwksR.png"" alt=""TP4065 charging graph""></p>

<hr>

<p>UPDATE 13-02-2015</p>

<p>The voltage a the PROG pin vary between 1V to 0.2V</p>

<p>My project will use an Arduino micro controller. I could use the Arduino to monitor the solar panel voltage and regulate the TP4056 current with the following circuit:</p>

<p><img src=""https://i.stack.imgur.com/ZwRKu.png"" alt=""Other Solution""></p>

<p>Rprog and Rarduino would be 600 ohms and the 100uF capacitor and Rarduino will act as a low pass filter for the Arduino analog out that output a 3.3V 500Hz PWM signal.</p>

<p>When digital out is 0V, the TP4056 will see a 1.2K resistor and behave normally. As we increase the analog out voltage, the voltage at Rprog will decrease which will decrease the current in the TP4056 PROG pin and finally reduce the battery charging current.</p>

<p>Does this solution can work?</p>
","<p>I like the answer you suggested a lot. I think it is a good idea. I would suggest just a slight variation as follows:</p>

<p><img src=""https://i.stack.imgur.com/dpTZH.png"" alt=""revised PWM control""></p>

<p>Also, please work through the corner cases and unusual circumstances such as when the battery is dead, and arduino cannot power on. Will the charger be stuck in a zero charge current mode? Maybe a strategic pullup or pulldown somewhere, or a large resistor in parallel with RPROG and 100uF cap to insure small charge current even when PWM is off.</p>

<p>Great job!</p>

<p>McKenzie</p>
","153976"
"Solid ground-plane vs Hatched ground-plane","24606","","<p>So recently when i was routing a PCB , I came across the option to either fill/pour my ground plane with either solid or hatched copper. I've also noticed that the old arduino duemilanove also had a hatched ground plane. </p>

<p>So what benefits does a hatched ground plane have over solid ground plane and vice versa.</p>
","<p>As others said its mostly because it was easier to manufacture than solid layers for various reasons.</p>

<p>They also can be used in certain situations where you need controlled impedance on a very thin board.  The traces width needed to get 'normal' impedances on such a thin board would be ridiculously narrow but the cross hatching changes the impedance characteristics on adjacent layers to allow wider traces for a given impedance.  </p>

<p>If for some reason you need to do this, you can only route controlled impedance traces at 45 deg to the hatch pattern.  This approach greatly increases mutual inductance between signals and consequently, cross-talk.  Also note that this only works when the size of the hatch is much less than the length of the signal's rise time, this normally correlates to the frequency of the digital signals in question.  As such, as frequency increases you reach a point where the hatch pattern would have to be so tightly spaced that you lose any benefit vs a solid plane.</p>

<p>In Summary: Never use a cross hatched ground plane, unless your stuck in some really weird situation.  Modern PCB construction and assembly techniques no longer require it. </p>
","5143"
"What do the arrows in transistor symbols point to (and from)?","24596","","<p>Transistor symbols are often drawn with arrows pointing in one direction or the other, depending on type, like in the following symbols:</p>

<p><img src=""https://s1.postimg.org/9cv9ggrbj/transistors.gif"" alt=""Transistor symbols""></p>

<p>But what is the arrow actually pointing at? And from where are they pointing? Is it the same principle behind it in each symbol and if so, why do they sometimes point FROM the transistor and sometimes TO it?</p>

<p>And why do the arrows point from different origins (sometimes base, emitter, gate, source etc) in different types?</p>

<p>Is there any general principle behind how the arrows are directed?</p>
","<p>For BJT's there is a PN junction between the base and emitter. The arrow indicates the order of the junction (base to emitter or emitter to base). An NPN has stacked N, P, and N doped channels. The PN junction (between base and emitter) goes from the center out. PNP likewise is the opposite.</p>

<p>Observations, not necessarily fact:</p>

<p>In a MOSFET, the body is often connected to the source. For an N-channel MOSFET, the source is N-doped and the body is P-doped, so the arrow points from the source to the body. Likewise, a P-channel MOSFET has the reverse condition. Interestingly, Wikipedia has symbols for ""MOSFETS with no bulk/body"" which have opposite arrow directions. I have no good explanation for why these are this way, though I suspect it might follow a similar pattern and the semiconductor topology is different from ""traditional"" MOSFET topologies.</p>

<p>Your symbols for b (FET) are JFET symbols. Here, the PN junction is between the gate and ""body"" (semiconductor section connecting the drain and source; I don't know what the correct for this part of a JFET is so I just called it the body because it takes the bulk volume of the JFET). For an N-channel, the gate is P-doped and the body is N-doped, so the arrow points from the gate in. The P-channel JFET is the opposite so the arrow points out of the gate.</p>

<p>I've never used unijunction transistors (case d), but looking at the wikipedia page shows a similar doping structure as the JFET, the only difference the lack of an insulated gate (names also have changed, apparently it follows the ""BJT"" type naming of base and emitter). I would not be surprised if the arrow direction convention follows the order of the PN junction (wasn't immediately obvious to me which type the example structure on Wikipedia was for).</p>

<p>Additional info:</p>

<p><a href=""http://en.wikipedia.org/wiki/Bipolar_junction_transistor"" rel=""nofollow"">Bipolar Junction Transistors</a></p>

<p><a href=""http://en.wikipedia.org/wiki/MOSFET"" rel=""nofollow"">MOSFET</a></p>

<p><a href=""http://en.wikipedia.org/wiki/JFET"" rel=""nofollow"">JFET</a></p>

<p><a href=""http://en.wikipedia.org/wiki/Unijunction_transistor"" rel=""nofollow"">unijunction transistors</a></p>
","141724"
"Reducing strobing of LED based household light bulbs","24593","","<p>I recently purchased some LED light bulbs. In many ways they are great - really low power, and bright.</p>

<p>However one problem (which was apparent with both of the types of bulb that I purchased) is a strobing effect.</p>

<p>This is not immediately obvious until something moves in the light (e.g. waving your hand in front of it) and people have complained that it bothers their eyes.</p>

<p>I believe this is because the LED react so quickly, that the 50Hz oscillation of the mains supply is visible.</p>

<p><strong>My question is - what (if anything) can be done to reduce this?  Are there more expensive LED bulb that do not exhibit this problem?</strong></p>
","<p>What brand are the bulbs?<br>
 I'd expect Philips bulbs to be OK, Osram and similar to probably be OK. If the brand is obscure, corners have probably been cut.  </p>

<hr>

<p>Summary:</p>

<ul>
<li><p>Probably caused by 2 x mains-frequency flicker from semi-smooth full-wave rectified AC.</p></li>
<li><p>Take them back as ""unfit for purpose sold for"" if you can.</p></li>
<li><p>If you have to keep them, consider adding more smoothing to the rectified AC = rippled ""DC"". This may cause problems or may fix the problem. See below.</p></li>
</ul>

<p>Some people are more susceptible to stroboscopic effects than others. As a real world data point, I happen to be relatively oblivious to ""mild"" flicker and strobing in electronic lights of various sorts and am reasonably able to tolerate flicker, whereas one of my brothers is utterly intolerant to the point of being sick.</p>

<p>Flicker can be at 120 Hz (with 60 Hz mains) and 100 Hz (with 50 Hz mains). Mains voltage falls to zero twice per cycle at the ""zero crossing"" points. Incandescent bulbs have long enough thermal time constants in their filaments that the light does not fully fall to zero at the low points - far from it in many cases - the effect is somewhat dependent on wattage and voltage. Flicker in an incandescent lamp decreases with increasing Wattage and decreasing voltage (as both effects tend to result in thicker filaments.)</p>

<p>LEDs have the property of having brightness follow the current quite closely. The time constants of the phosphors are well under a microsecond and the LEDs proper may be ""good for"" 100's of Mhz. If you apply full wave un-smoothed DC to an LED it WILL flicker approximately half-sinusoidally at 2 x the mains frequency. I may note the effect with interest, while my brother may be violently sick.</p>

<p>The ""obvious"" choice is to DC smooth the voltage, but the capacitor sizes required rapidly get expensive. If people skimp and if they do not have a quality ethos then corners will be cut. One solution used is a ""valley circuit"" which stands two or 3 capacitors on each others shoulders to charge when the AC voltage is high and then uses cunning diode switching to place them in parallel as the voltage falls. This can allow cheaper capacitor costs but ""no capacitor"" is cheaper than ""some capacitor"" and some designers will eliminate anything they can.</p>

<p>It may be possible to open the bulb, find the largest capacitor or capacitors and simply increase them. New cap can be in parallel and mounted externally. Voltage ratings must be as good and temperature rating probably should be as good 105°C good, 85°C maybe). Depending on circuit this MAY fix the problem or MAY cause the bulb to throw up its hands in horror and emit magic smoke. (Just possibly even magic fire.) </p>

<p><strong>As always MAINS VOLTAGES CAN KILL.</strong></p>

<p><strong>Capacitors can hold charge for a long time after power is removed.</strong></p>

<hr>

<p>A second effect which seems to compound the first is that phosphor based lights, which yours probably are, have very peaky and discontinuous emission spectra compared to incandescent bulbs, or even to fluorescent tube lamps.</p>

<p>Below is the spectral emission graph for a Nichia white LED. I find this particular LED's white light more than usually pleasant. The strong peak at about 440nm is blue light from the actual LED, and the lesser peak at about 550nm is yellow light being re-radiated from the phosphor (which absorbs some of the blue light and ""converts"" it to yellow.) The resultant light has about a 6000°K color temperature - daylight white or similar. ""Warm White"" LEDs have a much greater yellow peak and a lower blue peak.</p>

<p><strong>BUT</strong> both colours of LED light are quite upsetting to a significant minority of people who find the lack of ""continuous"" spectra as seen from an incandescent light very strange. Combine that with flicker and you have a lighting disaster.</p>

<p><img src=""https://i.stack.imgur.com/LbiN1.jpg"" alt=""Nichia white LED spectra""> </p>

<p>With flicker and spectrum effects combined, it is reasonably likely that you have purchased a bulb which was ""good enough for enough people"" to be able to be released into the wild BUT which fails the ""works for almost all consumers"" test.</p>

<p>There is probably nothing you can do except change to a better designed bulb.</p>
","19261"
"Why does USB have 4 lines instead of 3?","24580","","<p>USB specifies 4 pins:</p>

<pre><code>1.   VBUS   +5V
2.   D-     Data-
3.   D+     Data+
4.   GND    Ground
</code></pre>

<p>Why is this not 3?  Could the Data and Power not share a common ground?  Am I correct in understanding that <code>D-</code> is the ground for <code>D+</code>?</p>
","<p>No, <code>D-</code> is not ground. Data is sent over a <strong>differential line</strong>, which means that <code>D-</code> is a mirror image of <code>D+</code>, so both Data lines carry the signal. The receiver subtracts <code>D-</code> from <code>D+</code>. If some noise signal would be picked up by both wires, the subtraction will cancel it.  </p>

<p><img src=""https://i.stack.imgur.com/Fc6Nt.png"" alt=""enter image description here""></p>

<p>So differential signalling helps suppressing noise. So does the type of wiring, namely <strong>twisted pair</strong>. If the wires ran just parallel they would form a (narrow) loop which could pick up magnetic interference. But thanks to the twists the orientation of the wires with respect to the field changes continuously. An induced current will be cancelled by a current with the opposite sign half a twist further.<br>
Suppose you have a disturbance working vertically on the twisted wire. You could regard each half twist as a small loop picking up the disturbance. Then it's easy to see that the next tiny loop sees the opposite field (upside down, so to speak), so that cancels the first field. This happens for each pair of half twists.<br>
A similar balancing effect occurs for capacitance to ground. In a straight pair one conductor shows a higher capacitance to ground than the other, while in a twisted pair each wire will show the same capacitance.  </p>

<p><img src=""https://i.stack.imgur.com/8XbFi.png"" alt=""enter image description here""></p>

<p><strong>edit</strong><br>
Cables with several twisted pairs like cat5 have a different twist length for each pair to minimize crosstalk.</p>
","20025"
"How to supply a negative voltage from a simple battery or psu?","24560","","<p>I am using an op amp (741). I need to supply its pin 4 with -5 volts using a power supply unit from a computer or from a simple battery. How am I going to do that? </p>
","<p>The best thing to do with an LM741 in most cases is to replace it with a more modern single supply opamp. </p>

<p>An LM358 dual or LM324 quad is about as good, usually cheap and available.</p>

<p><a href=""http://www.adnu.edu.ph/ccs/NCITE08/_SLIDES_RegPaper_Aliac_WeatherMonitoring.pdf"">This page</a>
 from a project by some one at the CIT in CEBU suggests 100 PHP each which is far too dear. Digikey has them for about 20 PHP in 1's <a href=""http://search.digikey.com/us/en/products/LM324ADR/296-9540-1-ND/405286"">prices here</a> and about 13 PHP each in 25's - and you get 4 amplifiers per package.</p>

<p><a href=""http://www.ti.com/lit/ds/symlink/lm224.pdf"">datasheet here</a> for LM324. Single supply from as little as 3V (5V ir more is a lot better).</p>

<p>BUT</p>

<p>If you want to use an LM741 you can use a negative voltage that is greater (more negative) than -5V without affecting the results in almost all cases.</p>

<p>To start, obtain a 9V transistor battery or a 4 or more cell AA alkaline battery pack or other source of 5V or more.  Or a mains ""plugpack"" power supply of 5V or more. </p>

<p>Connect the +ve terminal of the supply or battery to ground and the -ve terminal will be at -V. eg a 9V battery will give -9V etc.</p>
","23871"
"How can I safely charge 3 lithium 18650 batteries to use in one pack?","24477","","<p>I'm working on a project to make my own super-bright bike taillight using an emergency flasher LED (something like this:)</p>

<p><img src=""https://i.stack.imgur.com/jmhsw.jpg"" alt=""LED flasher""></p>

<p>The LED package requires a 12V input, but from what I've read from other people who've done this before, it will still work with as little as about 8V. It also uses a 12V momentary charge to switch flash patterns. </p>

<p>I'm planning to use 3 18650 lithium-ion batteries in series to power the light. Each battery is 3.7V, so I should get 11.1 V total, which will (supposedly) be sufficient. I'll put them in a 3-battery holder like this one:</p>

<p><img src=""https://i.stack.imgur.com/HkiNo.jpg"" alt=""3x 18650 holder""></p>

<p>This should be easy enough to set up, but I'm wondering how I should go about charging the batteries. I haven't been able to find 18650 chargers specifically designed for 3 batteries. I've found them for 1, 2, and 4 batteries only. My (limited) understanding of lithium batteries is that all batteries that will be used in a single device should be charged together so that the cells can be balanced, and that if this isn't done, it poses a fire risk. I'd like to avoid having a fire erupt between my legs while barreling down a hill at 30 mph.</p>

<p>Would it be safe to use three 1-battery 18650 chargers, if I charge them all for the same time? Do they actually need to be balanced at all, or am I misunderstanding something? If they do all need to be charged together for safety purposes, then is there any way for me wire it up to get 12V out of 2 or 4 batteries, which I would then be able to charge normally?</p>
","<p>Read my just posted answer to <a href=""https://electronics.stackexchange.com/questions/24222/lipo-series-charging"">this question</a>. While not identical it covers aspects which will answer some of your questions.</p>

<p>3 x 18650 LiIons (or any 3 LiIons) will have a fully charged voltage of 3 x 4.2V = 12.6V and a fully discharged voltage of <strong>ABOUT</strong> 3 x 3 = 9V. How low low goes is up to you. Too low and battery dies.</p>

<p>Read my answer above re balancing. It is not NECESSARY as long as you are CERTAIN that no cell is ever deep discharged AND if charging in series, as long as no cell is in constant voltage tail off mode while you are attempting to inject full constant current at 1C. 'Attempting to"" period may be short. </p>

<p>IF you charge this off the bike and if all 3 cells are isolated from the world (but connected to each other) then my answers above re charging one at a time apply. You can charge 3 at a time with 3 chargers ** as long as** all charger outputs are truly isolated.</p>

<p>An easy way to get 12V is to use one of the many many available switch mode power supplies. You can get 1 or 2 or 3 cell LiIon to 12V capable supplies.</p>

<p>An 18650 LiIon cell is has a capacity of about 2000 mAH x 3.6V nominal =~~ 7 Watt hours.  <strong>IF</strong> your flasher worked at 1 Watt average and was anything like serious it would blow following motorists off the road. Depends on design. 1 Watt at 10% duty cycle = 10 Watts when one. 1 Watt at 1% duty cycle = 100 Watts when on. Properly collimated a 1 att red LED willl do a very very very very good job. So a single 18650 cell with inverter of say 7% efficient (low) will run for 7 Wh/1 Watt x 70% = 5 hours. Ample for most people. </p>

<hr>

<p><strong>ADDED:</strong>  </p>

<ul>
<li>OK, so some clarifying questions.<br>
1) how can I be certain that no cell is ever ""deep discharged""?   </li>
</ul>

<p>No cell ever under 3 Volt.  </p>

<ul>
<li>Monitor voltage and prevent this happening   </li>
</ul>

<p>OR  </p>

<ul>
<li>Never discharge beyond known capacity to ensure this is true.</li>
</ul>

<p>Murphy says you will fail if you take the 2nd choice.</p>

<ul>
<li>2) if I'm using a COTS charger (and charging each cell separately), what do you mean by the charger outputs must be truly isolated? If I'm using a physically separate charger for each cell,</li>
</ul>

<p>If the cells are not connected in any way this is irrelevant.<br>
 This is an issue only if the cells are connected as in a battery holder. </p>

<p>Outputs are fully isolated from the charger input.<br>
 If you operate 2 chargers from mains simultaneously you must get no sensible voltage readings when measuring from eg V+ out of one to V+ out of other.<br>
 If you plav a resistor from V+ out of oneto Ground out of th eother no current flows.<br>
 Well under 1 mA would be acceptable.<br>
I'd expect good isolation. What is to be avoided is having ground out hard connected to ground pin in.</p>

<p>3 truly isolated chargers will work happily on 3 cells in series if there is no closed current path apart from the cell interconnections.</p>

<ul>
<li>will it be safe if when they're done charging separately I put all three cells back into the same system together</li>
</ul>

<p>Yes. </p>
","24230"
"Why are Atmel AVRs so popular?","24463","","<p>A recent question asked about the advantages/disadvantages of various types of MCU. AVRs seemed not even worth a mention given the answers.  Why then does it seem to an outsider that AVRs are experiencing a rush of popularity?  Is this solely due to the Arduino, or is there something else that makes the AVR an especially good microcontroller?</p>
","<p>The AVR family has a lot of good, inexpensive, hobbyist-friendly devices with nice peripherals, low power consumption, and good cross-platform support.</p>

<p>Yes, Arduino is a big part of it.  But I think that Arduino came to exist the way that it did -- and to the success that it has -- partly due to those features.</p>

<ul>
<li><p>Good:  They work well.  Easy to program in C for most basic functions.   Adequate documentation.</p></li>
<li><p>Inexpensive:  Lots of $3-$5 parts, available from major distributors in small quantity.</p></li>
<li><p>Hobbyist friendly:  Parts in through-hole packages-- a big contrast to many of the chip families out there today.  Newer AVR (e.g., xmega) devices are less so.</p></li>
<li><p>Nice peripherals:  Built-in oscillator, flash memory, on-board RAM, serial ports, ADC, EEPROM, and the other goodies that make it possible to run a single MCU on a protoboard to do basic stuff, without too much hassle.  </p></li>
<li><p>Low power consumption.  AVR's major pitch point these days.  Suckers can run on a battery almost forever if you know what you're doing.</p></li>
<li><p>Good cross-platform support:  The AVR was designed with C support in mind-- not as an afterthought.  GCC support came early, and a big open source community developed around that.  It's still one of the best MCUs that you can develop from any platform with free tools.  This is a <em>big</em> one with respect to the other families, many of which use proprietary compilers or have lackluster gcc support.  Even PIC was pretty late to the game with good free C compilers.</p></li>
</ul>

<p>As for why there wasn't much about it in the replies to your earlier question, I think that (1) you're seeing small sample bias and (2) many of the answers were specifically to discuss non-AVR solutions-- because so much of the discussion on this site is AVR/Arduino-centric.   <em>Most</em> of the microcontroller families aren't represented in your list as of this writing-- including some that I use regularly, and others that are among the most popular in the world.</p>
","2329"
"Difference between Mosfet and Voltage Regulator?","24436","","<p>I'm new to electronics and was wondering what was the difference between a Mosfet and a voltage regulator?</p>
","<p>MOSFETs and voltage regulators often come in similar-looking packages and usually have 3 pins each, but their functions are different.</p>

<p>A voltage regulator takes in a high voltage, like 12 V, and puts out a lower voltage, like 5 V. The canonical example of a voltage regulator is the <a href=""http://www.fairchildsemi.com/pf/LM/LM7805.html"">LM7805</a>. They tend to be fairly inefficient (some of the power is lost as heat).</p>

<p>A MOSFET is a semiconductor switch. It varies the resistance between two pins in response to a voltage on a third pin. Inside the MOSFET, the voltage on the third pin (the gate) pulls electrons into a narrow path between the other two pins (the source and drain), allowing electricity to flow. Here's <a href=""http://www.st-andrews.ac.uk/~www_pa/Scots_Guide/first11/part9/page4.html"">a decent diagram</a>.</p>
","3680"
"What does the common terminal (COM) do in PLC","24430","","<p>What does the ""COM"" (common terminal) hook up to on the input of PLC (i.e. Omron CP1L). There are 10 NO input points, one COM and one ground, and two for power AC power supply. Am I supposed to connect the ""+"" input to NO input point, and ""-"" to COM?</p>
","<p>COM is the common connection for relay or transistor outputs; essentially when the output is activated, the PLC will energize the relay or transistor, effectively connecting the NO (normally open) pin to the COM (common) pin.</p>

<p>Some PLCs have form-C contacts, which would have NO, COM and NC (normally closed) contacts. When the output is off, the COM and NC would be connected, and again, when the output is on, the COM and NO contacts would be connected.</p>

<p>If you wanted to activate a light (or buzzer, or actuator, or... or...) you would most likely connect the COM to the power source, one leg of the device you want to control to the NO contact, and the other leg of the device to the supply return. (there are other wiring options, but I suggest this one as it's often the safest, although it will <em>not</em> work for most transistor outputs). It might be easier now to visualize how the NO and COM contacts form a switch that closes when the output is turned on.</p>

<p>You don't specify the particular I/O board you have in this PLC, so a word of caution should be said. It is not uncommon for an I/O board to save space by having only one COM and a dozen NO contacts. Any of the outputs that are set would connect that output's NO contact to the COM rail (it's now called a rail since it is very much like the neutral bar in your breaker panel in your house). The outputs will not be isolated from each other if this is the case, so you need to be careful and plan your I/O accordingly. For relay outputs it is usually the case that each output will have its own COM contact, but it is very common to have a single COM rail for transistor outputs.</p>

<p>It is also important to note what the outputs are rated for; transistor outputs are not designed to drive much other than low current indicators or other digital inputs, and relay outputs might be able to handle an Ampere or so for a resistive load or half as much for inductive loads. The output module should list its ratings somewhere.</p>

<p>Finally, a note to help prevent frustration with transistor outputs. Many digital outputs that employ transistors will use a single NPN transistor per output. The emitter will connect to the COM terminal and the collector to the NO terminal. This would mean that the COM terminal should be connected to the common or return or - side of the power supply (not the chassis ground) and that the device to control would be between the positive supply and the NO terminal. When the output is activated the transistor is switched on and essentially connects the NO terminal to COM, completing the circuit and activating whatever it is you have connected. These type of transistor outputs are called ""open collector"" outputs and cannot send a ""high"" signal. Many, many people get frustrated because they can't supply a positive voltage with this kind of output.</p>
","26628"
"Switching 9V using a NPN transistor and an Arduino","24399","","<p>First of all, I'd like to say I'm not an Electrical engineer so please bear with me. I haven't got a sketch for what I'm trying to achieve but hopefully I can explain it ok.</p>

<p>I have an NPN transistor (2n2222 specifically) and am doing the following.</p>

<ul>
<li>Connect 9V battery to transistor collector</li>
<li>Connect transistor base to Arduino PWM output pin (1k transistor in between)</li>
<li>Connect ground of 9V battery to Arduino ground</li>
<li>Write a for loop (i = 0-255) which increments by 1 every 100ms and do analogWrite(PWMOutputPin, i)</li>
</ul>

<p>I then take a multimeter to measure the voltage between ground and the emitter leg and what I'm getting is values between 0-4.5 volts while the battery has about 7.68V in it by measuring it directly.</p>

<p>I thought the purpose of the transistor is to send the full voltage between the collector and emitter provided that there's sufficient voltage being sent to the base. Is this correct? Am I doing something wrong?</p>
","<p>The circuit you describe is an emitter follower - the emitter voltage follows the base voltage and is always about 0.7 volts negative of the base.  The transistor doesn't care where you think ""ground"" is, its operation only depends on the voltages between its pins.</p>

<p>If you ground the emitter, and put your load between the collector and the positive supply, you will be able to get very close to the supply voltage across the load when the Arduino output is high.  You should have a resistor of 1K or so between the Arduino output pin and the transitor base, to limit base current and loading of the Arduino output pin.</p>
","95090"
"Some advice on charging circuit used in simple UPS","24343","","<p>I have looked around for some way of having a 5 volt power supply that acts like a UPS.</p>

<p>Basically want to use a micro usb connector for +5 have a battery and li-ion or other charging circuit that will maintain uninterrupted power on the output.</p>

<p>I found these 2 that are really what I need- but they charge Lead Acid batteries in cars or something and I do not know how to integrate a charging circuit into this.</p>

<p><strong>6volt UPS with 6 volt input i think?</strong></p>

<p><img src=""https://i.stack.imgur.com/nAB4O.jpg"" alt=""enter image description here""></p>

<ul>
<li>R1, R3 - 560 ohms 1/4W</li>
<li>R2 - 1 kilo ohms 1/4W</li>
<li>D1 - 1N4736A or any 6.8V zener diode</li>
<li>D2 - 1N4001 or similar diode</li>
<li>LED - red LED or any low power LED  </li>
<li>C1 - 47uF electrolytic capacitor rated 16V</li>
<li>Q1 - 2N3440 or similar NPN transistor</li>
<li>BAT - 6V battery </li>
</ul>

<p><strong>5volt ups with 12volt input for lead acid battery charging</strong></p>

<p><img src=""https://i.stack.imgur.com/AUjMZ.jpg"" alt=""enter image description here""></p>

<ul>
<li>R1 - 39 ohms 1/2W</li>
<li>D1, D3, D4 - 1N4001 or similar diode</li>
<li>D2 - 13V zener rated 1W</li>
<li>C1 - 220uF electrolytic capacitor rated 25V</li>
<li>C2 - 10uF electrolytic capacitor rated 10V</li>
<li>IC - 7805 or similar 5V regulator</li>
<li>BAT - 12V lead acid battery rated 1.2Ah minimum</li>
<li>DC INPUT - 12volt DC</li>
</ul>

<p>And i have found 2 charging solutions one for ni-cd and the other for Li-ion</p>

<p>Ni-Cd</p>

<p><img src=""https://i.stack.imgur.com/tdJoa.jpg"" alt=""enter image description here""></p>

<ul>
<li>R1 - 1.2 kilo ohms 1/4W</li>
<li>R2 - see R2 and D2 table below</li>
<li>R3 - 2 kilo ohms 1/4W</li>
<li>Q1 - TIP41C or any NPN transistor min 1A current and 3W power</li>
<li>Q2 - 2N2222, CS9013, or similar NPN transistor</li>
<li>LED1 - Red or any LED with forward voltage around 2V (see LED)</li>
<li>LED2 - yellow or any LED color except Red</li>
<li>D1 - 1N4001 or similar diode</li>
<li>D2 - see R2 and D2 table below</li>
<li>DC supply - 12V to 15V DC supply or battery</li>
</ul>

<p>Li-Ion (nice single chip solution)</p>

<p><img src=""https://i.stack.imgur.com/0XJvJ.jpg"" alt=""enter image description here""></p>

<p>So I can connect the dots- the charging circuits require an input voltage and they are specifically picked to stop charging at certain currents to over over charge.</p>

<p>Would it be as simple as taking the + from the charging point and replace it with the BAT symbols in the UPS designs? I suspect I need to decouple it somehow, to prevent voltage from the always on power going to the + of the battery (and essentially bypassing the charging circuit) would a diode be needed here to stop the main supply (but how do I tell the battery to kick in when the mains is off?) Is there something missing here to switch between supplies as needed?</p>
","<p>If I understand you correctly, you want a charger than can switch between battery and input source (i.e. when adapter is plugged/unplugged) to power the load.  </p>

<p>There are plenty of charge control ICs and circuits around that can do this. The <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/21984e.pdf"" rel=""noreferrer"">MCP73831</a> is a nice cheap little Li-Ion charge IC, and with the addition of a PMOS/Schottky, can switch between adapter and battery. Here is an example circuit:</p>

<p><img src=""https://i.stack.imgur.com/iXXmR.png"" alt=""MCP73831 circuit"">  </p>

<p>The output is at the top right where the wire disappears (from the PMOS/Schottky)<br>
Here is an Microchip <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/51746a.pdf"" rel=""noreferrer"">app note</a> which goes into some details on such a circuit.</p>

<p>The way it works is when the USB power (or adapter) is not present, the VUSB_IN line gets pulled to 0V by R4. This brings the gate of the PMOS (G on the symbol) to ground and turns it on (i.e. opens the Source-Drain, marked S and D) allowing the battery to power the circuit. The Schottky (marked A and K) stops the battery raising the VUSB_IN line and turning the PMOS off again.<br>
when the adapter is plugged in, the gate is pulled to +5V and the PMOS turns off, leaving only the adapter voltage powering the circuit and letting the battery charge.  </p>
","36938"
"How do I extend the number of analog (input) pins available to me?","24318","","<p>I already know how to extend the number of digital pins on an Arduino using a multiplexer.</p>

<p>I want to increase the number of analog input channels that I have. One solution is to add another Arduino as a slave.</p>

<p>How would I increase the number of analog input channels? (I assume some MUXing and ADCs are involved). If it's too complicated to write in an answer, a general outline of circuit/code would be fine as well.</p>

<p>I am also open to shield suggestions, though I'd prefer it if there was a not-too-hard hardware solution.</p>
","<p>If you're already familiar with digital multiplexer chips, good news!  They can be used for analog signals as well. </p>

<p><a href=""http://playground.arduino.cc/Learning/4051"">http://playground.arduino.cc/Learning/4051</a></p>

<p>The basic premise is exactly like with digital signal multiplexing. You use the 4051 chip as a ""lane changer"" and read the signal of whatever lane you tell the chip to switch to. the 4051 uses 3 digital pins and 1 additional analog (or digital) pin on the arduino to create up to 8 lanes of input.  Some multiplexers are chainable, so you can fairly easily add 8 more signals without needing to keep taking them away from the arduino itself.   </p>

<p>It is exactly like the technique you already know for digital signals, just hook up the channel you read from to an analog pin instead of a digital one, then cycle through the binary states and read the analog values.</p>

<p>I made an animated gif for you.</p>

<p><img src=""https://i.stack.imgur.com/TuLBX.gif"" alt=""enter image description here""></p>
","67005"
"Q-Point of a circuit","24310","","<p>In a BJT or MOSFET circuit we have this curve:<br>
<img src=""https://i.stack.imgur.com/Nk9jU.jpg"" alt=""enter image description here""></p>

<p>What is that q-point? From my research I have the following information:<br></p>

<blockquote>
  <p>The operating point of a device, also known as bias point or quiescent point (or simply Q-point), is the DC voltage and/or current which, when applied to a device, causes it to operate in a certain desired fashion. </p>
</blockquote>

<p>and</p>

<blockquote>
  <p>The operating point of a device, also known as bias point, quiescent point, or Q-point, is the steady-state voltage or current at a specified terminal of an active device (a transistor or vacuum tube) with no input signal applied.</p>
</blockquote>

<p>But I'm still lost as to what Q-point is. What is q-point? Why is it important? Why is it located at that position on the graph? What does it tell us?</p>
","<p>Circuit analysis is generally broken into two parts:  DC and AC analysis.</p>

<p>For the DC analysis, <em>all signal sources are zeroed</em>, i.e., only the DC sources are considered.  For DC analysis, a capacitor is an open circuit and an inductor is a short circuit.</p>

<p>The solution for the circuit, under these conditions, is the Q-point; the ""quiet"" point.  It is the value of the circuit voltages and currents <em>when no signal is present</em>.</p>

<p>If you look carefully at the graph, you'll notice that the voltage and current associated with the Q-point are DC values, i.e., capital variable, capital subscript.</p>

<p>The essential idea is that the AC (time varying) solution ""rides on top of"", or is superposed on, the DC operating point or Q-point.</p>

<p>This is actually only approximately true, for non-linear circuits, when the signals are ""small"", when the total solution is just a small variation around the Q-point.</p>

<p>When this is true, then the non-linear circuit can be closely <em>approximated</em> by a linear circuit; it is said the we <em>linearize</em> the circuit about the Q-point (this is precisely what circuit simulators such as SPICE do for ""AC analysis"").  The dotted line is the linear approximation of the actual non-linear curve.  We call this the ""small-signal approximation"".</p>

<p>When the variation, due to signals, is ""small enough"", the linear approximation is a good one. </p>
","65347"
"Zener diode in series?","24291","","<p>Is it OK to use a zener diode in series?  Normally I see them across the output of a power source to limit the voltage to the value of the zener.</p>

<p>Putting it in series instead should reduce the voltage by the value of the zener, yes?  (so a 5V zener on a 12V supply would give a 7V output).</p>

<p>The thing is, I have a -12V supply and I need a -5V (or near, -7 will do - I have added a couple of Si diodes to drop the voltage a little more) supply from it - BUT - I don't want to lose the -12V supply (that is needed for other parts of the circuit), and I don't have any negative regulators, only positive.</p>

<p>I have tried it and it appears ok, but will it cause problems if I leave it like that?</p>
","<p>A regulator would be the best solution, but a zener (one 'n') is ok, at least if you don't want to draw too much power from the regulated voltage. You don't place the zener directly on the -12V, but use a series resistor to limit the current. It's this series resistor which dictates how much current you can draw. The -12V will still be available.  </p>

<p><img src=""https://i.stack.imgur.com/XBVBV.gif"" alt=""enter image description here""></p>

<p>To calculate the resistor value, you have to know how much current your load will draw. Suppose this is 1 mA. Also suppose the zener diode needs 10 mA. That's 11 mA through the resistor. Voltage drop is 12V - 5V = 7V. Then R = 7V / 11 mA = 640\$\Omega\$.  </p>

<p><strong>edit</strong><br>
You may think that in my example I'm exaggerating a bit to have 10mA for a zener if the circuit would require only 1/10th of that. But you'll find that zeners are often specified at much higher currents, like 50mA. Certain newer zeners are specified at much lower currents, <a href=""http://www.onsemi.com/pub_link/Collateral/MMSZ4678T1-D.PDF"" rel=""noreferrer"">these ones</a> only need 50\$\mu\$A.   </p>

<p><strong>YAE (Yet Another Edit)</strong><br>
The reason why you don't want to use the zener in series to get the voltage drop is that especially at low currents the reverse voltage may be <em>much</em> lower than the rated value. <a href=""http://www.nxp.com/documents/data_sheet/1N4728A_SER.pdf"" rel=""noreferrer"">This diode</a> for instance is specified at <strong>5.1V</strong> @ 50mA, but only drops <strong>1V</strong> at 10\$\mu\$A.</p>
","15858"
"Why does an inductor behave as a capacitor at high frequencies?","24278","","<p>In truth, I've only been told this anecdotally by an instructor, but can someone explain the physics at play?</p>

<p>I have been told that if an inductor is driven at a high enough frequency, it will begin to behave as an capacitor, but I cannot figure out why.</p>
","<p>An ideal inductor would not behave like a capacitor, but in the real world there are no ideal components.</p>

<p>Basically, any real inductor can be though of an ideal inductor that has a resistor in series with it (wire resistance) and a capacitor in parallel with it (parasitic capacitance).</p>

<p>Now, where does the parasitic capacitance come from? an inductor is made out of a coil of insulated wire, so there are tiny capacitors between the windings (since there are two sections of wire separated by an insulator). Each section of windings is at a slightly different potential (because of wire inductance and resistance).</p>

<p>As the frequency increases, the impedance of the inductor increases while the impedance of the parasitic capacitor decreases, so at some high frequency the impedance of the capacitor is much lower than the impedance of the inductor, which means that your inductor behaves like a capacitor. The inductor also has its own resonance frequency.</p>

<p>This is why some high frequency inductors have their windings far apart - to reduce the capacitance.</p>
","25684"
"Friend used a 12V power adapter instead of a 9V adapter without looking. Is my guitar effect pedal wrecked?","24269","","<p>Pretty much what the title says.</p>

<p>Later I tried a 9V adapter which I brought from home and the pedal isn't releasing any sound. On/off lights are saying it's off.</p>

<p>Cables and the 9V adapter from home shouldn't be the cause (tried them with another pedal and that worked).</p>

<p>The problem definitely lies within the pedal I lent the friend.</p>

<p>Also, I have no idea about electricity-related stuff. Just thought I might mention that.</p>
","<p>Worst case:</p>

<ul>
<li>The voltage and/or polarity of the power adapter was wrong.  This could have caused damage to the pedal.</li>
</ul>

<p>Medium case:</p>

<ul>
<li>The pedal drew too much power out of the power adapter and blew the adapter.</li>
</ul>

<p>Best case:</p>

<ul>
<li>Nothing happened and it's all fine.</li>
</ul>

<p>Check the voltage and polarity :</p>

<p>This is the symbol for the DC voltage:</p>

<h1><strong>⎓</strong></h1>

<p>(A line with 3 dashes under it)</p>

<p>This is the symbol for the polarity:</p>

<p><img src=""https://i.stack.imgur.com/uJYvd.jpg"" alt=""Polarity""></p>

<p>The dot in the middle represents the hole in the center of the power plug.  The C shaped part is the main body of the plug.  Make sure this matches what the original power adapter had.</p>
","18791"
"Need help calculating resistance for transistor base","24214","","<p>I have 3 12VDC/40A automotive relays (<a href=""http://www.radioshack.com/graphics/uc/rsk/Support/ProductManuals/2750001_DS_EN.pdf"" rel=""noreferrer"">datasheet</a>) that I want to use with my Arduino.
Based on the tutorial I am following (<a href=""http://www.instructables.com/id/Connecting-a-12V-Relay-to-Arduino/?ALLSTEPS"" rel=""noreferrer"">link</a>) I need transistor, resistor, and diode. I am not an electrical engineer therefore I am unsure about the parts and calculations I made.</p>

<p>For the start, relay coil resistance is 90+-10% Ohm per datasheet. So I proceed by calculating the current flow. </p>

<blockquote>
  <p>Voltage=Resistance*Current</p>
  
  <p>Current=Voltage/Resistance</p>
  
  <p>Current=12V/90</p>
  
  <p>Ohm Current = 133mA</p>
</blockquote>

<p>For the transistor I can get 2N3904 or 2N4401. At this point I have to calculate resistance for the base of transistor. In tutorial its as following</p>

<blockquote>
  <p>hfe = Ic / Ib</p>
  
  <p>Ib = Ic / hfe</p>
  
  <p>Ib = 0.03 A / 75 Ib = 0.0004 A => 0.4 mA</p>
  
  <p>R1 = U / Ib</p>
  
  <p>R1 = 5V / 0.0004 A</p>
  
  <p>R1 = 12500 Ohm</p>
</blockquote>

<p>2N3904 datasheet states the H(fe) is 30-300 when lc = 100mA (mine is 130mA) and Vce = 1V. At this point I have no clue what is going on, thus I need help.</p>

<p>Edit:
Here is what I ended up with. RLY1 in the picture is 12VDC/40A (<a href=""http://www.radioshack.com/graphics/uc/rsk/Support/ProductManuals/2750001_DS_EN.pdf"" rel=""noreferrer"">link</a>)</p>

<p><img src=""https://i.stack.imgur.com/moB3R.png"" alt=""enter image description here""></p>
","<p>Let's design for worst case, that is a good practice.</p>

<p>\$Ic = 133\text{mA}\$</p>

<p>\$h_{FE} = 30\$ # according to the <a href=""http://www.fairchildsemi.com/ds/2N/2N3904.pdf"" rel=""noreferrer"">datasheet</a> minimum 30, typically much better; @Ic=100mA</p>

<p>You can calculate Ib now:</p>

<p>\$I_b = \dfrac{I_c}{h_{FE}} = \dfrac{133\text{mA}}{30} = 4.43\text{mA}\$</p>

<p>\$V_{BE,SAT} = 0.95\$ # datasheet, nearest match is 50mA. Maximum value, practical value is probably much lower (0.65V)</p>

<p>Now let's calculate the base series resistance. This is equal to the voltage across the resistor, divided by the current through it. The current through the resistor is the same as the base current. The voltage across it is the rail voltage (5V) decreased by the base-to-emitter voltage of the transistor V(CE,sat).</p>

<p>\$R_B = \dfrac{U_{R_b}}{I_b} = \dfrac{V_{CC} - V_{BE}}{I_B} = \dfrac{5 - 0.95}{4.43/1000} = 913\Omega\$</p>

<p>With all the worst case engineering up to here, for once let's just round it up to the nearest E12 resistor value of 1kΩ (or 820Ω for worst case engineering, it will work with either).</p>
","83691"
"Why to disconnect the negative/ground terminal, not positive?","24195","","<p>To break off any circuit, the common way is to disconnect the negative and or ground terminal. I rarely see people disconnecting the positive and if so, they're not well educated in electrical engineering most of the times.    </p>

<p>Well, I've no electrical degree either and to me, breaking the circuit off at the negative side seems counter intuitive.  </p>

<p>In my intuition, breaking the input makes more sense than breaking the output, due this is the side where the energy is coming from.  </p>

<p>Why to disconnect the negative/ground terminal, not the positive?</p>
","<p>There is no real inherent distinction between breaking one side of a loop or the other side- it's all in series so breaking the negative or the positive side of the supply keeps electrons from flowing.  </p>

<p>When you have an electronic switch and are turning off part of the circuitry with other circuitry it's easier to break the negative - called a low side switch (requires fewer parts), but if some other circuitry remains connected, that may cause problems. For example, if I break the ground connection on a module, the 'input' pins may start sourcing current back to the controller (because otherwise they would have to go negative with respect to 'ground' on the module)- it won't necessarily switch the current off completely and it may even damage the controller or module in some situations. </p>

<p>Look at a few of the many answers on this site where people have tried this, failed and a <strong>high-side switch</strong> has been suggested. It comes up quite regularly. </p>

<p>If it's something completely isolated like a relay coil, most designers will use a low side switch because it's simpler and there is no advantage the other way. In cars, the chassis is used as a return, so high side is preferred if the load is remote. <a href=""http://www.onsemi.com/pub_link/Collateral/TND384-D.PDF"">Here</a> is a useful document on automotive applications. </p>

<p>Speaking of automotive, there is one particular situation worthy of mention where removing the negative connection is recommended for safety reasons- and that is when you are working on a car. Since the negative terminal is almost always connected very solidly to the chassis, if you try to remove the positive terminal with a (conductive) wrench/spanner and the tool touches the chassis hundreds of amperes will flow, causing the wrench to get red hot. Some people have left their wedding or other rings on and receive severe burns (to the point of possibly losing their finger) when the ring formed part of the circuit. </p>

<p>So <strong>take the negative terminal off first and put it on last</strong> if you are working on a car. And remove jewellery. </p>
","230640"
"How to calculate current and voltage draw of a single resistor circuit?","24183","","<p>If I have a single 270 ohm resistor connected in a circuit to a 3.3V 50mA power supply, how can I measure the voltage and current for the resistor? I'm familiar with Ohm's law V=IR, where V is the voltage differential, but what is the differential for a resistor?</p>

<p>I'm trying to work out why when I put a blue LED (3V@20mA) into the circuit, the voltage I actually measure is less than 3V (more like 2.4V).</p>

<p><strong>Update</strong></p>

<p>I think the thing that is confusing me is the discrepency between the theoretical values, and the measured values.</p>

<p>Theoretical values:</p>

<blockquote>
  <p>I = V/R<br>
  I = 3.3 / 270<br>
  I = 12.222mA  </p>
</blockquote>

<p>Measured values:</p>

<blockquote>
  <p>3.28V<br>
  267 ohm<br>
  11.7mA  </p>
</blockquote>

<p>But then if I plug the measured values back into Ohm's Law, they don't equate?!</p>

<blockquote>
  <p>I = 3.28 / 267<br>
  I = 12.28mA  </p>
  
  <p>V = IR<br>
  V = 0.0117 * 267<br>
  V = 3.12V  </p>
</blockquote>
","<p>You have to start with a closed circuit, so that there can flow current. Do you have the resistor connected between the <code>+</code> and the <code>-</code> of the power supply? Then the voltage difference is 3.3 V. And you use Ohm to calculate the current.  </p>

<p>The LED. Did you place that in series with the resistor? Which is how a LED circuit is built: the resistor makes sure that there's not too much current through the LED. Always use one.</p>

<p>If the LED's voltage would be 3 V then the difference between your supply voltage and the LED's voltage would be across the resistor. Kirchhoff is to blame for that. Kirchhoff's Voltage Law (KVL) says that the total of the voltages in a closed loop is zero. So we'll have 1.1 mA through LED and resistor. The 3 V was specified at 20 mA, so we're an end below that. It's normal for a LED to have a lower voltage at low currents.  </p>

<p>But note that the 1.1 mA was true for 3 V LED voltage. We're apparently at 2.4 V, so the difference is now 0.9 V, and the current 3.3 mA. If you decrease the resistor value so that the current increases, you'll notice that the LED's voltage will increase as well.</p>

<p>How do you calculate the value? (Here we go again)  </p>

<p>\$ R = \dfrac{\Delta V}{I} = \dfrac{3.3 V - 3 V}{20 mA} = 15 \Omega \$</p>

<p><strong>edit</strong> re your update of the question<br>
Welcome to the real, imperfect world. What you have at hand is measurement error. This is an important issue in engineering, and handling it properly can be a painstaking process.  </p>

<p>You're giving your numbers in three significant digits, that's probably what the multimeter gives you. A multimeter's precision is most of the time expressed as a percentage (relative error) + a ""count"" (absolute error). A hobby quality meter may for instance have 2 % precision +/- 1 count. The 2 % should be clear: a 100 V reading may actually represent anything between 98 V and 102 V. The 1 count is an error in the last digit. A 5 may actually be a 4 or 6. That's an absolute error and doesn't depend on the value the meter gives you. If you measure 100 V then 1 count represents 1 %, if you read 900 V (same number of digits!) then 1 count is 0.11 %.  </p>

<p>Let's presume you have a decent multimeter with 1 % +/- 1 digit precision. Then worst case your values may become  </p>

<blockquote>
  <p>3.28 V - 1 count = 3.27 V, - 1 % = 3.237 V<br>
  267 &Omega; + 1 count = 268 &Omega;, + 1 % = 270.7 &Omega;<br>
  11.7 mA + 1 count = 11.8 mA, +1 % = 11.92 mA.</p>
</blockquote>

<p>3.237 V / 270.7 &Omega; = 11.96 mA, which agrees well with the 11.92 mA we calculated for worst case. If your multimeter has a 1.5 % precision the calculated current will fall perfectly within the measured value's error range.</p>
","36125"
"What is the difference between emitter and collector for BJTs?","24128","","<p>the (surely simplistic) model of a bipolar junction transistor one is taught in foundational physics course appears to be symmetric. - So, what is the difference between the collector and the emitter of a real BJT? If the transistor were symmetric one would not make this distinction...</p>

<p>Also:</p>

<ul>
<li>Do BJTs have a 0.6V voltage drop like diodes?</li>
<li>Are BJTs conductive in both directions, i.e. E-C and C-E?</li>
</ul>

<p>Many thanks.</p>
","<p>Yes, BJTs have the same voltage drop across their junctions as common diodes, that's 0.6V à 0.7V between base and emitter, and the same between base and collector. Since they act like diodes they don't conduct in both directions if you apply a voltage across the two pins.  </p>

<p>When you use them as a transistor, for an NPN there will flow current from collector to emitter through the base, though, so base-collector junction reverse biased are at that moment.</p>

<p><img src=""https://i.stack.imgur.com/jpTm0.gif"" alt=""enter image description here""></p>

<p>The arrows indicate <em>electron flow</em>, not conventional flow. Conventional flow is from positive to negative and is always used in circuit analysis. But conventional flow can't explain the details of the working of a transistor, so here electron flow is shown.<br>
Also not that the collector voltage is higher than the base voltage.</p>

<p>The main differences between emitter and collector are doping concentration and size. The emitter is heavily doped, while the collector is lightly doped. You could try to swap them, but you'll get a very low \$H_{FE}\$, probably even less than 1.</p>
","33306"
"Stall torque for servo, kg/cm?","24096","","<p>I've recently bought some cheap TowerPro SG-50 rc servos from ebay. They seem to work quite well, and despite their small size they are quite strong.</p>

<p>But how ""strong"" are they actually. The datasheet specifies:</p>

<blockquote>
  <p>Stall Torque: <code>0.8 kg / cm</code></p>
</blockquote>

<p>What does that mean. I guess that stall torque is the amount of torque that needs to be applied  in the reverse direction of the rotation, before the servo stalls. But what does the unit <code>kg / cm</code> mean?</p>
","<p>The normal SI units for torque are Newton-metres.  Torque is a force times the distance from the fulcrum/axis.  The units that you are giving do not make sense (although I have seen them in a number of places quoted for this device - puzzling).  I expect that this is a mistyping of the units on a cheap data sheet.</p>

<p>I would expect that the motor will stall when a weight of 0.8kg is hanging from a 1cm long arm attached to the motor spindle.</p>
","2750"
"How to resolve I2C address clashes?","24066","","<p>I want to connect multiple I2C slave devices to a micro controller all on the same set of pins but the I2C devices all share the same address. The addresses are fixed in the hardware.</p>

<p>Is there any way to connect multiple devices with the same address?</p>

<p>Perhaps some kind of I2C address translation module with each device with an configurable address so I can assign my own addresses to each one.</p>
","<p>There is nothing built into I2C to do this, normally slave devices will have some externals pins that can be set to 0 or 1 to toggle a couple of the address bits to avoid this issue.  Alternatively I've dealt with a few manufacturers that have 4 or 5 part numbers for a part, the only difference being its I2C address.</p>

<p>Most devices have specific hardware that handles the I2C communication, that is the slave ACK is in hardware so you really can't hack around it.</p>

<p>As for the translation module, you could buy some $0.50 PIC's with 2 I2C buses and write some quick code to make them act as address translators i guess.</p>
","5099"
"Continuous light: do LEDs flicker like fluorescent lights?","24016","","<p>Continuous light - do LEDs flicker like fluorescent lights?</p>

<p>Under fluorescent light there is a flicker.</p>

<p>As I understand LEDs work only with DC current, thus they have a AC to DC transformer circuit pumping electricity into them. That would mean that they emit continuous light.</p>
","<p>LEDs will emit steady light if given steady current.  The question then becomes what kind of current waveform LEDs are driven with in a light assembly.</p>

<p>The exact answer depends on the circuit in the light.  LEDs run on just a few volts.  The much high line voltage has to be converted to the lower LED voltage somehow.  Most likely, this will include the cheapest, dumbest, and most stripped down switching power supply possible.</p>

<p>I see other answers mention a transformer, but I think that is quite unlikely.  There is no need for isolation in a sealed unit with no external connections other than the power line.  Even if there is a transformer, it's not going to be fed directly from the line frequency.  The extra savings in cost and size of a transformer that works at 10s to 100s of kHz far outweighs the cost of the components to produce that frequency.</p>

<p>Most likely, there is a full wave bridge to rectify the AC line voltage directly.  That will then be chopped thru a inductor to drive the LEDs.  Depending on how cheap the lamp is, it might chop at a fixed duty cycle, which would make the LED brightness vary with power voltage.  Even a little current feedback would keep the LED current reasonably constant over most of the line cycle, perhaps dipping only briefly at the power line zero crossings.  A small cap would reduce that, but caps cost money and take space, so may not be included.</p>

<p>LED lamps are made in large volumes, so serious manufacturers probably develop custom ICs just for this purpose.  In such a case I'd expect at least some attempt at regulation, so the LED brightness will be largely constant, perhaps with short dips at the power line zero crossings.</p>

<p>However, all this is speculation.  Why not just look?  Put the lamp at the end of a extension cord and swing it around in a otherwise darkened room.  Whether it flickers or not will be immediately obvious.</p>
","59206"
"How to use external ST-Link to debug/program STM32F103 MCU?","24013","","<p>I'm using STM32F103 MCU for my own project and want to use the ST-Link of STM32F411 Nucleo board for external debugging / programming purposes.</p>

<p>I've set the CN2 jumpers OFF and my actual question is in the pinouts of SWO (CN2). How I proceed on this is as follows:</p>

<ul>
<li>PIN 1 (of SWO) is VDD_Target</li>
<li>PIN 2 is SWCLK</li>
<li>PIN 3 is GND</li>
<li>PIN 4 is SWDIO</li>
<li>PIN 5 is NRST</li>
<li>PIN 6 is SWO</li>
</ul>

<p>To the best of my knowledge, I shouldn't use all these pins above. As in, I've connected </p>

<ul>
<li>PIN 2 to PIN 37 (or PA14) in MCU</li>
<li>PIN 3 to GND</li>
<li>PIN 4 to PIN 34 (or PA13)</li>
<li>PIN 5 to PIN 7 or (RESET) in target MCU.</li>
</ul>

<p>Not sure if I should connect SWO pin as it's set as ""reserved"" (Why?). Also I'm giving 3.3 V to VIN pin of MCU, means that I don't need to connect VDD (PIN 1 of stlink).</p>

<p>Please refer to this table I've taken from the official datasheet:</p>

<p><a href=""https://i.stack.imgur.com/mDsu4.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/mDsu4.png"" alt=""enter image description here""></a>
<a href=""https://i.stack.imgur.com/QpaLD.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/QpaLD.png"" alt=""enter image description here""></a></p>

<p>Here's the general pinout configuration of the MCU here:</p>

<p><a href=""https://i.stack.imgur.com/uEky4.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/uEky4.jpg"" alt=""enter image description here""></a></p>

<p>I've tested ""almost"" everything with oscilloscope and tester and everything seems okay. What else I'm missing here? Should I do anything with BOOT0 or BOOT1 pins?</p>
","<p>First of all thanks to everyone for their contribution. </p>

<p>After two sleepless nights and struggle, I could find out the issue. The problem was in pin connections in my custom board: I thought that, in my MCU, Pin 9 (VDDA) is short-circuited with PINs 24-36-48, and Pin 8 (VSSA) with PINs 23-35-47, but it's not so.</p>

<p>I needed to give another <strong>3.3V</strong> and <strong>GND</strong> to <strong>VDDA</strong> and <strong>VSSA</strong> and st-link started working. </p>

<p><em>Solution Method</em>: I used Maple Mini schematics to understand the connections of STM32F103. It turned out that, they've short-circuited VDDA with VDD1, VDD2 &amp; VDD3, and VSSA with VSS1, VSS2 and VSS3. I think, I should've understood this from the naming VSSA, as it's not VSS0 or VSS4.</p>
","206839"
"Linux on ARM Cortex-M3 series","23998","","<p>I'm new to ARM and a bit confused with all the diferent series.</p>

<p>I need to build a <strong>low power</strong> gateway (ethernet, wifi...), so I guess a cortex-M or cortex-R will be the good starting point.
But it didn't find any dev board with say a cortex-m3 (wich seems to be quite popular) supporting linux.</p>

<p>It seems possible <a href=""http://www.linux-arm.org/LinuxKernel/LinuxM3"">linuxM3</a>, so I wonder why there is no linux project around an <a href=""http://mbed.org/handbook/mbed-Microcontroller"">mbed</a> or a <a href=""http://www.embeddedartists.com/products/lpcxpresso/lpc1769_xpr.php"">LPCXpresso</a> for example ?</p>

<p>Can anyone point me to the dev board I seek, or explain me why ""cortex m""+linux doesn't comme with more answers ?</p>
","<p><em>Regarding the ARM Cortex-M3:</em></p>

<p>Linux requires an MMU (Memory Management Unit). The ARM Cortex-M3 does not have one. It is impossible to run the mainline Linux kernel on the ARM Cortex-M3.</p>

<p>However, there is a variant of the Linux kernel for MMUless processors called <a href=""http://www.uclinux.org/"">uCLinux</a>.</p>

<p><a href=""http://www.linux-arm.org/LinuxKernel/LinuxM3"">Linux on M3 Guide</a></p>

<p><A href=""http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/APPLICATION_NOTE/CD00242717.pdf"">ST's Application Note on uCLinux</a></p>

<p>However, as others have noted, Linux is unlikely to be practical on the M3. It won't run without external RAM. I believe that even the largest Cortex-M3 parts only have 1MB flash, so you'll likely need extra storage too.</p>
","19243"
"Stranded vs solid wire","23961","","<p>What are the advantages of stranded vs solid wire?</p>

<p>what should i be using for prototyping circuits?</p>
","<p>Solid wire (24 gauge) is good for use as jumpers in solderless breadboards.  Trying to push in stranded wire is frustrating.  Solid wire holds its shape, so you can route wires along a path and they'll stay there.</p>

<p>Use stranded wire for everything else.  It is flexible so it's good for cables going between a circuit board and knobs/switches on an enclosure, connecting cables between circuit boards, or any time you might have physical flexing in a wire.  24 gauge is a good all-around size for stranded too.</p>
","624"
"Binary Adder and Parallel Adder","23940","","<p>Are binary adder and parallel adder same thing? I couldn't find any information about parellel adder in my book. Does anybody have an idea? </p>
","<p>There is a distinction between parallel adder vs serial adder. Both are binary adders, of course, since are used on bit-represented numbers. Parallel adder is a combinatorial circuit (not clocked, does not have any memory and feedback) adding every bit position of the operands in the same time. Thus it is requiring number of bit-adders(full adders + 1 half adder) equal to the number of bits to be added. 
<img src=""https://i.stack.imgur.com/DybGU.gif"" alt=""enter image description here"">
<br>(The image taken from <a href=""http://www.exploreroots.com/dc7.html"" rel=""nofollow noreferrer"">here</a>)
<br>
Serial adder is a sequential circuit, consisting of a flip-flop and a full adder. At each clock cycle, it is taking the result of the previous bit addition result carry stored in the flip-flop, calculating the sum result and storing the carry to the flipflop for the next calculation. In this manner, the input data have to be fed serially, synchronized by the clock, and the result is read serially as well.
<img src=""https://i.stack.imgur.com/cWb1s.png"" alt=""enter image description here""> 
<br>(The image taken from <a href=""http://www.ece.mcmaster.ca/~shirani/2di4/chapter8p2.pdf"" rel=""nofollow noreferrer"">here</a>)</p>
","161952"
"Add on/off indicator LED to circuit","23939","","<p>I'm working on my first small electronics project; building a small LM317 based power supply. I've built the circuit as shown in the data sheet (black part of the circuit diagram below) on a perfboard. Now I wanted to add an LED to indicate if the switch is in on (bottom) or off (left) position. I added it to the circuit as shown below (red). However, the LED doesn't turn on if I switch to on position (the power supply itself works fine).</p>

<p>My question is: can this even work if the LED were connected as indicated in the diagram? If not, what would be the easiest solution to get such an on/off indicator LED?</p>

<p>Image link: <img src=""https://i.stack.imgur.com/5LaGc.png"" alt=""http://i.stack.imgur.com/X1Jv7.png""></p>
","<p>Since you're new to electronics the power supply is a good way to start. You'll need one for everything you want to do.  </p>

<p><em>AndrejaKo</em> and the others already told you what's probably wrong: you installed it the wrong way, which killed it, because while most diodes can stand the 18V reverse, LEDs can't. What did you do? Just try it one way and reverse it if you saw it was wrong? OK, now you know that you can't afford this with LEDs.  </p>

<p>Try to make it a habit to use components you've got information on. No design engineer would use a part if he can't get the <strong>datasheet</strong> for it. Here's the drawing from the datasheet for a <a href=""http://www.lumex.com/specs/SSL-LX5093LID.pdf"" rel=""noreferrer"">random LED</a>:  </p>

<p><img src=""https://i.stack.imgur.com/xY6LO.png"" alt=""enter image description here"">  </p>

<p>There are a few differences between the pins. One pin is longer than the other, the LED's rim isn't complete on one side, and if you look into the LED you may see a thin wire going from the chip to one of the pins. The wire is usually the anode. <em>Usually!</em> Don't try it if you're not sure, remember you don't get a second chance. Use whatever the manufacturer indicates as the anode. In this case that's the longer pin. Only rely on that. That's your anode, which goes to the plus.  </p>

<p>If you wouldn't have a datasheet there's still a safe way to try it. Place two of your LEDs in anti-parallel: the anode of one LED to the other's cathode, and vice versa. Place a resistor in series and connect to a 9V battery (or your new power supply!). One LED will be correctly polarized and that will light, the other one will be reverse polarized, but the first one's forward voltage (around 2V for a red LED, 3.5V for a white one) will limit the reverse voltage to a safe level.  </p>

<p>Another thing mentioned is your resistor. Nine out of ten it's too high, though you should still see the LED light faintly. Again there's the datasheet. You want to know the LED's nominal current, which is often around 20mA for an indicator LED, but also its voltage drop. The same datasheet says 40mcd at 20mA, and the voltage is 2V typical. Then you use Ohm's Law to calculate the series resistor:  </p>

<p>\$ R = \dfrac{V}{I} = \dfrac{V_+ - V_{LED}}{I_{LED}} = \dfrac{18V - 2V}{20mA} = 800\Omega\$</p>

<p>if it's a 20mA LED. The closest value you'll find will probably be 820\$\Omega\$. Note that, due to the high input voltage, the power dissipated will be a bit more than 300mW, so a 1/4W resistor won't do. Pick at least a 1/2W resistor.</p>

<p>There's still another possible explanation why it doesn't work. LEDs are sensitive to <strong>ESD</strong>, ElectroStatic Discharge. Touching the LED when you're statically charged to a few kilovolt will also kill the LED. It's possible that many of the components you'll use in the beginning won't be so sensitive to this, like resistors or capacitors. CMOS is also ESD sensitive. If you don't have ESD protection (probably not yet) then touch a large metal object before you handle the LED.</p>
","32978"
"Longest range remote control","23926","","<p>I would like to make a long range (5Km) quadcopter. As of right now, I'm just trying to find out the best way to control it. I  know that there are some 5Km R/C transmitters but they are the size of brick which is a little inconvenient. I was wondering if communication could be made through GSM, GPS or other wireless protocol that would be cheaper and/or weigh less. Any ideas on how to achieve this long range is accepted.</p>
","<p>There are at least two commonly used <em>civilian</em> mechanisms for long range control of UAVs or RC cars: Public-band TX/RX radio, and mobile packet data, depending on the capabilities onboard the remotely controlled vehicle.</p>

<p>For public-band RF control at long range, modules such as the <a href=""https://www.sparkfun.com/products/9411"" rel=""nofollow noreferrer"">Xtend 900 1 Watt RSPMA</a>  by digi work well at 5+ miles, giving between 10 kbps and 115 kbps data rates, with very low power requirements. At 18 grams, they wouldn't be classed as ""bricks"".</p>

<p><img src=""https://i.stack.imgur.com/jFzDs.jpg"" alt=""Xtend""></p>

<p>These modules are a bit pricey, at <strong>nearly $200 each</strong>, including the cost of the antenna. The antenna itself would be a concern as well, as it would need to be fairly substantial, thus interfering with airflow. The most common type of antenna is the duck antenna, similar to those used in some wireless routers. </p>

<p><img src=""https://i.stack.imgur.com/DVaQ0.jpg"" alt=""Duck Antenna""></p>

<p>Note that the 900 MHz band is not available for public use in most countries other than the USA, Canada, Australia and a few others. Even in countries where it is permitted, the 1 Watt maximum power of this module may be far in excess of what the local telecom regulations permit. </p>

<p>While the marketing material suggests a <strong>40 mile range</strong> for this device, realistic tests by aeromodelers indicate a <strong>usable range of 5 to 10 miles</strong>, less in areas with a lot of radio traffic in the 900 MHz band. </p>

<p>For a tighter budget, the <a href=""https://www.sparkfun.com/products/11634"" rel=""nofollow noreferrer"">XBee-Pro 900 XSC S3B</a>, also from digi.com, would be worth experimenting with, albeit with some compromises:</p>

<p><img src=""https://i.stack.imgur.com/Hj9X0.jpg"" alt=""XBee-Pro 900 XSC""></p>

<p>These modules deliver around 10 kbps data rate, at a realistic range of perhaps <strong>3 to 5 miles</strong> in line-of-sight. The marketing material suggests a 28 mile range, take that as you will. </p>

<p>The good thing is, the antenna is just a piece of wire soldered to the board, hence not so disruptive on an RC aircraft. Also, at a price point of ~ $70, these are much easier on the pocket.</p>

<hr>

<p>The mobile packet data options are a bit more restrictive: Data rates are highly dependent on cell-site capacity, cell circuit availability and tower distance, and latency is widely variable. If the UAV has sufficient on-board intelligence that it essentially requires only occasional waypoint updates, and non-time-critical commands (e.g. ""return to takeoff point at time X:YY and land""), this might be viable. </p>

<p>GPRS modules such as <a href=""https://www.sparkfun.com/products/9533"" rel=""nofollow noreferrer"">SM5100B from SparkFun</a> are used by some RC enthusiasts. At under 9 grams weight, again these are not brick-sized. Also, the price is similar to the XBee-Pro 900 above.</p>

<p><img src=""https://i.stack.imgur.com/wNUxn.jpg"" alt=""5100B""></p>

<p><strong>Range can be arbitrarily high</strong> - so long as base controller and RC vehicle are both within range of cell towers for which network access is available to the respective units, the mechanism will work - even across countries, let alone miles, so long as latency and occasional signal drops are not an issue. </p>

<p>A good thought experiment would be to consider whether your RC vehicle communication could work by polling a web URL over the internet, for instance. If yes, then GPRS will work fine for the purpose. </p>

<hr>

<p>It is worth keeping in mind that any such long-range RF remote control is affected by the vagaries of everything from sunspot activity to local weather conditions or someone using a cordless phone nearby to make a call. Hence, there should be little dependency on continuous control channel availability or data throughput. That being said, it's being done all the time, even in hostile terrains like the Antarctic, so have at it!</p>
","94673"
"Wide band vs Narrow band communication","23920","","<p>When using the RF what is the difference of Wide band and Narrow band communication?</p>

<p>Most ICs claim to use Narrow band and I have not come across ICs that use wide band communication. Is there a reason for this? What are the applications wide band is more applicable? </p>

<p>Thank you for your opinion.</p>
","<p>The scope of this question is too broad and cannot be answered well but I will try to give you some hints where to look for next:</p>

<h2>Wideband communication</h2>

<p>Wideband communication uses - as the name states - a wider portion of the spectrum. This has some advantages and disadvantages:</p>

<ul>
<li>Wideband communication allows for a higher bandwidth and therefore for a faster communication</li>
<li>Wideband communication allows for spreading the signal to encrypt it (See: Direct Sequence Spread Spectrum and its derivates)</li>
<li>wideband communication allows for notching out narrow noise sources in the spectrum (See OFDM)</li>
<li>Wideband communication puts high demands on the linearity of filters (also the respective filter bandwidths are higher)</li>
<li>It's harder to send and detect wideband signals (You need a high Signal to Noise ratio) as the energy of the signal is distributed across the width of the spectrum which makes the signal weaker the wider it gets (transmitting on a given power level)</li>
<li>Wideband communication is almost exclusively done in higher frequencies (I'd say 433MHz+) as it's easier to design integrated circuits which have wider filters</li>
<li>Common modulation techniques are OFDM, GMSK, N-PSK and QAM-N in combination with frequency hopping</li>
<li>Examples of wideband communication are wireless networks: Wifi, LTE, HSPA</li>
</ul>

<h2>Narrowband communication</h2>

<p>Narrowband communication uses a narrow bandwidth.</p>

<ul>
<li>Narrowband signals are used in a slower form of communication where mainly voice or slow datastreams have to be transmitted</li>
<li>Narrowband signals usually have a far greater range of reception as narrower filters can be used and therefore cancel out unwanted wideband noise. The transmitted energy also concentrates on a smaller portion of the spectrum.</li>
<li>Common uses are FM radio, AM radio, satellite downlinks, morse code (CW), GPS signals and NOAA weather transmissions.</li>
<li>Common modulation techniques are AM, FM, SSB, BPSK and CW</li>
</ul>

<p>Often IC manufacturers do focus on narrowband communication because often you need to flip a switch and propagate the change in signal through the air which does not need a high bandwidth. If you however try to send a x264 packed HD picture with 24MBit over the air you most certainly need a high bandwidth to transmit it in realtime. But according to the frequency usage plans you need to use a higher frequency band to be allowed to use a certain bandwidth (or power level). This is why wideband communication is almost exclusive to hardware used for 1 GHz+ operation.</p>
","158088"
"Measuring feline capacitance","23919","","<p>When I pet my cat, and then touch her on the nose, I get a little shock. Sometimes, when she walks up to something, her nose sparks and she jumps back and puffs out. I was wondering how I might go about measuring the capacitance of my cat.</p>

<p>So how many micro-farads does my cat have? I don't think I can just attach the black thing on the multimeter to her tail and then touch the red side to her nose as in this <a href=""http://www.wikihow.com/Measure-Capacitance"" rel=""nofollow noreferrer"">wikihow article</a>. Neither the wiki article on <a href=""https://en.wikipedia.org/wiki/Body_capacitance"" rel=""nofollow noreferrer"">Body capacitance</a> nor this <a href=""https://physics.stackexchange.com/questions/79912/how-capacitive-is-the-human-body"">stack exchange question on the same topic</a> tell me anything about measuring.</p>

<p>I have an I2C capsense chip for my Arduino, but that just seems to throw out randomish numbers between 200 and a couple of thousand, and I'm not sure what to do with those numbers even if there was any repeatability to them.</p>

<p>Would it be possible to create a strap on display for my cat that would show ""current charge"" for my cat on a bright orange LED grid? Or do I necessarily need to have a reference voltage (my understanding of electricity is that voltage is always relative, does this apply for static electricity as well?)</p>

<p>Thanks in advance,</p>

<p>Tim</p>

<p>EDIT: While Russell McMahon's answer in theory seems to work, I don't think his method is as easy to implement as George Herold's. Both answers do seem to answer the immediate question as posed in the title. However, neither is entirely complete. They both hinge on the requirement of having a fully charged cat. But how do we know how many times to pat our cats before they are fully charged.</p>

<p>It is vital to also be able to measure the charge in real time, as per JRE's response in order to set a foundation for Herold's or McMahon's methods. Using JRE's technique, we can charge the cat until the charge stops rising, THEN measure the cat's capacitance.</p>

<p>Ideally, if we are to verify the potential for petting power as the purrfect post-fosil fuel energy source we will need reliable real time measurement of the cat's stored milliwatt hours as well as purrcentage charge and charge stored purr pat.</p>
","<p>Regarding the bounty quest for reliability in a cheap way: to convince yourself that this is a rather difficult task to do reliably (with laboratory precision), have a look at what it entails to measure ""it"" for a human, e.g. in a paper that studied it for ESD-related purposes, <em>Numerical Calculation of Human-Body Capacitance by Surface
Charge Method</em> by Osamu Fujiwara and Takanori Ikawa, <a href=""http://dx.doi.org/10.1002/ecja.10025"" rel=""nofollow noreferrer"">doi:10.1002/ecja.10025</a>. Quoting from the abstract:</p>

<blockquote>
  <p>However, the body capacitance is strongly dependent on the relationship between the ground plane and the body posture. It is therefore not clear what factors govern the body capacitance. In this paper, the static capacitance of a body standing on a ground plane is calculated by means of the surface charge method. [...] It is found that the capacitance increases as the backs of the soles of the shoes approach the ground plane, that the body capacitance at the same height (10 mm) as the soles of the shoes is 120 to 130 pF, and that it is about 60 pF if the location of the soles is sufficiently high. The computational findings are confirmed by measurement of the body capacitance. </p>
</blockquote>

<p>And if you're curious about their measurement method, here are the details for that from the paper:</p>

<blockquote>
  <p><img src=""https://i.stack.imgur.com/KJ1fm.png"" alt=""enter image description here""></p>
  
  <p>Figure 7(a) shows the method of measurement of the
  human-body capacitance and Fig. 7(b) shows its equivalent
  circuit. The person tested (height 168 cm, weight 68 kg)
  with a body shape close to the human-body model is
  standing with bare feet on a Styrofoam plate or a perforated
  acrylic plate (depth 30 cm, width 11 cm) on a metal plate
  in a Faraday shield. The perforated acrylic plate has 201
  holes made with a drill with a diameter of 4.5 mm at random
  locations over the plate and with an area ratio of about 9%.
  In this way, the relative permittivity is effectively decreased.
  Under this condition, a power supply is used for charging
  to V<sub>B0</sub> (= 10 V) via an analog switch (Toshiba TC4066BP).
  When the power supply is turned off by the analog switch,
  the body potential v<sub>B</sub>(t) is amplified by a low-input-impedance
  amplifier (with an input resistance R<sub>i</sub> = 10.2 MOhm, input
  capacitance C<sub>i</sub> = 13.6 pF) and is directed to a computer via
  an A/D converter. The sampling frequency of the A/D
  converter is 200 kHz and the quantization level is 12 bits.
  In the potential measurement, the metal plate is used as the
  ground to which the grounding connections of the measurement
  devices are connected. From the equivalent circuit in
  Fig. 7(b), the body potential v<sub>B</sub>(t) is given by</p>
  
  <p>$$ \frac{v_B(t)}{V_{B0}} \simeq exp \Big[ - \frac{t}{(C_i+C_B)R_i}\Big]$$</p>
  
  <p>Hence, from the potential decay characteristic, the body capacitance C<sub>B</sub> can be derived.</p>
</blockquote>

<p>This is basically the same <a href=""https://electronics.stackexchange.com/a/152125/54580"">time constant method suggested by George Herold</a> (which I upvoted a while back),
but at boffin standards. Nobody measures body capacitance with regularity (even for humans), so I don't know why you expect there to be a cheap way to do it reliably... Never mind that it would probably vary quite a bit as the cat changes body position.</p>

<p>Also, if you hope to just do simulate it on a computer... their numerical model likely won't wont be much good for a cat because:</p>

<blockquote>
  <p>In addition, clothes and hair are not included in the numerical model.</p>
</blockquote>

<p>For a somewhat older (but right now freely available) paper, which discusses the problems with getting accurate body capacitance measurements, see N. Jonassen's <a href=""http://orbit.dtu.dk/fedora/objects/orbit:57536/datastreams/file_4363898/content"" rel=""nofollow noreferrer"">Human body capacitance: static or dynamic concept?</a>. Reading that, one point that was salient was that the soles of the shoes are actually a major contributor to the human body model capacitance (while hair and clothing can be basically ignored). Alas, that's probably the opposite of what you can expect for the dominant element to be in a cat (in its natural state) as far as capacitance is concerned. Unfortunately bounty points on SE are rather unlikely to be a sufficient ""grant"" for boffins to tackle this rather different cat body model in their labs...</p>
","153127"
"Charging a 3.7 V with a 5V usb charger","23900","","<p>For a project, I want to charge a lipo battery (3.7V  @2000mah) with a 5V USB charger.
I'm not into electronics, so I don't know if is viable to do that.</p>

<p>So, <em>can I charger a 3.7 battery with a 5V charger with no problems</em>?</p>

<p>Thanks!</p>
","<p>Ok, so you aren't actually asking the right question.  I'm going to assume you mean you have a 5V power source (usb, battery pack, etc.) and want to charge a single cell lithium ion battery with nominal voltage of 3.6V or 3.7V.  </p>

<p>Lithium Ion, also sometimes called Li-ion or Lithium polymer or Lipo) have a slightly different charger than other battery types.  Typically, the charger supplies a constant current at slightly higher than the battery's voltage.  As the battery voltage increases, the supplied voltage increases until it hits the maximum for the cell - typically 4.2V.  Then, the voltage is kept constant and the current is reduced until it hits 3-5% and charging is considered done. </p>

<p>All of that is to say, that you need a specific charging circuit and an IC dedicated to charging a single cell lipo.  You could build one, but that seems a little advanced for you at the moment.  If you decide to, I detail my experiences here: <a href=""https://thewanderingengineer.com/2016/01/27/simple-lipo-battery-charger-with-the-mcp73831/"" rel=""nofollow"">https://thewanderingengineer.com/2016/01/27/simple-lipo-battery-charger-with-the-mcp73831/</a></p>

<p>A better option might be to buy a board that does this for you so that you just plug in a usb plug on one end and a single cell lipo on the other end and you don't have to worry about it.  Here are links to a couple of products from sites that also have good tutorials about them: 
<a href=""https://www.sparkfun.com/products/10401"" rel=""nofollow"">https://www.sparkfun.com/products/10401</a>
<a href=""https://www.sparkfun.com/products/12711"" rel=""nofollow"">https://www.sparkfun.com/products/12711</a><br>
<a href=""https://www.adafruit.com/products/259"" rel=""nofollow"">https://www.adafruit.com/products/259</a></p>
","228492"
"How to connect a stepper motor with exactly 4 wires to Arduino?","23881","","

<p><img src=""https://i.stack.imgur.com/Y97WN.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fY97WN.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Today I bought a stepper motor to play with, after 12 hours of struggling with it, I haven't been able to figure out how to connect it to an Arduino.</p>

<h3>Is it okay if my stepper motor has exactly 4 wires?</h3>

<p>Wires are colored: <code>white</code>, <code>blue</code>, <code>red</code>, <code>yellow</code>. All the pictures and circuits of <strong>easy</strong> tutorials I found on Google had 5 wires, (and those with 4 wires had different color coding anyway). But a 4-wire doesn't make sense! there must be 2 or 4 poles in a motor, and each pole needs a connection to common ground, so there <strong>must</strong> be 5 wires, how does a 4 wire work?</p>

<h3>I'm using MOSFET for driving the stepper, not LMxxx</h3>

<p>Because I forgot to buy one, and I can't get my hands on one for a couple of days. I use the MOSFETs as fast switches: 4 Arduino pins control 4 MOSFET transistors. And this is exactly the source of confusion: On arduino website, the sample circuit's stepper has 4 wires and is directly connected to a driver IC (a LMxxx), and the driver is connected to Arduino. Since I do not have a driver at hand, I need to convert the circuit so it works with 4 transistors instead. But what the wiring should be? If it had 5 wires I would have done it like this schematics.</p>

<p>It is very likely there are problems with my PNP/NPN Mosfet choice, but as soon as I know how to wire the circuit, I'll choose the right one!</p>
","<p>Your motor is Bi-polar. It has two windings and you need to use a circuit that constantly inverts the polarity of the supply to the coils.</p>

<p><img src=""https://i.stack.imgur.com/i9Rcf.gif"" alt=""enter image description here""></p>

<p>This is done with an <a href=""http://en.wikipedia.org/wiki/H_bridge"" rel=""noreferrer"">H-bridge</a> that operates as four switches. </p>

<p><img src=""https://i.stack.imgur.com/Me5Xk.gif"" alt=""enter image description here""></p>

<p>You need one H-bridge per coil, so you'll need two of them to control your stepper. 
In practice these switches are either mosfets or transistors.</p>

<p><img src=""https://i.stack.imgur.com/wbxg5.jpg"" alt=""enter image description here""></p>

<p>Refer to the below articles for stepper motor driving:<br>
<a href=""http://www.8051projects.net/stepper-motor-interfacing/introduction.php"" rel=""noreferrer"">http://www.8051projects.net/stepper-motor-interfacing/introduction.php</a><br>
<a href=""http://www.mcmanis.com/chuck/robotics/tutorial/h-bridge/"" rel=""noreferrer"">http://www.mcmanis.com/chuck/robotics/tutorial/h-bridge/</a></p>
","159868"
"How are positive and negative feedback of opamps so different? How to analyse a circuit where both are present?","23821","","<p>In an opamp, feedback on the positive input places it in saturation mode and the output is of the same sign as V+ - V-; feedback on the negative input places it in ""regulator mode"" and ideally Vout is such that V+ = V-.</p>

<ol>
<li>How does the opamp change its behaviour depending on the feedback? Is it part of a more general ""behavioral law""? [Edit: Isn't it something in the lines of the voltage added increases the error instead of reducing it in the case of + feedback?]</li>
<li>How can we analyse circuits where both are present?</li>
</ol>

<p>Whoever answers both at the same time in a coherent manner wins a pot of votes.</p>

<p><img src=""https://i.stack.imgur.com/imujj.png"" alt=""enter image description here""> </p>
","<ol>
<li>Op-amp always behaves as a differential amplifier and the behavior of circuit depends on the feedback network . If negative feedback dominates, the circuit works in linear region. Else if positive feedback dominates, then in saturation region. </li>
<li>I think the condition \$V^+ = V^-\$, the virtual short principle, is valid only when the negative feedback dominates. So if you are not sure that negative feedback dominates, consider op-amp as a differential amplifier. To analyze the circuit, find \$V^+\$ and \$V^-\$ in terms of \$V_{in}\$ and \$V_{out}\$. Then substitute in the following formula,
$$V_{out} = A_v(V^+-V^-)$$ calculate \$V_{out}/V_{in}\$ and then apply the limit \$A_v\rightarrow\infty\$</li>
<li>Now, net feedback is negative if \$V_{out}/V_{in}\$ is finite. Else if \$V_{out}/V_{in} \rightarrow \infty\$, then the net feedback is positive. </li>
</ol>

<p><strong>Example:</strong><br>
From the circuit given in the question,
$$V^+ = V_{in}\ \text{and}\ V^- = V_{out}/2$$
$$V_{out} = A_v(V_{in} - V_{out}/2)$$
$$\lim_{A_v\rightarrow\infty}\frac{V_{out}}{V_{in}} = \lim_{A_v\rightarrow\infty}\frac{A_v}{1+A_v/2} = 2$$
$$V_{out} = 2V_{in}$$
\$V_{out}/V_{in}\$ is finite and net feedback is negative.</p>

<p>\$\mathrm{\underline{Non-ideal\ source:}}\$<br>
In the above analysis, \$V_{in}\$ is assumed to be an ideal voltage source. Considering the case when \$V_{in}\$ is not ideal and has an internal resistance \$R_s\$.
$$V^+ = V_{out}+(V_{in}-V_{out})f_1\ \text{ and }\ V^- = V_{out}/2$$
where, \$f_1 = \dfrac{R}{R+R_s}\$
$$V_{out} = A_v(V_{out}/2+(V_{in}-V_{out})f_1)$$
$$V_{out}(1-A_v/2+A_vf_1) = A_vf_1V_{in}$$
$$\lim_{A_v\rightarrow\infty}\frac{V_{out}}{V_{in}} = \lim_{A_v\rightarrow\infty}\frac{f_1}{\frac{1}{A_v}-\frac{1}{2}+f_1}$$
$$\frac{V_{out}}{V_{in}} = \frac{f_1}{f_1-\frac{1}{2}}$$</p>

<p>case1: \$R_s\rightarrow 0,\ f_1\rightarrow 1,\ V_{out}/V_{in}\rightarrow 2\$</p>

<p>case2: \$R_s\rightarrow R,\ f_1\rightarrow 0.5,\ V_{out}/V_{in}\rightarrow \infty\$</p>

<p>\$%case3: R_s \rightarrow \infty,\ f_1 \rightarrow 0,\ V_{out}/V_{in} \rightarrow 0\$</p>

<p>The output is finite in case1 and so net feedback is negative in these conditions (\$R_s &lt; R\$). But at \$R_s = R\$, negative feedback fails to dominate. </p>

<p>\$\mathrm{\underline{Application:}}\$<br>
Case1 is the normal working of this circuit but it is not used as an amplifier with gain 2. If we connect this circuit as a load to any circuit, this circuit can act as a negative load (releases power instead of absorbing).</p>

<p>Continuing with the analysis, the current through \$R\$ (from in to out) is,
$$I_{in}=\frac{V_{in}-V_{out}}{R}=\frac{-V_{in}}{R}$$ calculating the equivalent resistance \$ R_{eq}\$
$$R_{eq} = \frac{V_{in}}{I_{in}} = -R$$</p>

<p>This circuit can act as negative impedance load or it act as a <a href=""http://en.wikipedia.org/wiki/Negative_impedance_converter"">negative impedance converter</a>.</p>
","112489"
"Using multiple 4 input multiplexers to get an equivalent 16 input multiplexer","23800","","<p>Here is my problem:</p>

<p><img src=""https://i.stack.imgur.com/0lY3A.png"" alt=""enter image description here""></p>

<p>pretend each of the multiplexers are hooked up to the corresponding bit of each Byte. The first multiplexer is hooked up to the first bit of each of the Bytes (0 - 3). The second multiplexer is hooked up to the second bit of each Byte (0 - 3) and so on. My problem is, is that i don't have 16 input multiplexers. How can i take 4 input multiplexers and get an equivalent 16 input multiplexer?  </p>

<p><strong>edit</strong> (by Steven)<br>
Given the comments and the three downvotes it seems that the diagram isn't clear for everybody. At the right you have an array of 16 bytes (ignore ""program instructions""). John wants a way to multiplex all of the 16 LSBs to one output, all of the next LSBs to a second output, and so on, for all 8 bits. That's the 8 blocks on the left, 8 muxes. They only show 4 inputs and 2 select lines, because John's problem is that he can't find a 16-input mux. HTH.</p>
","<p>You simply have to add another level of multiplexers.</p>

<p><img src=""https://i.stack.imgur.com/aNWJM.gif"" alt=""enter image description here""></p>

<p>What you have now is the left part of this circuit: 4 times four inputs, giving 4 outputs. Use a fifth multiplexer to select one of those outputs. Since you have 16 inputs you need 4 select lines (2\$^4\$ = 16). That's the A, C, D and E lines. Note that the four muxes at the left use the same select lines.  </p>

<p>If you want to select the input the arrow points to you'll have to set D = 1, E = 1, and for the right mux A = 0 and C = 1.  </p>

<p>The <a href=""http://www.nxp.com/documents/data_sheet/74HC_HCT153_CNV.pdf"" rel=""nofollow noreferrer"">74HC153</a> is a dual 4-to-1 multiplexer.  </p>

<p><strong>edit</strong><br>
<em>Supercat</em>'s <a href=""https://electronics.stackexchange.com/a/32908/2064"">tri-state buffers</a> are an excellent idea (don't forget to upvote), and it came to me naturally when I was writing the edit to OP. The multiplexer solution needs a few more parts, but can be implemented in a <strong>CPLD</strong>, I'm not sure if they support tri-state logic internally. (They do for I/O.)</p>
","32916"
"How to determine the units when reading a multimeter?","23783","","<p>Say for instance I am trying to measure the current. The units around the edge of the multimeter is 2000u, 200m, 20m, 10A, etc.</p>

<p>Does this mean that the reading displayed on the multimeter is in that particular unit? For example, if I set it to 20m and the reading stated ""0.5"", does this mean it is 0.5 * 20mA = 10mA = 0.01A?</p>

<p><img src=""https://i.stack.imgur.com/QMUCa.gif"" alt=""Similar Multimeter""></p>
","<p>No the 'units' around the outside you are referring to are not units but ranges. If you set it to 20m, then the  highest current you can measure its 20mA. If you are on 20mA and it says 0.5, that probably means you are measuring 0.5mA.</p>

<p>There exist auto-ranging multimeters which you simply set to current mode and you don't have to worry about picking a range.</p>
","48582"
"What is clock skew, and why can it be negative?","23772","","<p>My HDL compiler (Quartus II) generates timing reports. In it, the nodes have ""clock skew"" column. The only definition of clock skew I found is in the <a href=""http://www.altera.com/literature/hb/qts/qts_qii53018.pdf"">TimeQuest documentation</a> (see page 7-24):</p>

<blockquote>
  <p>To manually specify clock uncertainty, or skew, for clock-to-clock
  transfers, use the <code>set_clock_uncertainty</code> command.</p>
</blockquote>

<p>So if skew is ""uncertainty"", why are some of my clock skews negative (e.g. -0.048)? What exactly is clock skew?</p>
","<p>From <a href=""http://en.wikipedia.org/wiki/Clock_skew"" rel=""noreferrer"">Wikipedia</a>:</p>

<blockquote>
  <p>In a synchronous circuit clock skew (\$T_{Skew}\$) is the difference
  in the arrival time between two sequentially-adjacent registers. Given
  two sequentially-adjacent registers \$R_i\$ and \$R_j\$ with clock
  arrival times at register clock pins as \$T_{Ci}\$ and \$T_{Cj}\$
  respectively, then clock skew can be defined as:</p>
  
  <p>$$T_{Skew i,j} = T_{Ci} - T_{Cj}$$</p>
  
  <p>Clock skew can be positive or negative. If the clock signals are in
  complete synchronicity, then the clock skew observed at these
  registers is zero.</p>
</blockquote>

<p>So the amount of clock skew at one register is relative to another register. Since it's relative, it can be positive or negative.</p>

<p>Some illustrations:</p>

<p><img src=""https://i.stack.imgur.com/PwBqr.jpg"" alt=""positive/negative skew""> <img src=""https://i.stack.imgur.com/7m1RX.gif"" alt=""leading/lagging skew""></p>

<p>Take for example an intraclock transfer as defined in the TimeQuest document you provided:</p>

<blockquote>
  <p>Intraclock transfers occur when the register-to-register transfer
  takes place in the  core of the device and the source and destination
  clocks come from the same PLL  output pin or clock port.</p>
</blockquote>

<p>So if the destination register is physically closer to clock generation circuitry, then the clock will probably arrive at the destination register before it arrives at the source register, resulting in a leading clock skew which is actually positive. If the destination register received the edge of the clock after the source register, the clock skew would be lagging or negative.</p>

<p>Said another way, clock skew is the uncertainty about how closely together in time a clock edge will reach two separate registers given in units of time with respect to a source register in an register-to-register transfer.</p>

<p>Expanding that difintion to include <strong>inter</strong> -clock transfers and setup and hold times gets a bit messy. So it's probably easier to think of it as ""how synchronous"" an edge or a hold time is between two registers. We tend to think of ""synchronous"" as ""occurring at the same time"". But things rarely occur at absolutely exactly the same time. So we need to put a tolerance on that time. And tolerances are often stated in terms of positive and negative (i.e. ±).</p>
","39726"
"Frequency of output of full-wave rectifier","23760","","<blockquote>
  <p>Frequency of output voltage of full-wave rectifier is twice of
  frequency of its input voltage.</p>
</blockquote>

<p>This is what I read in a book but don't know how to prove it.Please explain</p>
","<p>Frequency is measured by how frequently the period is completed in one second. The output signal completes a period twice as fast as the input frequency, as you can see in the diagram. </p>

<p>This is because the input wave is symmetrical, half positive and half negative. Making all the negative components into positive ones <em>doubles</em> the positive components. The positive component is only half of the original period. Thus the period is halved and the frequency is doubled.</p>

<p><img src=""https://i.stack.imgur.com/o8JgT.jpg"" alt=""enter image description here"">
<br>Image from <a href=""http://electrapk.com/full-wave-rectifier-basics/"" rel=""nofollow noreferrer"">Electrapk.com</a></p>
","86448"
"Constant current, constant power and constant impedance loads","23656","","<p>Ive been looking for information on constant power, constant current and constant impedance/resistance loads, there's some information about the constant current loads, but very little that really explain constant power and constant impedance. </p>

<p>So please correct me if im wrong as ill try to define what I understand about this subject:</p>

<ul>
<li><p>A constant current load is the one which varies its internal resistance to achieve a constant current regardless of the voltage which is being fed to it (within certain extent) and therefore the power will vary. </p></li>
<li><p>Im assuming a constant power load, also varies its resistance so the power (or voltage and current product) is always the same, regardless of the voltage or current that is being drawn.</p></li>
</ul>

<p>And what about constant impedance/resistance loads? does it mean that both voltage, current will vary and therefore power will vary too? yet impedance or resistance will remain the same?</p>

<p>And if we are talking AC, im also assumming this valid for all frequencies in a certain range.</p>

<p>Now, on a more conventional scenario, when we are talking about regular every day loads, say a power supply inside a computer feeding the motherboard and peripherals, or a linear power supply inside a stereo feeding the inside components. Are we talking about a varying current, power and impedance loads? </p>

<p>How can it be determined if a load is constant current, power or impedance?</p>

<p>Thank you very much!</p>
","<p>A constant power load varies it's impedance on change of input voltage to keep the power constant. A constant impedance load is simply a load that presents an unchanging impedance, like a resistor. An <a href=""http://www.bcae1.com/lpad.htm"" rel=""noreferrer"">L-Pad</a> is used to change speaker output level whilst maintaining a constant impedance load to the amplifier.</p>

<p>A good example of a constant power load is a switching regulator. Since this has to maintain it's power into it's load, it must draw the same power from it's source even if the source changes voltage.<br>
This is also an example of a negative impedance because in order to maintain the output power, if the voltage in <em>drops</em>, the current must <em>rise</em> (opposite to a standard resistor where the current and voltage rise/fall with each other)</p>

<p>Here is an example circuit, made from a LT1377 boost switching regulator:</p>

<p><img src=""https://i.stack.imgur.com/l4fGS.png"" alt=""Constant Power Load""></p>

<p>Here is the simulation:</p>

<p><img src=""https://i.stack.imgur.com/jlMRU.png"" alt=""Constant Power Simulation""></p>

<p>The input voltage V(in) (blue trace) starts off at 4V, and gradually rises up to 10V. We can see the power (red trace) stays constant at ~1W over a change of 6V at the input (it's not perfect as it's meant to represent ""real life"" and not 100% efficient, but it's pretty close)<br>
We can also see the dynamic negative resistance characteristic (green trace) which is due to the input current falling as the voltage rises. Tt falls from ~300mA to ~120mA over the voltage rise from 4V to 10V - don't be confused by the minus sign, that's just the direction of measurement in LTSpice.<br>
The dynamic resistance slope can be roughly calculated by (4V - 10V) / (300mA - 120mA) = -33.3&Omega;. Looking it another way, 6V / -33.3&Omega; = -180mA.</p>
","38862"
"Guessing power line voltage from the number of disc insulator","23607","","<p>Is there a good way to guess the power line voltage based on the number of insulator discs that attach the line to the transmission tower?</p>

<p><a href=""http://en.wikipedia.org/wiki/Insulator_%28electricity%29#History"" rel=""noreferrer"">Wikipedia</a> seems to suggest that there is a ""Typical number of disc insulator units for standard line voltages"". </p>

<p>Is this a good ball park upper bound to the voltage on the power line?<br>
Is there a better way of guessing line voltages?<br>
Is it possible to further refine this guess based on the type of insulator discs?<br></p>
","<blockquote>
  <p>Is there a good way to guess the power line voltage based on the number of insulator discs that attach the line to the transmission tower?</p>
</blockquote>

<p>We usually use as a rule of thumb for determining the number of porcelain/glass suspension disc insulators: 10kV for each disc (standard 5-1/4' x 10""). </p>

<p>For typical system voltages in North America, this would be: <br/>
69kV: 4-6 discs; 115kV: 7-9 discs; 138kV: 8-10 discs; 230kV: 12 discs; 345kV: 18 discs; 500kV: 24 discs.</p>

<p>You may check Electric Power Generation, Transmission &amp; Distribution by Grigsby, et al.</p>
","190794"
"Why is it bad to mix new and old batteries?","23579","","<p>I've seen warnings that it's bad to mix new and old batteries -- why?</p>

<p>Is it a matter of a battery's age or a battery's voltage/current (remaining)?</p>
","<p>A simple model of a battery is a chemical reaction which produces a constant voltage. But, this chemical reaction takes time. A simple model of the limited speed of that reaction in electrical terms is a series resistance:</p>



<p><img src=""https://i.stack.imgur.com/9eAr1.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f9eAr1.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>When the battery is fresh, R1 is small. As the chemical energy is depleted, R1 gets bigger. Why this happens is complicated, and I'm not a chemist, so I can't tell you in detail, but it has to do with the reactants being used up, and the battery plates getting covered in cruft, and so on.</p>

<p>This resistance, even though it's a combination of electrical and chemical effects, isn't exempt from the laws of physics. It still experiences a loss according to Joule's law:</p>

<p>$$ P = I^2 R $$</p>

<p>This loss of electrical energy must be accompanied by a gain of thermal energy.</p>

<p>If you aren't mixing batteries, then as the batteries become dead, all their resistances rise about the same, so while R goes up, the increasing \$R\$ also limits the maximum current \$I\$ that the batteries can supply. Most batteries<sup>1</sup> are designed to be safe under any of these conditions.</p>

<p>However, if you mix fresh and dead batteries, then you have the fresh battery which can deliver a large current, into a dead battery which has a high resistance. This results in excessive heat in the dead battery, which may then be damaged or fail, perhaps spectacularly.</p>

<p><sup>1: but certainly not all batteries. Lithium ion batteries, <a href=""http://xkcd.com/651/"" rel=""noreferrer"">somewhat</a> <a href=""http://en.wikipedia.org/wiki/Boeing_787_Dreamliner_battery_problems"" rel=""noreferrer"">infamously</a> are <a href=""http://www.macrumors.com/2007/03/12/macbook-battery-fire/"" rel=""noreferrer"">not safe</a> when shorted.</sup></p>
","74474"
"How does this mosquito zapper circuit work?","23574","","<p>For the purpose of learning, I have tear down a small mosquito zapper racket.</p>

<p><img src=""https://i.stack.imgur.com/neLBc.jpg"" alt=""enter image description here""></p>

<p>I am now trying to understand how the circuit is working  (which goal is to produce high voltage).</p>

<p><img src=""https://i.stack.imgur.com/Iv0rJ.jpg"" alt=""enter image description here""></p>

<p>(yellow = resistor, black = transistor, red = led, gray = diode, blue = capacitor, brown = switch or wire) Battery is on the left, high voltage output on the right.</p>

<p>How I think it works : the transistor generate pulse (square wave?) which is fed into the transformer. The transformer multiply voltage, then voltage is rectified trough the diodes, and finally stored in the big capacitor. Can anybody confirm this ?</p>

<p>Also some other things are still unclear to me :</p>

<ul>
<li>How does the 6 pins transformer works ? I already saw 5 pin transformers (<a href=""http://en.wikipedia.org/wiki/Center_tap"" rel=""noreferrer"">http://en.wikipedia.org/wiki/Center_tap</a>) but never that one.</li>
<li>How does the transistor generate the pulses. I have seen some led blinking circuits but they always involve a transistor and a capacitor.</li>
<li>What is the purpose of the two resistors in parallel with big capacitor? (to limit voltage, for safety ?) and also why do we need the small blue one ?</li>
</ul>

<hr>

<p>EDIT1 : 
I tried to reverse-engineer the circuit. Here is the result. <strike>I'm no sure about transistor configuration (eg : if base, collector and emitter are correctly set) and same about transformer.</strike></p>

<p>EDIT2 :
I open racket again. I found transformer pin-out by measuring it with multimeter (as jippie suggested). I also found transistor configuration by reading number information on it and checking <a href=""http://www.hsmc.com.tw/pdf/HSD965.pdf"" rel=""noreferrer"">datasheet</a>. It seems what Spehro Pefhany suggested was right.</p>



<p><img src=""https://i.stack.imgur.com/sws9l.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fsws9l.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>
","<p>Looks like a self-oscillating converter, probably a primary winding, a feedback winding and a secondary winding (6 pins). It would be similar to this, but with many more turns on the secondary: </p>

<p><img src=""https://i.stack.imgur.com/vSTCf.png"" alt=""http://www.next.gr/uploads/135-9320.png""></p>

<p>I think this is a <em>blocking oscillator</em> with the transformer primary in the emitter of the transistor and the feedback winding blocking the base voltage. </p>

<p>The transistor is probably a cheap high-current BJT such as an 8550 with a base resistor and nothing else. The blue capacitor and the brown film capacitor form a voltage doubler (there is room for parts for more multiplication, but they're not populated). The two resistors are to discharge the capacitor- one is a 22M and the other is a 20K. When they use the tripler configuration they probably use two 22M or a 22M and a 10M resistor. Th</p>

<p>The LED is just across the input power (after the tact switch) with a resistor in series. </p>

<p>These things have to make with BOM adding up to not many pennies, so everything is minimized. The output capacitor is probably being run at way over rated voltage, the transistor will probably burn out if you hold the switch down, the transformer insulation is unsuitable for anything but brief momentary operation. Minimalist, fully Muntzed, design philosophy.  </p>
","121049"
"How to charge a 18650 battery pack with BMS","23551","","<p>I am planning to built a batterypack using unprotected 18650 cells (2600mA) to power a DIY boombox with the TA2024 AMP. The pack will initially be 3s2p (expandable to 3s4p using battery holders that can hold 4 18650 cells). I want to use the following protection module/BMS</p>

<p><a href=""http://www.ebay.com/itm/271808179403?_trksid=p2055119.m1438.l2649&amp;ssPageName=STRK%3AMEBIDX%3AIT"" rel=""nofollow"">http://www.ebay.com/itm/271808179403?_trksid=p2055119.m1438.l2649&amp;ssPageName=STRK%3AMEBIDX%3AIT</a></p>

<p>Now my question is if I can just use a 12 volt 2A switching power supply and connect this to the BMS to charge the pack or do I need a more inteligent Li-Po/Li-ion charger.</p>

<p>The battery is:
<a href=""https://www.fasttech.com/products/1420/10002357/1170800-authentic-samsung-icr18650-26f-18650-3-7v-2600mah"" rel=""nofollow"">https://www.fasttech.com/products/1420/10002357/1170800-authentic-samsung-icr18650-26f-18650-3-7v-2600mah</a></p>

<p>Thanks for your reply. </p>
","<p>I know this is an old question, but I've been doing some similar things lately and so I'd like to give you a different perspective. First of all, I fully understand why you're selecting these boards and cells on e-bay: to save money. I'm with you there 100%, and I think you obviously know the risks. There are good buys and bad ones as well as mis-representations, and as long as you understand this, the low prices do justify the experimentation. That said, let me answer directly...</p>

<p>I have some experience with battery management chips and circuits, and what you're suggesting ""should"" be fine, though you would need a supply that at least can be adjusted to a little higher, like 12.6V. Understand, however, that some inexpensive switchers (like wall adapters) can generate a lot of ripple, which I have found can confuse BMS circuits. If the BMS can't do exactly what it was designed to do, all bets are off, and you may never know. So if you use a switcher, consider adding some extra filtering. Alternately consider a higher voltage with an analog regulator, as it will provide current limiting. Its hard to know what inward current limiting exists on some of those e-bay BMS boards, and Lord knows you won't easily carry on a technical conversation with most of the sellers. But current limiting will give your batteries a bit more longevity, at the cost of a longer charge time, but in any case the current must be known by actual measurement. And be aware that picking a 12V 2A switching supply does not guarantee the battery and BMS board combination won't attempt to draw more, which could damage the supply too.</p>

<p>To remedy that, you can often get away with a higher voltage, even without a regulator, using a simple resistor ballast, and solve a multitude of problems. As long as there is something to limit the current. The reason is that these BMS boards effectively go to open-circuit, thus isolating the battery, once full charge is reached. I've verified this many times with a bench supply set to 16V with a 10 ohm power resistor in series, with using the exact same BMS board you linked! The voltage at the input/output point clamps down to under 12V until the battery reaches full charge, and then springs back to 16V, while the cell combo sits at 12.6. Granted, this is not the fastest charge, so eventually you can go to a lower resistance. Sometimes an auto turn signal lamp works well in this kind of circuit, because the bulb can offer an indication of full charge when it completely goes out. I know that sounds like a kludge, but what I'm saying is the BMS board will give you a lot of latitude for making a charging supply, as long as you're careful and measure whats going on while experimenting.</p>

<p>Finally, while we want to avoid repeating other people's answers here, I will second that you be doubly mindful of safety. When experimenting with inexpensive ""e-bay"" or ""ali-express"" Li-ION cells, BMS boards, and home brewed charging systems, always be aware that things can go horribly wrong, causing burns, fires, and more serious injury. Do all initial charging in safe, fireproof environments, with adequate protection to yourself and surroundings. </p>
","248285"
"Converting a DPS800 server PSU into a standalone 12V PSU","23548","","<p>I recently got my hands on 2 server PSUs from a HP Proliant DL380-G5.<br>
HP model DPS-800GB A REV 06M Series HSTNS-PD05<br>
Partno: 379123-001
(They appear to be made by Delta, going from the logo on the internal PCB.)</p>

<p>These can output a whopping 82A max at 12V (with 240V input), which would be very nice to power some LIPO battery chargers.</p>

<p>I know it is possible with the closely related DPS-700 and DPS-750 PSUs that use a very similar internal PCB.</p>

<p>Does anyone know how to convert/modify these DPS-800 units to function as standalone 12V power-supplies ?  </p>
","<p>Your PSU seems to be a common one and the necessary pins were determined by members of an external forum devoted to radio control enthusiasts found <a href=""http://www.rcgroups.com/forums/showthread.php?t=1301679&amp;page=4"" rel=""noreferrer"">here.</a> The solution seems to have been discovered by trial and error, and the poster claims that shorting pins 31 and 34 (which should be labelled) allows 12V to flow to the rail.</p>

<p>Server power supplies don't tend to have typical connectors like PC power supplies do, but instead have some sort of interconnect system consisting of pins or exposed pads like those seen below (with the resistor and solder omitted, naturally.</p>

<p><a href=""https://i.stack.imgur.com/ONO0v.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/ONO0v.jpg"" alt=""enter image description here""></a></p>

<p>Most of the interconnect is taken up by those two large pads on the right which can generally assumed to be 12V and Ground given that the job of PSUs is generally to deliver 12V to the server rack at high current. That doesn't leave many pins left to test and process of elimination can narrow the choice of which pins you should test.</p>

<p>One member of an RC forum compiled a <a href=""http://www.rcgroups.com/forums/showpost.php?p=11640787&amp;postcount=7"" rel=""noreferrer"">short guide</a> on determining which pins to short if you're going in blind given some assumptions about how the supply works and what it expects. Since these PSUs usually short the DC ground to the chassis ground, all of the ground pins can be determined using a DMM and eliminated. From there, the voltage on the rest of the pins can be referenced to ground and the number of pins to test is decreased substantially. Shorting one or more of those pins to ground through a resistor should likely result in the PSU turning on.</p>

<p>Note that this assumes that the power supply in question requires a simple active-low/high logic voltage to turn on. More complicated supplies or supplies requiring some other control signal will likely not work in this fashion.</p>
","186648"
"How do I decide what capacitor to use in a circuit?","23511","","<p>I am using a voltage regulator, and to get cleaner power, the datasheet recommends using a <code>0.33uF</code> capacitor. However, it doesn't say what type it wants. Stupidly, I went out and bought a 10 pack of <code>0.33uF 50V Radial Electrolytic Capacitors</code>. After looking up on <a href=""http://www.techitoutuk.com/knowledge/electronics/components/capacitors/capac.html"" rel=""noreferrer"">this site</a>, I found that the symbol means that it is a unpolarized capitator. <strong>Will they work because they are polarized? Does this really affect anything in this circuit?</strong></p>

<p><strong>Also, there is a 20% tolerance. Will this affect this circuit?</strong></p>

<p>And so I don't have to ask a similar question again, how did you get that? I know they have different tolerances and ratings depending on the material but does it really matter?</p>

<hr>

<p><strong>Transistor datasheet:</strong>
<img src=""https://i.stack.imgur.com/Enyme.png"" alt=""Transistor datasheet""></p>

<hr>

<p>I can get the voltage regulator datasheet if anybody needs it. Thanks in advance.</p>
","<h2>Relax...</h2>

<p>It will work just fine. Make sure to orient the positive terminal towards the input pin of the regulator (pin #1). </p>

<p>To be extra sure, use two in parallel (since you have them anyway!) to reduce the equivalent series resistance (ESR). That's just a precaution since I haven't read your datasheet and electrolytic types can be higher ESR than ceramics.</p>

<p>Also, I'm assuming your maximum input voltage is less than 25V.</p>

<h2>Sizing...</h2>

<p>The values given are the <em>minimum</em> value needed for stability plus a little margin (usually). </p>

<p>The regulator is a closed-loop system. It watches what happens on the output and adjusts ""stuff"" internally to make sure the output (really a scaled-down version of the output) always equals a desired value.</p>

<p>Problems occur when it starts chasing its tail. If, as a result of it changing ""stuff"" internally, the input voltage also starts to change (or the output changes too quickly) then the changes the regulator made will have too much of an effect and it will have to undo the excess. </p>

<p>This corrective change can <em>also</em> overshoot the mark, requiring another corrective change... as you can see, without sufficient ""stability"" in the system, the regulator can output a continuously fluctuating voltage rather than the flat line you hope for when employing a regulator.</p>

<p>The capacitors slow down voltage changes, thereby helping to ensure overall stability.</p>
","64068"
"How do I splice multiple (more than two) wires in-line?","23482","","<p>When I look at many wiring diagrams, like this one: </p>

<p><img src=""https://i.stack.imgur.com/A3V1z.png"" alt=""enter image description here""> 
(<a href=""http://www.amb.org/audio/beta22/audio4.png"" rel=""nofollow noreferrer"">source</a>),   </p>

<p>I see wires which need to be connected to multiple points. This suggests that the wire will require multiple three-way splices in order to connect to all the right places. How is this done? I found 3-way heatshrink adapters (like this one: <a href=""http://www.genuinedealz.com/3-way-wire-splice-butt-connector-w-adhesive-heat-shrink-12-10-awg"" rel=""nofollow noreferrer"">http://www.genuinedealz.com/3-way-wire-splice-butt-connector-w-adhesive-heat-shrink-12-10-awg</a>), but that doesn't seem like an elegant solution. What is the correct approach here?</p>
","<p>You can use a few of these: -</p>

<p><img src=""https://i.stack.imgur.com/ZftMI.jpg"" alt=""enter image description here""></p>

<p>See <a href=""http://www.evilution.co.uk/info/splicing_into_wires.htm"" rel=""nofollow noreferrer"">this</a> website for detail.</p>

<p>Or one of these: -</p>

<p><img src=""https://i.stack.imgur.com/c29aj.jpg"" alt=""enter image description here""></p>

<p>See <a href=""http://www.colorado.edu/physics/EducationIssues/podolefsky/electric_motorcycle_howto_wiring.html"" rel=""nofollow noreferrer"">this</a> website for detail.</p>

<p>Or one of these: -</p>

<p><img src=""https://i.stack.imgur.com/IhwmS.jpg"" alt=""enter image description here""></p>

<p>See <a href=""http://www.brancekrachy.com/82-b1-scotchcast-splicing-kit-p-11881.html"" rel=""nofollow noreferrer"">this</a> website for detail.</p>
","140396"
"Real maximum current for ATmega328?","23443","","<p>Everything I read says that the ATmega328 can provide 40mA per pin. However when I've measured the actual current provided by one pin it was showing 80mA. It was the same on every pin I tested. Anyone else noticed this? Or is it just unique to this specific one?</p>

<p><a href=""http://www.atmel.com/dyn/resources/prod_documents/doc8271.pdf"">RM: ATMega328 datasheet</a></p>
","<p><strong>Summary:</strong></p>

<ul>
<li><p>You must distinguish between ""guaranteed operating conditions"" and ""absolute maximum ratings"". Also between current from an eg a logic high output pin at a usefully high voltage and short circuit current from a pin.</p></li>
<li><p>At 80 mA you are exposing the IC to conditions that exceeds the manufacturer's guarantees for product survival and the manufacturer explicitly advises that such practices may cause permanent damage to the IC.</p>

<p>YMMV :-)</p></li>
</ul>

<hr>

<p><strong>Operating and Absolute-maximum figures</strong></p>

<p>Manufacturers publish data that tells you what conditions they guarantee a device will meet in practice when operating normally. They also publish absolute maximum ratings for a device, beyond which damage to the device may occur. </p>

<p>On pages 519 and 520 are tables that specify the voltage and current output conditions which Atmel <strong>guarantees</strong>. Not that as current increases the voltage drops due to increased voltage drop across the internal circuitry. They do not specify what current you can get when you load a high output pin down to almost 0 Volts - but you can be sure it would be more than the maximum guaranteed figure <strong>and</strong> that it would probably risk damaging the IC. </p>

<p>The most important specification with respect to your question is on page 317 of the <a href=""http://www.atmel.com/dyn/resources/prod_documents/doc8271.pdf"">ATmega328 datasheet</a></p>

<p>This says </p>

<p>29.1 <strong>Absolute Maximum Ratings*</strong></p>

<p>DC Current per I/O Pin ................................................ 40.0mA</p>

<p>and </p>

<ul>
<li>NOTICE <strong>Stresses beyond those listed under “Absolute
Maximum Ratings” may cause permanent damage
to the device.</strong> This is a stress rating only and
functional operation of the device at these or
other conditions beyond those indicated in the
operational sections of this specification is not
implied. Exposure to absolute maximum rating
conditions for extended periods may affect
device reliability.</li>
</ul>

<p>""Absolute Maximum Ratings"" are in all reputable data sheets and mean just what they say. They are the absolute maximum at which the device is guaranteed by the manufacturer not to suffer permanent damage at. Usually the guaranteed operating conditions are lower than the absolute maximum ratings.</p>

<p>You say that ""you have tried this on every pin. Note the manufacturer's comment </p>

<ul>
<li>Exposure to absolute maximum rating
conditions for extended periods may affect
device reliability.</li>
</ul>

<p>Here ""extended periods"" is at the manufacturer's and Murphy's discretion.</p>

<hr>

<p>Chances are you have <strong>not</strong> damaged the IC. But if you operate it at above maximum values you may. And if you operate it at above maximum <strong>operating</strong> values you may get misoperation in practice. ""Proper"" designs must always observe operating limits set by the manufacturer. </p>
","17963"
"How to cut the tracks of a stripboard","23437","","<p>Since I've started electronics I'm using this kind of board for permanent projects: </p>

<p><img src=""https://i.stack.imgur.com/O299G.jpg"" alt=""enter image description here""></p>

<p>But sometimes it's a bit annoying, especially when I need a line going from the top to bottom of the board.  I've seen this kind of board: </p>

<p><img src=""https://i.stack.imgur.com/4kKYu.jpg"" alt=""enter image description here""></p>

<p>My question is, how can I cut the strips?</p>

<p>By cutting the strip I don't mean cutting the board itself, just the copper strip. I've tried with a precision knife but I'm not sure about the method, the blade gets damaged really quickly and it's really hard to cut the copper.</p>
","<p>There are specific tools that are designed to cut holes in this material, which is either called ""stripboard"" or ""veroboard"".  These tools are basically a drill bit in a moulded handle made of plastic or wood and look something like this:</p>

<p><img src=""https://i.stack.imgur.com/i1R6i.jpg"" alt=""Stripboard track cutter""></p>

<p>(photo <a href=""http://www.rapidonline.com/tools-equipment/stripboard-cutter-34-0600"" rel=""noreferrer"">from here</a>)</p>

<p>Because it is basically a drill bit you could use any high speed steel drill bit.  There are some <a href=""http://www.instructables.com/id/Stripboard-track-cutter/"" rel=""noreferrer"">good instruction at Instructables</a> that show how to cut neat holes.  However if you plan on using stripboard often then it is worth buying a tool with a handle, they are quite inexpensive.</p>
","94662"
"Why on earth are o-scopes earth referenced?","23400","","<p>Thinking about it: You would never find a ""Grounded"" multimeter as robust and useful if a path to ground through the multimeter were introduced, modifying the circuit's behaviour and possibly damaging the multimeter with currents.</p>

<p>Why are so many oscilloscopes earth referenced? Upon reading some educational material, a majority of the ""common mistakes made by students"" are placing the grounding clip incorrectly and causing poor results - when the o-scope is just being used as a fancy voltmeter!</p>

<p>I've heard of a Tek scope having an isolation transformer within.. however ignoring that, and taking in to account that newer DSOs may have plastic cases (isolated from you most importantly I would assume) could I just remove the earthing pin, and install a 1:1 AC transformer inbetween the o-scope and outlet and be on my merry way probing various hot/neutral/earthed sources with no worries about a path to ground any longer through it?</p>
","<p>Oscilloscopes usually require significant power and are physically big.  Having a chassis that size, which would include exposed ground on the BNC connectors and the probe ground clips, floating would be dangerous.</p>

<p>If you have to look at waveforms in wall-powered equipment, it is generally much better to put the isolation transformer on that equipment instead of on the scope.  Once the scope is connected, it provides a ground reference to that part of the circuit so other parts could then be at high ground-referenced voltages, which could be dangerous.  However, you'll likely be more careful not to touch parts of the unit under test than the scope.</p>

<p>Scopes can also have other paths to ground that are easy to forget.  For example, the scope on my bench usually has a permanent RS-232 connection to my computer.  It would be easy to float the scope but forget about such things.  The scope would actually not be floating.  At best a fuse would pop when it is first connected to a wall powered unit under test in the wrong place.</p>

<p>Manufacturers could isolate the scope easily enough, but that probably opens them to liability problems.  In general, bench equipment is not isolated but hand-held equipment is.  If you really need to make isolated measurements often, you can get battery operated handheld scopes.</p>
","27076"
"What will happen if I apply 220 dc voltage to a 220 ac load?","23352","","<p>Let say I have a lamp which is operated on 220 V ac.</p>

<p>Instead of applying 220 AC voltage I apply 220 DC voltage: what will happen? And if I want to convert this 220V dc to 220V ac then what should I do?</p>
","<p>An incandescent bulb will do fine. The 220 V AC is the RMS value, for Root Mean Square. The sine's amplitude will be \$\sqrt{2}\$ higher than that, or 310 V. But the RMS value tells you what equivalent DC voltage you would need to get the same power, so that's exactly what you need. The bulb will use the same power and light as bright under 220 V AC as DC.  </p>

<p>Switching on an incandescent bulb may cause a large current peak: the cold resistance is only about a tenth of what it is when the lamp is lit, and when the voltage applied is high at that time the lamp may break. You may have noticed that <em>if</em> a bulb breaks it always does when switching on. So at AC worst case is when you switch on at the peak of the sine, at 310 V. But there will be lots of cases when the voltage is lower when switching on, even zero if you just happen to switch on during a zero-crossing of the sine. In fact that's the best thing to do for the bulb's longevity.  </p>

<p>At DC you don't have this; anytime you switch it on it will be 220 V. Not as bad as 310 V, but you can't use zero-crossing switching either.</p>

<p><strong>about RMS</strong><br>
Why do we use RMS value instead of just the average? The average of a sine is just zero, so that doesn't help at all. If we want to know how much power a voltage generates in a load we have to use the power equation  </p>

<p>\$ P = V \times I = \dfrac{V^2}{R} \$  </p>

<p>It's the second form we're interested in. Power is proportional to voltage squared, that's what the ""S"" in RMS comes from, we square the voltage.  </p>

<p><img src=""https://i.stack.imgur.com/gHCqt.png"" alt=""enter image description here""></p>

<p>The blue sine is our AC voltage, 1 V peak. The purple curve is that voltage squared, and the yellowish is the average of that, or mean: the ""M"" in RMS. It's precisely 0.5 V\$^2\$. It has still the dimension of voltage squared, so to get to a voltage quantity we take the square root of that, that's \$\frac{\sqrt{2}}{2}\$ V. The ""R"" in RMS. So RMS spelled out in full means: ""the square root of the average of the voltage squared"".  </p>

<p>This shows that the amplitude (1 V) is \$\sqrt{2}\$ higher than the RMS value. That's where the 310 V comes from: 220 V \$\times \sqrt{2}\$ = 310 V.</p>
","39801"
"Why does a capacitor block DC and not AC?","23318","","<p>If someone can explain why a capacitor blocks DC, but not AC, with some math, I will understand all of that much better. I know that there are picture animations illustrating this, but I really want to know this a little bit more detailed.</p>
","<p>Conceptual answer:  Capacitors are essentially two plates that are mounted next to each other, with a gap between them so that the plates don't touch.  That's why it's drawn as --| |-- on a diagram.</p>

<p>Direct current can't jump the gap between plates, because it would take a massive amount of voltage to force the electron to jump the gap between plates.  The electrons hit the plate and stop.</p>

<p>Alternating current, on the other hand, is moving the electrons back and forth in place -- so the plate on one side of the capacitor is constantly having electrons pushed in and then pulled back out.  This motion creates a small electric field which induces the same alternating current in the other plate, because electric fields <em>can</em> jump the gap between plates.</p>

<p>Hope that helps with your general understanding.  Other people have posted lots of great math, but I didn't see much in the way of conceptual understanding of the physics at play.</p>
","182330"
"Is it possible to use just a capacitor to debounce a button?","23317","","<p>I have been wondering: why cannot you just hook up a capacitor to a button to debounce it? I have been figuring out how to reduce the work my microprocessor has to do, but I have very limited space on a PCB I am designing, so I don't want to do a full-blown debounce circuit which would complicate the design.</p>

<hr>



<p><img src=""https://i.stack.imgur.com/mXS8W.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fmXS8W.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<hr>

<p>That's a example circuit; sorry for any errors (I am not good at designing circuits with capacitors). Would this even work? For the tack switch, I couldn't find one that matches what it is in real life, but it works for this situation. The button is like the one found <a href=""http://arduino.cc/en/tutorial/button"" rel=""noreferrer"">here</a>. <code>D10</code> stands for <code>Digital Pin 10</code>, but it doesn't matter; it just means the Arduino input. I also don't know how big of capacitor I would need, so if this circuit works, what size do I need?</p>

<hr>

<p>Again, I am just trying to simplify this to make it easier to build while not having to do software debouncing. From looking at how capacitors work, this seems like it would work, but also it might make the button press longer/delay it if the capacitance is too big. They are commonly used for ""smoothing"" out noise in power supplies, so isn't this a similar thing where it ""smooths"" out the bouncing? Any circuit modifications to make it work (if needed) would also be appreciated.</p>
","<p>It depends on what the default state of the switch is. A capacitor will only charge when you give it a positive voltage. Usually, in an embedded environment, we use a pull-up to give a pin a default high state, and link the switch to ground. Adding a capacitor won't help here, because it won't ""store"" the ground state.</p>

<p>However, you can also use a pull-down. This would mean the pin is by default low. Making it high by pressing the switch, will charge the capacitor. After releasing, the capacitor will keep the pin high for a little while, so yes, this would work. I'm not sure if 1uF is enough, too little or too much, I'd recommend you to look with a scope and try it out a bit. </p>
","64771"
"Will crimped wire or soldered wire carry a current better?","23317","","<p>I am running a 160amp DC current through a 1/0awg wire.  Will the connection be more reliable with crimped connections, soldered connections, or screw terminals?  </p>

<p>I have looked online and it seems that all of those connectors have their advantages and disadvantages, but for something with such high DC amperage what will be the best?</p>

<p>I would lean towards soldering because a good solder connection will not have any air, but I want to know if I am wrong with that thought. </p>
","<p>For high currents and thick wires, a <strong>gas-tight crimped junction</strong> is the industry standard choice. </p>

<p>While solder appears to have its advantages, the key issue to keep in mind is the challenge of soldering 1 AWG copper wire, where the thermal conductivity of the wire itself will rapidly draw heat away from the soldering location, and insulation etc elsewhere on the wire would get overheated and damaged. Of course, for such uses, a blow-torch type gas soldering gun would be used instead of conventional soldering irons, but the issue remains. </p>

<p>Another concern with soldering is that the solder itself could potentially melt and run, leading to an all round mess, if the junction were to heat up enough, a distinct possibility at 160 Amperes.</p>

<p>Screw terminals would work, but the risk is of the terminal tabs coming loose over time due to mechanical vibration, and also of oxide formation at the metal contact surface, leading to increased resistance, thereby heat, and another all-round mess.</p>

<p>A <strong>crimped spade terminal</strong> actually creates a metal-metal colloidal bond at the surface between the wire and the terminal, and if done right, no gas remains between the surfaces. This ensures longevity and safety, making this the preferred mechanism in industrial implementations. </p>
","65929"
"Can I charge a 12v sealed lead acid with an old wall-wart (not made for charging)?","23310","","<p>Will it hurt the battery?  If I left it overnight would I run the risk of ""exploding"" the battery?</p>

<p>I have a 7Ah SLA battery that I need to charge, but I don't have a charger and I don't want rake out $50 for a charger.  Even if I did I need to charge it by the weekend, so I probably couldn't even get it in time.  </p>

<p>If I use a 1Amp wall wart it should take 7 hours to charge the battery.  Would it be bad for me to plug the battery in for 7 hours and then unplug it when the voltage is about 13.5-14volts or so?</p>
","<p>It's unlikely that your 1A wall-wart will handle the battery load, as regulation tends to be quite poor on many lower-quality models. Don't expect constant-current charging - most likely the voltage will sag as the load increases. I wouldn't assume it to be able to maintain 1A over the whole cycle. Also, some wall-warts don't like being connected to a source (like a battery) without isolation.</p>

<p>Technically, charging a SLA at 2.35 to 2.4V per cell is OK (14.1 to 14.4V), but it's risky to leave the apparatus overnight, especially since the wall-wart doesn't have the ability to change modes (or shut off) to charge the battery properly without damaging it.</p>

<p>I suggest reconsidering the idea. If you can find a lab supply with an adjustable current limit, you could charge the battery in a much safer manner. A proper SLA charger is your best bet.</p>
","36395"
"Oscilloscope with FFT or a Spectrum Analyzer?","23309","","<p>Could someone explain to me please which applications demand one or the other and why? As far as I have read it's all about the 'dB'; is that true? And why?</p>

<p>At first I can see Digital Storage Oscilloscopes (DSO) with FFT function and Spectrum Analyzers (SA) as being the same thing...they will get a signal from the Time Domain, and convert it to the Frequency Domain and we can check all the harmonics and frequency components of a signal and analyze it in a whole new way.......But since DSOs usually are much cheaper than SA, I keep wondering what functionalities the SA will offer that a DSO can't. Is it about precision, speed of calculation (my DSO FFT is really slow), bandwidth (cheap DSOs usually go only up to 100MHz), or does it just depend on the models and not on being a DSO or a SA? Is there more that I don't know about and you can tell me? </p>
","<p>To answer simply - an oscilloscope is an essential tool for any electronics lab, whilst an SA is generally not (unless you are an RF engineer, and even then you need a good scope) and for a good quality one much more expensive in comparison (though Rigol have just brought out some pretty powerful SAs at decent scope type prices)<br>
The FFT function on your average DSO will do for most work, so unless your frequency range of interest is e.g. > 500MHz or so (if it is let us know), then the DSO is the tool of choice. </p>

<p>Basically one does amplitude versus time (scope), and the other does amplitude versus frequency (SA)  </p>

<p>Scope example:<br>
Say you have a digital signal that is intermittently working, you could check on the scope and look for over/undershoot, ringing, noise, gltiches, etc.  </p>

<p><img src=""https://i.stack.imgur.com/1HIa6.gif"" alt=""Integrity problems""></p>

<p>(simple) SA example:
Say you have a signal and you want to check the harmonic components of it, you can look on the SA screen and check for harmonics (e.g. a pure sine wave should just be one single spike on the screen, at it's frequency, a square wave would be a decreasing series of odd harmonics)  </p>

<p>Square wave on a Spectrum Analyser: </p>

<p><img src=""https://i.stack.imgur.com/5Whlb.png"" alt=""SA Square wave""></p>

<p>The same signal on a scope would look like this:</p>

<p><img src=""https://i.stack.imgur.com/I8AHu.gif"" alt=""Square wave on scope""></p>
","50592"
"What does BSC SQ mean?","23250","","<p>I'm reading <a href=""http://www.analog.com/static/imported-files/data_sheets/AD5762R.pdf"" rel=""noreferrer"">this DAC datasheet</a>. The last page (p. 32) gives certain of the chip's dimensions, some in units of ""BSC SQ"".</p>

<p><img src=""https://i.stack.imgur.com/w30KR.png"" alt=""enter image description here""></p>

<p>What does BSC SQ mean? Is it standard to express sizes in BSC SQ?</p>
","<p>BSC means ""Basic Spacing Between Centers"". This is often used if the reference lines don't refer to a physical point or edge, like in the case of the pins: the reference is in the middle of the pin, instead of one of the edges.  </p>

<p>BSC SQ = BSC square, i.e. in both X and Y dimensions.</p>

<p>The abbreviation BSC is misused in the case of the package outline, and overall dimensions, as they are specified by physical edges which can be measured.  </p>

<p>Usually a mechanical drawing of a package will show minimum and maximum values. BSC SQ must be regarded as nominal, so may deviate, but it doesn't say by how much.</p>
","37644"
"My understanding of RC circuits is broken","23235","","<p>I asked <a href=""https://electronics.stackexchange.com/questions/150299/is-a-capacitor-a-high-pass-filter-or-a-band-pass-filter"">a relatively simple question</a>. Unfortunately, the answers provoke far more questions! :-(</p>

<p>It seems that I don't actually understand RC circuits at all. In particular, why there's an R in there. It seems completely unnecessary. Surely the capacitor is doing all the work? What the heck do you need a resistor for?</p>

<p>Clearly my mental model of how this stuff works is incorrect somehow. So let me try to explain my mental model:</p>

<p>If you try to pass a direct current through a capacitor, you are just charging the two plates. Current will continue to flow until the capacitor is fully charged, at which point no further current can flow. At this point, the two ends of the wire might as well not even be connected.</p>

<p>Until, that is, you reverse the direction of the current. Now current can flow while the capacitor discharges, and continues to flow while the capacitor recharges in the opposite polarity. But after that, once again the capacitor becomes fully charged, and no further current can flow.</p>

<p>It seems to me that if you pass an alternating current through a capacitor, one of two things will happen. If the wave period is longer than the time to fully charge the capacitor, the capacitor will spend most of the time fully charged, and hence most of the current will be blocked. But if the wave period is shorter, the capacitor will never reach a fully-charged state, and most of the current will get through.</p>

<p>By this logic, a single capacitor on its own is a perfectly good high-pass filter.</p>

<p>So... why does everybody insist that you have to have a <em>resistor</em> as well to make a functioning filter? What am I missing?</p>

<p>Consider, for example, this circuit from Wikipedia:</p>

<p><img src=""https://upload.wikimedia.org/wikipedia/commons/f/fe/High_pass_filter.svg""/></p>

<p>What the <em>hell</em> is that resistor doing there? Surely all that does is short-circuit all the power, such that no current reaches the other side at all.</p>

<p>Next consider this:</p>

<p><img src=""https://upload.wikimedia.org/wikipedia/commons/e/e0/1st_Order_Lowpass_Filter_RC.svg""/></p>

<p>This is a little strange. A capacitor in parallel? Well... I suppose if you believe that a capacitor blocks DC and passes AC, that would mean that at high frequencies, the capacitor shorts-out the circuit, preventing any power getting through, while at low frequencies the capacitor behaves as if it's not there. So this would be a low-pass filter. Still doesn't explain the random resistor through, uselessly blocking nearly all the power on that rail...</p>

<p>Obviously the people who actually design this stuff know something that I don't! Can anyone enlighten me? I tried the Wikipedia article on RC circuits, but it just talks about a bunch of Laplace transform stuff. It's neat that you can do that, I'm trying to understand the underlying physics. And failing!</p>

<p>(Similar arguments to the above suggest that an inductor by itself ought to make a good low-pass filter &mdash; but again, all the literature seems to disagree with me. I don't know whether that's worthy of a separate question or not.)</p>
","<p>Let's try this <a href=""http://en.wikipedia.org/wiki/Lie-to-children"" rel=""noreferrer"">Wittgenstein's ladder</a> style.</p>

<p>First let's consider this:</p>



<p><img src=""https://i.stack.imgur.com/NurN1.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fNurN1.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>We can calculate the current through R1 with Ohm's law:</p>

<p>$$ {1\:\mathrm V \over 100\:\Omega} = 10\:\mathrm{mA} $$</p>

<p>We also know that the voltage across R1 is 1V. If we use ground as our reference, then how does 1V at the top of the resistor become 0V at the bottom of the resistor? If we could stick a probe somewhere in the middle of R1, we should measure a voltage somewhere between 1V and 0V, right?</p>

<p>A resistor with a probe we can move around on it...sounds like a potentiometer, right?</p>



<p><img src=""https://i.stack.imgur.com/wB4Er.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fwB4Er.png"">simulate this circuit</a></sup></p>

<p>By adjusting the knob on the potentiometer, we can measure any voltage between 0V and 1V.</p>

<p>Now what if instead of a pot, we use two discrete resistors?</p>



<p><img src=""https://i.stack.imgur.com/pwTWL.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fpwTWL.png"">simulate this circuit</a></sup></p>

<p>This is essentially the same thing, except we can't move the wiper on the potentiometer: it's stuck at a position 3/4th from the top. If we get 1V at the top, and 0V at the bottom, then 3/4ths of the way up we should expect to see 3/4ths of the voltage, or 0.75V.</p>

<p>What we have made is a <a href=""http://en.wikipedia.org/wiki/Voltage_divider#Resistive_divider"" rel=""noreferrer"">resistive voltage divider</a>. It's behavior is formally described by the equation:</p>

<p>$$ V_\text{out} = {R_2 \over R_1 + R_2} \cdot V_\text{in} $$</p>

<p>Now, what if we had a resistor with a resistance that changed with frequency? We could do some neat stuff. That's what capacitors are.</p>

<p>At a low frequency (the lowest frequency being DC), a capacitor looks like a large resistor (infinite at DC). At higher frequencies, the capacitor looks like a smaller resistor. At infinite frequency, a capacitor has to resistance at all: it looks like a wire.</p>

<p>So:</p>



<p><img src=""https://i.stack.imgur.com/4BxjB.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f4BxjB.png"">simulate this circuit</a></sup></p>

<p>For high frequencies (top right), the capacitor looks like a small resistor. R3 is very much smaller than R2, so we will measure a very small voltage here. We could say that the input has been attenuated a lot.</p>

<p>For low frequencies (lower right), the capacitor looks like a large resistor. R5 is very much bigger than R4, so here we will measure a very large voltage, almost all of the input voltage, that is, the input voltage has been attenuated very little.</p>

<p>So high frequencies are attenuated, and low frequencies are not. Sounds like a low-pass filter.</p>

<p>And if we exchange the places of the capacitor and the resistor, the effect is reversed, and we have a high-pass filter.</p>

<p>However, capacitors aren't <em>really</em> resistors. What they are though, are <a href=""http://en.wikipedia.org/wiki/Electrical_impedance"" rel=""noreferrer"">impedances</a>. The impedance of a capacitor is:</p>

<p>$$ Z_\text{capacitor} = -j{1 \over 2 \pi f C} $$</p>

<p>Where:</p>

<ul>
<li>\$C\$ is the capacitance, in farads</li>
<li>\$f\$ is the frequency, in hertz</li>
<li>\$j\$ is the <a href=""http://en.wikipedia.org/wiki/Imaginary_unit"" rel=""noreferrer"">imaginary unit</a>, \$\sqrt{-1}\$</li>
</ul>

<p>Notice that, because \$f\$ is in the denominator, the impedance decreases as frequency increases.</p>

<p>Impedances are <a href=""http://en.wikipedia.org/wiki/Complex_number"" rel=""noreferrer"">complex numbers</a>, because they contain \$j\$. If you know how arithmetic operations work on complex numbers, then you can still use the voltage divider equation, except we will use \$Z\$ instead of \$R\$ to suggest we are using impedances instead of simple resistances:</p>

<p>$$ V_\text{out} = V_{in}{Z_2 \over Z_1 + Z_2}$$</p>

<p>And from this, you can calculate the behavior of any RC circuit, and a good deal more.</p>
","150421"
"How to read high voltages on microcontroller?","23235","","<p>I want to read high voltages, like ~50V, using a microcontroller. I plan to put this as an input into the microcontroller's A/D line. But of course, you shouldn't have voltage that high on the input of a microcontroller or it'll fry. </p>

<p>How might I read high voltages? The main thing is that I need to step down the voltage before reading it. What do I need to consider when stepping down this voltage?</p>

<p>Thanks in advance!</p>

<p>Edit: I noticed in the PIC18 datasheet that it says ""The maximum recommended impedance for analog sources is 2.5 kOhms."" How does this affect how I step down the voltage, be it with resistive dividers, etc.?</p>
","<p>A simple resistive <a href=""http://en.wikipedia.org/wiki/Voltage_divider"" rel=""noreferrer"">voltage divider</a> will achieve what you want.</p>

<p><img src=""https://i.stack.imgur.com/HweJQ.png"" alt=""Voltage Divider""></p>

<p>The formula to calculate the output voltage is:</p>

<p><img src=""https://i.stack.imgur.com/RBYmH.png"" alt=""Formula""></p>

<p>So if we assume your input voltage ranges from 0-50V, we need to divide it by 10 to achieve 0-5V. If we also assume we want to load the input voltage with 100k&Omega;, then the calculations would something like:</p>

<p>Vout / Vin = R2 / 100k&Omega;</p>

<p>0.1 = R2 / 100k&Omega; -> R2 = 10k&Omega;</p>

<p>R1 = 100k&Omega; - R2 = 90k&Omega;</p>

<p>So R1 = 90k&Omega; and R2 = 10k&Omega;</p>

<p>For an ADC requiring a maximum source impedance, you must make sure the voltage divider impedance is below this level. The impedance at the divider can be calculated as R1||R2.  </p>

<p>For &lt;2.5k&Omega;, the above won't meet this requirement as 10k&Omega;||90k&Omega; = 9k&Omega;<br>
If we use 9k&Omega; and 1k&Omega; though, we get 1 / (1/1000 + 1/9000) = 900&Omega; </p>

<p>Bear in mind the lower the resistance the higher the wattage rating resistors you need. 50V / 1k = 50mA -> 50mA * 45V = 2.25W across the top resistor (0.25W across the bottom)<br>
In these cases it's best to use an opamp buffer in between a high resistance divider and the ADC. Or use a 2k&Omega; and 18k&Omega; divider, which is not quite as power hungry as the 1k/9k version.   </p>
","42713"
"How to increase torque and decrease RPM of a DC motor?","23196","","<p>The motor is an old one from a cassete player of some sort. I am powering the motor with a 9 volt battery, but it's RPM is too high for the desired purpose. I have used gears to reduce RPM but it is still too high. I don't think I can increase the gear ratio anymore. Can you suggest a way to decrease the RPM further and increase the torque (if possible). Please suggest a circuit to accomplish it. </p>
","<p>I shall make the assumption the machine you have is a brushedDC machine.</p>

<p>Torque ~= current  (Kt being the constant of proportionality)</p>

<p>Speed ~= voltage.  (Ke being the constant of proportionality)</p>

<p>In actual fact this is loosely accurate for all machine types but rather than being directly proportional it becomes a bit more complex &amp; usually involves frequency.
( see <a href=""https://electronics.stackexchange.com/questions/93710/how-do-dc-motors-work-with-respect-to-current-and-what-consequence-is-the-curre/93714#93714"">How do DC motors work with respect to current, and what consequence is the current through them?</a>)</p>

<p>To reduce the speed the simplest method is to reduce the voltage be it by replacing the 9V battery by a... 8V battery or via PWM.</p>

<p>To increase the torque ... that a bit harder. All you can do, electrically (as you can do it mechanically via gears), is to reduce the source impedance to maximise the current that can be delivered for a given stator impedance. </p>
","122437"
"How do you update the Arduino IDE?","23191","","<p>I currently have Arduino 1.0.1 and I want to upgrade to <a href=""http://arduino.cc/en/main/software"">the new version</a>. <strong>However, do I just replace the old files? How do I know if I need to update the drivers for the boards?</strong> Does Arduino even <em>release</em> new drivers? I admit, I have been putting this off, but I think it's time to update. Also, should I be wary of deleting anything stored in the Arduino files? I like how it has all the sketches in the file menu, does this regenerate when Arduino is opened?</p>
","<p>On Windows and Mac your Arduino sketches and custom libraries are placed in your Documents folder by default. Most importantly, they are outside of the program directory. I'm almost positive the same goes for Linux.</p>

<p><strong>Mac</strong><br>
You can upgrade it just like any other Mac application. Download and mount the .dmg, then drag and drop it to your Applications folder, replacing the old Arduino.app.</p>

<p><strong>Windows &amp; Linux</strong><br>
The Arduino IDE doesn't install to any specific location. It's just a standalone folder. To update, just delete your old folder you previously extracted with the new one. If you're on Linux and you installed Arduino through your package manager you may be able to update it through that venue. <a href=""http://playground.arduino.cc/learning/linux"">The Arduino Playground attempts to cover most popular distributions.</a></p>

<p><strong>Drivers</strong><br>
The Arduino changelog should note if there's an update to these. To update the drivers you'll have to perform the driver installation operation again. Instructions for: <a href=""http://arduino.cc/en/Guide/windows#toc4"">Windows</a> (drivers required) and <a href=""http://arduino.cc/en/Guide/MacOSX#toc3"">Mac</a> (drivers only required for using older, pre-Uno boards). On Linux, if you're using kernel version 2.6 or greater (verify with <code>uname -r</code>) then there are no drivers for you to install. You'll need to remove the <code>brltty</code> application if it exists on your system.</p>
","67145"
"Choosing TRIAC snubber resistor for multi-purpose switching","23145","","<p>I'm designing a circuit to switch a 240V AC load and haven't done a lot with AC power control before. I'm planning to use a <a href=""http://www.fairchildsemi.com/ds/MO/MOC3043M.pdf"" rel=""noreferrer"" title=""&#40;Datasheet here&#41;"">Fairchild MC3043-M</a> optically coupled TRIAC driver along with a BT138-600 <a href=""http://www.nxp.com/documents/data_sheet/BT138-600.pdf"" rel=""noreferrer"">NXP BT138-600 TRIAC</a>. Referring to the following diagram from the datasheet:</p>

<p><img src=""https://i.stack.imgur.com/3W3Ag.png"" alt=""enter image description here""></p>

<p>The comment is made that for highly inductive loads (power factor &lt; 0.5), change this value to 360R. One load I'm switching is an AC fan (0.8A) which is obviously inductive although I have no idea of the power factor likely, and the other is a router using a 20W switching supply.</p>

<p>My question is to make the circuit universal considering it's not for a commercial product design and I may use for other purposes in the future is there any disadvantage to always using a 360R (well guess I'll use 390R) other than needing a higher power rating for the resistor? Also any hints on calculating the power dissipation through the resistor assuming a 5A load which is what I'm planning to use as a fuse value?</p>
","<p>TRIACs switch off at (near) zero current.  It is common for switches that switch passively at zero current to experience a voltage step that will cause circuit parasitic inductance and capacitance to ring.  There are 2 problems:  </p>

<ul>
<li>The peak voltage of the ringing can exceed the rating of the TRIAC.  </li>
<li>TRIACs also have a maximum rated \$\frac {\text {dV}} {\text {dt}}\$ that if exceed will cause the TRIAC to spontaneously trigger.</li>
</ul>

<p>A snubber, like in your Figure 13 would be used to dampen energy in the parasitic elements.  The inductance will be in the load (\$L_L\$), since it is common to use TRIACs for motor control which are inductive.  The parasitic capacitance is the capacitance of the TRIAC \$C_T\$.  The snubber works by providing an impedance match to the \$L_L\$ \$C_T\$ resonance.  Snubber resistance \$R_s\$ is added to the load resistance \$R_L\$ to match characteristic impedance Zo = \$\sqrt{\frac{L_L}{C_T}}\$.  They tell you to use a higher value for \$R_s\$ for loads with higher inductance because Zo increases with increasing \$L_L\$.  </p>

<p>Typically you will want to use a value for \$C_s\$ that is 10 times \$C_T\$.  For a medium sized TRIAC (one that handles about 10A) \$C_T\$ is often about 100pF.  I didn't see a spec for \$C_T\$ in the datasheet for the NXP BT138 TRIAC.  The best value for the \$R_s\$ is Zo-\$R_L\$.  </p>

<p>Here is <a href=""http://www.st.com/st-web-ui/static/active/en/resource/technical/document/application_note/CD00004096.pdf?s_searchtype=keyword"">a link to an app-note</a> that provides more detail.</p>
","55685"
"Control differences between ac induction motor and brushless dc motor?","23137","","<p>I have a fairly solid background in industrial AC motor control (soft starters, VFDs, etc.) but something that I'm certainly NOT well versed in is brushless DC motors... the type found in every hard drive on the planet.</p>

<p>As far as I can tell, they look identical to your typical star-connected AC induction motor, and the motor controllers look to be very, very similar to the typical three-phase AC controllers I've spent most of my professional life designing.</p>

<p>I can't find much on the real differences between the two, neither from a mechanical construction point of view nor from a control point of view. The closest I seem to find is ""they're similar.""</p>

<p>Does anyone have any resources or can offer a fairly technical explanation of what the major differences between these types of motors is and their control methods? </p>
","<p>From <a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/6.html"" rel=""nofollow noreferrer"">All About Circuits</a>:</p>

<blockquote>
  <p>Brushless DC motors are similar to AC synchronous motors. The major
  difference is that synchronous motors develop a sinusoidal back EMF,
  as compared to a rectangular, or trapezoidal, back EMF for brushless
  DC motors. Both have stator created rotating magnetic fields producing
  torque in a magnetic rotor.</p>
</blockquote>

<h1>Construction wise, there is essentially* no difference.</h1>

<p><a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/2.html"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iz20c.png"" alt=""generic motor controller""></a></p>

<p>The motor in the above diagram could be called an ""AC Induction Motor"" or a ""Brushless DC Motor"" and it would be the same motor.</p>

<p>The main difference is in the drive. An AC motor is controlled by a drive consisting of a sinusoidal alternating current waveform. It's speed is synchronous with the frequency of that waveform. And since it is driven by a sine wave, it's Back-EMF is a sine wave. A single phase AC Motor <strong><em>could</em></strong> be driven from the wall socket and it would turn at 3000 RPM or 3600 RPM (depending on your country of origin having 50/60Hz mains).</p>

<p>Notice that I said <strong><em>could</em></strong> there. In order to drive a motor from a DC source, a controller, which is essentially just a DC to AC inverter, is <strong><em>required</em></strong>. You are correct in stating that AC motors can also be driven by controllers. For instance a Variable Frequency Drive (VFD) which are, as you said, DC to AC inverters. Although typically they have an AC to DC rectifier front end.</p>

<p><a href=""http://www.inverter-china.com/forum/forum_posts.asp?tid=50"" rel=""nofollow noreferrer"">PWM VFD http://www.inverter-china.com/forum/newfile/img/PWM-VFD-Diagram.gif</a></p>

<p>VFDs use PWM to approximate a sine wave and can come pretty close by varying the pulse widths continuously as seen below:</p>

<p><img src=""https://i.stack.imgur.com/VPsnd.png"" alt=""sine versus PWM""></p>

<p>While using PWM to approximate a sine wave would produce a nearly sinusoidal Back-EMF wave form (""fuzzy"" is the word you used), it's also a bit more complicated to do. A simpler commutation technique is called six-step commutation in which the Back-EMF waveform is more trapezoidal than sinusoidal.</p>

<p><a href=""http://www.controlengeurope.com/article.aspx?ArticleID=33030"" rel=""nofollow noreferrer"">six-step drive http://www.controlengeurope.com/global/showimage/Article/18087/</a></p>

<p><a href=""http://www.emeraldinsight.com/journals.htm?articleid=1926773&amp;show=html"" rel=""nofollow noreferrer"">six-step Back-EMF http://www.emeraldinsight.com/content_images/fig/1740300310012.png</a></p>

<p>And while this ""PWM is really poor"" as you said, it's also a lot simpler to implement and therefore cheaper.</p>

<p>There are other methods of commutation besides six-step and sinusoidal. The only other one that is really popular (in my opinion) is space vector drive. This has about the same complexity as sinusoidal drive but make better use of the available DC bus voltage. I'm not going to go into detail on space vector as I think it will only muddy the waters of this discussion.</p>

<p>So those are the differences in the drive techniques. The waveform used to drive AC motors is typically sinusoidal and <strong><em>could</em></strong> come directly from an AC source or <strong><em>could</em></strong> be approximated using PWM. The waveform used to drive DC motors is typically trapezoidal and comes from a DC source. There is no reason why the drives couldn't be swapped though there would be a minor hit to efficiency.</p>

<h1>*esssentially</h1>

<p>Above I said that the construction of the two types of motors is <em>essentially</em> the same. In both cases, AC Induction motor and Brushless DC motor, we are talking about motors that have wound stators instead of permanent magnets. That makes them <a href=""http://www.animations.physics.unsw.edu.au/jw/electricmotors.html"" rel=""nofollow noreferrer"">""Universal motors""</a>:</p>

<blockquote>
  <p>One advantage of having wound stators in a motor is that one can make
  a motor that runs on AC or DC, a so called universal motor.</p>
</blockquote>

<p>However, there is a slight difference in the winding. Motors designed for use with AC are <em>sinusoidally wound</em> while motors destined to be used with DC are <em>trapazoidally wound</em>. Something that has bugged me for years is that I cannot find a simplified diagram that shows the difference. If I was given the stator of a motor, I would have no idea wether it was wound sinusoidally or trapazoidally. The only way I know of to tell the difference is to back drive the motor by connecting a drill to the shaft and looking at the Back-EMF. You will either see a nice sine wave or more of a trapezoid as shown in the image above. As I said above, using the incorrect type of drive would result in a slight performance hit but it would other wise work.</p>

<p>More often than not, Brushless DC motors are built with permanent magnets on the rotor. While that would be a difference from a squirrel-cage motor, as long as the stator is a wound stator and not a permanent magnet stator (as seen in brushed DC motors), both designs are essentially ""universal motors"":</p>

<p><img src=""https://i.stack.imgur.com/NiswW.png"" alt=""PM versus squirrel-cage""></p>

<p>The permanent magnet side of the above diagram shows a two pole motor. The number of poles controls the torque ripple. The more poles the smoother the torque curve. But the number of poles makes no difference from an AC versus DC perspective.</p>

<p>The connection of the stator windings, delta versus star, also does not affect the drive method. And in fact, you can switch between the two <a href=""http://wiki.answers.com/Q/Should_a_3_phase_motor_run_on_star_or_delta"" rel=""nofollow noreferrer"">while it's running</a>:</p>

<p><a href=""http://ijyam.blogspot.com/2011/05/how-to-guide-to-power-circuit-of-star.html"" rel=""nofollow noreferrer""><img src=""https://4.bp.blogspot.com/-zZTV30JHRks/TdE8OXJ_7cI/AAAAAAAAAFQ/fVybXylj7PY/s1600/Star+Delta+Motor+Control.jpg"" alt=""delta star switch-over""></a></p>

<p>The difference there is that delta will draw more current and therefore produce more torque. For more information on the relationship or current to torque or voltage to speed, see my answer to <a href=""https://electronics.stackexchange.com/questions/43066/how-to-improve-torque-and-rpm-of-a-dc-motor/43099#43099"">this EE.SE question</a>.</p>
","43115"
"Correcting for non-linear brightness in LEDs when using PWM","23097","","<p>When driving an LED with PWM, the brightness (as I perceive it) does not scale linearly with duty cycle.
The brightness is slow to ramp up, then increases exponentially with duty cycle.</p>

<p>Can anyone suggest a rule of thumb to use as a correction factor, or other workaround?</p>
","<p>For 16 levels it's easy to do a simple look-up table ""by hand"" and convert the 4 bit value in an 8 bit value to pass to PWM controller: this is the component i've used in my FPGA led array driver.
For an 8 bit level controller, you'll need at least 11-12 bit output from the look-up table.</p>

<pre><code>library IEEE;
use IEEE.Std_logic_1164.all;

entity Linearize is
port ( reqlev : in std_logic_vector (3 downto 0) ;
    pwmdrive : out std_logic_vector (7 downto 0) );
    end Linearize;

architecture LUT of Linearize is
    begin
    with reqlev select
        pwmdrive &lt;= ""00000000"" when ""0000"",
                    ""00000010"" when ""0001"",
                    ""00000100"" when ""0010"",
                    ""00000111"" when ""0011"",
                    ""00001011"" when ""0100"",
                    ""00010010"" when ""0101"",
                    ""00011110"" when ""0110"",
                    ""00101000"" when ""0111"",
                    ""00110010"" when ""1000"",
                    ""01000001"" when ""1001"",
                    ""01010000"" when ""1010"",
                    ""01100100"" when ""1011"",
                    ""01111101"" when ""1100"",
                    ""10100000"" when ""1101"",
                    ""11001000"" when ""1110"",
                    ""11111111"" when ""1111"",
                    ""00000000"" when others;
    end LUT;
</code></pre>
","1996"
"STM32 ADC conversion using HAL","23073","","<p>I am trying to learn how to use ""new"" HAL library from stm32.<br>
When I try to do simple ADC conversion it works just one time, but then it stops converting. I suppose End of conversion flag does not get set. I am using STM32f429I Discovery board, which has STM32f429ZI on board.<br>
Note that I know about sprintf being bad practice and making adc with interrupt is better, I know that, please don't point it out, this is not relevant to the question, I am just testing HAL here.<br>
So the question is why EOC flag is not set or what could I do to make it work? Googling is not helping much since very few good materials about HAL out there.  </p>

<p>Here is the code:</p>

<pre><code>__IO uint16_t ADCValue=0;
void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc);

int main(void)
{
  char str[15];

  /* Various initializations */

  HAL_ADC_Start(&amp;hadc1);
  while (1)
  {

        if (HAL_ADC_PollForConversion(&amp;hadc1, 1000000) == HAL_OK)
        {
            ADCValue = HAL_ADC_GetValue(&amp;hadc1);
            sprintf(str, ""%d"", ADCValue);
            BSP_LCD_DisplayStringAt(130,30, (uint8_t*)str, LEFT_MODE);
        }

  }

void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc)
{
    ADCValue = HAL_ADC_GetValue(&amp;hadc1);
}
</code></pre>

<p>I also created the project with CubeMX, adc configuration is the following:
<a href=""https://i.stack.imgur.com/atCJU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/atCJU.png"" alt=""enter image description here""></a></p>

<p><strong>EDIT 1</strong><br>
I tried to debug everything and it seems that program gets stuck into checking for EOC flag - it sees that it is not shown and therefore issues timer waiting for EOC to show up(but it never gets set)
Here is the code where it gets stuck in debugger:  </p>

<pre><code>/* Check End of conversion flag */
  while(!(__HAL_ADC_GET_FLAG(hadc, ADC_FLAG_EOC)))
  {
    /* Check for the Timeout */
    if(Timeout != HAL_MAX_DELAY)
    {
      if((Timeout == 0)||((HAL_GetTick() - tickstart ) &gt; Timeout))
      {
        hadc-&gt;State= HAL_ADC_STATE_TIMEOUT;
        /* Process unlocked */
        __HAL_UNLOCK(hadc);
        return HAL_TIMEOUT;
      }
    }
</code></pre>
","<p>In your original code, set the End of Conversion Selection to disabled.</p>

<pre><code> hadc1.Init.EOCSelection = DISABLE;
</code></pre>

<p>It turned out that <code>#define ADC_EOC_SEQ_CONV ((uint32_t)0x00000000)</code> value is equal to <code>DISABLE</code>. So actually the EOCSelection should be configured as: <a href=""https://i.stack.imgur.com/OGBX4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OGBX4.png"" alt=""enter image description here""></a> <br>
to be able to poll the ADC multiple times.</p>

<p>Then you can read the ADC continously without stopping and starting the ADC:</p>

<pre><code>int main(void)
{
    HAL_Init();
    SystemClock_Config();
    ConfigureADC();

    HAL_ADC_Start(&amp;hadc1);
    while(1)
    {
        if (HAL_ADC_PollForConversion(&amp;hadc1, 1000000) == HAL_OK)
        {
            ADCValue = HAL_ADC_GetValue(&amp;hadc1);
        }
    }
}
</code></pre>

<p>This way it worked fine for me.</p>

<p>Since HAL is a quite new library there are not a lot of resources to be find but not impossible. I learned a lot from this <a href=""http://visualgdb.com/tutorials/arm/stm32/adc/"" rel=""nofollow noreferrer"">tutorial</a>, it demonstrates all possible ADC useage step by step; from simple polling, to using interrupts and DMA.</p>
","202952"
"Avoiding DC voltage drop over long distances","23072","","<p>I am trying to power my IP camera over a long distance from the power socket (about 10m). The included power adapter, rated for 5V 2A is about 1.5m long.</p>

<p>I cut the cable and extended it using a thicker wire (to prevent voltage drop) but despite that the voltage drops to about 4.5V at the end. The camera does power on, but making any PTZ movements on the camera causes it to reboot.</p>

<p>Any solutions other than buying a new adapter? And if I do buy a new adapter, what the general rule of thumb for voltage drop across x meter of wire when supplying low DC voltage?</p>
","<p>If you cut the wire <strong>near the adapter</strong> and extend it from 1.5m to 10m, you can use wire that has 7 times the cross-sectional area and it will behave similarly to 1.5m of wire. </p>

<p>That means that the copper (not insulation) diameter must be \$\sqrt{7} = 2.6\$ times the diameter. </p>

<p>An IP camera I happen to have on my desk here has an adapter that is rated 5V/2A and it uses <a href=""http://en.wikipedia.org/wiki/American_wire_gauge"" rel=""noreferrer"">AWG20 wire</a> (marked on the wire). Check your wire to see if it has similar markings and use those rather than the ones I've referred to. </p>

<p><img src=""https://i.stack.imgur.com/Bi7PF.gif"" alt=""http://www.tnt-audio.com/gif/awg.gif""></p>

<p>If you look at the above table AWG20 has a cross-sectional area of 0.52mm so, AWG10 wire with a cross-sectional area of 2.588mm should do it (AWG 12, the next thinner common size, is a bit too light). </p>

<p>If you are in a country that uses mm rather than AWG you can use the mm diameter of 2.1 directly. You could use something like speaker wire- for example <a href=""http://www.belden.com/techdatas/english/5T00UP.pdf"" rel=""noreferrer"">Belden 5T00UP</a> is about 9mm O.D. </p>

<p>That's pretty fat wire. If it won't fit then you'll have to consider using a higher voltage and putting a regulator at the far end of the cable. A simple adapter alone won't do it unless you have fat wire. </p>

<p>For example, you could use a 12VDC adapter at the far end and an <a href=""http://www.ti.com/lit/ds/symlink/lm2576.pdf"" rel=""noreferrer"">LM2576</a>-based switching regulator to reduce that to 5.0V. Note that if the regulator fails 'on', the camera would likely be destroyed. You may be able to find a module based on such a regulator on eBay etc. </p>

<p><img src=""https://i.stack.imgur.com/Svjqs.png"" alt=""enter image description here""></p>
","127040"
"How does a quartz crystal work?","23061","","<p>Could you explain how a quartz crystal works, maybe with a simple schematics with the essential things ? I know it acts like a kind of stabilizer for an oscillator, but nothing more than that.</p>
","<p>Quartz is a piezoelectric material, which means that if you mechanically deform it, it develops charges on its surface. Similarly, if you place charges on its surface, it causes mechanical stress in the crystal. The way a quartz crystal benefits a circuit is that mechanically the crystal acts much like a tuning fork, with a natural resonant frequency, and the piezoelectric property allows that to be coupled into an electronic circuit. Since the resonant frequency is mainly determined by the physical size and shape of the quartz, you get a frequency reference that is much less sensitive to temperature than you would get using just LC circuits.</p>
","4790"
"multiple arduino communication (1 master, n slaves)","23037","","<p>I would like to develop a master/slave network that consists of:</p>

<ul>
<li><p>1 Arduino master that reads sensors and generates velocity ramp profiles based on the sensor signals and then sends those ramps to slaves</p></li>
<li><p>3 (or more) Arduino slaves that control the velocity of 12V servo motors following the ramps sent by the master</p></li>
</ul>

<p>What is a good communication protocol to achieve this? Serial (SPI)? I2C? Something else? If it is serial, is the new <a href=""http://arduino.cc/en/Main/ArduinoBoardLeonardo"">Arduino Leonardo</a> a good choice? What issues should I be considering in selecting a protocol?</p>

<p>I'm imagining something like:</p>

<p>Master:</p>

<pre><code>void loop() {
    update_ramps()
    for(int i=0; i&lt; num_slaves; i++) {
        send_to_all(i, ramps[i]);
    }
}
</code></pre>

<p>Slave 1:</p>

<pre><code>const int id = 1;
int recived_id, recived_value;
void loop() {
    read_data();
    if(recived_id == id) { 
        do_motor_step(recived_value);
    }
}
</code></pre>

<p>And serial communication in which RX/TX from the master is sent to all slaves.</p>

<p>Does this seem like a reasonable solution?</p>
","<p>As I understand it you want to send different data to each of the slaves, but the slaves don't have to send data back.  </p>

<p><strong>I2C</strong> is an addressed bus, so if you assign a different I2C address to each of the slaves you'll need only two wires to send the data. If needed you can ask data back as well. The Arduino's AVRs have an I2C compatible serial bus. And you can extend to more than 3 slaves without extra hardware, up to a maximum of 127.  </p>

<p><strong>UARTs</strong> don't have addressing, so you would need either 3 UARTs (which the AVR doesn't have), or add external logic to switch between UART lines (which costs money). Each additional slave means extra cost. Not recommended.<br>
<em>edit</em><br>
Like Chris says you can use UART to create a multidrop bus. And then you'll have to add addressing, which makes your UART work a bit like I2C, but then asynchronous, and without address matching hardware like the I2C has. So still not really an advantage.
<em>end of edit</em>  </p>

<p><strong>SPI</strong> also uses shared lines for data: a single MOSI, and the MISO lines connected. To address each slave individually you'll need one SS (Slave Select) line per slave. So that's at least 5 I/Os: MOSI, SCK, 3 \$\times\$ SS, and MISO if you also want to read data from the slaves. Each additional slave adds 1 I/O pin on the master.  </p>

<p><img src=""https://i.stack.imgur.com/Kf1wC.png"" alt=""enter image description here""></p>

<p>I think the I2C is the best solution, requiring the least number of wires. The protocol is a bit more complex than UART or SPI, but since the AVR has the hardware for it, it should be easy to use.</p>
","37106"
"Selecting the right bridge rectifier","22994","","<p>There are a number of schematics I'm trying to interpret that have bridge rectifiers. In the components list, however, they're simply listed as ""D1-D4 rectifier unit"" without any specific values.</p>

<p>How do I interpret the specific rectifier parameters? Does it need to specifically MATCH the input voltage &amp; amperage of the circuit? or does it just need to exceed it?</p>

<p>Is there any limit to how far the rectifier can exceed the circuit? For instance, I've got a schematic that's drawing 12V/2A. I have a rectifier on hand that's rated for 1000v/10a. If I were use that in my 12V/2A circuit, would anything blow up? I'm guessing not...</p>

<p>Then, if I wanted to make my own rectifier, how do I select the diodes? do I just select four matching diodes with the same parameters as I want the rectifier to have (e.g., 4 12v/4a diodes to make a 12v/4a rectifier)? or is there some other formula for choosing the parts of the rectifier?  </p>
","<p><strong>For Bridge Rectifier selection</strong>: Short-list parts that exceed the required maximum voltage, and the required current, by a fair margin, as described below. </p>

<p>For sine wave output from a transformer, the required voltage would be sqrt(2)=1.4142 times the rated transformer output voltage, as <strong>transformers are rated for RMS voltage</strong>, not peak. Also, transformers are usually, but not always, rated lower than the actual voltage they produce across the secondary with no load: This drops to the rated voltage when the transformer is carrying the rated full load current. Hence, to be on the safe side, around 2.5 times the transformer rated voltage works well for me.</p>

<p>For current calculation as well, 2.5 times the expected load current is healthy - since you would <strong>need the bridge to withstand the initial current surge</strong> when any reservoir capacitors following the bridge are charging up after power-on.</p>

<p>Now that you have the voltage and current ratings to look for, listing available parts might show you <strong>higher rated parts that are cheaper</strong> than those just meeting your requirements - so just go with the higher rated parts.</p>

<p>For instance, in local stores near where I live, a <a href=""http://www.datasheetcatalog.org/datasheet/dccomponents/BR68.pdf"">BR68 bridge</a> sells for less than half of a <a href=""http://www.rectron.com/data_sheets/br305-br310.pdf"">BR36</a>, despite the much higher rating. This is due to economies of scale - the BR68 part is just more commonly used here.</p>

<p>Another consideration, though, is <strong>physical size</strong> / PCB layout: Higher rated bridges tend to increase in size. Also, sometimes SIP pin-put modules are just more convenient on the PCB, compared to square pin-outs, if vertical space is not an issue.</p>

<hr>

<p><strong>For discrete diode selection</strong>: The <strong>same calculations</strong> apply as for the bridge. The key advantage of going with discrete parts is that <strong>heat dissipation</strong> is a bit less bothersome, since each diode has its own surrounding space to dissipate heat.</p>

<p>A minor additional benefit is the facility to indulge in somewhat <strong>creative PCB layouts</strong> when needed, rather than being forced to give up a specific contiguous area on the board.</p>
","48691"
"Difference between current source and voltage source","22904","","<p>I know that the two poles of a battery connected in a closed circuit would act as a <strong>voltage source.</strong> This is because the +ve terminal is at a higher potential compared to the -ve terminal. This is what drives the current through the circuit.</p>

<p>But for a <strong>current source</strong>, how does it work. Doesn't the -ve terminal acts like a current source?</p>
","<blockquote>
  <p>Doesn't the -ve terminal acts like a current source?</p>
</blockquote>

<p>The term ""current source"" doesn't mean something like ""the terminal that electrons come out off"" though I can understand why you might be thinking of it that way.</p>

<p>A current source is the <a href=""http://en.wikipedia.org/wiki/Duality_%28electrical_circuits%29"" rel=""nofollow"">dual</a> of a voltage source.  Unlike a battery that produces an (approximately) fixed voltage for a wide range of currents, a current source produces an (approximately) fixed current for a wide range of voltages.</p>

<p>Here's a simple example.  If you place a resistor of resistance R across a voltage source of voltage \$V_S\$, the current \$I\$ is given by:</p>

<p>\$I = \dfrac{V_S}{R}\$</p>

<p>In other words, the current \$I\$ through the voltage source is determined by the external circuit which, in this case, is just a resistor.</p>

<p>In contrast, if you place a resistor R across a current source of current \$I_S\$, the <em>voltage</em> \$V\$ is given by:</p>

<p>\$V = I_SR\$</p>

<p>In other words, the voltage \$V\$across the current source is determined by the external circuit.  The current source produces a fixed current that is (ideally) independent of the load attached to the source.</p>

<p>Whereas ""good"" voltage sources have very <em>low</em> internal resistance, ""good"" current sources have very <em>high</em> internal resistance.</p>

<p>In fact, one can approximate a current source with a high-voltage source in series with a large resistance.</p>
","75020"
"Solder Mask and Cream in Eagle","22903","","<p>I've got this part specification for the Paste Mask excerpted from the datasheet:</p>

<p><img src=""https://i.stack.imgur.com/zLp3S.png"" alt=""Paste Mask Excerpt""></p>

<p>There's a lot of lingo in this short paragraph that I would like to better understand conceptually. Specifically I want to know how to implement the prescribed characteristics using Eagle CAD layout software (I'm using 6.2 currently). I have done a lot of work in Eagle, including making my own symbols and footprints, but I have never messed with the default tStop (which defines the solder mask) and tCream (which defines the stencil) layer data, but rather accepted the automatically generated rectangular data that comes along with the land patterns. </p>

<p>I don't see anyplace where I can specify toe, heel, mask ratio, or extensions. So what are these terms referring to and how do I implement a fully compliant paste mask in Eagle? </p>

<p>Here's an example of what you get from by default by placing a rectangular land pattern:</p>

<p><img src=""https://i.stack.imgur.com/s14mW.png"" alt=""Eagle Default Pad tCream"">
<img src=""https://i.stack.imgur.com/kr3g0.png"" alt=""Eagle Default Pad tStop""></p>

<p><strong>UPDATE</strong></p>

<p>The datasheet has these two additional pictures related to the footprint:</p>

<p><img src=""https://i.stack.imgur.com/k2VuP.png"" alt=""Pad Excerpt"">
<img src=""https://i.stack.imgur.com/D98uH.png"" alt=""Solder Mask Excerpt""></p>

<p>I'm having trouble reconciling the Paste Mask and the Solder Mask recommendations. In particular, the direction to ""not place copper traces or solder mask underneath the module"" in the Solder Mask section seems like a prescription that the there should be a no tStop in that hatched area, and that that same area should have a vRestrict and a tRestrict cover. Here's what that looks like when I implement it (showing vRestrict, tStop, tPlace, and Top).</p>

<p><img src=""https://i.stack.imgur.com/PAABF.png"" alt=""My implementation of the restrict""></p>

<p>It seems like I wouldn't be able to route signals to the pads in this case without taking DRC errors at every pad (because tRestrict = vRestrict, and that covers the pads entirely). Furthermore, these directions also seem to be in conflict because doesn't there have to be solder mask between the pads at least? If I add another tStop area over top of the vRestrict/tRestrict area, what was the point of me putting a tStop over the pads (1:1)? Am I missing / misinterpretting something?</p>

<p>Finally, here is a screenshot of my tCream layer in the same context as the tStop layer is shown above. </p>

<p><img src=""https://i.stack.imgur.com/AniSp.png"" alt=""My tCream art""></p>

<p>Same sorts of questions - does it make sense of the stencil to be cut in such a way that there are openings where there is no copper?</p>
","<p>Simply put, toe and heel are the areas of the solder joint that extend from the front and rear of the lead/pad.  Think of a solder pad on your PCB as a piece of paper, and think of your hand as one of the leads coming off an IC package.  If you place your hand in the middle of the piece of paper, the ""toe"" and the ""heel"" are the distance between the tip of your fingers, and the palm of your hand, to the edges of the paper.  That's the extra solder in the joint that extends farther than the actual lead/pad on the IC itself.</p>

<p>Here, they are recommending a specific amount of toe because it will provide mechanical reinforcement for the joint.  Since there is no room for a suitable heel, given that this is a castellated package that will sit pretty much flush against the main PCB, the only way to add more solder to the joint is to expand outwards, and thus they recommend to give it some extra toe.</p>

<p>To comply with their recommendations, you'll have to turn off the default stop layer and cream layer for the pads, and draw them by hand.  This is as easy as going to the properties for the pads to turn both of those features off, and using the rectangle tool, selected to the tStop and tCream layer, to draw the features.</p>

<p>Based of the picture, it sounds like they recommended a tStop that matches the recommended pad exactly, and a tCream layer that matches the pad exactly except for the edge opposite the package, which would extend out 4 mils further.</p>
","62036"
"What do people use to hold an object in place while being worked on?","22893","","<p>I would like to know what people usually do when trying to solder wires together, and hold small things in place while you fasten them together, etc.  I can picture one or more vices attached to a swivel such that I can hold something in place at any orientation, perhaps with an array of alligator clips attached to stiff wires to hold things in place.  Does anything like this exist?  And if not, what do people usually do to hold two things together while busying your hands with wielding a tool?  (considering us poor humans have but two hands.)</p>
","<p>There are a few zillion devices available that are just as you describe.</p>

<p>This is commonly known as a <a href=""http://images.search.yahoo.com/images/view?back=http%3A%2F%2Fimages.search.yahoo.com%2Fsearch%2Fimages%3Fp%3Dthird%2Bhand%2Btool%26ei%3Dutf-8%26y%3DSearch%26fr%3Dsfp&amp;w=485&amp;h=500&amp;imgurl=www.micromark.com%2FRS%2FSR%2FProduct%2F21120_L.jpg&amp;rurl=http%3A%2F%2Fwww.micromark.com%2FTRIPLE-GRIP-THIRD-HAND%2C6736.html&amp;size=29KB&amp;name=Triple+Grip+Thir...&amp;p=third+hand+tool&amp;oid=84d9ebeee6c4662affcfaf2be5ca8a43&amp;fr2=&amp;no=8&amp;tt=24700&amp;sigr=11poi1b6r&amp;sigi=11blvbt5u&amp;sigb=12np2hb9b&amp;.crumb=z.V1obmwaPP"" rel=""noreferrer"">3rd hand tool</a></p>

<p><a href=""http://www.micromark.com/RS/SR/Product/21120_R.jpg"" rel=""noreferrer"">3rd hand tool http://www.micromark.com/RS/SR/Product/21120_R.jpg</a></p>

<p>They say</p>

<ul>
<li>Triple Grip Third Hand Keeps Your Hands Free.  Used by jewelers, model builders, miniaturists, electronic hobbyists. Keeps your hands free for soldering, gluing, positioning, while work is held firmly at any angle required. Has 3 alligator-type spring clamps mounted in ball joints for flexibility. Nickel plated steel with heavy iron base for no-tip stability.</li>
</ul>

<p>In my experience, such tools are less useful than they appear they may be. They have their place, but experience usually leads to  more normal tools being as easy or easier to use.</p>

<p><a href=""http://images.search.yahoo.com/search/images;_ylt=A2KJkey7PCZOg0MAHX2JzbkF?p=third+hand+tool+soldering&amp;fr=sfp&amp;ei=utf-8&amp;x=wrt&amp;y=Search"" rel=""noreferrer"">""Quite a few"" more examples can be seen here - click images to see related web page</a></p>

<p>When soldering wires that are not mechanically connected or stabilised I may lie one on the work surface and place something suitably weighty on it to keep it in position. As I hold the soldering iron in my right hand (usually) having the  weighted down wire entering from the right usually is best, and I hold the other wire in my left hand or also lay it on the work surface - see below. </p>

<p>This still ideally requires 3 arms for iron , 2nd wire and solder. Often I tin the 1st wire and then add copious extra solder in a mini-blob.  The 2nd wires is then ""offered up"" and the excess solder used to complete the joint.</p>

<p>Where necessary I will also lay the 2nd wire on the work surface, wieght it as well and slide it against the first wire. Now only two arms are needed ! :-). This is easier to do that to describe.</p>

<p>In many cases, making some sort of mechanical join between two wires before soldering is advisable. Using solder alone is frowned on in some circles. Solder is not known for its superb mechanical properties but will in fact usually make an adequately mechanically strong join. </p>

<p>Be aware that a join that relies on mechanical strength <strong>WILL</strong> break if subject to enough vibration cycles.</p>

<p>Unlike ferrous metals, which have a lower limit below which they are not susceptible to vibration, non-ferrous metals are subject to creep failure regardless of vibration strength. Enough vibration cycles will break a solder join, no matter how low the amplitude - it just takes more cycles as magnitude decreases.  </p>

<p>Related only: When inserting multistrand wires in a screw down connector <strong><em>never</em></strong> tin the whole exposed wire end - if done the solder will creep with time and the connector will release the wire. At most, the extreme wire bundle tip may be tinned to keep the strands together. Note that this is a legal requirement for mains wiring in any administration that has its act together.</p>

<p>. </p>
","17105"
"When does and when doesn't current flow to ground?","22883","","<p>I was thinking about when current can and can't flow to ground. I came up with that current will only flow to ground when we have at least two grounds in the circuit, since then we have a complete circuit and current can flow. I can't however, think of why current will not flow to ground if we only have one ground in the circuit? I would say that it is because the we do not have a closed circuit through which current can flow. But, current, does not need a closed circuit to flow (like with a capacitor). So please can you explain why current does not flow to ground if we only have one ground (or if current does flow to ground if we have only one ground why)?</p>

<p>When I say ground I mean actually physically attached to the earth rather then a conductor (I say this because the earth has so many more electrons that a electrons flowing to/from it would have a negligible effect on the overall number of electrons in it) does this make a difference??</p>

<p>The following circuit is one where I think current should flow to and from ground (sorry for the poor diagram my computer is slow so I can't draw a proper one)
<img src=""https://i.stack.imgur.com/RfSkR.png"" alt=""enter image description here""></p>
","<p>There is nothing ""magic"" about ground.  It is just another route for current to get to its destination.</p>

<p>In most small signal circuits like you have shown the ground symbols are just a way of connecting points together without actually drawing the wires.  The ground symbols also act as a reference point against which other voltages can be measured.</p>

<p>For instance, these two circuits are identical:</p>



<p><img src=""https://i.stack.imgur.com/87qou.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f87qou.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>When you have real earth in there, the circuit is slightly modified to be more like:</p>



<p><img src=""https://i.stack.imgur.com/X0CV7.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fX0CV7.png"">simulate this circuit</a></sup></p>

<p>The key point is that the current flows from one point of the circuit, <em>through ground</em>, then back into the circuit.</p>

<p>With only one connection to ground there is no circuit for the current to flow through.  It can't flow ""to"" ground, because there is nowhere for it to flow to. There's no difference between ground and a wire dangling in the breeze.</p>

<p>Electricity flowing to ground in high voltage systems has nothing to do with the fact that they're high voltage.  It's purely to do with there being a second connection to ground elsewhere in the circuit (usually at the sub-station) which forms the circuit.</p>

<p><img src=""https://i.stack.imgur.com/StKAs.png"" alt=""enter image description here""></p>

<p>You can read more on the different earthing systems <a href=""http://en.wikipedia.org/wiki/Earthing_system"" rel=""noreferrer"">on Wikipedia</a>.</p>
","148684"
"PullUp and PullDown Network in CMOS","22865","","<p>How exactly pullUp and pullDown Network in CMOS should be defined... I mean why ""PullUP"" or ""PullDown""? And why PMOS in pullUp network and NMos in Pulldown network?Why not Pmos in pullDown and Nmos in PullUp?</p>
","<blockquote>
  <p>PullUp and PullDown</p>
</blockquote>

<p><em>Pullup</em> -  a network that provides a low resistance path to Vdd when output is logic '1' and provides a high resistance to Vdd otherwise. </p>

<p><em>Pulldown</em> - a network that provides a low resistance path to Gnd when output is logic '0' and provides a high resistance to Gnd otherwise.</p>

<blockquote>
  <p>What if PMOS is used in pullDown and NMOS in PullUp?  </p>
</blockquote>

<p>If we use PMOS in pull down network, then its gate terminal should be provided with a negative voltage. Similarly if we use NMOS in pull up network, then its gate terminal should be provided with a voltage that is more positive than Vdd. </p>

<p>So the voltages corresponding to logic states at input are different from that at output. Hence two such 'CMOS' gates can not be interfaced directly. </p>

<p>In other words, \$V_{OH} &lt; V_{IH}\$ and \$V_{OL} &gt; V_{IL}\$ which will result in negative noise margin. And hence this logic family would be incompatible with itself. </p>
","149618"
"Op Amp gain less than 1?","22856","","<p>How would I design an op amp with a gain of less than 1? Is this even possible? Also would it matter if I used a non inverting or an inverting op amp? </p>

<p>I've designed a non-inverting op amp with a gain of 2 like so. Can I modify it to have a gain of say 1/2? </p>

<blockquote>
  <p>1 + R1/R2</p>
</blockquote>



<p><img src=""https://i.stack.imgur.com/BM40A.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fBM40A.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>I'd appreciate some help here. </p>
","<p>An op-amp is not required.  Given the minimal requirements given, a voltage divider will do.  Gain = 0.5.</p>



<p><img src=""https://i.stack.imgur.com/mZlJ7.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fmZlJ7.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"">CircuitLab</a></sup></p>

<p>If you need to buffer the output, you can just place a unity gain op-amp at the output of the voltage divider.</p>
","91234"
"Is it possible to drive a stepper motor greater than 1000 rpm?","22822","","<ul>
<li>How could I achieve this?  </li>
<li>What are the stepper motor facts
and principless that I have to
keep in mind to design a circuit
to achive this goal?  </li>
<li>Are there any readymade/open source
alternatives and circuits available
to achieve this task?  </li>
<li>Do I have to    approach design for
geared and    non-geared stepper
motors?</li>
</ul>
","<blockquote>
  <p>How can I drive a stepper motor greater than 1000 rpm?</p>
</blockquote>

<p>A 200 step per revolution motor, running at 1,000 RPM must have a stepper drive capable of doing full steps at 3.4kHz, which is well within the range of most motor drive circuits.</p>

<p>However, keep in mind that if you start out the motor at 3.4kHz, it will merely vibrate due to inertia - you don't start a car at 60 miles per hour, you start at 0 and ramp up to 60 MPH, otherwise you just spin your tires.</p>

<p>So you have to design your circuit to ramp the frequency up from 0 to 3.4kHz slowly enough that the motor can keep up.  This means you'll also have to take into account the whole drive train - stepper motor, gears, belts, and anything else the stepper motor is moving.  This may be a large platform if you're doing CNC, and the inertia may require a very slow ramp up to avoid skipping steps.</p>

<p>Lastly, if the motor isn't powerful enough to move the load at 1,000RPM, then you'll need a more powerful stepper motor.  Torque falls as speed increases due to internal motor losses.</p>

<blockquote>
  <p>What are the stepper motor facts and principless that I have to keep in mind to design a circuit to achive this goal?</p>
</blockquote>

<p>Gecko has a decent <a href=""http://www.geckodrive.com/gecko/images/cms_files/Step%20Motor%20Basics%20Guide.pdf"">basic introduction to stepper motors</a>.  Power supply design, matching the drive with the motor so you don't lose too much power in mismatch problems, etc are covered in very basic terms there.  Once you understand the basics, ask more detailed questions for specific answers.</p>

<blockquote>
  <p>Are there any readymade/open source alternatives and circuits available to achieve this task?</p>
</blockquote>

<p>If you are running a low power design, the RepRap project has some reasonable stepper motor drivers.  Alternately, a <a href=""http://www.google.com/search?q=open%20source%20stepper%20control"">simple google search</a> gives a lot of open source stepper driver information.</p>

<p>Since you don't provide any more detail as to what you're driving, and what motor you're using, I can't suggest anything specific.</p>

<blockquote>
  <p>Do I have to approach design for geared and non-geared stepper motors?</p>
</blockquote>

<p>Not in terms of driver design - the only difference is that a gear train adds more mass to the drive line, requiring a slower ramp-up time.</p>

<p>However, the larger the gear train, the more backlash you might experience, so there's a lot more to the mechanical design if you require speed <em>and</em> accuracy.  </p>

<p>But the stepper driver design is the same in either case.</p>

<p>If you want more speed and/or power, you should consider looking at CNC servo motors rather than steppers. </p>
","1715"
"What is the symbol for a Fan on a circuit? Is it just Motor?","22821","","<p>I've been looking around for the schematic symbol to use in a circuit drawing for a FAN. I'm not sure it exists. Do we use a Motor symbol when wanting to show a FAN? And just specify the motor ratings? IE 12V DC?</p>

<p>I've looked @ all the websites listed on Wikipedia (<a href=""http://en.wikipedia.org/wiki/Electronic_symbols"" rel=""noreferrer"">http://en.wikipedia.org/wiki/Electronic_symbols</a>) as references for symbols and many Google searches.</p>

<p>After all, a FAN is just an electro-magnetic motor, isn't it? Does electronics specify at all between motors? (Not by 2 / 3 phase or various speed). But by different type?</p>

<p>I've also found symbols used in other engineering fields that specify a fan in their schematics. Can this be used?</p>

<p>So, essentially the question is, What symbol to use to specify a FAN in an electronic circuit?</p>

<p>Thanks all,</p>

<p><img src=""https://i.stack.imgur.com/Iw6Y8.png"" alt=""Motor vs FAN symbol""></p>
","<p>From an electronic device schematic point of view, a fan simplifies thus:</p>

<p>Fan ==> Motor ==> Inductor coil(s) </p>

<p>Of course there are fans that do not use coils at all (<a href=""http://www.piezo.com/prodfan0nav.html"" rel=""nofollow noreferrer"">piezo fans</a>, <a href=""http://patent.ipexl.com/WO/WOZZSLASHZZ2008ZZSLASHZZ033093.html"" rel=""nofollow noreferrer"">coil-less motors</a>), but let us set that aside for a moment. </p>

<p>At the lowest level of abstraction, thus, a purely electrical schematic symbol using one or more inductors <strong>could suffice</strong> to indicate a motor, such as these symbols for DC motors:</p>

<p><img src=""https://i.stack.imgur.com/4bRgw.jpg"" alt=""DC motors""><br>
(<a href=""http://emadrlc.blogspot.in/2013/05/standard-elementary-diagram-symbols_23.html"" rel=""nofollow noreferrer"">Source</a>)</p>

<p>Another <a href=""http://dmt195.wordpress.com/2009/01/28/bipolar-stepper-motor-control-with-picaxe-and-l293d-chips/"" rel=""nofollow noreferrer"">source</a> suggests the stepper motor symbols below:
<img src=""https://i.stack.imgur.com/fsHR3.png"" alt=""Stepper motors""> ()</p>

<hr>

<p>At a higher level of abstraction, the familiar symbol(s) with the letter ""M"" in a circular enclosure are commonplace, such as the brushless and brushed motor symbols illustrated in the question.</p>

<p>At a more pedantic level, some schematics use the M-circle symbol with a variety of enhancements to specify the various types of motors. <a href=""http://gallery.proficad.com/symbols/electrical-installations/machines/motors/"" rel=""nofollow noreferrer"">This page</a> provides an entire flood of symbols for specific motors.</p>

<p><img src=""https://i.stack.imgur.com/sAYgG.png"" alt=""3-phase series motor""> <img src=""https://i.stack.imgur.com/L16ZE.png"" alt=""3-phase unidirectional linear induction motor""></p>

<p>Note the use of both inductor and M-circle to address both electrical and functional symbolization in the 3-phase series motor above.</p>

<hr>

<p>Even so, our symbols so far do not indicate the use of the motor for a fan. For fans specifically, there isn't any universally followed symbol AFAIK, but a few variants show up in <a href=""http://gallery.proficad.com/Symbols/others/miscellaneous/vehicles/"" rel=""nofollow noreferrer"">various</a> <a href=""http://blogs.solidworks.com/teacher/2013/10/creating-symbols-in-solidworks-electrical-2d.html"" rel=""nofollow noreferrer"">documents</a>:</p>

<p><img src=""https://i.stack.imgur.com/MNpc5.png"" alt=""Fan motor""> (clearly, a fan!)</p>

<p><img src=""https://i.stack.imgur.com/ynGAj.jpg"" alt=""Fan motor""> (AC motor -> fan)</p>

<p>The ""Other standards"" fan symbols shown in the question are not so common in electronic design related schematics, they are used typically for process engineering and electrical wiring. </p>

<hr>

<p>In summary, for lack of any universal standard, the symbol to be used is best determined by the purpose of the schematic: Is it important to account for inductive behavior, or to illustrate the type of motor, or at the most mundane and abstracted level, is it crucial to convey clearly that ""<em>This motor here is a <strong>fan</em></strong>""? </p>
","95681"
"How to improve lm386 amplifier circuit","22818","","<p>I am new to the world of audio amplifiers however i am quickly trying to learn.  I have built a simple circuit using a circuit based on what I read in the database.  The circuit works however there is a lot of noise and the sound quality quickly decreases at higher volumes however that may just be the speaker I am using. I am sure I need additional filtering capacitors however after looking at several example circuits I am confused about what where these capacitors should be and what values they should have.  Please help me find a way to improve the audio quality to a decent level.  Additionally I need to remove radio signals that are interfering with the playing sound.  I am running the lm386 on 6 volts.  </p>

<p>What value speaker would be ideal for this use?
What capacitors do I want between my power rails?
What capacitors do I want between my inputs?</p>

<p>Here is my current circuit</p>

<p><img src=""https://i.stack.imgur.com/vszI9.png"" alt=""enter image description here""></p>
","<p>Couple of suggestions, first, regarding the speaker. You didn't mention your speaker impedance, and with only a 6V supply, you'd certainly want to use an 8 ohm speaker as opposed to 16 ohms to get the most out of it. But that aside, you correctly point out that that the speaker may be the cause of at least some of your headache. Indeed, it has been said over and over that the biggest improvement to any sound system will be realized by improving the speakers. So that said, you may want to connect your circuit to a low power 8 ohm ""bookshelf"" speaker whose sound you already know to be acceptable. Its simply a matter of removing as may ""unknowns"" from a circuit under development, so you con concentrate on less problems at once. </p>

<p>Next, from the LM386 data sheet (available free from TI ), I can see that the capacitor at pins 1-8 is setting your circuit up for the maximum gain of 200. That's a LOT of gain, and high gain opens up any monolithic amplifier circuit up to all kinds of stability issues, especially if this circuit is being built up on a development breadboard, where unwanted antennas and non shielded conductor paths abound. If you were to scope the output, you shouldn't be surprised to see all kinds of unwanted high frequency pickup or even oscillations, which although inaudible could still wreak havoc with your sound quality. So consider opening this path entirely. With pins 1-8 unused, your gain is only 20, which should immediately improve the situation. If you really need a gain of 200, you can revisit that requirement once you have a stable and acceptable level of distortion at the lower gain.</p>

<p>Now lets talk about your input. When you ask for any guidance in designing an amplifier, you have to specify your ""gazintas and gazoutas"". Just a silly way of saying you have to tell what your inputs and outputs are expected to be. We already know the output will drive a loudspeaker, but what about the input? If, for example, you are taking input from a headphone output on an MP3 player, then you have a very low impedance (and hence quiet) input to work with, that requires little if any voltage gain. If you are taking input from a dynamic microphone, again at least you have a low impedance to work with, which is apt to be fairly noise immune, BUT... you may need more gain. If you are taking input from a high impedance source like a Pizzo crystal sensor, then you really have a high impedance source that will require significant shielding, to avoid picking up everything from nearby electric switches to radio stations.</p>

<p>So, since you didn't say, I'm going to suggest we start by ground referencing your (-) input (pin 2), and adding an audio taper 10K Potentiometer to the (+) input (pin 3), as in the below, wired as close to the IC as possible.</p>

<p><img src=""https://i.stack.imgur.com/RVHej.jpg"" alt=""Minimum parts LM386 circuit recommendation, from the TI data sheet""> </p>

<p>This will do several things. First, you now have a ground referenced input (also called single ended), which arguably is going to be much easier for a beginner to work with. Now you can think of your signal as a simple and single waveform moving above and below ground reference. Second, it limits the input impedance of the circuit to something less than infinity, which very likely will eliminate a great deal of your noise and radio pickup. The 10K may be too much of a load if your input is a high impedance source or even some dynamic inputs (such as magnetic guitar pickups) which really do better with a VERY low load. If that's the case you can use a 100K POT, at the risk of allowing a little more stray pickup. the POT will also let you lower the input sensitivity to zero, if only to make sure any residual noise is COMPLETELY eliminated in that case. If it is, and you STILL get some radio station pickup (unlikely at this point), you can put a 220pF cap across the potentiometer (22PF if you use 100K), and that should eliminate any RF pickup without compromising your sound.</p>

<p>You also asked about capacitors in the supply rails. Unless the distortion you are hearing has traces of audible 120 Hz hum/buzz, this should not be an issue. But we don't know what you're power supply is here. Some wall transformers, for example, have absolutely horrendous ripple at their rated load. Since this is, at best, going to be a 1 watt amplifier, and linear amplifiers are at best 50% efficient (usually less), that works out to 333 mA. So make sure your supply is good for at least 2X that at rated load. If you don't have a decent supply, no amount of added filter capacitors will help.  But that said, and if the supply is rated for the task, it still wouldn't hurt to add a hefty 1000uF capacitor to the supply rails. You can always reduce it later. </p>

<p>Finally, when the sound becomes acceptable to you, you have to remember that 1 watt will only get you so far, and honestly... The output of this chip, at 8 ohms, and with a 6V supply, is really only rated at 325 Milliwatts, and thats at 10% total harmonic distortion!! You can get closer to a watt with a 9V supply, but my point is this: While improving and optimizing this circuit will be a good learning experience for you, don't feel badly if in the end, it just isn't enough for your expectations. As low power amplifier options go these days, the LM386 is neither a high fidelity nor an high efficiency choice. Good luck! :-)  </p>
","134615"
"Simple Electric Shock Device","22760","","<p>Can anyone tell me how to make a simple electric shocking device (like a electric pen or hand buzzer style). I've seen people use piezoelectric elements from lighters (is that correct?) but I would like to know how to create one from scratch, and also what current and voltage is needed to give a small shock. Thanks, ell.</p>
","<p>This is actually quite a simple circuit which works by stepping up the collapse of a magnetic field in a small audio transformer.</p>

<p>The schematic looks like this:</p>

<p><img src=""https://i.stack.imgur.com/K1uzd.jpg"" alt=""schematic""></p>

<p>I think something <a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=MT4135-ND"" rel=""nofollow noreferrer"">like this part</a> should work for the transformer.</p>

<p>If you touch the two output wires, you'll get a very small electric shock as you release the push button.</p>
","9221"
"Circuit for a DC motor with 2 microswitches reversing direction","22701","","<p>So here is what I am trying to do... have a DC motor wired to an on/off switch and 2 microswitches. Each switch will reverse the direction of the motor, so one switch tells the motor to go forward, the other tells the motor to go reverse. My goal is to have a track where the motor will pull a platform in one direction, then when it gets to the end of the track it will hit the switch and then cause it to go the other way down the track. And I would also like to include an on/off switch for the whole circuit.</p>

<p>I am just curious to know what the best circuit for this will be.</p>

<p>My initial thought is to use a DPDT switch but not exactly sure how to get that working, or what the proper circuit layout is for it. </p>

<p>This is the schematic for my basic idea, but (correct me if I'm wrong) the motor will only go in the forward/reverse direction if the switch is continuously pressed. </p>

<p><img src=""https://i.stack.imgur.com/E0rl9.gif"" alt=""enter image description here""></p>
","<p>You will need a memory element such as a relay to hold the current direction of the motor. </p>



<p><img src=""https://i.stack.imgur.com/627eW.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f627eW.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Here a DPDT relay and two microswitches are used. The motor M1 drives to the ""left"" when the top terminal is positive and to the right when the top terminal is negative. </p>

<p>Suppose the relay is dropped out. The top terminal is positive, SW2 and SW3 are in the positions shown. When the motor reaches the left limit, SW2 is actuated, energizing the relay. The motor immediately reverses, but the top contact has pulled in, keeping the relay energized through D2. The motor operates until SW3 is actuated, which interrupts current to the relay (D3 catches the flyback voltage). The relay drops out, releasing the hold contact and it remains dropped out, and we're back where we started. </p>

<p>Interrupt V1 to switch everything off (and it will always drive to the left when power is applied). Interrupt only the current to M1 and the memory of the previous direction will be maintained as long as V1 is applied (which means continuous draw if the relay is energized). </p>

<p>A solid-state solution could use a single CMOS gate package (eg. 1/2 a  CD4011B) and a MOSFET H-bridge to drive the motor:</p>



<p><img src=""https://i.stack.imgur.com/DA1qh.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fDA1qh.png"">simulate this circuit</a></sup></p>
","107231"
"What is the advantage of a ""straw hat"" (inverted cone) LED?","22688","","<p>LEDs with a concave cone-shaped lens are sometimes called ""straw hat"" LEDs. What is the advantage compared to the more common hemispherical lens?</p>

<p><img src=""https://i.stack.imgur.com/y2tG6.jpg"" alt=""An example of this type of LED""></p>
","<p>The straw hat LED lenses have a much more even light distribution pattern than the typical hemisphere lens. The hemisphere lens usually focus the light into a narrow cone of maybe 20 or so degrees. One application that workes very well is Christmas tree lights. The straw hat lenses make the LED disperse light like an incandescent bulb. </p>
","2090"
"Power Consumption of Arduino Nano ( Current Draw Low Power )","22673","","<p>anyone got measurements of Arduino Nanos power consumption ?</p>

<p>It guess it should be less than e.g. of the Uno or Mega as the USB Part only get powered when connected via usb and so does the 3.3 Regulator.</p>

<p>Also I should be able to easily disconnect the 5 V regulator and use a DC-to-DC converter instead with ~87% efficiency 34V -> 5V . More or less there should be not much more left than the LEDs (can be disabled by software to only blink every some seconds ?) and the Atmel 328P itself?</p>

<p>It will be able to sleep alot and beeing woken up by watchdog timer every 8s for some measurements and communicaton</p>
","<p>According to the <a href=""http://arduino.cc/en/uploads/Main/ArduinoNano30Schematic.pdf"" rel=""nofollow"">schematic</a>, the FT232RL (which is the 3.3v regulator as well) on the Arduino Nano v3 is powered from the 5v line. Regardless if you use USB or VIN or a 5v in. As does the blue power led4 (680Ω resistor means 2.5mA). Led1 and LED2 are controlled by the FT232RL, so should only be on when there is usb/serial communication. Only LED3 is controlled by the arduino D13 pin.</p>

<p>According to <a href=""http://www.ba0sh1.com/project-crystal-part-1/"" rel=""nofollow"">this page</a>, the Nano takes 20mA when running, 17mA with the blue power led removed. That is not standby/power down current, which should be a lot lower. The FT232RL has between 15mA full operational current, to at most 2.5mA or minimum 70µa (0.07mA) in USB suspend mode, or with reset pulled low. Since the reset pin is not used, I believe that it should be 2.5mA by itself without a usb cable plugged in, but can't be sure (the FTDI datasheet does not say). That is without any draw on the 3.3v regulator line.</p>

<p>You could remove the 5v regulator, or just ignore it and use the 5v pin to input the externally regulated 5v, which is almost exactly how the USB power is handled (that goes through a shockley diode to protect the USB when 5v is already present). But you should be aware of your regulator's actual efficiency. At a 29 volt difference, at say 5mA to 50mA draw, is it actually 87%? The datasheet's graphs will tell you.</p>
","68945"
"Why is the Triode operating region of a MOSFET named such?","22627","","<p>If triodes were used for amplifiers, why is the triode region generally used for digital and the saturation region generally used for analog? Am I missing a fundamental understanding of the MOSFET's characteristics?</p>
","<blockquote>
  <p>Why is the Triode operating region of a MOSFET named such?</p>
</blockquote>

<p>When a FET is operating in the triode (ohmic) region, the drain current is strongly dependent on drain-source voltage.  The plate current of a vacuum tube triode is also strongly dependent on plate-cathode voltage and this is, I believe, why the triode region of operation is so named.</p>

<p>FET drain curves operating in triode region:</p>

<p><img src=""https://i.stack.imgur.com/NfLV2.gif"" alt=""enter image description here""></p>

<p>Vacuum tube triode plate curves:
<img src=""https://i.stack.imgur.com/9yhAx.png"" alt=""enter image description here""></p>

<p>This strong dependence of drain (plate) current on \$v_{DS}\$ (\$v_{PK}\$) severely limits the available voltage gain of the device.  The greater the dependence, the less available gain as this dependence is, in effect, acting as a resistor in parallel with the load, shunting signal current around the load.</p>

<p>So, although triodes were (and still are) used as amplifiers, tetrodes and pentodes were developed that, like the saturation region for FETs, greatly reduce the plate current dependence on plate-cathode voltage.  These devices offer, among other things, much higher amplification factors, i.e., they have much higher plate impedances.</p>
","45129"
"Wiring up old phone ringer to arduino","22626","","<p>I just obtained an old rotary phone at a garage sale. I am working on hooking it up to an arduino project, and I was able to get the dial and hook switches figured out pretty easily. I cannot really figure out how the ringer works, or how to wire it up.</p>

<p>It is an old western electric C4A ringer. It has two bells and a striker arm between them. There is a coil, and some magnetic plates that move the ringer, with four wires going into the coil. I have found schematics online for how the thing connects to the other phone components for normal operation, but I really just wanna figure out how to make the thing ring on its own. </p>

<p>I read that most phone lines run in the vicinity of 90 volts ac. Is there any possibility I can make this thing ring with a 12 volt wall wart, or am I gonna need a full 120 line and a relay or something? </p>
","<p>Look at page 2 and 3 of the schematic .pdf from this <a href=""http://www.sparkfun.com/commerce/product_info.php?products_id=8929"">page</a>. Sparkfun have done it using an H-bridge and voltage booster circuit. Quite nifty really. </p>
","5535"
"MAX232 circuit, what is the purpose of the capacitors?","22612","","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://electronics.stackexchange.com/questions/10416/can-i-use-10-mu-f-caps-in-a-max232"">Can I use 10\$\mu\$F caps in a MAX232?</a></p>
  
  <p><a href=""https://electronics.stackexchange.com/questions/2272/what-is-a-decoupling-capacitor-and-how-do-i-know-if-i-need-one"">What is a decoupling capacitor and how do I know if I need one?</a>  </p>
</blockquote>



<p>Kindly refer to the following typical <a href=""http://www.ti.com/lit/ds/symlink/max232.pdf"" rel=""nofollow noreferrer"">MAX232</a> circuit:</p>

<p><img src=""https://i.stack.imgur.com/zRTwE.jpg"" alt=""enter image description here""></p>

<p>I am still not quite sure I understand capacitors correctly, and while building this circuit, I realized that I wasn't understanding what the purposes of the capacitors I was sticking onto the breadboard were. My guess is that they are all used for power conditioning, or decoupling. I am not sure how I would be able to tell which one though. </p>

<p>I am especially confused about the 10 uF capacitor, as it seems like it's just shorting out the GND and VCC pins from my microcontroller.</p>
","<p>The  10uF capacitor shorts only AC voltages developing between VCC and GND: noise on the power supply. To DC, a capacitor is an open component!</p>

<p>When you power this MAX232 with single-voltage 5V supply, its V+ and V- pins are able to generate a dual supply: a positive voltage greater than 5V and a more or less equal but opposite negative voltage.  How that kind of thing works is that an oscillator drives a network of diodes and capacitors: look up the term <em>charge pump</em>. The capacitors needed to make this charge pump work are connected to pins 1 and 3, and pins 4 and 5.</p>

<p>The 1uF capacitors on 2 and 6 (the V+ and V-) outputs, are just additional ""rail caps"" on this dual supply that is generated by the chip. They probably just do some further removal of ripple and noise from this generated supply. (To filter ripple, these capacitors don't have to be large. Why? Because the internal oscillator for the charge pump probably works at a substantially higher frequency than 60 Hz.)</p>

<p>The use of the capacitor on pin 2 shows a slight deviation from the ""Typical Operating Circuit"" given in the Texas Instruments datasheet (Figure 4). In the datasheet, the pin is capacitively coupled to ground through a 1uF capacitor. Here you have it coupled to VCC. That does not matter much, because both VCC and GND are AC ground. </p>

<p>However, this configuration is not a mistake. It appears in the original Maxim datasheets for this device!</p>

<p>One important clue in the TI datasheet is a note that this device is compatible with another company's existing product (and so is not a TI house design). It behooves us to look at the Maxim data sheet in addition to the TI one. That datasheet contains a lot more discussion and numerous additional diagrams.</p>
","42724"
"How do I estimate the transmission distance of a 50 watt 2m radio?","22561","","<p>Can anyone point me to a reference for calculating (estimating) the transmission distance of a 50-watt, 2-meter radio? The transmitting antenna will probably be 5-7 meters above ground. Probably the same height for the receiving antenna.</p>

<p>Thanks!</p>
","<p>Providing that the ground between transmitter and receiver is flat the following formula gives the distance to the horizon:</p>

<p>\$ D =1.2\sqrt{H} \$</p>

<p>where H is the antenna height above the ground in feet and D is the distance to horizon in miles. You then have to double this distance so that both antennas see the horizon. </p>

<p>So with antenna height of 7 meters (approximately 22 feet) this gives </p>

<p>\$ 1.2 \sqrt{22} = 1.2 * 4.7 = 5.6\mbox{ miles} \$</p>

<p>Double this to give 11.2 miles.</p>

<p>This assumes that both stations are at the same height above sea level.  If one station is higher than the other, the answer will be greater than 11.2 miles. Providing that there are no obstacles between the two stations (buildings, hills, mountains, etc.) it should be possible to cover this distance with only 1W.</p>
","20425"
"Estimating Assembly Cost","22532","","<p>I've got a project BOM costed out and I know my PCB costs. Without sending my project out for quote I'd like to be able to estimate the assembly cost by number of SMT components placed and  the number of through holes (for connectors) requiring hand soldering. Assume these are assembled in the US. Assume I know the fixed costs for stencils, pick and place programming, etc.</p>

<p>Anybody have some ballpark figures which might help here? </p>
","<p>We usually have 100 units assembled at a time.  I usually have a 64 to 100-pin QFP, a few 8 to 20-pin SOIC chips, and many 0805 resistors and caps.</p>

<p>I estimate $0.07 to $0.08 per pin/pad.  That usually gets me a ballpark figure of what the assembly houses will charge.  This does not include the tooling and setup charges.  They run between $200 and $500, depending on the assembly house.</p>

<hr>

<p>Edit
We use assembly houses in New England (USA).</p>
","30678"
"Transformer primary and secondary voltage phase shift","22493","","<p>If we apply a voltage at the primary terminals of a transformer then for this we can get a voltage at the secondary. But they have 180 degree phase difference. What is the reason behind this?? </p>

<p>I want to know why the phase difference between primary voltage and secondary voltage is 180 degree.</p>
","<p>Imagine you wound an inductor but instead of one thicker wire you used two thinner wires (this is commonplace by the way). An AC voltage is applied on both wires - lets call the AC voltage AC live and AC neutral and lets say neutral is connected to 0V for reference.</p>

<p>No problem so far?</p>

<p>Now, imagine you only applied AC live to one of those wires and left the other one open circuit (AC neutrals both at 0V still). What would be the induced voltage in the unconnected wire? Would it be: -</p>

<ul>
<li>In phase</li>
<li>Out of phase by 180degrees</li>
<li>Same amplitude</li>
<li>Different amplitude</li>
</ul>

<p>If the induced voltage on the unconnected wire were antiphase then joining it up to the AC live would create a seriously big problem and there would be sparks and breakers tripping. If the induced voltage on the unconnected wire were significantly different to the AC live and you joined them up then same problem as before - sparks and breaker trips.</p>

<p>This means if you wind a transformer with two wires in the same way there will be no phase shift but you can always swap the primary wires or secondary wires over and get 180 degrees.</p>

<p>Inherently there is no 180 degrees phase shift - you only get 180 degrees when you get into a muddle with the wires.</p>
","128036"
"What is bit banging","22464","","<p>I am new to microcontroller programming. I am using ATmega32-A controller and CodeVisionAVR compiler. I am using the waveform generator(AD9833) to generate a sinewave signal using SPI communication. I am able to generate the sinewave successfully. Now I am passing that signal to the sensor. The sensor output is selected through the multiplexer and sent to the ADC. Now I want read ADC values using SPI communication. I have tried a lot to setup the registers of ADC. Still it is not working. To see SPI communication Code have a look at my previous post <a href=""https://electronics.stackexchange.com/questions/43287/adc-registers-setup-using-spi-communication"">ADC registers setup using spi communication</a>. I am using USART(RS232) communication to print values on PC(PuTTY). </p>

<p>Someone advised me to use bit-banging. I am new to that concept. Can any one provide me an example code of bit banging of SPI communication. How to start that procedure? Can any one provide me a good  materiel. Do I need any external hardware?</p>

<p>I have written this, including pin connections:</p>

<pre><code>#define ADC_CS PORTB.3
#define MOSI PORTB.5
#define MISO PINB.6
#define SCK PORTB.7

void send_8bit_serial_data(unsigned char data)
{
    int i;  
    ADC_CS=0;
    for (i = 0; i &lt; 8; i++)
    {
        // consider leftmost bit
        // set line high if bit is 1, low if bit is 0
        if (data &amp; 0x80)
            output_high(PORTB.5);
        else
            output_low(PORTB.5);

        // pulse clock to indicate that bit value should be read
        output_low(PORTB.7);
        output_high(PORTB.7);

        // shift byte left so next bit will be leftmost
        data &lt;&lt;= 1;
    }

    // deselect device
    ADC_CS=1;
}
</code></pre>
","<p>Bit banging is creating the whole series of pulses in software, instead of relying on a piece of hardware inside the microcontroller.  </p>

<p>Many microcontrollers have a hardware SPI, and then all you have to do is write a byte to the output register, and the SPI controller will shift the data out, and at the same time receive data from the slave. You can get an interrupt when the transfer is complete, and then read the received data.  </p>

<p>But some microcontrollers don't have the SPI hardware on board and then you have to simulate it by doing everything manually. SPI has a number of different modes, I'll use this pulse diagram as an example:  </p>

<p><img src=""https://i.stack.imgur.com/7lnFV.jpg"" alt=""enter image description here""></p>

<p>So while a dedicated SPI controller takes care of all the pulses, data shifting and timing, when bit-banging you have to take every action yourself:</p>

<pre><code>Make Slave Select low  
Short delay
Do 8 times
  Make the SCK (Serial Clock) pin low 
  Make the MOSI (Master-Out-Slave-In) pin high or low depending on bit 7 of the data  
  Add brief delay  
  Make the SCK output high
  Read MISO (Master-In-Slave-Out) pin
  Shift received data left, and shift the bit just read in as bit 0   
  Add brief delay  
  Shift the data byte 1 bit left
Make Slave Select high again  
</code></pre>

<p>Bit-banging SPI is relatively simple, the code for bit-banging I2C for instance will be more complex, and you'll need a timer somehow if you want to bit-bang the UART protocol.</p>
","44671"
"Pin and port in microcontroller","22457","","<p>I'm a bit new to microcontrollers. Can you please tell me what is a port and pin in a microcontroller? What are their uses (pin and port)?</p>
","<p>The pins are what stick out of an IC, and connect electrically to the outside world.  Ports are represented by registers inside the microcontroller, and allow the program (firmware) to control the state of the pins, or conversely, read the state of the pins if they are configured as inputs.  There is a one-to-one correspondence between the pins on the microcontroller and the bits in its registers.</p>

<p>Take, for example, this 28-pin microcontroller, which happens to be a <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/39881e.pdf"" rel=""nofollow noreferrer"">PIC24FJ64A004</a>:</p>

<p><img src=""https://i.stack.imgur.com/Lzw6R.jpg"" alt=""enter image description here""></p>

<p>This processor has a 16-bit architecture, so the ports and registers are all 16-bits wide.  Other common data widths (and thus port widths) in microcontrollers are 8 and 32. As shown in the above diagram, the port pins do not necessarily have to be grouped together.</p>

<p>Since this particular chip has only 28-pins, there is only one register that can be fully implemented, that is has pins corresponding to all 16 bits in the I/O register.  That is PORT B, and the pins are colored in red in the diagram above.  There is another port that is partially populated, i.e. PORT A which has 5 bits implemented, RA0 through RA4.  I will just stick with PORT B.</p>

<p>There are other microcontrollers in this same processor family that come in a 44-pin package, where additional register pins are defined (RA7-RA10, and RC0-RC9.</p>

<p>As mentioned earlier, the ports are manipulated through various registers.</p>

<p>Depending on the type of processor, the registers may appear in the same memory map as the processor's memory (RAM); in this case the addresses are reserved for this purpose and that segment of RAM is not implemented.  The advantage here is that all of the instructions that operate on RAM will also work with the I/O registers.</p>

<p>The other scheme, is to have a special address space for I/O registers, and have special instructions (i.e. INP and OUT) which only access these registers.  Which scheme is used is historical, back in the 1970's Intel started using the separate  I/O addressing scheme, and Motorola among others chose to put both I/O and RAM addresses into the same memory space.</p>

<p>These registers associated with PORT B in the PIC24FJ64A004 are:</p>

<p><img src=""https://i.stack.imgur.com/QYcww.jpg"" alt=""enter image description here""></p>

<p>The configuration of the port is done via the TRISB and ODCB registers.  TRIS states for tri-state, which is a condition where a pin is put into a high impedance state and cannot drive any outputs.  The TRISB register determines whether each PORT B pin is an input or output. (On some other microcontrollers, this is called a Data Direction register, or DDR -- DDRB in the  case of PORT B.  I think DDR is a better name for this register then TRIS.)  </p>

<p>Setting the associated bit in TRISB makes the pin an input, and setting it to 0 makes it an output.</p>

<p>Each pin, if configured as an output, can also be configured as either open-drain or push-pull.  This is done with the ODCB register (open drain control register),</p>

<p>Open-drain means the pin only ""sinks"" current, i.e. it can control an output already connected to a positive voltage, such as an LED, or other I/O peripheral connected to Vcc (the system voltage) by turning it off.  Push-pull means the pin can both ""source"" voltage (set the output to a high voltage equal to Vcc), or sink current the same as an open-drain output.</p>

<p>Setting the associated bit in ODCB makes the pin open-drain, and setting it to 0 makes it push-pull.</p>

<p>Why open-drain?  One reason is it allows several devices to drive the same line, which is connected to a pull-up resistor.  When the open-drain output is set to 1, it is put into a high-impedance state, same as an input.  So only the device that is set to 0 (ground) actively controls the line.</p>

<p>If the pin is configured as an input, then reading the port will read the state of the pin.  If the pin is configured as an output, then writing to either the LATB or PORTB registers will change the state of the output pin.  Why both LATB and PORTB?  Because reading PORTB always reads the state of the pin, whether the pin is an input or output.  Reading the LATB register reads whatever was written to the port.</p>

<p>Setting the bit in the output register to 1 of a pin configured as open-drain output puts the pin in a high-impedance state, and setting it to 0 sets the output to ground.  Setting the bit in the output register to 1 of a pin configured as push-pull drives the output high, and setting the bit to 0 drives the output low.</p>

<p>Although one can write to or read from the entire port all at once, there are instructions for setting or testing individual bits in a I/O register.  This saves, for example, the need to remember the previous value of an I/O register when writing back the entire contents. </p>

<p>Note in the diagram of the microcontroller above, in addition to the RBx designations, there are a lot of other functions labeled with these pins.  This allows the microcontroller to configure the pins for other purposes such as analog inputs, comparators, external oscillators, input capture/output PWM, UART, SPI, I²C, and PMP (parallel master port).</p>

<p>This diagram shows the internal logic associated with one pin of an I/O port, plus the circuitry used to share a pin with a peripheral.</p>

<p><img src=""https://i.stack.imgur.com/FBRK4.jpg"" alt=""enter image description here""></p>

<p>To enable any of these peripherals, it is usually only necessary to set a enable bit in the control register for the peripheral.  This allows the peripheral to control the corresponding pin, and disconnects it from the PORT registers.</p>

<p>One of the unusual features of the PIC24 family is that it has a feature called PPS (Peripheral Pin Select).  That means many of the functions shown in the diagram of the microcontroller can actually be reassigned to other pins -- the diagram only shows the default locations.  The pins labeled <strong>RP</strong> represent the remappable peripheral pins.</p>

<p>Finally, this microcontroller has a 10-channel ADC.  Eight of these channels share pins with PORTB (RB0-RB3 and RB12-RB15).  A register called AD1PCFG is used to control whether a pin is used as an analog input, or whether it is used by PORT B.</p>
","134768"
"Calculating Angles from MPU6050","22418","","<p>I've been playing with a GY521 breakout recently with the MPU6050 chip on it, though i've hit a bit of a problem that I can't quite work out</p>

<p>I know when I rotated the board I rotated ~90 degrees about the Y axis, and using the sensitivity numbers from the datasheet (131) and integrating i've managed to get something that looks believable from the gyroscope, but am having problems with the accelerometer.</p>

<p>From a number of sources, <a href=""http://www.geekmomprojects.com/gyroscopes-and-accelerometers-on-a-chip/"" rel=""nofollow noreferrer"">this being one of them</a>, I've managed to get the three equations seen on here, however when I apply them to either the raw or scaled data (as they're scalers is shouldn't make a difference?) I get a set of data that varies from 0 to 90, but only on the X and Z axes, while nothing happens to the Y.</p>

<p>Updated to include code:</p>

<pre><code>#include ""I2Cdev.h""
#include ""MPU6050.h""
#include ""Wire.h""

MPU6050 accelgyro;

int16_t ax, ay, az, gx, gy, gz;

double timeStep, time, timePrev;
double arx, ary, arz, grx, gry, grz, gsx, gsy, gsz, rx, ry, rz;

int i;
double gyroScale = 131;

void setup() {

  Wire.begin();
  Serial.begin(9600);
  accelgyro.initialize();

  time = millis();

  i = 1;

}

void loop() {

  // set up time for integration
  timePrev = time;
  time = millis();
  timeStep = (time - timePrev) / 1000; // time-step in s

  // collect readings
  accelgyro.getMotion6(&amp;ax, &amp;ay, &amp;az, &amp;gx, &amp;gy, &amp;gz);

  // apply gyro scale from datasheet
  gsx = gx/gyroScale;   gsy = gy/gyroScale;   gsz = gz/gyroScale;

  // calculate accelerometer angles
  arx = (180/3.141592) * atan(ax / sqrt(square(ay) + square(az))); 
  ary = (180/3.141592) * atan(ay / sqrt(square(ax) + square(az)));
  arz = (180/3.141592) * atan(sqrt(square(ay) + square(ax)) / az);

  // set initial values equal to accel values
  if (i == 1) {
    grx = arx;
    gry = ary;
    grz = arz;
  }
  // integrate to find the gyro angle
  else{
    grx = grx + (timeStep * gsx);
    gry = gry + (timeStep * gsy);
    grz = grz + (timeStep * gsz);
  }  

  // apply filter
  rx = (0.1 * arx) + (0.9 * grx);
  ry = (0.1 * ary) + (0.9 * gry);
  rz = (0.1 * arz) + (0.9 * grz);

  // print result
  Serial.print(i);   Serial.print(""\t"");
  Serial.print(timePrev);   Serial.print(""\t"");
  Serial.print(time);   Serial.print(""\t"");
  Serial.print(timeStep, 5);   Serial.print(""\t\t"");
  Serial.print(ax);   Serial.print(""\t"");
  Serial.print(ay);   Serial.print(""\t"");
  Serial.print(az);   Serial.print(""\t\t"");
  Serial.print(gx);   Serial.print(""\t"");
  Serial.print(gy);   Serial.print(""\t"");
  Serial.print(gz);   Serial.print(""\t\t"");
  Serial.print(arx);   Serial.print(""\t"");
  Serial.print(ary);   Serial.print(""\t"");
  Serial.print(arz);   Serial.print(""\t\t"");
  Serial.print(grx);   Serial.print(""\t"");
  Serial.print(gry);   Serial.print(""\t"");
  Serial.print(grz);   Serial.print(""\t\t"");
  Serial.print(rx);   Serial.print(""\t"");
  Serial.print(ry);   Serial.print(""\t"");
  Serial.println(rz);

  i = i + 1;
  delay(50);

}
</code></pre>

<p>Results:</p>

<p><img src=""https://i.stack.imgur.com/Jssg5.png"" alt=""plottedResults""></p>

<p>Strikes me as a little odd, as I was expecting only a rotational change in Y.  Any suggestions? </p>
","<p>Try this:</p>

<pre><code>arx = (180/3.141592) * atan(ax / sqrt(square(ay, 2) + square(az, 2))); 
ary = (180/3.141592) * atan(ay / sqrt(square(ax, 2) + square(az, 2)));
arz = (180/3.141592) * atan(sqrt(square(ay) + square(ax)) / az);
</code></pre>

<p>nw see you <code>arx</code> and <code>ary</code>.</p>

<p>Also change</p>

<pre><code>rx = (0.1 * arx) + (0.9 * grx);
ry = (0.1 * ary) + (0.9 * gry);
rz = (0.1 * arz) + (0.9 * grz);
</code></pre>

<p>to:</p>

<pre><code>rx = (0.96 * arx) + (0.04 * grx);
ry = (0.96 * ary) + (0.04 * gry);
rz = (0.96 * arz) + (0.04 * grz);
</code></pre>
","162852"
"Guidelines for determining shock hazard of capacitors","22397","","<p>I'm looking for guidelines on how to identify capacitors which have the potential to cause pain, injury or death due to electrical shock if not handled correctly.</p>

<p>I recently purchased a ""getting started with electronics"" kit from Radio Shack. It contains an electrolytic capacitor of 1,000 µF and 25 V. I'm assuming this particular capacitor doesn't have the potential to cause such harm because it was included in an introductory kit. However, at what point does a capacitor have the potential to cause pain, injury or death due to electrical shock?</p>

<p>Ideally, I'd like links to reference material on the subject.</p>
","<p>First, it is not the capacitor that can harm you, but the voltage and charge stored in the capacitor. So all capacitors are safe when uncharged, which is what they are when you buy them.</p>

<p>To do harm to your body, the voltage across the capacitor's terminals must be high enough to cause a harmful effect on you. There are no hard rules for at what voltage things become harmful, but a common 'rule of thumb' is that DC up to 48 Volt is considered low voltage. So a capacitor charged to a voltage below 48 V is fairly safe. </p>

<p>That does not mean that a capacitor that is rated for 25V is necessarily safe: it is guaranteed to work to 25V, but it is not guaranteed that it won't work up to let's say 70V. And it also does not mean that a capacitor that is rated for 1000V is harmful: it is only (potentially) so when charged above 48V.</p>

<p>There is another form of harm: a capacitor with a very large capacity, charged to an otherwise safe voltage, can cause a very high current when its terminals are shorted. The sparks and heat can harm you, and the capacitor itself could explode. No need to worry about this effect with you garden variety capacitor up to below let's say 1.000 uF, but shorting a capacitor is something you should avoid nevertheless.</p>
","77986"
"How to keep solar panel voltage at 24V?","22367","","<p>I purchased a ""24v"" solar panel thinking it would output only at 24v, or less if there wasn't enough light. Immediately tested it, in indirect light it's producing 38V. Checked the label on the back and it says:</p>

<p>Open Circuit Voltage (Voc): 43.5V  </p>

<p>Voltage at Pmp 36V  </p>

<p>On the box it says Nominal Output Voltage 24V.</p>

<p>I want to use this solar panel to power 24V fans, I'm worried providing that much extra voltage to the fans may shorten their lifespan. Is there something I can use to limit the voltage to no more than 24v? Is my concern about too much voltage to the fans legitimate?</p>

<p>Thanks!</p>

<p>Edit:
Would a product like this work for me?
<a href=""http://rads.stackoverflow.com/amzn/click/B00BYTEHQO"" rel=""nofollow"">http://www.amazon.com/DROK-Switching-Regulator-Adjustable-Stabilizers/dp/B00BYTEHQO/ref=sr_1_1?s=electronics&amp;ie=UTF8&amp;qid=1426729713&amp;sr=1-1&amp;keywords=24v+voltage+regulator</a><br>
It says an input voltage of up to 40V. Is this too little because of the VOC? Or is it OK because the Voltage At pump is only 36V?</p>
","<p>Solar panels act a little differently than you might think.  For example, all ""12 volt"" solar panels actually output 18 volts, as high as 20 volts Voc in bright sunlight. You have to remember this is Voc and there really is no situation in which Voc is output when the panel is actually attached to a load and providing current.</p>

<p>I have read a couple of theories on why panels are made this way. One is that under lower light conditions you will still get the minimum voltage required for your load.  This is the most common answer that I have read, but it doesn't make sense to me because under low light conditions amperage drops considerably making the panel not very useful.</p>

<p>The other more logical answer has to do with the power curve of the solar panel.  If you graphed the current versus voltage curve of the panel you would find that for most cells, you get the maximum current (given the same sunlight) at about 75% of the max voltage of the panel or approx 14/18 volts.(when charging 12 volt lead acid batteries will rise to 14 volts and even a little higher)</p>

<p>So how does this apply to you?  Well solar panels are interesting creatures and as soon as you hook it up to your 24 volt fan in bright sunlight, it will drop to 24 volt output and problem solved.  No need for extra electronics.  I am not sure of the correct terminology, but I believe that the panel's resistance is incredibly low, so that anything you hook it up to has a higher resistance.  As a result the voltage of the panel drops to the voltage of the load.  </p>

<p>For example my 12 volt panel that reads 20.5 volts in the bright sunlight drops immediately to 10.5 volts, to when I connect it to my depleted lead acid battery (which is 10.5 volts when completly depleted).  I would think that the same should happen to your fans.</p>

<p>However, sunlight comes and go, birds, clouds, etc cause the panel's output to fluctuate and thus your fans would likely stop and start repeatedly.  Have you considered hooking the panel to a battery first and the fan to a battery?  It could be a relatively low capacity battery that could feed the fans a constant voltage and amperage and the panel could feed the battery.  You would want a cheap charge controller for the battery.  Two 12 volt lead acid batteries in series would work well.  I do that with my wife's water fountain.  It would shut down for a few seconds when a cloud flew over or the dog ran in front of the solar panel.  I got a free lead acid battery that was essentially dead (measured capacity less than an alkaline C battery!).  The panel charges the battery while the battery feeds the fountain.  Works well even though the battery is almost dead, the battery only really providing full power for a few seconds at a time.</p>

<p>Hope this helps.</p>
","160530"
"Bootstrap circuit for high-side MOSFET driver","22359","","<p>I am very familiar with the operation of bootstrap drivers on MOSFET driver ICs for switching an N-channel high-side MOSFET. The basic operation is covered exhaustively on this site and others.</p>

<p>What I don't understand is the high-side driver circuitry itself. Since a good driver pushes and pulls large amounts of current, it makes sense that another pair of transistors exist within the IC to drive the VH pin high or low. Several datasheets I've looked at seem to indicate they use a P-channel/N-channel pair (or PNP/NPN). Taking away the construct of the IC chip, I imagine the circuit looks something like this:</p>



<p><img src=""https://i.stack.imgur.com/RsYxA.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fRsYxA.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>It seems that we've just introduced a recursion problem.  Assuming the node marked as ""floating"" can be any arbitrarily high voltage, how are M3 and M4 driven that doesn't need yet another driver to drive the driver (<a href=""http://en.wikipedia.org/wiki/Turtles_all_the_way_down"" rel=""noreferrer"">and so on and on</a>)? This is also assuming the high-side driver is ultimately controlled by a logic-level signal of some kind.</p>

<p>In other words, given an arbitrarily high floating voltage, how is the push-pull drive of M3 and M4 activated by a logic-level signal that originates from off the chip?</p>

<p><strong>Point of clarification</strong>: The specific question I'm asking has only to do with activating the high-side push-pull bootstrap drive with a logic-level signal. When the high-side voltage is relatively low, I recognize this is trivial. But as soon as the voltages exceed typical Vds and Vgs ratings on transistors, this becomes harder to do. I would expect some kind of isolation circuitry to be involved. Exactly what that circuitry looks like is my question.</p>

<p>I recognize that if M4 is a P-channel FET (or PNP), another bootstrap circuit is not necessary. But I'm having trouble conceiving of a circuit that will generate the proper Vgs's for both M4 and M3 as the external transistors are switched back and forth.</p>

<p>Here are screen captures from two different datasheets that show a similar circuit to what I drew above. Neither go into any detail about the ""black-box"" driver circuitry.</p>

<p>From the <a href=""http://www.micrel.com/_PDF/mic4102.pdf.pdf"" rel=""noreferrer"">MIC4102YM</a>:<br>
<img src=""https://i.stack.imgur.com/eEpoI.png"" alt=""enter image description here""></p>

<p>And the <a href=""https://www.fairchildsemi.com/datasheets/FA/FAN7380.pdf"" rel=""noreferrer"">FAN7380</a>:<br>
<img src=""https://i.stack.imgur.com/k4pTY.png"" alt=""enter image description here""></p>
","

<p><img src=""https://i.stack.imgur.com/7u33w.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f7u33w.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Note 1: The input voltages are only \$V_{cc}\$ and \$V_\text{High Voltage}\$. You don't apply anything at the \$V_{BS}\$ node. It is only for representation.<br>
Note 2: Notice that there are two different type of grounds. Those grounds must note be directly connected to each other.</p>

<p>You must drive the MOSFET between its gate and source terminals. Since the source terminal voltage of a high side MOSFET will be floating, you need a separate voltage supply (VBS: \$V_\text{Boot Strap}\$) for the gate drive circuit.</p>

<p>In the schematic below, VCC is the voltage source of the rest of the circuit. When the MOSFET is off, ground of the boot strap circuit is connected to the circuit ground, thus C1 and C2 charge up to the level of Vcc. When the input signal arrives to turn the MOSFET on, ground of the gate drive circuit rises up to the drain voltage of the MOSFET. The D1 diode will block this high voltage, so the C1 and C2 will supply the driving circuit during the on-time. Once the MOSFET is off again, C1 and C2 replenish their lost charges from VCC.</p>

<p>Design criteria:</p>

<ul>
<li>RB must be chosen as low as possible that will not damage D1.</li>
<li>Capacity of C2 must be chosen enough to supply the driving circuit during the longest on-time.</li>
<li>Reverse voltage rating of D1 must be above \$V_\text{High Voltage} - V_\text{CC}\$.</li>
</ul>

<p>Input signal must be isolated from the rest of the signal. The possible isolaters are:</p>

<h3>Optocoupler</h3>

<p><img src=""https://i.stack.imgur.com/J69IW.png"" alt=""enter image description here""></p>

<p>Optocoupler is the most basic method for isolation. They are very cheap compared to other methods. The cheap ones have propagation delay times down to 3\$\mu\$s. The ones with less than 1\$\mu\$s propagation delay are as expensive as isolated gate drivers though.</p>

<h3>Pulse Transformer</h3>

<p><img src=""https://i.stack.imgur.com/vbzy4.jpg"" alt=""enter image description here""></p>

<p>Pulse transformer is a spacial type of transformer for transferring rectangular pulses. They have less number of turns in order to avoid parasitic capacitance and inductance and larger cores for compensating loss of inductance due to reduced number of turns. They are much faster than optocouplers. Delay times are less than 100ns in general. The image above is for illustration only. In practice, the current they can provide is not enough for driving a MOSFET fast; so they need additional circuitry in practice.</p>

<h3>Isolated Gate Driver</h3>

<p><img src=""https://i.stack.imgur.com/gnBTm.png"" alt=""enter image description here""></p>

<p>Isolated gate driving is a relatively new technology. All the complexity of gate driving is encapsulated in one single chip. They are as fast as pulse transformers, yet they can provide a few amperes of peak gate current. Some products also contain on-chip isolated DC-DC converters, so they don't even need boot-strapping. However, all these super features come with a cost.</p>
","137140"
"Simple transistor & capacitor circuit question","22328","","<p>I'm new to electronics, so what I've found to be helpful to a good learning process is examples. </p>

<p>Now, I was studying transistors and capacitors, and as far as I could understand, a transistor acts more or less like an ""electrical valve/switch"" and the capacitor store current until it's discharged.</p>

<p>To test what I've learned, I've made the following circuit: 
<img src=""https://i.stack.imgur.com/5ci9d.png"" alt=""circuit""></p>

<p>What I though it will do was:</p>

<ol>
<li>circuit being in the presented configuration, the LED will stay lit</li>
<li>when R1 is removed, the transistor (""valve""?) will close, the capacitor will gradually discharge, and the LED will fade away</li>
</ol>

<p>But what the circuit actually does is</p>

<ol>
<li>circuit being in the presented configuration, the LED will lit and imediatly fade out</li>
<li>when R1 is removed, nothing happens :(. When reconnecting R1, the LED will lit a little, then fade out. If I short the capacitor (to discharge it, I can tell this is maybe not recommended), then reconnect R1, the step 1 repeats again ...</li>
</ol>

<p>Why does this happen? What did I got wrong ?</p>

<p>PS: the transistor is 2N2222</p>
","<p>First draw the circuit with positive power at the top negative at bottom, power currents generally flowing down, and signals feeding left to right.  If you do that, two useful things happen.  First, many circuits will be drawn similarly most of the time, and you learn to recognize them after a while.  Second, you will confuse yourself and anyone you ask to help you less in what is actually going on and what you hooked up where.</p>

<p>Redrawing the schematic so as to better illuminate the circuit, we have:</p>

<p><img src=""https://i.stack.imgur.com/d419G.gif"" alt=""""></p>

<p>It is obvious why the LED doesn't come on, or blips on for a short time at best.  That is because it is in series with capacitor C1.  Capacitors block DC current.  There can't be any sustained current thru the LED.</p>

<p>What you probably intended was something like this:</p>

<p><img src=""https://i.stack.imgur.com/zrNbp.gif"" alt=""""></p>

<p>This allows the capacitor to be like a small reservoir for the LED.  It will keep the LED lit for a short time after the transistor is shut off.</p>

<p>With this circuit you can see how a little base current can control a larger collector current, which is how a bipolar transistor is used to make circuits with gain.</p>

<p>However, the values don't seem right for what I think you want this circuit to do.  Most LEDs are rated for 20 mA maximum, so R2 should be sized to that this can't be exceeded.  Let's say it's a green LED and drops 2.1 V at full current, and that the transistor would drop another 200 mV.  That leaves 9.0V - 2.1V - 200mV = 6.7V accross R2.  From Ohm's law, 6.7V / 20mA = 335&Omega;, which is the <i>minimum</i> resistance to keep the LED current within spec.  Therefore use the next higher common value of 360 &Omega;.  That still results in nearly 19 mA LED current.  You won't notice the brightness difference between 19 mA and 20 mA even in a side by side comparison.</p>

<p>Another problem is that there isn't enough base current to reliably light the LED to its full value.  Let's say the B-E junction drops 600 mV, then there is 8.4 V accross R1, which results in 84 &micro;A.  Let's say you can count on a gain of 50, so the minimum LED current is only 4.2 mA.  That's enough to see it light up on your desk, but not to reach full brightness.  In reality, you will likely get a gain higher than 50, so you will get more LED current, but relying on that is bad design.</p>

<p>Let's work backwards to see what R1 should be to fully turn on the LED.  Again we'll assume the transistor has a gain of 50, and we've already said the maximum LED current is about 20 mA.  20mA / 50 = 400&micro;A.  With 8.4 V accross R1 from above and using Ohm's law again, the maximum R1 value is 8.4V / 400&micro;A = 21k&Omega;, so the common value of 20 k&Omega; would make this a nice and reliable circuit if the intent is to light the LED to full brightness.</p>
","43111"
"What' so great about CMOS?","22327","","<p>I've read lot of topics here. 
I read some people saying I prefer to ""have CMOS characteristics"" &amp; so on 
, also in some data sheets (like AVR), they say it have CMOS characteristics, etc...
I remember once ""CMOS compatible"" word? </p>

<p>So why having ""CMOS characteristics"" makes people proud?</p>
","<p>CMOS (complementary metal oxide semiconductor) logic has number of desirable characteristics:<ol></p>

<p><li>High input impedance.  The input signal is driving electrodes with a layer of insulation (the metal oxide) between them and what they are controlling.  This gives them a small amount of capacitance, but virtually infinite resistance.  The current in or out of a CMOS input held at one level is just leakage, usually 1 &micro;A or less.</p>

<p><li>The outputs actively drive both ways.</p>

<p><li>The outputs are pretty much rail-to-rail.</p>

<p><li>CMOS logic consumes very little power when held in a fixed state.  The current consumption comes from switching as those capacitors are charged and discharged.  Even then, it has good speed to power ratio compared to other logic types.</p>

<p><li>CMOS gates are very simple.  The basic gate is a inverter, which is only two transistors.  This together with the low power consumption means it lends itself well to dense integration.  Or conversely, you get a lot of logic for the size, cost, and power.</p>

<p></ol></p>
","26411"
"Why do electronics have a low temperature limit?","22320","","<p>Apart from condensation why do electronic components usually have a low temperature limit? For example my laptop says something along the lines of -10 °C to 75 °C temperature while in use. </p>

<p>I can understand the high temperature limit, as things will probably melt! </p>

<p>But why is cold such a bad thing? </p>

<p>Apart from batteries, which components will extreme cold damage, and how? </p>

<p>Will using it increase the damage? </p>

<p>Will using the equipment offset this damage (as they warm up from use)? </p>

<p>Also, I am talking about extreme temperatures below -50 °C, so is condensation still a problem?</p>

<p>Note: I am not storing it so it is not a duplicate of another question. </p>

<p>Note 2: I am not talking about semiconductors, but generally speaking.</p>
","<p>I once designed an amplifier that would oscillate at -10°C. I fixed it by changing the design to add more phase margin. In this case, the oscillation did not cause any damage, but the circuit did not work well in this condition, and it caused errors. These errors went away at higher temperatures.</p>

<p>Some plastics crack when they freeze. Dry ice is -78.5°C, and I have broken a lot of plastic with dry ice. For example, I destroyed a perfectly good ice chest that cracked into little pieces in the spot where I had a chunk of dry ice in it.</p>

<p>In surface-mount designs, the differential temperature coefficient of expansion between the parts-soldered-to-the-circuit-board and the circuit board can cause large stresses. The stress-strain-temperature relationship often barely works over the specified temperature range. When the equipment is powered up, the hot components can change shape and break the brittle plastic, much like my old ice chest.</p>

<p>If the equipment is below 0°C and then you take it into a nice warm, humid office, water will condense on the circuit boards and can cause problems. Presumably a similar thing can happen with frost, depending on the weather. When the frost melts, there can be problems.</p>

<p>When I receive equipment in the morning that has been carried as air cargo, I assume that it has recently been very cold, and I let it sit around for some hours to warm up slowly and to stay dry before opening the box in the office.</p>

<p>Turning on very cold gear could be interesting. Some current-limiting components, such as a <a href=""https://en.wikipedia.org/wiki/Resettable_fuse"">PTC</a> or <a href=""https://en.wikipedia.org/wiki/Thermistor"">PPTC</a>, will pass a lot more current.</p>

<p>The lubricants in motors such as fans and disk drives could also be a problem.</p>
","143952"
"Why does more transistors = more processing power?","22297","","<p>According to Wikipedia, processing power is strongly linked with Moore's law:</p>

<p><a href=""http://en.wikipedia.org/wiki/Moore%27s_law"">http://en.wikipedia.org/wiki/Moore's_law</a> </p>

<blockquote>
  <p>The number of transistors that can be
  placed inexpensively on an integrated
  circuit has doubled approximately
  every two years. The trend has
  continued for more than half a century
  and is not expected to stop until 2015
  or later. The capabilities of many
  digital electronic devices are
  strongly linked to Moore's law:
  processing speed, memory capacity,
  sensors and even the number and size
  of pixels in digital cameras. All
  of these are improving at (roughly)
  exponential rates as well.</p>
</blockquote>

<p>As someone who has some background in computer architecture, I don't understand why throwing in more transistors in a CPU would boost a its power since ultimately, instructions are roughly read/executed sequentially. Could anyone explain which part I'm missing?</p>
","<p>A lot of things that give you more power just require more transistors to build them. Wider buses scale the transistor count up in almost all processor components. High speed caches add transistors according to cache size. If you lengthen a pipeline you need to add stages and more complex control units. If you add execution units to help mitigate a bottleneck in the pipeline, each of those requires more transistors, and then the controls to keep the execution units allocated adds still more transistors.</p>

<p>The thing is, in an electronic circuit, <em>everything</em> happens in parallel. In the software world, the default is for things to be sequential, and software designers go to great pains to get parallelism built into the software so that it can take advantage of the parallel nature of hardware. Parallelism just means more stuff happening at the same time, so roughly equates to speed; the more things that can be done in parallel, the faster you can get things done. The only <em>real</em> parallelism is what you get when you have more transistors on the job.</p>
","5596"
"Do 3G and phone calls(gsm) use the same antenna in a mobile phone?","22265","","<p>When I disable ""3G or EDGE"" (cellular data) connection from my smart phone's settings, I can still make a phone call. </p>

<p>Do phone calls and cellular data use different antennas and frequencies in a mobile phone?  Or it is just an inner arrangement?</p>

<p>I mean do the cellular voice and data networks use different antennas?</p>
","<p>Your connection to the cellular network, no matter the ""G"", always uses the same antenna. You can see this in a teardown of whatever phone you have. For instance, here is a teardown of my phone:</p>

<p><a href=""http://xeobits.com/android/fcc-approved-htc-thunderbolt-teardown-reveals-expected/"">HTC Thunderbolt Teardown</a></p>

<p>In the last photo, you can see that the LTE and EVDO antenna is one and the same. This also handles your 2G connections as well even though they all operate on different frequencies:</p>

<p><a href=""http://en.wikipedia.org/wiki/Cellular_frequencies"">Cellular Frequencies</a></p>

<p>What you are doing when you disable your data, is shutting off the modem in the chip that talks on a particular frequency. Each cell phone has several modems. For 2G, 3G, 4G, Bluetooth, etc. Since the ""Gs"" are similar in the way they operate, they can use the same antenna. Bluetooth and WiFi operate very differently and require different antennas as can be seen in the teardown.</p>

<p>2G connections provide voice and text and, since it's the oldest, has the widest coverage. 3G provides voice (GSM only, see below) and data on the same frequency, and, in some model phones, at the same time. 4G provides data only and voice is either done by falling back to a different communications model (frequency/""G"") or via voice over IP. So when a 3G or 4G signal weakens in a particular area, there is usually a 2G signal to fall back onto but it will only provide voice and text.</p>

<p>There are some interesting notes in the <a href=""http://en.wikipedia.org/wiki/4G"">Wikipedia article on 4G</a> if you search for the word ""voice"". Such as:</p>

<blockquote>
  <p>EV-DO is not designed for voice, and requires a fallback to 1xRTT when a voice call is placed or received.</p>
</blockquote>

<p>And:</p>

<blockquote>
  <p>Since the 2.5G GPRS system, cellular systems have provided dual infrastructures: packet switched nodes for data services, and circuit switched nodes for voice calls. In 4G systems, the circuit-switched infrastructure is abandoned and only a packet-switched network is provided, while 2.5G and 3G systems require both packet-switched and circuit-switched network nodes, i.e. two infrastructures in parallel. This means that in 4G, traditional voice calls are replaced by IP telephony.</p>
</blockquote>

<p>Another thing to note, is that while voice requires less bandwidth, it requires a continuous connection. Whereas data can be packetized. A good discussion of how voice and data share the network (when both are available) is available in the following article on <a href=""http://crackberry.com/emergency-why-cellular-data-better-voice"">Using data versus voice in an emergency</a></p>
","34488"
"LQFP package vs. TQFP package?","22177","","<p>In my PCB editor, both LQFP and TQFP have the same footprints, except the TQFP has shorter leads than the LQFP. Is that the only difference?</p>
","<p>L is for Low-profile (1.4 mm) and T is for thin(er, 1.0 mm), so I think the only definitive difference between them is height.  The pitch and package size can vary within each.</p>
","6194"
"What is the difference between a multimeter with RMS and one with True RMS?","22148","","<p>I am looking for multimeters. I am only a beginner in electronics, but I want to buy one that will be good enough for me for a while. I found a multimeter that measures True RMS, and another one that knows the same but without TRMS. 
(both made by HoldPeak, if anyone cares.)</p>

<p>The smaller shape of the latter would be handier and it costs 2/3rd of the TRMS's price, so I ask Your advice, Experienced Electronics Experts:</p>

<p>In what cases, and how much does True RMS matter? What is the difference between RMS and True RMS?</p>
","<p>The answer to this is a solid ""it depends"". More specifically, it depends what kind of signals you are going to apply the meter to.</p>

<p>If every AC signal that you wish to measure the RMS value of is a pure sine wave, then you don't need a true RMS meter. If, however, you want to measure the RMS value of a square wave, the output of a half-wave rectifier or something else more complex, then a true RMS meter will be advantageous. An example of where this might be relevant is if you are trying to calculate the power dissipation of a resistive load in an AC power system where the mains has been through some sort of processing, or perhaps if it is being driven with a PWM signal.</p>

<p>Although it is a load of marketing, Fluke's website has a good article on the matter <a href=""http://en-us.fluke.com/training/training-library/measurements/electricity/what-is-true-rms.html"">here</a>. One nice figure it gives is that for a square wave, a non-true RMS meter will read 10% high when measuring the RMS value of a square wave (and this will vary by pulse width for a PWM signal).</p>

<p>By the way, Dave Jones over at EEVBlog did a <a href=""https://www.youtube.com/watch?v=ZoeUgMFLyAw"">$50 multimeter shootout</a> a few years back. A bit outdated, but still useful for reasons to choose a particular meter without tRMS and then the <a href=""https://www.youtube.com/watch?v=n3WGaiYF2sk"">$100 multimeter shootout</a> covering tRMS meters.</p>
","234541"
"Selecting a MOSFET for driving load from logic","22120","","<p>I'm looking to drive a <a href=""https://electronics.stackexchange.com/questions/36089/magnetic-door-lock"">magnetic door lock</a> from an Arduino. I've found a question about <a href=""https://electronics.stackexchange.com/questions/35478/driving-solenoids-from-arduino"">driving a solenoid from an Arduino</a>, which includes a circuit that looks perfect for this kind of situtation:</p>

<p><img src=""https://i.stack.imgur.com/Igdet.gif"" alt=""Driving a device with a MOSFET""></p>

<p>What I don't understand is how to select a MOSFET for the job. What properties should I look for, if I know my logic level, device voltage and device current?</p>

<p>In this case it's 5V logic, and the load runs at 12V / 500mA, but it'd be nice to know the general rule.</p>
","<p>You've got a luxury problem: there are thousands of FETs suitable for your job.  </p>

<p>1) the logic level. You have 5 V, and probably less than 200 mV or so when off. What you need is \$V_{GS(th)}\$, that's the gate's threshold voltage, at which the FET starts conducting. It's given for a specific current, which you want to keep an eye on too, because it may be different for different FETs. Useful for you could be maximum 3 V @ 250 &micro;A, like for the <a href=""http://www.fairchildsemi.com/ds/FD/FDC855N.pdf"">FDC855N</a>. At 200 mV (or lower) you'll have a leakage current much lower than that.  </p>

<p>2) Maximum \$I_D\$ continuous. 6.1 A. OK.</p>

<p>3) the \$I_D / V_{DS}\$ graph:  </p>

<p><img src=""https://i.stack.imgur.com/LTIJy.png"" alt=""enter image description here"">  </p>

<p>This one's again for the FDC855N. It shows the current the FET will sink at a given gate voltage. You can see that it's 8 A for a 3.5 V gate voltage, so that's OK for your application.</p>

<p>4) \$R_{DS(ON)}\$. The on-resistance determines the power dissipation. For the FDC855N it's maximum 36 m&Omega; at 4.5 V gate voltage, at 5 V it will be a little less. At 500 mA that will cause a 9 mW dissipation. That's more than good enough. You can find FETs with better figures, but there's really no need to pay the extra price for them.</p>

<p>5) \$V_{DS}\$. The maximum drain-source voltage. 30 V for the FDC855N, so for your 12 V application OK.</p>

<p>6) package. You may want a PTH package or SMT. The FDC885N comes in a very small SuperSOT-6 package, which is OK, given the low power dissipation.</p>

<p>So the FDC855N will do nicely. If you want you can have a look at Digikey's offering. They have excellent selection tools, and now you know the parameters to look out for.</p>
","36099"
"Difference between current transformers and power transformers","22069","","<p>In a current transformer, the primary current causes a magnetic field in the core, which in turn generates a current in the secondary. Fine.  </p>

<p>How come then that a power transformer outputs a voltage, and not a current? Isn't it the same principle?</p>
","<p>A transformer is a transformer whether <i>intended</i> for current sensing use or power conversion use.  All transformers work on the same principle.</p>

<p>However, there is considerable latitude in various parameters when designing a transformer.  These different tradeoffs give the transformer different characteristics and therefore make it suitable for different applications.</p>

<p>A current sense transformer is optimized to have small primary impedance so as to minimize the voltage drop in the line it is intended to measure current in.  The secondary is also intended to be connected to a low resistance.  This reflects a lower impedance to the primary.  The transformer is run primarily in short-circuit output mode.  Note that little power is transferred thru the transformer.  Energy is taken from the magnetic field by the secondary almost as soon as it is put there by the primary.  As a result, the core can be small since it never has to hold much energy at any one time.</p>

<p>A power transformer has a different purpose, which is to transfer power from the primary to the secondary.  Sometimes they are just for isolation, but often it is also to get a different combination of voltage and current on the output than the input.  To get power, you need both voltage and current, which means the transformer needs to be operated somehwere between short circuit output where there is no voltage and open circuit output where there is no current.  Generally power transformers are designed so that the secondary looks reasonably low impedance and therefore it's voltage doesn't sag too much at the rated power output.  They also have to behave reasonably with light load or no load, meaning the open circuit case.  Again you want low impedance so that the voltage in the light load case is not too different from the full load case.  This type of transformer has to be able to handle larger energy in the magnetic field.  This means a physically larger and therfore heavier core.</p>
","31074"
"Difference between High- and Low- side switching of power?","22067","","<p>Is there any real difference between high- and low-side switching?</p>

<p>Assume:</p>

<ul>
<li>Switching is for on/off control of an object (My case RPi)</li>
<li>Base/Gate can be driven to Vcc and GND</li>
</ul>
","<p>The only real differences are the ground level and maximum current available:</p>

<ul>
<li>Low-side switching means that the two subcircuits will have different ground levels since the switching element will have a (small) non-zero voltage drop.</li>
<li>High-side switching will have a lower maximum current limit since P-type (high-side) switching elements usually have a higher on resistance than N-type (low-side) switching elements.</li>
</ul>
","188073"
"How is wristwatch with 10 years battery life possible?","22028","","<p>Turns out Casio offers <a href=""http://www.casio-intl.com/asia-mea/en/wat/standard/10_year_battery/"">a handful of wristwatches with ""10 year battery life""</a>. The claim is that thanks to ""an advanced technology"" the battery life in those watches is extended to ten years.</p>

<p>Now if you look at different models you see that they are rather complicated hence likely energy consuming - for example, <a href=""http://www.casio-intl.com/asia-mea/en/wat/watch_detail/AW-80-1AV/"">AW-80-1AV model</a> has both a liquid crystal display and hands and also it has LED illumination and a sound alarm.</p>

<p>I first thought that maybe the battery is the key. Model AW-80-1AV runs on CR2025. Energizer CR2025 datasheet specifies that this battery has nominal output voltage of 3 volts and nominal capacity of 163 mAh, so it stores 0,489 volt-ampere-hours of energy.</p>

<p>For comparison, typical basic model of Swatch run about three years on Renata silver oxide 390 (SR1130SW) battery that has nominal output voltage of 1,55 volts and nominal capacity of 60 mAh and so stores 0,093 volt-ampere-hours of energy.</p>

<p>So CR2025 stores about five times more energy, but the basic model of Swatch only has hands - no digital display, no illumination, no alarm, so it likely consumes less energy.</p>

<p>There clearly must be something more than a bigger battery that makes 10 years battery life possible.</p>

<p>How is 10 years battery life possible in a rather energy consuming wristwatch?</p>
","<p>10 years =~ 87650 hours.<br>
 1 uA drain will require 87.75 mAh in 10 years.<br>
 With som shelf life degradation that's close enough to<br>
 = 10 mAh / uA / year or<br>
 = 100 mAh / uA / 10 years </p>

<p>So your cited 163 mAh battery will supply 1.63 uA mean.<br>
 Pushing technology, size and luck may get you to say 5 uA mean.</p>

<p>There are 86400 seconds/day. 
There are 1440 minutes/day.</p>

<p>You will find that eg  alarm use is much restricted in the allowable use to get 10 years. If 1 uA of the drain is for alarm use then you get 24 uA.hr/day or 86400 uA.seconds or 86 mA.seconds.  That's about 240 mW seconds at 3 V. Or say 5 x 50 mW x 1 second burst/day.</p>

<p>An LED can provide ample lighting at 1 mA. Use it 5 times/day x 1 second = 5 mA.sec = 5000 uA.sec or ""only"" 5000/86400 = 0.06 uA mean drain. Increase as desired and allowed.</p>

<p>Can you run a time keeping IC on say 1 uA?<br>
Probably yes.</p>

<p>So overall it all falls in the area of ""notionally possible if really really really clever and careful"".<br>
 Casio can be expected to be quite clever by now.</p>

<p>Note that if any sort of energy harvesting is being used then all bets are on. Harvesting a uA or few sounds doable. </p>

<hr>

<p><strong>REAL WORLD EXAMPLE:</strong></p>

<p>There are many others.</p>

<p>In September 2012 user Hli commented:</p>

<blockquote>
  <p>An EFM32, which is an ARM Cortex M3 MCU, can run on about 1.45µA while
  driving a LCD (550nA for the LCD, and 900nA for running the RTC and
  keeping its RAM). So a chip keeping only time should be capable to run
  on much less than that</p>
</blockquote>

<p>The link he then provided is now broken, so:</p>

<p>EFM32 ""Gecko"" family are M0+, M3, M4 ARm Cortex microcontrollers from <a href=""http://www.silabs.com/"" rel=""nofollow noreferrer""><strong>Silabs</strong></a> </p>

<p><a href=""http://search.silabs.com/search?q=efm32&amp;site=english&amp;client=silabs&amp;proxystylesheet=silabs&amp;getfields=*&amp;filter=0&amp;entsp=a__en_biasing_policy"" rel=""nofollow noreferrer"">Silabs EFM32 search</a></p>

<p><a href=""http://www.silabs.com/products/mcu/32-bit/efm32-wonder-gecko/pages/efm32-wonder-gecko.aspx"" rel=""nofollow noreferrer"">Wonder Gecko</a></p>

<ul>
<li><p>EFM32™ Wonder Gecko 32-bit ARM® Cortex®-M4 Microcontroller
Silicon Labs’ EFM32™ Wonder Gecko 32-bit microcontroller (MCU) family includes 60 devices based on the ARM® Cortex®-M4 core, which provides a full DSP instruction set and includes a hardware FPU for faster computation performance.</p>

<p>Wonder Gecko MCUs feature up to 256 kB of flash memory, 32 kB of RAM and CPU speeds up to 48 MHz. The MCUs incorporate highly differentiated Gecko technology to minimize energy consumption, including a flexible range of standby and sleep modes, intelligent peripherals that allow designers to implement many functions without CPU wake-up and ultra-low standby current. With the lowest active and standby power consumption, the Wonder Gecko is the world's most energy friendly Cortex-M4 MCU.</p></li>
</ul>

<p><a href=""https://www.silabs.com/products/mcu/32-bit/Pages/32-bit-microcontrollers.aspx"" rel=""nofollow noreferrer"">Other xxx-Gecko variants</a> M0+, M3, M4</p>

<p><a href=""http://www.digikey.com/product-search/en/integrated-circuits-ics/embedded-microcontrollers/2556109?k=gecko"" rel=""nofollow noreferrer"">Digikey listings of ""Gecko""</a> - legion</p>

<p>Lowest cost in 100's with LCD <a href=""http://www.silabs.com/Support%20Documents/TechnicalDocs/EFM32TG-RM.pdf"" rel=""nofollow noreferrer"">EFM32TG822F32-QFP48T</a>$US2.03/100 Digikey</p>

<p><strong>Lowest power useful mode with RTC running  - EM2 - deep sleep</strong></p>

<p>In EM2 the high frequency oscillator is turned off, but with the 32.768 kHz
oscillator running, selected low energy peripherals (LCD, RTC, LETIMER,
PCNT, LEUART, I
2C, LESENSE, OPAMP, WDOG and ACMP) are still
available. This gives a high degree of autonomous operation with a <strong>current
consumption as low as 1.0 µA with RTC enabled. Power-on Reset, Brown-out
Detection and full RAM and CPU retention is also included.</strong></p>

<p>EM1 - sleep</p>

<p>In EM1, the CPU is sleeping and the power consumption is only <strong>51 µA/MHz.</strong>
All peripherals, including DMA, PRS and memory system, are still available</p>

<p>EM0 - running</p>

<p>In EM0, the CPU is running and consuming as little as <strong>150 µA/MHz</strong>, when
running code from flash. All peripherals can be active.</p>

<p><strong>So running in EM0 for 1 ms/s adds 0.15 uA to the EM2 standby load.</strong> </p>

<p>Overall, operating in EM2 at around 1 uA mean plus EM0 as required would allow 
the 10 years / 163 mAh example target to be met. </p>

<p><strong>___________________________________</strong></p>

<p><strong>Energy harvesting:</strong></p>

<p>Vibration and motion may well be possible energy sources.</p>

<p>A silicon solar PV/solar panel seems viable.<br>
Very roughly power available is 150 Watts/m^2 at 1 sun = 100,000 lux.<br>
A 10mm x 10mm ""panel"" at 10 lux at those ratings would provide ~= 
150 Watt x (0.01m x 0.01m) x 10lux/100000lux = 15 microWatt.</p>

<p>10 lux is dim roomlight - at the level where colour fades into monochrome. Dim!<br>
If that level of sensitivity can be maintained at such low light levels  (as it quite possibly can with other 'chemistries') the light powering looks viable. </p>
","41584"
"How to convert AC to DC","22016","","<p>I am designing a circuit that needs to output 5VDC @ 1A.  I'm trying to use a wall transformer to step the voltage down to 12VAC.  The next step is the diode bridge and ripple capacitor.</p>

<p>The ripple voltage equation is:</p>

<p>$$V_{ripple} = \frac{I}{2fC}$$</p>

<pre><code>I = load current (1A)
f = AC frequency (60Hz)
C = Filter Capacitor (? uF)
</code></pre>

<p>If I choose a C of 1000 uF, the ripple voltage is 8.3 V!  Do I really need to put more capacitance to lower the ripple voltage?  Is there another method of converting AC to DC?</p>
","<p>1000 µF at this voltage isn't terribly big.  Are you limited by size or something? </p>

<p>To completely get rid of the ripple and produce 5 V, you need to add a voltage regulator after the capacitor.</p>

<p>12 V<sub>RMS</sub> = 17 V<sub>Peak</sub>, which, minus the two diode drops, is the peak DC voltage you'll see at the output of the rectifiers: 17 - 1.1 - 1.1 = 14.8 V.  So there's no threat of exceeding the input limits of the regulator (35 V input).</p>

<p>If the ripple is 8.3 V, then the DC voltage will be varying from 6.5 V to 15 V.  This is just barely high enough to feed into the regulator without dropping out of regulation, since the 7805 has about 1.5 V dropout at 1 A (depending on temperature).  So yes, you should use a slightly higher capacitor (or multiple capacitors in parallel, if space is an issue).</p>

<p><img src=""https://i.stack.imgur.com/FBKY7.gif"" alt=""enter image description here""> (<a href=""http://web.archive.org/web/20150223132132/http://homepage.ntlworld.com/alanet.marshall1/WS-page/X1CNC/X1CNCpage2.htm"" rel=""nofollow noreferrer"">Source: Alan Marshall</a>)</p>

<p><a href=""http://electronicsclub.info/powersupplies.htm"" rel=""nofollow noreferrer"">Here's a guide</a> to each stage of the power supply circuit.</p>

<p><strong>Also:</strong> </p>

<p>Real life power line voltages vary from one outlet to the next, and the frequency varies by country.  You need to calculate the low line/high load condition to make sure it doesn't drop below regulation, as well as the high line/low load condition to make sure it doesn't exceed the regulator's input voltage limit.  These are the generally recommended values:</p>

<ul>
<li>JP:  85 VAC to 110 VAC (+10%, -15%), 50 and 60 Hz</li>
<li>US: 105 VAC to 132 VAC (+10%), 60 Hz</li>
<li>EU: 215 VAC to 264 VAC (+10%), 50 Hz</li>
</ul>
","516"
"RC differentiator circuit explaination","21923","","<p><img src=""https://i.stack.imgur.com/QEWcV.png"" alt=""RC differentiator circuit""></p>

<p>This is the circuit of a basic RC differentiator, with the input/output voltage waveforms.</p>

<ol>
<li>First of all, I don't understand why there is decrease in the output voltage (discharging of charge from capacitor) as long as the supply is still on.</li>
<li>Secondly, I don't get why the voltage across the resistor falls to a negative level.</li>
</ol>

<p>I know it is a simple question but please help me to understand this basic circuit - thanks.</p>
","<p>Long story short: For a low-to-high transition of your input signal, <strong>your capacitor isn't discharged, it is charged</strong>, and it remains charged until the high-to-low transition occurs.</p>

<p>Nevertheless, here's the long story:</p>

<p>We take the freedom to start with changed positions of R and C; note that I<sub>in</sub>&nbsp;=&nbsp;I<sub>C</sub>&nbsp;=&nbsp;I<sub>R</sub>, so we really are allowed to do this (KCL). This is the picture you usually see for a capacitor being charged through a resistor, so it may be worth the effort:</p>

<p><img src=""https://i.stack.imgur.com/XlwrM.jpg"" alt=""RC circuit for charging C via R""></p>

<p>We can see how C is charged according to the RC time constant and according to the magnitude of the input voltage step from 0&nbsp;V to V<sub>in</sub>. Also, we can see how the voltage remaining across the resistor on top of the capacitor becomes less the more we charge the capacitor: V<sub>R</sub>&nbsp;=&nbsp;V<sub>in</sub>&nbsp;-&nbsp;V<sub>C</sub>. This almost answers your first question about the decrease in output voltage already; we just have to turn this configuration upside down again.</p>

<p>Here's your original circuit again, with some symbols we will need for the explanation, the assumption that we have no load, and the equations showing V<sub>out</sub>&nbsp; for C on top and R at the bottom.</p>

<p><img src=""https://i.stack.imgur.com/5HMQa.jpg"" alt=""RC differentiator""></p>

<p>We can imagine how the upper plate of C remains at V<sub>in</sub>, the lower plate becomes charged towards 0&nbsp;V, and finally, there is no voltage left across the resistor, between the lower plate and 0&nbsp;V.</p>

<p>This finally answers the first part of your question (Why is C discharged?) - It is not discharged, it really is charged; we're just not looking at the upper plate, but at the lower plate connected to the resistor, gradually being pulled low through R.</p>

<p>Now, let's remember that the output voltage is equal to the voltage across the resistor. V<sub>out</sub>&nbsp;=&nbsp;V<sub>R</sub>&nbsp;=&nbsp;R&nbsp;&times;&nbsp;I<sub>R</sub>, and again, assuming that I<sub>out</sub>&nbsp;=&nbsp;0 (negligible load), V<sub>out</sub>&nbsp;=&nbsp;R&nbsp;&times;&nbsp;I<sub>C</sub>. In other words, the output voltage is proportional to the charging current of the capacitor, scaled by the value of the resistor R.</p>

<p>A low-to-high step of the input signal will thus create a positive spike across R, as we have already calculated. When we reverse everything, we see how a high-to-low step will create a negative spike because the current through C is flowing in the opposite direction of the arrow we have used for I<sub>C</sub> - which answers the second part of your question (""Why do we get a negative spike at the output?"").</p>

<p>If you like (and I think it's fun!), you can draw some more pictures and calculate the high-to-low event for yourself.</p>
","37988"
"How do the tiny AC->USB power supplies work?","21913","","<p>The iPhone and Kindle both come with tiny power supplies that take in 120v AC and output around 5V at 0.85 to 1 amp. They seem to be too small and light to have a transformer, and generate very little heat. What is the electrical topology of these little power supplies?</p>
","<p>This is not limited to these USB charger supplies.  Most modern ""wall wart"" type power supplies are like this.  They can be small because they are switchers.  The line power is full wave rectified, then the result chopped at high frequency thru a transformer.  The much higher frequency allows for a much smaller transformer to handle the same power.  5 Watts (5 V at 1 A) is easily doable in something that fits in the palm of your hand.</p>

<p>If you dig around, you can probably find a schematic for a small switcher like this.  It is usually a full wave bridge, cap, and some sort of oscillator driving the primary of a small transformer at a few 100 kHz.  The output of the transformer is rectified, filtered, and the result compared to the voltage setpoint.  The over/under voltage indication is then transmitted back to the oscillator on the high voltage side via a opto-coupler.</p>
","31020"
"Dots in a transformer symbol","21905","","<p>I came across <a href=""http://en.wikipedia.org/wiki/Joule_thief"" rel=""nofollow noreferrer"">this schematic</a>:</p>

<p><img src=""https://i.stack.imgur.com/ICSCL.png"" alt=""enter image description here""></p>

<p>What do the dots in the transformer indicate?</p>
","<p>Those are phase dots. They refer to the 'start' of the winding based on a predetermined winding direction (CW or CCW). This allows you to tell at a glance what 'polarity' the windings have so you can figure out how the current will flow.</p>
","66709"
"What is the use of magnets around electrical cables?","21899","","<p>I haven't seen any for a while now, but a couples of year ago I saw some several times: cylindrical magnets around electrical wires. I'm not talking about specialized equipments but items of everyday life which comes with such a magnet. In fact I did not know it was a magnet until I accidentally broke one. Unfortunately I did not manage to find any picture from the web.</p>

<p>Do you know the use of them? Also, are we still using them?</p>
","<p>They're not actually magnets, but rather ferrite which is a paramagnetic material.  A ferrite bead with a conductor through it is an inductor and so is used as a low pass filter.  Typical use is for power cables to reduce EMI (electromagnetic interference).</p>
","133939"
"Injecting a communication signal over DC power supply lines","21838","","<p>I'd like to be able to daisy chain multiple devices using just the power supply wires and then inject a communications signal over the power lines to turn it into a half duplex network.</p>

<p>Are there any common methods of achieving this? The simpler the better and it would be great if it used the UART on the microcontroller.</p>

<p>Edit: There are actually two projects that I'm working on that I think would benefit from this - one is a low power sensor network. The other is a LED lighting project. In both cases the objective is to simplify wiring, but if the solution is too complex then it probably makes more sense to use three wires (pwr, gnd, comms).</p>
","<p>Have you looked into the <a href=""http://en.wikipedia.org/wiki/1-Wire"">Dallas 1-Wire</a> protocol? It is really low speed and if you device takes relatively little current then you can get away with using parasitic power and power the device with the data lines.</p>
","1656"
"Batteries. Why use 9V?","21827","","<p>With all the technology available today with being able to boost voltage efficiently using SMPS, why do we still use 9V batteries? Is there some secret advantage with them that I am unaware of? </p>

<p>If you look at the size as well, the 9V is just big and bulky and I have designed projects where I can use 2xAA batteries and boost the voltage, which will give me longer battery life than a 9V. And it takes up the same amount of space. </p>

<p>A lot of circuits today also need regulating, and the easiest way to do that with a 9V is a linear regulator (usually to about 5V) and I am aware this is not the case for every design, but that right there is energy wasted, and yet again, boosting the voltage from 1 or 2 AA batteries will probably give your product a better shelf life. </p>

<p>I saw a comparison between a 9V battery and some AA batteries, where someone found the energy available, and ended up with this data: <a href=""https://i.stack.imgur.com/kwVVC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kwVVC.png"" alt=""enter image description here""></a>
<strong>NOTE:</strong> These results were from Energizer Alkaline batteries</p>

<p>So with all this data, why are 9V batteries still used in designs? Are there some applications where it would be advantageous to use them? Or is it usually a better idea just to go for the AA or AAA solution?</p>

<p>There have been times where I have considered using a 9V battery for some of my projects but it always seems after doing my calculations, they just don't hold up as well as others, so am I missing something? </p>

<p>For reference, the datasheets for the compared batteries are here:
<a href=""http://data.energizer.com/pdfs/e91.pdf"" rel=""nofollow noreferrer"">AA</a>
<a href=""http://data.energizer.com/pdfs/522.pdf"" rel=""nofollow noreferrer"">9V</a></p>

<p><strong>EDIT:</strong> I am not intending this to be an 'opinion-based' question, rather, I was intending to ask from a practical point of view, if there were advantages to choosing a 9V over any other solution (such as boosting AA batteries). Just wanted to make that clear!</p>
","<p>First a AA is not a battery.. it's a cell. A battery is a ""battery"" of cells, i.e. more than one cell. A 9V battery contains six 1.5V cells. Rip one apart and see.</p>

<p>As for why we still use 9V batteries, it really is a matter of the design. The nice thing about 9V batteries is they give you a fairly wide operating voltage range during their life without being overly high a voltage. They also come in a really nice compact package that has a rather usable clip.</p>

<p>I would in no way recommend using one with a linear regulator to generate 5V though unless the current requirement on that 5V is very small. Better to design your circuitry using componentry that will work at the 9V directly.</p>

<p>It also really depends on the nature of your widget. If you have sensors or transducers that require larger voltages and it's battery operated, it's simpler and usually cheaper to go with a 9V battery. </p>

<p>One also has to consider the ramifications of boosting a lower voltage. By doing so you will introduce a lot of new problems not the least of which is the electromagnetic noise you will be adding and needing to deal with. Efficiency is also an issue.</p>

<p>But in the end, there is a lot of to and fro on the decision so this question really comes into the opinion ranks.</p>
","322911"
"Difference between negative terminal and copper ground?","21805","","<p>What is the difference between Negative a ground? Like a negative terminal and a copper ground? I was reading that they are both the same; one person stated that negative is just more negative than ground. What's the difference? Do I even need ground if I have a negative terminal?</p>
","<p>Strictly speaking, ground is a connection to the Earth.  When we speak about a ""safety ground"", it is this kind truly earthed connection. </p>

<p>In circuits, the ""common return"" path to the power supply is informally called ""ground"", even though it is not actually earthed.  Battery-powered devices, and the electronics inside airplanes, still have grounds. </p>

<p>All circuits have to have return paths to the power supply. Ground is only a convention. The designer decides that a particular network connected to the power supply is at a 0V potential. Other voltages are measured with respect to this potential.  But, of course electrons do not read schematics and do not understand what is ground, and what point is 0V.  Moreover, conventional current is opposite to the flow of lectrons: Benny Franklin got it wrong. So when the negative terminal is ground, electrons are not actually returning to ground, but emanating from there.</p>

<p>If the power supply is a battery, and the devices in the circuit are designed for a positive supply, then the negative terminal serves as the ground. The positive terminal could also be ground, if all the circuits are designed for a negative supply.</p>

<p>""Designed for a positive supply"" means that the key voltages in the circuit are positive, measured from the negative return. For instance, many NPN transistor circuits, such as an emitter follower, have a positive sense. The collector is connected to a positive supply, and the emitter branch of the circuit is on a network which is goes to a negative ground. The input signal is understood to be between ground and the transistor base.</p>

<p>Howwever, the same circuit could be built using a PNP transistor instead, using a negative power supply, whose positive terminal serves as ground.</p>

<p>There also exist, in wide use, circuits that run on dual voltage power supplies. The power supply provides a positive voltage, a negative voltage, and a ground. The two voltages are usually approximately equal (but opposite) so the ground is nearly exactly in between them.</p>
","51498"
"How to debug C code of a PIC16F84A in Proteus ISIS VSM?","21795","","<p>I have just downloaded the <a href=""http://www.labcenter.com/index.cfm"" rel=""nofollow noreferrer"">Proteus ISIS Circuit Simulator</a> and I've noticed that in their samples, they have PIC projects based on C and they could step through the C code in the debuger.</p>

<p>Here is a screenshot from one of their sample videos:</p>

<p><img src=""https://i.stack.imgur.com/36hZs.png"" alt=""their samples""></p>

<p>But I just don't know how to specify my C source files to the simulator.</p>

<p>I can specify source files in assembly under <code>Source&gt;Add/Remove Source Files</code>, however this does not work for C source files. I prefer C to assembly coding and I request for help or a simple tutorial on how to debug a simple C PIC project in Proteus ISIS.</p>
","<p>Yes, there is a debugger for C source codes in the Proteus ISIS VSM, however since C code will differ with the compiler, only certain compilers are allowed.</p>

<p>In the website, you can see that supported compilers for PICs are:</p>

<p><img src=""https://i.stack.imgur.com/JrD12.png"" alt=""Third-part logos""></p>

<ul>
<li>CCS for PIC (at least V4.107)</li>
<li>Hi-Tech C for dsPIC33 (at least V9.60)</li>
<li>Hi-Tech C for PIC10/12/16 (at least V9.8)</li>
<li>Hi-Tech C for PIC18 (at least V9.63)</li>
<li>MPLAB C18 for PIC18 (at least V3.34)</li>
<li>MPLAB C30 (at least V3.21)</li>
</ul>

<p>These compilers each generate a debug file, if enabled in the output options. You have not mentioned your compiler, so I am going to give an example for Hi-Tech C for PIC10/12/16. Your compiler is going to generate a <strong>.cof</strong> file as well as a .hex file after the compilation, if enabled in the compiler output options. </p>

<p>Double click your PIC in proteus, ""Edit Component"" dialog will appear. It is the same window that you include your hex file, however this time you are going to include your .cof file:</p>

<p><img src=""https://i.stack.imgur.com/d6mLH.png"" alt=""Edit Component""></p>

<p>Click ""OK"" after you have included, now double click on your crystal if you have any, and click and activate the box labeled ""Exclude from Simulation"", click ""OK"", do the same for the capacitors that are connected to that crystal, if any.</p>

<p>Now click on ""Advance Simulation by one animation frame"" button, shown below:</p>

<p><img src=""https://i.stack.imgur.com/zBzK2.png"" alt=""Step button""></p>

<p>Now you can see your source code, and navigate through it via the same button above. If you cannot see the code, and your compiler is not in the list I mentioned, then unfortunately it is not supported. If you cannot see any code window, then activate it by ""Debug >> PIC CPU >> Source Code"". You can also see your variables with ""Debug >> PIC CPU >> Variables"".</p>

<p>For more information:</p>

<ul>
<li><a href=""http://www.labcenter.com/support/video/demo-movies.cfm"" rel=""nofollow noreferrer"">Demo Movies</a></li>
<li><a href=""http://www.labcenter.com/products/compilers.cfm"" rel=""nofollow noreferrer"">Supported Third Party Compilers</a></li>
<li><a href=""http://www.labcenter.com/products/vsmstudio.cfm"" rel=""nofollow noreferrer"">Technical Information for Proteus ISIS VSM</a></li>
</ul>
","30464"
"Sending audio over ethernet","21790","","<p>I am trying to send audio from a microphone such as <a href=""http://www.adafruit.com/products/1063"" rel=""nofollow"">this</a> over Ethernet to a computer. My first idea was to connect the mic to an arduino's ADC and send the data using an ethernet module such as the <a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en022889"" rel=""nofollow"">ENC28J60</a> but some people say that the micro controller can only send about 5kb/s.</p>

<p>Has anyone tried a similar setup where raw data is sent from an analog pin and measured the throughput?</p>

<p>(any ideas on a better way to send the data are also welcome)</p>
","<p>Before I get into details, let me say that I have probably designed more <em>professional</em>-audio over Ethernet hardware than anyone else-- both in terms of number of different PCB designs as well as number of PCBs manufactured and shipped to end customers.  Odds are very high that you have heard products where I have designed the audio over ethernet circuitry in them.  (This is pro-audio only, and does not include VOIP or other non-pro products.)</p>

<p>Let's start with the issues:</p>

<p>Software:  The hardware is honestly the easy part.  The software is difficult.  The closer you want to pro-audio performance the harder it is.  Your application doesn't sound like pro-audio, but the software task is still not trivial.</p>

<p>Audio Clocking:  Transmitting the audio data from point A to point B is relatively easy.  Doing it in a way that the two devices have a synchronized audio clock is difficult.  Non-pro applications solve this by doing sample rate conversion or just simple drop/duplicate samples as the audio clocks drift.  There are difficulties and side effects of both of these, which increases the software difficulty immensely.  Just saving the data to a file on the PC side of things is easy-- using it in a real-time way is hard.</p>

<p>Low-latency:  How long it takes the audio to go from the Mic, over the network to the PC, and then used by the PC is called latency.  The shorter the latency the harder things are.  Just saving audio data to a file is a good example of super-long latency, and is one reason why that is also the easiest thing to do.  A latency of &lt;2.5 mS is damn hard to do correctly an robustly.  The shorter the latency, the less issues there are with things like audio echo and stuff.</p>

<p>Bandwidth:  Sending telephone quality audio with high latency is the easiest. Pro-audio quality with low latency is super hard.  Using the mic, MCU, and Ethernet interface that you proposed is going to put you into the telephone quality side of things.  There are many cases where raw bits-per-second of the Ethernet interface is not the only problem.  Other issues like IRQ rate, packet transmit/receive time (not just overall bandwidth), and sometimes packet timing are super important.</p>

<p>Network Topology:  As the audio quality goes up (and latency goes down) your network topology becomes really important.  I am talking about the number of Ethernet switches, the type of switches, how they are connected, and the number/type of non-audio ethernet devices also on the network.  For you this probably wouldn't be an issue, but you never know. </p>

<p>I think that your proposed solution would work for telephone audio quality with a high latency.  You'll probably have to do sample dropping/repeating to deal with non-synchronized audio clocks.  And it won't be all that great.  You might be quite underwhelmed by the audio.  I also think that you'll have a lot of software to write on the PC side of things.  That being said, I would not do the project with that.</p>

<p>If I were doing the project, I would look at one of the new-ish ARM Cortex-M3 or M4 devices by TI or Freescale that includes a 100 mbps or gigabit ethernet controllers.  Many of these things are less than US$10 each and can run at up to 100 MHz.  The amount of RAM and Flash makes the task of writing software much easier.</p>

<p>For amusement, my current Audio Over Ethernet project uses an 800 MHz ARM Cortex-A8 with dual gigabit Ethernet ports and runs a customized version of Linux.  The system as a whole (not just this Cortex-A8 device) can handle over 2048 audio channels at 48KHz, 32 bit, with an overall system latency of just 2.5 mS (including ADC, DAC, two times over the network, and lots of processing).  Audio devices on the network have their sample clocks sync'd to less than 1 uS, even if there are 8+ switch hops in the middle.</p>
","48607"
"Can the noise of any switching PSU be attenuated if I put linear regulator before the output?","21744","","<p>A friend told me that noise of any switching PSU can be attenuated if I put linear regulator before output. Is that true?</p>

<p>For example, if I want to power a +-12&nbsp;V op-amp for an amplifier, I can use a switching-mode power supply (SMPS), say, with a noisy 15&nbsp;V output <strong>and then</strong> from the SMPS output feed an <a href=""http://en.wikipedia.org/wiki/78xx"">LM7812 and a LM7912</a>.</p>

<p>Will the output from LM7812 and LM7912 now have very very low noise compared to their inputs?</p>

<p>If this is true, this amazing as there is no need to use a transformer anymore.</p>

<p>Is it really correct that a heavy PSU using a transformer for Class A and B amplifiers is no longer needed?</p>
","<p>Yes, it is true that adding a linear regulator after a SMPS (switch mode power supply) will reduce noise, but care is still needed. Results can be very good, but the result <strong>may</strong> not be as good as if a mains powered transformer plus linear regulator had been used. </p>

<p>Consider a common <a href=""http://www.fairchildsemi.com/ds/LM/LM7805.pdf"" rel=""noreferrer"">LM7805 5V regulator</a>from Fairchild.
This has a ""ripple rejection"" specification of 62 dB minimum. ""Ripple"" is input noise <strong>but</strong> usually related to the twice mains frequency variations from the rectified and smoothed mains input.  This is a reduction in noise of 10^(dB_noise_rejection/20) = 10^3.1 ~= 1250:1
That is, if there was 1 Volt of ""ripple"" at the input this would be reduced to 1 mV at the output. <strong>However</strong> this is specified as being at 120 Hz = twice USA mains frequency, and no specification or graph is given for noise reduction at higher frequencies. </p>

<p>The functionally identical <a href=""http://www.national.com/ds/LM/LM340.pdf"" rel=""noreferrer"">LM340 5V regulator from NatSemi</a> has a slightly better  specification (68 dB minimum, 80 dB typical = 2500:1 to 10,000:1) at 120 Hz.<br>
But NatSemi kindly also provide a graph of typical performance at higher frequencies (bottom left corner of page 8).</p>

<p><img src=""https://i.stack.imgur.com/EdAF7.jpg"" alt=""enter image description here"">. </p>

<p>It can be seen that for 5V output ripple rejection is down to <strong>48dB at 100 kHz</strong> (=250:1). It can also be seen that it is falling about linearly at about 12 dB per decade (60 dB at 10 kHz, 48 dB at 100 kHz) . Extrapolating this to 1 MHz gives 36 dB noise rejection at <strong>1 Mhz (~= 60:1 noise reduction.</strong>) There is no guarantee that this extension to 1 MHz is realistic but the real result will not be letter than this and should (probably) not be much worse.</p>

<p>As most (but not all) smps supplies operate in the 100 kHz to 1 MHz range one can guestimate that noise rejection will be in the order of 50:1 to 250:1 in the 100-1000 kHz range for fundamental noise frequencies. However, smps will have output at other than their fundamental switching frequency, often much higher. Very thin fast rising spikes which may occur on switching edges due o leakage inductance in transformers and similar will be less attenuated than lower frequency noise. </p>

<p>If you were using a smps by itself you would usually expect to provide some form of output filtering and using passive LC filters with a linear ""post regulator will add to its performance. </p>

<p>You can get linear regulators with both better and worse ripple rejection than the LM340 - and the above shows you that two functionally identical ICs can have somewhat different specifications.</p>

<p>Noise elimination from smps will be greatly helped by good design. The subjct is too complex than to do more than mention it here but there is much good on this subject on the internet (and in past stack exchange replies). Factors include proper use of ground planes, separation, minimising area in current loops, not breaking current return paths, identifying high current flow paths and keeping them short and away from noise sensitive parts of the circuit (and much more).</p>

<p>So - yes, a linear regulator <strong>can</strong> help reduce smps output noise and it <strong>may</strong> be good enough to allow you to power audio ampliers directly this way (and may many designs do just that) <strong>but</strong> a linear regulator is not a ""magic bullet"" in this application and good design is still vital. </p>
","18115"
"Generate an n bit random number in Verilog","21741","","<p>I can easily generate a random number of width 32 bits in Verilog using <code>$random</code>. Is there a way to generate a random number of exactly <code>n</code> bits (say <code>n = 70</code>)?</p>

<p>I guess I could concatenate many 32-bits random numbers, and then restrict down to the required number of bits, but that seems like a hack.</p>
","<p>If you are able to use SystemVerilog, you can randomize a number of any width.  Either declare it as <code>rand</code> within a class, or use <code>std::randomize</code>.  Here is a simple example:</p>

<pre><code>module top;

  bit[69:0] vec;

  initial begin
    assert(std::randomize(vec));
    $display(""vec = %070b"", vec);
  end

endmodule
</code></pre>

<p>If you need to stick to plain old Verilog, I think the hack you suggested is the best, simplest, and possibly the only choice. I don't think there is anything in the language to help, since <code>$random</code> returns a 32-bit number.</p>

<p>If you simply want to avoid declaring new variables and explicitly concatenating them, you could do something like this.</p>

<pre><code>vec[31:0]  = $random;
vec[69:32] = $random;
</code></pre>
","39480"
"Why do some tactile switches have 4 terminals?","21741","","<p>I am wondering why some tactile switches have 4 terminals instead of two? For example, take a look at <a href=""http://www.pranelectronics.com/tact-switch.html"" rel=""noreferrer"">these switches</a>, like the image below:</p>

<p><a href=""http://www.pranelectronics.com/gifs/12t.jpg"" rel=""noreferrer"">Tactile Switches http://www.pranelectronics.com/gifs/12t.jpg</a> </p>

<p>What is the use of the two remaining pins? If the pins of the exact opposite side are always shorted then why don't they have just 2 pins?</p>
","<p>I'm going to put David Tweed's comment into an answer, which it deserves. </p>

<p>The dual shorted pins allow inexpensive single-sided boards to be used for X-Y matrices of switches without requiring jumpers. </p>

<p>Here (from an NKK <a href=""http://www.nkkswitches.com/pdf/JFnonilluminated.pdf"">datasheet</a>) are a couple examples of such layouts: </p>

<p>X-Y matrix (This would typically be scanned by a microcontroller or ASIC):</p>

<p><img src=""https://i.stack.imgur.com/fRY1x.png"" alt=""enter image description here""></p>

<p>Common line (one side of each switch common, typically it might be connected to Vss or Vdd and a pullup or pulldown resistor (perhaps internal to a chip) would be required for each switch. </p>

<p><img src=""https://i.stack.imgur.com/LbuWk.png"" alt=""enter image description here""></p>
","100556"
"Turning on multiple leds with arduino using transistor","21734","","<p>I want to be able to turn on 50 red LEDs with one pin of an Arduino. I don't want individual control, I just want to be able to turn them all on or all off.</p>

<p>I found <a href=""http://www.ecs.umass.edu/ece/m5/tutorials/multiple_LEDs_tutorial.html"">this example</a>. It uses a 2N3904 transistor. Is this the approach I want to take? I presume I would need a higher power transistor?</p>

<p>I am using an external power supply that is wired into a custom board with a 5v voltage regulator so I am powering the LEDs directly from this regulator. </p>

<p>The LEDs come in the form of <a href=""http://uk.farnell.com/kingbright/dc-10surkwa/bargraph-array-10-segment-red/dp/2079882"">this LED light bar array</a> (or at least very similar)... </p>

<p>I had mentioned in a comment in an answer below that I was using a 330 ohm resistor with each LED. On another part of this project, I use the light bars as level meters, and each separate LED is controlled via a shift register, thus the separate resistor. I realise after thinking about it that I don't need to have a resistor in series with each LED for this now as they are either all on or all off (hmmm.... sorry for my rather haphazard comments!).</p>

<p>I did have a thought that I could have some sort of electronic switch that can disconnect ground or 5V. Is this viable?</p>
","<p>A transistor <em>is</em> basically a switch that can disconnect ground or 5V. There are transistors of all sorts, and some can switch truly huge loads. 50 LEDs is no big deal.</p>

<p>So, the question then is this: Can a single 2N3904 switch 50 LEDs?</p>

<p>To answer that, we'd need to know first what <em>kind</em> of LEDs. But let's assume you are using the usual nothing-special variety. A reasonable estimate of the maximum current of these is \$20mA\$. If you have 50, then the maximum current is \$20mA \cdot 50 = 1000mA \$. Looking at <a href=""http://www.fairchildsemi.com/ds/2N/2N3904.pdf"">the datasheet</a> I see the maximum collector current for 2N3904 is \$ 200 mA \$. So the answer is no: you can not switch 50 LEDs with one 2N3904.</p>

<p>I suppose you have several options:</p>

<ul>
<li>use multiple 2N3904</li>
<li>use fewer LEDs</li>
<li>use the same LEDs, but drive them with less current</li>
<li>use a bigger transistor (<a href=""http://www.adafruit.com/datasheets/TIP120.pdf"">TIP121</a> is very easy to find)</li>
<li>use some other switching device</li>
</ul>

<p>Of these, I think reducing the LED current or using a larger transistor is probably the most likely solution. Other switching devices (like a relay) are probably more expensive and slower.</p>
","66000"
"Controller Area Network (CAN), high speed and low speed","21713","","<ol>
<li><p>Is the difference between high- and low-speed CAN only with respect to baud rate values?</p></li>
<li><p>Is the CAN transceiver programmable for a range of speeds or is it fixed for a specific value? For example, can a high-speed transceiver can be programmed for 500&nbsp;kbit/s or 1&nbsp;Mbit/s?</p></li>
<li><p>What happens when a high-speed node is connected to a low speed node in the same network? Is it possible to get the data? Does it cause error frames?</p></li>
</ol>
","<p>High Speed CAN and Low Speed CAN has difference in Physical Layer implementation.
Bosch's CAN standard talks about Data link layer and Network layer but it left out ""Physical Layer"". (IMO)Reason being, it could be optimizied in Future. </p>

<p>Coming to question, High Speed CAN is defined in standard ISO11898-2 while ISO11898-3 talks about Low Speed CAN.</p>

<ol>
<li><p>High Speed and Low Speed does have differences in Baud Rate. High Speed works from 10kbit to 1Mbits/sec and Low Speed restricts to 125kbps. Another major difference is <strong>Termination Resistance</strong>. High Speed CAN requires 120 Ohm termination on the bus while Low Speed CAN devices are self terminated (Every Device has Termination). Termination Resistors are to avoid Standing waves which would be significant in case of High Speed and Longer Bus lengths which is not significant in case of Low Speed CAN. 
Another Difference is High Speed CAN won't work if there is problem in Wiring but Low Speed CAN can work on Asynchronous network as it is terminated/grounded at every node.
That's why Low Speed CAN is called as ""Fault Tolerant CAN"".</p></li>
<li><p>CAN transcievers can be programmed to ANY value provided ALL devices on the bus are on same baud rate. (See <a href=""https://electronics.stackexchange.com/questions/91124/is-it-possible-to-have-any-can-baudrate/91131#91131"">this</a> Question for details)</p></li>
<li><p>If you connect High Speed Device on Low Speed Device network and if All nodes on bus have same baud rate, This High speed device will generate error frames until you connect a 120ohm terminator. Otherwise there would not be any issue as both have same voltage levels.</p></li>
</ol>
","95908"
"What does ""no clean"" solder actually mean?","21696","","<p>I bought some <a href=""http://www.techni-tool.com/488SO7402"">solder</a> that says it doesn't require cleaning. The description specifically says ""Eliminates the need and expense of cleaning"". But there's still a lot of some substance left on my board that I can't easily clean off. What is this substance? Is it a problem? Is there some way to clean it off besides soap and water?</p>
","<p>Soldering requires <a href=""https://en.wikipedia.org/wiki/Flux_%28metallurgy%29"">flux</a> to dissolve oxides and to promote wetting. <a href=""https://en.wikipedia.org/wiki/Rosin"">Rosin</a> (made from tree sap) is one  flux material that has long been popular, and comes in various strengths- RMA (Rosin Mildly Activated) or RA (Rosin Activated). Kester says you can leave the flux on the board under fairly benign conditions and experience bears that out (it only becomes active = corrosive) at elevated temperatures, however most manufacturers will clean the board for cosmetic reasons and to allow inspection. Cleaning often involves the use of petroleum solvents- for example by vapor degreasing or just scrubbing. </p>

<p>Aqueous clean fluxes have been developed that can be cleaned without solvents- using just hot water and detergent. </p>

<p>No clean fluxes allegedly don't need to be cleaned and can be left on the board, however many of us have had problems with no-clean processes having relatively conductive residue. The residue is ironically extremely hard to remove, much more difficult than the two above-mentioned processes, more like 'can't clean'. Think twice about this kind of flux if you're thinking of sensitive analog boards that have high impedances. Even circuits you may not think of as being analog such as RTCC chips with an external crystal may be affected.  </p>

<p>Safest for sensitive boards is rosin flux followed by a thorough cleaning process. </p>
","186083"
"Why are there teardrops on PCB pads?","21687","","<p>What's the use of the teardrop shapes around some PCB pads?  </p>

<p><img src=""https://i.stack.imgur.com/Mr3y7.jpg"" alt=""enter image description here""></p>
","<p>There are primarily two reasons to use teardrops:  </p>

<ol>
<li>It avoids a pocket (where the trace meets the pad) that could collect acid from the PCB etching process which would later do bad things.</li>
<li>It reduces mechanical &amp; thermal stress resulting in less hairline cracks in the trace.</li>
</ol>

<p>That being said, in professionally made PCB's teardrops are rarely needed. It's almost more of an aesthetic thing than a solution to a real problem. I've done many boards with and without teardrops and I have yet to notice a difference. In my opinion, they are more trouble than they are worth.</p>
","13212"
"Why are some AC outlets and plugs polarized?","21671","","<p>This will show my naivety when it comes to alternating current... but why are some plugs and sockets on AC outlets polarized (one prong is taller than the other)?</p>

<p>(<a href=""https://diy.stackexchange.com/q/6776/145"">See this question on DIY</a>.) (<a href=""https://diy.stackexchange.com/q/2694/145"">Or this one.</a>)</p>

<p>My thought is that if the current is <em>alternating</em> that the hot and neutral effectively switch roles every 60th of a second. (50 if you're in Europe!)</p>

<p>I can't seem to wrap my head around why any device would care which line is hot or neutral, since the current coming into the device might come from either side. Wouldn't the safest option for implementing an on/off switch be to disconnect both sides for off?</p>

<p>Phrased differently, if I connect only neutral to a device, why doesn't it conduct to ground in the same manner as the hot line?</p>
","<p>It's all to do with how the power is transformed from high tension to normal mains voltages.</p>

<p>The power is transmitted across the country in 3 phases.  There are two types of 3-phase electricity - star and delta.  Delta uses 3 cables, and the power is split between them 120 degrees out of phase.  When it comes to your local substation the power is fed through a transformer which switches it to ""star"" 3-phase.  In this arrangement there are 3 live (or hot) wires and 1 neutral.  The 3 coils of the transformer are linked together at this neutral connection, and, in relation to the other three lines, it has zero power.  It is neutral.  Very often this is also linked to earth at this point as well.</p>

<p><strong>Star:</strong></p>

<p><img src=""https://i.stack.imgur.com/HbYh4.png"" alt=""enter image description here""></p>

<p><strong>Delta:</strong></p>

<p><img src=""https://i.stack.imgur.com/Tp4Md.png"" alt=""enter image description here""></p>

<p>As far as plugs go, if the power is being fed into a transformer internally to reduce the voltage, then the connections really don't matter which way around they go.</p>

<p>Some systems will employ switches and fuses and such in the input power, and this is best handled by the live connection, not the neutral, so a polarized plug helps ensure this.  There are also grounding and 'commoning' issues to be taken into consideration.</p>
","15229"
"When would I use a voltage regulator vs voltage divider?","21659","","<p>When would you use a voltage regulator vs a resistor voltage divider?  Are there any uses for which a resistor divider is particularly bad?</p>
","<p>These two circuits types have very different applications.</p>

<p>A resistor divider is generally used to scale a voltage so that it can be sensed/detected/analysed more easily.</p>

<p>For example, say you want to monitor a battery voltage.  The voltage may go as high as 15V.  You are using a microcontroller's analog-to-digital converter (""ADC""), which is using 3.3V for its reference.  In this case, you may choose to divide the voltage by 5, which will give you up to 3.0V at the input of the ADC.</p>

<p>There are a couple of drawbacks.  One is that there is always current flowing through the resistors.  This is important in power-constrained (battery powered) circuits.  The second problem is that the divider can't source any significant current.  If you start drawing current, it changes the divider ratio, and things don't go as planned :)  So, it's really only used to drive high-impedance connections.</p>

<p>A voltage regulator, on the other hand, is designed to provide a fixed voltage regardless of its input.  This is what you want to use to provide power to other circuitry.</p>

<p>As far as creating multiple voltage rails: For this example, let's assume that you are using switching regulators that are 80% efficient.  Say that you have 9V, and want to produce 5V and 3.3V.  If you use the regulators in parallel, hooking each one up to 9V, then both rails will be 80% efficient.  If, however, you create 5V and then use that to create 3.3V, then your 3.3V efficiency is (0.8 * 0.8) = only 64% efficient.  Topology matters!</p>

<p>Linear regulators, on the other hand, are assessed differently. They simply lower the output voltage, for any given current. The power difference is wasted as heat. If you have 10V in, and 5V out, then they are 50% efficient.</p>

<p>They have their benefits, though! They are smaller, less expensive, and less complicated.  They're electrically quiet, and create a smooth output voltage. And, if there isn't much difference between the input and output voltages, then the efficiency can top a switching supply.</p>

<p>There are ICs which provide multiple regulators.  Linear Tech, Maxim Integrated, Texas Instruments, all have a good selection.  The LTC3553, for example, provides a combination of a Lithium battery charger, a switching buck regulator, and a linear regulator.  They have  flavors with or without the charger, some with two switchers and no linears, some with multiple linears...</p>

<p>One of my current products uses a 3.7V battery, and needs 3.3V and 2.5V.  It was most efficient for me to a linear for the 3.3V, and a switcher for the 2.5V (fed by the battery, not the 3.3V rail).  I used the LTC3553.</p>

<p>You'll want to spend some time on their respective website's product selector tools.</p>

<p>Good luck!</p>
","106725"
"ATMega8: why do VCC and AVCC have to be connected?","21654","","<p>I often read that it is good practice to connect VCC with AVCC. Even in the ATMega8 datasheet it says so:</p>

<blockquote>
  <p>AVCC is the supply voltage pin for the A/D Converter, Port C (3..0),
  and ADC (7..6). It should be externally connected to VCC, even if the
  ADC is not used. If the ADC is used, it should be connected to VCC
  through a low-pass filter. Note that Port C (5..4) use digital supply
  voltage, VCC. </p>
</blockquote>

<p>But nowhere I can find an explanation as to <strong>why</strong> they have to be connected.
A simple circuit for blinking a LED works without connecting VCC and AVCC. </p>

<p>Do I just have to accept it, or is there a good reason?</p>
","<p><strong>Mainly, it has to be connected because the manufacturer says it should.</strong></p>

<p>Aside from that, they should for full operation of the chip (all ports/pins), to prevent floating pin issues on the AVCC side, to prevent noise on the digital side. There are issues where leaving the AVCC side unpowered causes parasitic power draw and can destablize the internal clock, or can prevent stable startup.</p>

<p>Atmel designers have decided that having a separate Analog VCC and Ground is the best way of allowing relatively noise free analog section, by allowing users to add filtering and separation of the Digital and Analog Planes, even inside the ATmega. It's not just the ATMega8, afaik all ATMegas and even some ATTinys have this design.</p>
","86219"
"DC biasing audio signal","21632","","<p>I have seen a few different ways of adding DC bias to an audio signal. I have simulated them and they all give me similar results, but I cant Figure out is why choose A over B or C. My audio source will be a Line Level Audio -2V to +2V AC passed through a 220uF coupling cap and then a low pass filter(RC, 2 pole). 
edit -The signal will be read by an ADC</p>

<p>First way is using a Voltage divider, <a href=""https://electronics.stackexchange.com/questions/9160/simple-biasing-circuit"">Simple Biasing Circuit</a></p>

<p><img src=""https://i.stack.imgur.com/zi93G.png"" alt=""enter image description here""></p>

<p>This is pretty self explanatory and i understand how it work. I have also seen this same design using Diode but could not find the example.</p>

<p>Next example - <a href=""https://electronics.stackexchange.com/questions/5315/how-to-read-an-audio-signal-using-atmega328"">How to read an audio signal using ATMega328?</a> - picture is from endolith's answer.</p>

<p><img src=""https://i.stack.imgur.com/qFZtK.png"" alt=""enter image description here""></p>

<p>another one that i have seen is <a href=""https://electronics.stackexchange.com/questions/2239/i-dont-quite-understand-this-fet-bjt-preamp-circuit"">I don&#39;t quite understand this FET-BJT preamp circuit</a>
And the schematic is for a pre-amp, and there are 2 versions and both add a bias.</p>

<p><img src=""https://i.stack.imgur.com/wWB8h.png"" alt=""enter image description here""></p>

<p>My question is what is the best practice for adding the bias to an audio signal? what are some of the other ways to add a DC bias to the signal? </p>

<p><strong>Edit/update</strong> Looking at the answers - using the second one looks like it will work best for my application, using something like this- is there any other improvements I can make? other then Stable Vref/power rails.<img src=""https://i.stack.imgur.com/QNBaJ.jpg"" alt=""enter image description here""></p>
","<p>Don't use the first circuit.  Any noise or spikes on the power supply will be mixed with your signal.  Because the bias point is connected directly to the signal, you can't filter out power supply noise without also filtering out the signal.</p>

<p>Do use the second circuit.  It produces a mid-point voltage that is tightly coupled to ground, so the DC component is half the supply, but the AC component (noise and spikes) is filtered out by the capacitor.  That's not a complete circuit, though, you still need to connect it to your signal.</p>

<p><a href=""http://www.falstad.com/circuit/#$+1+5.0E-6+51.8012824668342+50+5.0+50%0Ar+288+64+288+160+0+10000.0%0Ac+288+64+432+64+0+1.0E-5+-2.5784348823538754%0Ar+432+64+432+160+0+10000.0%0AR+288+64+240+64+0+1+40.0+2.0+0.0+0.0+0.5%0AO+432+64+480+64+0%0Ag+288+160+288+176+0%0Ax+185+69+216+73+0+15+input%0AR+432+160+432+192+0+0+40.0+2.5+0.0+0.0+0.5%0Ao+3+64+0+34+2.0458691299350886+3.1966705155235764E-4+0+-1%0Ao+4+64+0+34+8.183476519740355+4.8828125000000005E-155+1+-1%0A"" rel=""noreferrer"">This is what you're trying to do</a>:</p>

<p><img src=""https://i.stack.imgur.com/w2ntG.png"" alt=""simple DC biasing""></p>

<p>The output is the same as the input, just shifted upward by 2.5 V.  The resistor on the input ensures that the input side of the capacitor is at 0 VDC, to prevent pops during connection.  The resistor on the output side of the AC coupling cap biases that side to the DC bias voltage.  If your circuit already has a clean, low impedance DC bias voltage source, connect to that.  Otherwise, you can use circuit #2 to generate the bias, <a href=""http://www.falstad.com/circuit/#%24+1+5.0E-6+51.8012824668342+50+5.0+50%0Ar+288+64+288+160+0+10000.0%0Ac+288+64+432+64+0+1.0E-5+-2.4847108304232224%0Ar+432+64+432+160+0+10000.0%0AR+288+64+240+64+0+1+40.0+2.0+0.0+0.0+0.5%0AO+432+64+480+64+0%0Ag+288+160+288+176+0%0Ar+352+240+352+304+0+10000.0%0Ar+352+304+352+368+0+10000.0%0AR+352+240+352+208+0+0+40.0+5.0+0.0+0.0+0.5%0Ag+352+368+352+384+0%0Ac+400+304+400+368+0+1.0E-5+2.521324539263428%0Aw+352+304+400+304+0%0Aw+352+368+400+368+0%0Aw+400+304+432+304+0%0Aw+432+160+432+304+0%0Ax+442+310+491+315+0+20+Vbias%0Ax+176+70+217+75+0+20+input%0Ao+3+64+0+34+2.187250724783012+3.4175792574734563E-4+0+-1%0Ao+4+64+0+34+8.749002899132048+4.8828125E-105+1+-1%0A"" rel=""noreferrer"">like this</a>:</p>

<p><img src=""https://i.stack.imgur.com/d5GGK.png"" alt=""Circuit showing DC biasing of an AC signal""></p>

<p>(The simulation takes a loong time to reach the DC bias value, though.)  </p>

<p>The DC bias voltage is produced by a voltage divider and capacitor to filter out power supply noise.  Note that if you use the same Vbias point for multiple signals, they can crosstalk through this point.  Larger bias cap reduces crosstalk.  Larger coupling capacitor improves low frequency response.  But make them too large and they'll take a long time to charge when you flip the power switch.</p>

<p>The 3rd diagram is not a biasing circuit; it's a microphone preamplifier.</p>
","14416"
"Least expensive way to boost DC voltage","21623","","<p>What would be the least expensive way to boost a DC voltage? </p>

<p>The aim is to convert 1.2&nbsp;V/1.5&nbsp;V (from an AA/AAA cell) to 3.3&nbsp;V to power a small 8-bit microprocessor, like Atmel ATtiny45 or ATtiny2313, and also (if possible) 6&nbsp;V to power a buzzer.</p>

<p>Also, what would be the maximum current one could draw safely from an alkaline battery, after boosting it to 3.3&nbsp;V/6&nbsp;V?</p>

<p>Finally, how I could compute the duration for which the alkaline battery would last, given a certain consumption?</p>
","<p>There's a technique called a <strong>charge pump</strong> with which you can make a voltage doubler, but that will only give you 3V from a 1.5V cell, and even less from the 1.2V cell. I'm still mentioning it because several microcontrollers these days will work with voltages down to 2V. A charge pump can only supply limited current, enough to power the microcontroller, but extra power devices like motors or relays are out. The voltage will also drop under load. So not ideal.
The <a href=""http://www.ti.com/lit/ds/symlink/lm2660.pdf"" rel=""noreferrer"">LM2660</a> is a switched capacitor charge pump.  </p>

<p>The better solution is a <strong>switching regulator</strong>. These exist in two major topologies: ""buck"" to go from higher to lower voltage, and ""boost"" to go from lower voltage to higher. So you want a boost regulator. Major manufacturers include Linear Technologies (more expensive) and National Semiconductor (recently acquired by Texas Instruments). The <a href=""http://www.ti.com/lit/ds/symlink/lm2623.pdf"" rel=""noreferrer"">LM2623</a> can operate on input voltages as low as 0.8V.</p>

<p>About current and battery life. I'll assume you're working with 1.5V batteries. The ones here on my table are rated for 2300mAh, so let's use that value. Also let's say your microcontroller plus extras need 100mA at 3.3V. That's 330mW. If the switcher is 85% efficient that means it draws 330mW/0.85 = 390mW from the battery. That's at 1.5V, so you'll draw 260mA from the battery. The battery is rated at 2300mAh, then your device can run for 2300mAh/260mA = 9 hour on one charge.<br>
If you plan to load the battery rather heavily, I would remain below 2300mA, which will drain it in 1 hour.</p>
","21811"
"Advantage or disadvantages of SMD over Through hole design in high frequencies?","21571","","<p>I know this is an elementary question.</p>

<p>I know that SMD design has the advantage of smaller board size but I dont know which design works better in higher frequencies. </p>
","<p>It depends on your design but if I wanted use a design for high frequencies, I used through hole just for power/heating parts and used SMD for the rest because SMD design can reduce inductance and resistance of component parts .</p>

<p>Advantages of SMD:</p>

<p>1-Smaller components.</p>

<p>2- Much higher component density (components per unit area) and many more connections per component.</p>

<p>3-Lower initial cost and time of setting up for production.
Fewer holes need to be drilled.</p>

<p>4-Simpler and faster automated assembly.</p>

<p>5- Small errors in component placement are corrected automatically as the surface tension of molten solder pulls components into alignment with solder pads.</p>

<p>6-Components can be placed on both sides of the circuit board.</p>

<p>7-Lower resistance and inductance at the connection; consequently, fewer unwanted RF signal effects and better and more predictable high-frequency performance.</p>

<p>8-Better mechanical performance under shake and vibration conditions.</p>

<p>9-Many SMT parts cost less than equivalent through-hole parts.</p>

<p>10-Better EMC compatibility (lower radiated emissions) due to the smaller radiation loop area (because of the smaller package) and the smaller lead inductance.</p>

<p>Disadvantages of SMD:</p>

<p>1- Manual prototype assembly or component-level repair is more difficult</p>

<p>2-SMDs cannot be used directly with  breadboards </p>

<p>3-SMDs' solder connections may be damaged by potting compounds going through thermal cycling.</p>

<p>4- SMT is unsuitable for large, high-power, or high-voltage parts, for example in power circuitry.</p>

<p>5-SMT is unsuitable as the sole attachment method for components that are subject to frequent mechanical stress</p>
","84948"
"Which configuration is better for pulling down an NPN transistor's base?","21547","","<p>I was discussing on pull down resistors with a colleague of mine. Here are the two configurations for transistor as a switch. </p>

<p>The input signal can either come from a microcontroller or an another digital output to drive a load, or from an analogue signal to give a buffered output from the collector of the transistor to the microcontroller.</p>

<p>On the left, with Q1, is my colleague's configuration. He states that:</p>

<ul>
<li>A 10K resistor is needed directly in the base to prevent the Q1 from switching ON unintentionally. If the configuration on the right, with Q1, is used, then the resistance will be too weak to pull the base down. </li>
<li>R2 also protects \$V_{BE}\$ from over-voltage and give stability in case of temperature changes.</li>
<li>R1 protects from over-current to the Q1's base, and will be a bigger value resistor in case the voltage from <code>""uC-out""</code> is high (in example +24V). There is going to be a voltage divider formed, but that doesn't matter as the input voltage is high enough, already.</li>
</ul>

<p>On the right, with Q2, is my configuration. I think that:</p>

<ul>
<li>Since an NPN transistor's base is not a high impedance point like a MOSFET or a JFET, and the \$H_{FE}\$ of the transistor is less than 500, and at least 0.6V is needed to turn the transistor ON, a pull-down resistor is not critical, and in most cases is not even needed.</li>
<li>If a pull-down resistor is going to be put in the board, then the value of exact 10K is a myth. It depends on your power budget. A 12K would do fine as well as a 1K.</li>
<li>If the configuration on the left, with Q1, is used, then a voltage divider is created and may create problems if the input signal, that is used to switch the transistor ON, is low.</li>
</ul>

<p>So, to clarify things, my questions are:</p>

<ol>
<li>Is 10K pull-down resistor a rule-of-thumb that I <em>should</em> apply everytime? What are the things to consider when determining a pull-down resistor's value?</li>
<li>Is the pull-down resistor really needed in every application? In what cases the pull-down resistor is needed?</li>
<li>Which configuration would you prefer and why? If none, what would be a better configuration?</li>
</ol>

<p><img src=""https://i.stack.imgur.com/FhWFA.png"" alt=""NPN Configurations""></p>
","<p>Summarised Solution:</p>

<ul>
<li><p>The two configurations are close to equivalent.  </p></li>
<li><p>Either would work equally well in almost all cases.  </p></li>
<li><p>In a situation where one was better than the other the design would be excessively marginal for real world use (as anything so crucial to make the two differ substantially means the operation is ""right on the edge""). .</p></li>
<li><p>\$R_{2}\$ or \$R_{4}\$ are needed only when \$V_{in}\$ can be open circuit, which in that case they are a good idea. Values up to about 100K are probably OK in most cases. 10k is a good safe value in most cases. </p></li>
<li><p>A secondary effect in bipolar transistors (which I have alluded to in my answer) means that R2 and R4 may be needed to sink Icb reverse bias leakage current. If this is not done then it will be carried by the be junction and can cause device turn on. This is a genuine real world effect which is well known and well documented but not always well taught in courses. See my answer addition.</p></li>
</ul>

<hr>

<p>Left hand case:  </p>

<ul>
<li>Drive voltage is decreased by \$\frac{10}{11}\$, which means 9% less.  </li>
<li>Base sees 10K to ground, if input is open circuit.  </li>
<li>If input is LOW, then base sees about 1K to ground. Actually 1K//10K = essentially the same.</li>
</ul>

<p>Right hand case:  </p>

<ul>
<li>Drive = 100% of \$V_{in}\$ is applied via 1K.  </li>
<li>Base sees 10K to ground if \$V_{in}\$ is open circuit. (as opposed to 11K).  </li>
<li>If the input is LOW, base sees 1K, which is essentially the same.</li>
</ul>

<p>R2 and R4 act to shunt the base leakage current to ground. For low power or small signal jellybean transistors, up to several Watts rating, this current is very small, and usually will not turn the transistor ON, but it just might in extreme cases - so say 100K would usually be enough to keep the base LOW. </p>

<p>This only applies if \$V_{in}\$ is open circuit. If \$V_{in}\$ is grounded, which means it is LOW, then R1 or R5 are from base to ground and R2 or R4 are not needed. Good design includes these resistors if \$V_{in}\$ may <strong>ever</strong> be open circuit (e.g. a processor pin during startup may be open circuit or undefined). </p>

<p>Here is as an example where a very short ""blip"" due to a pin floating was of major consequence:  A very long time ago, I had a circuit controlling an 8 track open reel data tape drive. When the system was first turned on the tape would run backwards at high speed and despool. This was ""very very very annoying"". The code was checked and no fault was found. It turned out that the port drive went open circuit as the port initialized and this allowed the floating line to be pulled high by the tape deck which put a rewind code on the tape port. It rewound! The initialisation code did not explicitly command the tape to stop as it was assumed that it was already stopped and would not start by itself. Adding an explicit stop command meant that the tape would twitch but not despool.(Counts on fingers of the brain - hmmm 34 years ago. (That was at the very start of 1978 - now almost 38 years ago as I edit this answer). Yes, we had microprocessors back then. Just :-). </p>

<hr>

<p>Specifics:</p>

<blockquote>
  <p>A 10K resistor is needed directly in the base to prevent the Q1 from switching ON unintentionally. If the configuration on the right, with Q1, is used, then the resistance will be too weak to pull the base down.</p>
</blockquote>

<p>No! </p>

<p>10K = 11K for practical purposes 99.8% of the time, and even 100k would work in most cases.</p>

<blockquote>
  <p>R2 also protects VBE from over-voltage and give stability in case of temperature changes.</p>
</blockquote>

<p>No practical difference in either case. </p>

<blockquote>
  <p>R1 protects from over-current to the Q1's base, and will be a bigger value resistor in case the voltage from ""uC-out"" is high (in example +24V). There is going to be a voltage divider formed, but that doesn't matter as the input voltage is high enough, already.</p>
</blockquote>

<p>Some merit.  </p>

<p>R1 is dimensioned to provide desired base drive current so yes.  </p>

<p>\$R_{1} = \dfrac{V}{I} = \dfrac{(Vin - Vbe)}{I{desired\, base\, drive}}\$  </p>

<p>As \$V_{BE}\$ low and you design for more than enough current, then:</p>

<p>\$R_{1} \cong \dfrac{Vin}{Ib_{desired}}\$  </p>

<p>\$I_{base \ desired} &gt;&gt; \frac{Ic}{\beta}\$ - where \$\beta\$ = current gain.  </p>

<p>If \$\beta_{nominal} = 400\$ (eg BC337-40 where \$\beta =\$ 250 to 600) then  design for \$\beta \leq 100\$  unless there are special reasons not to.  </p>

<p>For instance, if \$\beta_{nominal} = 400\$ then \$\beta_{design} = 100\$.  </p>

<p>If \$Ic_{max} = 250mA \$ and \$V_{in} = 24V \$ then</p>

<p>$$I_b = \frac{I_c}{\beta} = \frac{250}{100} = 2.5mA $$
$$ R_b = \frac{V}{I} = \frac{24V}{2.5mA} = 9.6k \Omega$$</p>

<p>We could use 10k, as beta is conservative but 8.2k or even 4.7k is ok.</p>

<p>$$ Pr_{4.7k} = \frac{V^2}{R} = \frac{24^2}{4.7k} = 123mW $$</p>

<p>This would be ok with a \$\frac{1}{4}W\$ resistor <strong>but</strong> 123mW may not be totally trivial so one <strong>may</strong> wish to use the 10k resistor instead.</p>

<p>Note that switched collector power = V x I = 24 x 250 = 6 Watts.</p>

<blockquote>
  <p>On the right, with Q2, is my configuration. I think that:</p>
  
  <p>Since an NPN transistor's base is not a high impedance point like a MOSFET or a JFET, and the HFE of the transistor is less than 500, and at least 0.6V is needed to turn the transistor ON, a pull-down resistor is not critical, and in most cases is not even needed.</p>
</blockquote>

<p>As above - sort of, yes, BUT. ie base leakage will bite you sometimes. Murphy says that without the pull-down it will accidentally fire the potato cannon into the crowd just before the main act, but that a 10k to 100k pull-down will save you.</p>

<blockquote>
  <p>If a pull-down resistor is going to be put in the board, then the value of exact 10K is a myth. It depends on your power budget. A 12K would do fine as well as a 1K.</p>
</blockquote>

<p>Yes!<br>
 10k = 12k = 33k. 100k MAY be getting a bit high.<br>
 Note that all this applies only if Vin can go open circuit.<br>
 If Vin is either high or low or anywhere in between then the path through R1 or R5 will dominate.</p>

<blockquote>
  <p>If the configuration on the left, with Q1, is used, then a voltage divider is created and may create problems if the input signal, that is used to switch the transistor ON, is low.</p>
</blockquote>

<p>Only in very very very very extreme cases as shown.<br>
 $$ I_{R1} = \frac{V}{R} = \frac{V_{in}-V{be}}{R1} $$<br>
 $$ I_{R2} = \frac{V_{be}}{R_2} $$  </p>

<p>So the fraction that R2 will ""steal"" is </p>

<p>$$ \frac{I_{R2}}{I_{R1}} = \frac{\frac{V_{be}}{R_2}} { \frac{V_{in}-V_{be}}{R_1}} $$<br>
 $$  \frac{I_{R2}}{I_{R1}} = \frac{R_1}{R_2} \times \frac{V_{be}}{V_{in}-V_{be}}   $$</p>

<p>If \$R_1 = 1k \$, \$R2 = 10K\$ then $$\frac{R_1}{R_2} = 0.1 $$<br>
and if \$V_{be} = 0.6V \$, \$V_{in} = 3.6V \$ (to make sums clearer) then 
$$ \frac{V_{be}}{V_{in}-V_{be}} = \frac{0.6}{3.0} = 0.2 $$ 
So overall fraction of drive lost is \$ 0.1 \times 0.2 = 0.02 = 2\% \$<br>
i.e even with 1k/10k the loss of drive is minimal.</p>

<p>If you can judge Beta and more so closely that 2% drive loss matters then you should be in the space program. </p>

<ul>
<li>Orbital launchers work with safety margins in the 1% - 2% range in some key areas. When your payload to orbit is 3% to 10% of your launch mass (or less) then every % of safety margin is a bite out of our lunch. The latest North Korean orbital launch attempt used an actual safety margin of -1% to -2% somewhere critical, apparently, and ""summat gang aglae"". They are in good company - the US and USSR lost many many many launchers in the early 1960s. I knew a man who used to build atlas missiles early on. What fun they had. One Russian system NEVER produced a successful launch - too complex.) UK launched one satellite ever FWIW.</li>
</ul>

<hr>

<p>ADDED</p>

<p>It has been suggested in comments that</p>

<blockquote>
  <p>R2 and R4 are never needed, becase an NPN is a CURRENT-controlled device. R2 and R4 would only make sense for VOLTAGE-controlled devices, like MOSFETs</p>
</blockquote>

<p>and</p>

<blockquote>
  <p>How can a pull-down be needed when the MCU output is hi-Z, and the transistor is controlled by current? You didn't say the ""who"". Ok. You don't want to say the ""why"", either? </p>
</blockquote>

<p>There is an important secondary effect in bipolar transistors which results in R2 and R4 having a useful and sometimes essential role. I'll discuss the R2 version as it is the same as the R4 version but slightly ""purer"" for this case (ie R1 becomes irrelevant).</p>

<p>If Vin is open circuit then R2 is connected from base to ground. R1 has no effect. base APPEARS to be grounded with no signal source.<br>
 However, the CB junction is effectively a reverse biased silicon diode. Reverse leakage current will flow through the CB diode into the base. If no external path to ground is provided this current will then flow via the forward biased base-emitter diode to ground.  This current will notionally result in a collector current of Beta x Icb leakage but at such low currents you need to look at the underlying equations and/or published device data.
 <a href=""http://61.222.192.61/mccsemi/up_pdf/BC337~338(TO-92).PDF"" rel=""noreferrer"">A BC337 - datasheet here</a> has a Icb cutoff of about 0.1 uA with Vbe = 0.<br>
 Ice0 = collector base current is about 200 nA in this case.<br>
 Vc is 40V in that example but the current approximately doubles per 10 degrees C rise and that spec is at 25C and the effect is relatively voltage independent. The two are closely related.  At around 55c you may get 1 uA - not much. If usual Ic is 1 mA then 1 uA is irrelevant. Probably.<br>
 <strong>I have seen real world circuits where omission of R2 caused spurious turn on problems.</strong><br>
 With R2 = say 100k then 1 uA will produce 0.1V voltage rise and all is well. </p>
","30020"
"Transformer Design: How do I set an N1/N2 ratio by means of selecting winding inductances?","21544","","<p>I'm trying to simulate a transformer by using a circuit simulation software. In my requirements sheet, three specifications are given for the transformer:</p>

<ol>
<li>Maximum power (\$P_m\$) of the transformer will be 4VA.</li>
<li>Magnetizing inductance (\$L_?\$) will be 30\$\mu\$H.</li>
<li>\$\frac{N_1}{N_2}\$ ratio will be 4.</li>
</ol>

<p>(I don't know what ""magnetizing inductance"" is. Is there a term like that? Can it be mutual inductance (\$L_m\$)? Are \$L_m\$ and \$L_?\$ the same parameters?)</p>

<p>The turns ration must be a function of these parameters, isn't it?</p>

<p>Like:</p>

<p>\$\frac{N_1}{N_2}=f(P_m, L_1, L_2, L_m)\$</p>

<p>Where;<br>
\$L_1\$: Inductance of the primary winding.<br>
\$L_2\$: Inductance of the secondary winding.</p>

<p>My simulation software does not allow me to directly set \$\frac{N_1}{N_2}\$ ratio. Instead, it allows me to set the \$L_1\$, \$L_2\$, \$L_m\$ parameters.</p>

<p>So, my question is, how do I indirectly set the turns ration (\$\frac{N_1}{N_2}\$) by choosing \$L_1\$, \$L_2\$ and \$L_m\$ parameters?</p>
","<p>It sounds like you're dealing with a SPICE simulator.</p>

<p>In SPICE, you define a transformer as a coupled inductor, with the following ratio:</p>

<p>\$\dfrac{N_1}{N_2} = \sqrt{\dfrac{L_1}{L_2}}\$</p>

<p>There's also a coupling factor K that comes into play.</p>

<p>The magnetizing inductance of a transformer is the inductance you measure across the primary winding with the secondaries open-circuit (floating). It's a function of the core material and geometry, air gap and number of turns.</p>

<p>Your \$L_1\$ and \$L_m\$ should be one and the same.</p>
","24866"
"electric chewing gum prank circuit diagram","21541","","<p>I'm new to electronics.</p>

<p>I'm trying to find out how this works out of curiosity.</p>

<p><a href=""http://rads.stackoverflow.com/amzn/click/B0050UNNQS"" rel=""nofollow noreferrer"">http://www.amazon.com/gp/aw/d/B0050UNNQS</a></p>

<p>Does anyone have a circuit diagram for the circuit?
Is the current safe for such a prank?</p>

<p>Internal picture:
<img src=""https://i.stack.imgur.com/glAS9.jpg"" alt=""enter image description here""></p>

<hr>

<p>EDIT: Merged <a href=""https://electronics.stackexchange.com/q/257548/11683"">question from Trever Thompson</a></p>

<p><strong>Help here would be greatly appreciated:</strong>
This question has been asked several times on this site and elsewhere, and it seems as if the posters became satisfied with inaccurate answers.</p>

<p><strong>How on earth do the electric shock prank pens/bubble gum work?</strong><br>
I have no intention of shocking anybody or recreating this circuit, I am simply baffled by how it operates. I have verified that all purported explanations readily available online are inaccurate or incomplete.</p>

<p>The above image shows the only two components in the circuit. I do not know for a fact what the white component is, but I have to assume it is a high value capacitor.</p>

<p><a href=""https://i.stack.imgur.com/RKfO0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RKfO0.png"" alt=""enter image description here""></a></p>

<p>The above image is a literal layout of the circuit. The 50k load is the user's hand. Both switches are closed upon pressing the button. The switch <strong>is</strong> before the capacitor. This is based on closely observing the circuit and is 100% accurate unless someone can prove otherwise. I tested this with varying capacitance and inductance values and was unable to induce a significant current in the load for more than dozens of miliseconds. When testing I moved the virtual switches from the ground to the positive wire. When I move the switch after the capacitor I can have a long lasting current through the load, but the voltage/current are very low.</p>

<p><strong>Edit:</strong> It is beginning to appear as if the white piece (Shown as cap above) is an active component/IC. There may not even be a capacitor in this circuit.</p>

<p><strong>What I know:</strong></p>

<ol>
<li>The device behaves as follows: When the pen is held and the button is pressed a mildly painful electric shock is felt. After about 3 seconds, the pain gradually decreases until it is not longer felt. Upon releasing and pressing again the full shock is felt once again, even if only released for the slightest moment. The button and grip are the electrodes.</li>
<li>It uses 4 1.5V button cells in series (with high internal resistance)</li>
<li>The shrink wrapped component is a tightly wound step up transformer. The   secondary uses extremely thin wire. It apparently is an autotransformer, as it has three leads and is wrapped around one ferrite column.</li>
</ol>

<p><strong>What I think I know:</strong></p>

<ol>
<li>I measured the frequency on the primary with a primitive oscilloscope. It was equal to a couple hundred hz, which is reasonable considering the pain of the shock.</li>
<li>If the frequency is ~200hz, the capacitor (if the white component is a cap) would have to be over 100uF non polarized. This may be possible as I have discovered high capacitance low voltage smd caps. The primary inductance would have to be several mH.</li>
<li>The turn ratio would (I believe) have to be at least 1:90. This surprised me because I read that most autotransformrs have a low ratio. I then encountered higher ratio custom ones (which is more reasonable if varying wire gauges are used).</li>
</ol>

<p><strong>What I want to know:</strong></p>

<ol>
<li>What the white component is. Is it merely a capacitor? Does it serve other functions?</li>
<li>How on earth does this circuit work. It seems so simple and then again I can't explain or emulate its behavior accurately in a simulator...</li>
</ol>

<p>Help will be greatly appreciated, as this has kept me occupied for a long time.</p>
","<p>Here's a little circuit that might fit the bill</p>

<p><img src=""https://i.stack.imgur.com/sz0XL.png"" alt=""enter image description here""></p>

<p>The battery charges the capacitor (C1) through a resistor (R1). When the switch is operated the charge from the capacitor is dumped into the primary of the transformer. This produces a damped oscillation (LC circuit). The transformer secondary has a lot more turns than the primary and so the VOLTAGE part of the short burst of alternating current in the primary will be magnified by the turns ratio. The current part will be diminished. The total energy delivered to the 'shock' can be estimated from the energy store in the capacitor. (0.5 * C *V^2). For the values given = 0.5 * 22 * 10^-6 * 9^2  Joules or 891 micro joules - pretty harmless. The transformer is a small audio output type but others can be used such as the trigger transformer for a flash tube (hacked from a cheap camera) or you could even wind you own on a ferrite ring.</p>
","72742"
"Metal Halide circuit without a capacitor?","21533","","<p>I recently inherited an awesome 4foot 2x250Watt metal halide lighting unit for my marine tank.  </p>

<p>The previous owner wanted to dump it because one of the lights was flickering and he could not really figure out why.</p>

<p>So after I got it; I stripped it down and realised the terminals on the coil transformer were overheated and the wires were not in good contact. I replaced the terminals, made sure there is good contact and re-stripped the wires and made sure they were still up to the job.</p>

<p>I figured out that one of the ignitors was faulty and I need to order a new one. When I could not find the same model I ran into a horde of different ratings, models, packages. In the end I found the one I need. Then looking at some circuits - everybody says there should be a capacitor ... I do not have one? But the one working light does ignite and sustain.</p>

<p>From <a href=""http://holophane.eu.com/_technicalguide.htm"" rel=""nofollow noreferrer"">this page</a> I can say my circuit is 1 - but without the capacitor?</p>

<p><img src=""https://i.stack.imgur.com/X0glS.gif"" alt=""enter image description here""></p>

<p>Looking at the lookup 250HQI/MBI it says I should have a 35 µF cap before the core transformer?
 I have read various articles and they say that the light won't ignite WITHOUT this capacitor but mine does - Also I have two ballasts and ignitors.</p>

<p>Should I put a cap in there to help the two ballasts? </p>

<p>EDIT:</p>

<p>I just bought two new ignitors. </p>

<p>One is a <a href=""http://www.ebay.co.uk/itm/110944845533?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1439.l2649"" rel=""nofollow noreferrer"">standard ignitor</a> (&lt;250W) for £5 (no cap shown in schematic)
<img src=""https://i.stack.imgur.com/OC5dj.jpg"" alt=""enter image description here""></p>

<p>And a <a href=""http://www.tridonic.com/com/en/products/339.asp"" rel=""nofollow noreferrer"">newer electronic ignitor</a> for £20 (&lt;1000W) (shows cap in schematic)</p>

<p><img src=""https://i.stack.imgur.com/W0mRE.jpg"" alt=""enter image description here""></p>

<p>I wired this one in - Nothing happens! :( Going back.</p>
","<p>There are several types of ballasts - and yes, most of them require a capacitor for High Pressure Sodium bulbs but not for Metal Halide (Mercury) bulbs!</p>

<hr>

<p><strong>REACTOR BALLAST (R)</strong> </p>

<p>Used only with 120volt input (like USA) and is the cheapest ballast to produce as it requires no capacitor or ignitor (unless strictly specified) but is a very un efficient one with a low power factor of 50% (can also be found in high power factor but not popular)</p>

<p><strong>HIGH REACTANCE AUTOTRANSFORMER (HX)</strong></p>

<p>Is a reactor ballast (as above) with an extra coil attached to regulate voltage like 240volt down to 120volt  - There are high power factor and low power factor types and typically only high power factor (>80%) ballast require a capacitor with a matched valued in order to operate properly. But the normal power factor ballast 50% does not need a matched capacitor; But you can put one in if you want; However, this does not provide regulation to the lamp, and may draw a higher current during open circuit operation.</p>

<p>These are slightly higher in cost but still cheaper than regulated ballasts. They draw more start current and are poorly regulated.</p>

<p><strong>CONSTANT WATTAGE AUTOTRANSFORMER (CWA)</strong></p>

<p>Combines the best features of the High Reactance and Magnetic Regulator Ballast. It has a high power factor of over 90%,starting current is low, costs less than a magnetic ballast and losses are low. But they cost more and weigh a lot.[I could not find anything about capacitor on these types.. needs more info here] </p>

<p><strong>REGULATOR (ISOLATED SECONDARY)–“MAGNETIC REGULATOR” BALLAST (REG-LAG)</strong></p>

<p>It is a three winding ballast similar in design to the older mercury ballast design, but provides regulation with line voltage variation of + or – 10% from nominal. It also has a capacitor in the circuit for wattage control and is a High Power ballast.  This type has better wattage control and is safer as the 3rd coil is isolated but is the most expensive and prone to frequent loss.</p>

<p><strong>ISOLATED REGULATOR BALLAST (CWI)</strong></p>

<p>Is similar to the Auto Regulator Ballast in performance. The Isolated Regulator Ballast electrically isolates the lamp socket and capacitor from the line. The Magnetic Regulator Ballast also isolates the lamp circuit from the line and additionally improves lamp wattage regulation, but may cause an increase in input watt. It provides good wattage control and is cheaper than the magnetic ballast and ballast losses are average.</p>

<p><strong>CAPACITORS</strong></p>

<blockquote>
  <p>Capacitors are used as a power factor correcting or current regulating
  device and provide the control necessary to ensure proper lamp and
  ballast operation. Different wattages, voltages, and ballast types
  require a variety of different capacitor values. The ballast I.D.
  label specifies the microfarad and voltage rating needed to operate
  properly. If the capacitor is incorrectly wired, improper operation of
  the fixture as well as other component failure could result.</p>
</blockquote>

<p><strong>IGNITORS</strong></p>

<p>You have <a href=""http://www.ebo.vossloh-schwabe.com/eng/technische_hinweise/entladungslampen/157.php"" rel=""nofollow noreferrer"">two types of ignitor circuit</a> that rely on the type of ballast you have. There is a super imposed and pulse ignitor. No mention of a capacitor.</p>

<ul>
<li><strong>Superimposed ignitor circuits</strong> is where the ignitor creates the high voltages without the ballasts help. - The ballasts in this circuit type have two wires(output) and is called untapped. </li>
<li><strong>Pulse ignitor circuits</strong> use a tapped ballast that has a third (output) wire which is wired into the ignitor; But has a common place at the live side of the bulb. The ignitor will decide when to pulse high voltage that are generated at the ballast! </li>
</ul>

<p><img src=""https://i.stack.imgur.com/1j7Gy.gif"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/4n8i7.gif"" alt=""enter image description here""></p>

<p>Which one is better? Not sure.. some say the super imposed last longer but make some humming noise as where the pulse ignitor can use silent electronic ingitors. Your choice.</p>

<hr>

<p>So based on those types I identified that I am using a superimposed circuit(the old style) Since it originally came with no capacitor it must be an HX ballast on normal power factor and only super imposed ignitors up to 4.5kilovolts will work within that ballast. </p>

<p>So I cannot use the electronic ignotor I bought because my ballast does not have a high voltage coil. This more expensive electronic ballast is better because it provides a clean high frequency on high voltage start-up current that reduces lamp smouldering and increases its overall life.</p>

<p>End of the day I still don't know what capacitor I should use but now I know that I do not need one. In my configufration it is optional and will help increase the life of my ballast if it is heavily used but not much more. You can buy dry cell caps rated for you system but it only seems to be used in specific ballasts configurations.</p>

<p>Off course the <strong>right thing to do</strong> is replace these old ballasts with to be used with electronic pulse igntors - that are silent, more power efficient, have built in protection circuits for it self and the bulbs and come in a single package this is much lighter and smaller than all those mentioned above; but they are the most expensive to buy!</p>

<hr>

<p><a href=""http://www.chloridesys.com/pdfspecs/TI-51030.pdf"" rel=""nofollow noreferrer""><sup>Ref1</sup></a> <a href=""http://www.hydroponics.net/productdocs/HID_Pocket_Guide.pdf"" rel=""nofollow noreferrer""><sup>Ref2</sup></a> <a href=""http://www.venturelighting.com/techcenter/ballasttypes.html"" rel=""nofollow noreferrer""><sup>Ref3</sup></a> <sup>And the rest of the internet...</sup></p>
","47077"
"What is Copper Thieving and why use it?","21500","","<p>On many boards I've seen, there are little copper dots used for the purpose of ""Copper Thieving"". They're small round copper dots connected to nothing and arranged in an array. Supposedly they're for balancing the copper on the boards to improve manufacturability, but no explanation I've heard has convinced me that they're needed or useful. What are they for and do they actually work?</p>

<p>Below is an example with squares.</p>

<p><img src=""https://i.stack.imgur.com/1xsTI.png"" alt="" Example with Squares""></p>
","<p>Copper dots (or grid/solid fill) are used mainly to balance the thermal properties of the board, to minimize twist and warp as the board goes through the thermal cycling associated with reflow and improving yield.</p>

<p>A secondary purpose for them is to reduce the amount of copper that needs to be etched away from the board, balancing the etching rates across the board and helping to make the etching solution last longer.</p>

<p>If the PCB designer did not explicitly ""pour"" copper fill into the open areas of the board's outer layers, the fabrication house will often add the small disconnected dots, because these will have the least effect on the <em>electrical</em> properties of the board.</p>
","85635"
"How do I calculate needed pixel clock frequency?","21485","","<p>If I want to have a resolution of X * Y pixels, updating in frequency f. How do I calculate the pixel clock speed?</p>

<p>Example:
1280 x 1024 @ 85Hz usually have a pixel clock of 157.5 MHz, but how do I calculate the needed pixel clock?</p>

<p>Need to know to select DAC and DSP.</p>

<p><strong>Edit:</strong>
Usually the Front porch is: 16 pixels 1 line, Synch width: 144 pixels 3 lines. So this is a total of 1688 x 1066 @ 85Hz. But, still the pixel clock <em>formula</em> should be the same regardless of the extra lines and pixels.</p>
","<p>There is more pixels in the video signal than just the x * y * refresh_rate would imply.  Back in the bad old days of CRT's, it would take time for the electron beam to move from the end of the current line to beginning of the next.  Likewise, it would take time for the beam to move from the bottom of th screen to the top for the next frame.  The time it took was built into the video signaling standard, and essentially took the form of pixels that are never seen.  </p>

<p>Without knowing the info on these blank pixels (sometimes called ""overscan""), you cannot calculate the pixel clock required.</p>

<p>The best way to figure this stuff out is to Google for the approximate video standard you're trying to do, or look at the datasheet for the screen you are trying to drive.  </p>
","14830"
"What do I need to know about oscilloscope probes?","21463","","<p>I've run across a Hitachi V-355 oscilloscope, and a friend who's willing to give me a deal if I want it. Unfortunately, there are no probes that come with it. I was searching for probes, only to learn that they're STUPID expensive (either that or I'm STUPID cheap), and I can't find any to borrow. </p>

<p>So here's my thought: I have a ton of test probes from, say, my multimeter. I have a stable of patch cables in every possible banana plug/alligator clip/springy pin clip configuration possible. I also have a whole mess of BNC connectors and adapters in my video cable repair kit.</p>

<p>So here's my question: Can I just solder an alligator clip cable to a BNC connector and have an oscilloscope probe? Or is there something special going on inside those probes that makes 'em cost $50.00? </p>

<p>If the latter, and I end up biting the bullet and getting real, honest and for true oscilloscope probes, what are some things I need to be aware of when shopping?</p>
","<p>Oscilloscope probes aren't just pieces of wire with pointy end attached to them. Typical probe will in addition to the pointy stick and the alligator clip have the input attenuation circuitry and impedance matching circuitry inside. </p>

<p>Basically the oscilloscope input front-end has its own internal capacitance and its own internal resistance. In order to prevent signal distortion, the capacitance of the probe needs to match the capacitance of the scope. If it isn't well matched, you'll get overshooting or undershooting. Most scopes have on their front a probe compensation connector which provides test signal that can be used to tune the capacitance of the probe. 
Here's image of the effect:</p>

<p><img src=""https://i.stack.imgur.com/8kHRA.png"" alt=""probe compensation""></p>

<p>The probe's resistance provides input attenuation and it works together with the input resistance of the oscilloscope. Usual 1x/10x probes will have a switch that inserts what's usually a \$9 \mbox{ } M \Omega\$ resistor in series with the signal. In the scope, there's usually a \$1 \mbox{ } M \Omega \$ resistor for input attenuation. In the 1x mode, you only have that resistor, while in the 10x mode, both resistors provide attenuation of \$10 \mbox{ } M \Omega\$.</p>

<p>In parallel with the probe's input resistance you have the compensation capacitor. When buying a probe, you should pay attention that the capacitor's value can match the value of scope's input capacitance. </p>

<p>Another important part of the probe is the tip capacitance. It's modeled as a capacitor in parallel with the signal. It's purpose is to slow down the rise time of the signal entering the probe, which is in general considered a negative effect. The tip capacitance probably won't be of too much importance for a scope such as the one you're considering, but for higher frequencies, it could cause problems when accurate measurement of rise time is needed. </p>

<p>Some probes have what's called high frequency compensation too. You probably don't want to pay for such a probe, but I'll just mention it for completeness. The high frequency compensation part will usually be in the BNC cable connector of the probe and consists of a series connection of a resistor and variable capacitor placed parallel to the signal path. It's used to fix problems with impedance increase with frequency due to cable inductance. Basically the impedance will decrease more or less linearly with the frequency until we reach the resonant frequency of the probe. After that, it will increase. The compensation system is used to move the resonant frequency point away from the frequency range we're interested in using the scope with.</p>

<p>Finally, there's a free book available from Tektronix (if you want to give them your e-mail address) which explains how probes work in great detail. It's called ABC of probes and is currently available from <a href=""http://www1.tek.com/Measurement/programs/301892X312611/"">here</a>.</p>
","56145"
"how to use CT to measure current","21443","","<p>I have purchased CT but don't know what his terminals means and how to identify primary and secondary coils terminals. I am software engineer but currently learning pic controller. as for I have read LM35 using pic16f877a and now working to measure load using Current transformer but no achievement until now. Can anyone tell me how to use current transformer to measure current with wiring diagram with explanation. any help would be help full as am trying google since more then 83 hours and have tried few circuits but no help. below are the provided pics of CT. Supplier didn't provided me any technical manual.</p>

<p>I want to measure load of AC current of three phase, which is provided from grid to our office.</p>

<p>If I pass load wire from primary coils which is center hole then I receive AC 1.08v on secondary coil terminals. how Can I connect this to adc of Pic16f877a? </p>

<p><img src=""https://i.stack.imgur.com/PA0iq.jpg"" alt=""CT"">
<img src=""https://i.stack.imgur.com/4VMMB.jpg"" alt=""CT"">
<img src=""https://i.stack.imgur.com/Rqyex.jpg"" alt=""CT with AC Voltage output""></p>

<p>am currently using this circuit to read value with adc of pic16f877a, if it's ok?</p>

<p>Update::</p>

<p>Currently am using provided code to take sampling but value varies from 485 to 535. while constant value without load is still 514. for load I have used iron and made 14 turns in CT as provided in picture. to connect CT I have used @Olin Lathrop provided circuit in one of the answer.   Peter Bennett has suggested to rectify signal is it a case?</p>

<pre><code>set_adc_channel( 1 );
value = read_adc();//Read ADC Value



for(i=0;i&lt;200;i++)
{
   value = read_adc();//Read ADC Value
   temp = value/1024;
   c = 0;
   if(temp &gt; c)
   {
      c = temp;
   }
   delay_ms(2);
}
for(i=0;i&lt;200;i++)
{
   value = read_adc();//Read ADC Value
   temp = value/1024;
   c = 0;
   if(temp &gt; c)
   {
      c = temp;
   }
   delay_ms(2);
}
for(i=0;i&lt;200;i++)
{
   value = read_adc();//Read ADC Value
   temp = value/1024;
   c = 0;
   if(temp &gt; c)
   {
      c = temp;
   }
   delay_ms(2);
}
for(i=0;i&lt;200;i++)
{
   value = read_adc();//Read ADC Value
   temp = value/1024;
   c = 0;
   if(temp &gt; c)
   {
      c = temp;
   }
   delay_ms(2);
}
for(i=0;i&lt;200;i++)
{
   value = read_adc();//Read ADC Value
   temp = value/1024;
   c = 0;
   if(temp &gt; c)
   {
      c = temp;
   }
   delay_ms(2);
}
temp=c;


printf(lcd_putc,""=:%d=:%d=:%d=:%d=:%d:=\n:%f:"", input(PIN_B0), input(PIN_B1), input(PIN_B2), input(PIN_B3), input(PIN_B4), value);
output_low(pin_B7);
delay_ms(2000);
}
</code></pre>

<p><img src=""https://i.stack.imgur.com/5teAJ.jpg"" alt=""circuit to connect with adc""></p>
","<p>From the pictures of the CT it says 60:5A and I'm making a guess that means if you input 60A through the hole, then the output (into a small value burden resistor) will be 5A. </p>

<p>If the max input current <strong><em>is</em></strong> 60A through one phase of your 3-phase supply, the current into your burden resistor (1ohm) will produce a peak-to-peak voltage of 5A x 1ohm x sqrt(2) x 2 Vp-p. This equals 14.142Vp-p. This will be too much for most micros BUT we don't know what your anticipated max input current will be.</p>

<p>Assuming it is 60A you'll need to attenuate the output voltage by a factor of something like 5 to make it work correctly within the limits imposed by the ADC you might use.</p>

<p>EDIT - The 1ohm burden resistor is likely to be the best candidate for adding attenuation. If instead of 1ohm it were 0.2ohm you have, in effect reduced the output voltage by one-fifth and this will now produce 2.828Vp-p  - now use Olin's circuit (shown elsewhere on this page) but with 0.2ohms instead of the 1ohm shown.</p>

<p>Another advantage of reducing the burden to 0.2ohms is power dissipation; with 5A flowing, the power dissipated iin the 0.2ohms resistor is 5W and much more manageable. </p>

<p>I'll also add that the measurement on your meter (picture above) is somewhat confusing. You appear to be measuring 1.06VAC but note you have fed the input wire through the centre of the CT several times and this is not representative of anything really useful.</p>
","61818"
"Ceramic caps vs electrolytic. What are the tangible differences in use?","21434","","<p>A quick google around and all I seem to be able to find are people talking about the physics &amp; the chemistry of the capacitors but <em>not</em> how this affects choosing which to use.</p>

<p>Avoiding talking about the difference in their make-up, and the larger capacities found in electrolytic caps, what are the main thoughts that drive which type of capacitor to use for an application?</p>

<p>For example, why do I see it suggested to use ceramic caps for power decoupling per microprocessor &amp; a larger electrolytic capacitor per board? why not use electrolytic all around?</p>
","<h1>1. Capacitors</h1>

<p>There are a lot of misconceptions about capacitors, so I wanted to briefly clarify what capacitance is and what capacitors do. </p>

<p>Capacitance measures how much energy will be stored in the electric field generated between two different points for a given difference of potential.  This is why capacitance is often called the 'dual' of inductance.  Inductance is how much energy a given current flow will store in a magnetic field, and capacitance is the same, but for the energy stored in an electric field (by a potential difference, rather than current).</p>

<p>Capacitors do not store electric charge, which is the first big misconception. They store energy.  For every charge carrier you force onto one plate, a charge carrier on the opposite plate leaves.  The net charge remains the same (neglecting any possible much smaller unbalanced 'static' charge that might build up on asymetrical exposed outer plates).  </p>

<p>Capacitors store energy in the dielectric, NOT in the conductive plates.  Only two things determine a capacitor's effectiveness: its physical dimensions (plate area and distance separating them), and the dielectric constant of the insulating between the plates.  More area means a bigger field, closer plates mean a stronger field (since field strength is measured in Volts per meter, so the same difference of potential across a much smaller distance yields a stronger electric field).</p>

<p>The dielectric constant is how strong a field will be generated in a specific medium.  The 'baseline' dielectric constant is \$\varepsilon\$, with a normalized value of 1. This is the dielectric constant of a perfect vacuum, or the field strength that occurs through spacetime itself. Matter has a very large impact on this, and can support the generation of much stronger fields.  The best materials are materials with lots of electric dipoles that will enhance the strength of a field generated within the material.  </p>

<p>Plate area, dielectric, and plate separation.  That's really all there is to capacitors.  So why are they so complicated and varied?</p>

<p><strong>They aren't.  Except the ones with much more than thousands of pF of capacitance.</strong>   If you want such ludicrous amounts of capacitance as we mostly take for granted today, such amounts as in millions of picofarads (microfarads), and even order of magnitudes beyond, we are at the mercy of physics.  </p>

<p>Like any good engineer, in the face of limits imposed by the laws of nature, we cheat and get around those limits anyway. Electrolytic capacitors and high capacitance (0.1µF to 100µF+) ceramic capacitors are the dirty tricks we used.</p>

<h1>2. Electrolytic capacitors</h1>

<h3>Aluminum</h3>

<p>The first and most important distinction (for which they're named for) is that electrolytic capacitors use an electrolyte.  The electrolyte serves as the second plate.  Being a liquid, this means it can be directly up against a dielectric, even one that is unevenly shaped.  In aluminum electrolytic capacitors, this enables us to take advantage of aluminum's surface oxidation (the hard stuff, sometimes deliberately porous and dye impregnated for colours, on anodized aluminum which amounts to an insulating Sapphire coating) for use as the dielectric.  Without an electrolytic 'plate' however, the unevenness of the surface would prevent a rigid metallic plate from getting close enough to gain anything advantage from using aluminum oxide in the first place.  </p>

<p>Even better, by using a liquid, the surface of aluminum foil can be roughened, causing a large increase in effective surface area.  Then it is anodized until a sufficiently thick layer of aluminum oxide has formed on its surface.  A rough surface of which all will be directly adjacent to the other 'plate' – our liquid electrolyte.</p>

<p>There are problems, however.  The most familiar one is polarity.  Anodization of aluminum, if you couldn't tell by its similarity to the word <strong>anode</strong>, is a polarity-dependent process.  The capacitor must always be used in the polarity that anodizes the aluminum.  The opposite polarity will allow the electrolyte to destroy the surface oxide, which leaves you with a shorted capacitor.  Some electrolytes will slowly eat away this layer anyway, so many aluminum electrolytic capacitors have a shelf-life.  They are designed to be used, and that use has the beneficial side effect of maintaining and even restoring the surface oxide.  However, with long enough disuse, the oxide can be completely destroyed.  If you must use an old dusty capacitor of unsure condition, it is best to 'reform' them by applying a very low current (hundreds of µA to mA) from a constant current power supply, and let the voltage rise slowly until it reaches its rated voltage.  This prevents the very high leakage current (initially) from damaging the capacitor, and slowly rebuilds the surface oxides until the leakage is hopefully at acceptable levels.</p>

<p>The other problem is that electrolytes are, due to chemistry, something ionic dissolved in a solvent.  Non-polymer aluminum ones use water (with some other 'secret sauce' ingredients added to it).  What does water do when current flows through it? It electrolyses! Great if you wanted oxygen and hydrogen gas, terrible if you didn't.  In batteries, controlled recharging can reabsorb this gas, but capacitors do not have an electrochemical reaction that is reversed.  They're just using the electrolyte as a thing that is conductive.  So no matter what, they generate minute amounts of hydrogen gas (the oxygen is used to build up the aluminum oxide layer), and while very small, it prevents us from hermetically sealing these capacitors.  So they dry out.  </p>

<p>The standard useful life at maximum temperature is 2,000 hours.  That's not very long.  Around 83 days.  This is simply due to higher temperatures causing the water to evaporate more quickly.  If you want something to have any longevity, it is important to keep them as cool as possible, and get the highest endurance models (I've seen ones as high as 15,000 hours).  As the electrolyte dries out, it becomes less conductive, which increases ESR, which in turn increases heat, which compounds the problem. </p>

<h3>Tantalum</h3>

<p>Tantalum capacitors are the other variety of electrolytic capacitors. These use manganese dioxide as their electrolyte, which is solid in its finished form.  During production, manganese dioxide is dissolved in an acid, then electrochemically deposited (similar to electroplating) onto the surface of tantalum powder which is then sintered.  The exact details of the 'magic' part where they create an electrical connection between all the tiny pieces of tantalum powder and the dielectric is not known to me (edits or comments are appreciated!) but suffice it to say, tantalum capacitors are made from tantalum because of a chemistry that permits us to easily manufacture them from a powder (high surface area). </p>

<p>This gives them terrific volumetric efficiency, but at a cost: the free tantalum and manganese dioxide can undergo a reaction similar to thermite, which is aluminum and iron oxide.  Only, the tantalum reaction has <strong><em>much</em></strong> lower activation temperatures - temperatures that are easily and quickly achieved should opposite polarity or an overvoltage event punch a hole through the dielectric (tantalum pentoxide, much like aluminum oxide) and create a short.  This is why you see tantalum capacitors voltage and current derated by 50% or more.  For those unaware of thermite (which is a lot hotter but still not dissimilar to the tantalum and MnO<sub>2</sub> reaction), there is a ton of fire and heat.  It is used to weld railroad rails to each other, and it does this task in seconds. </p>

<p>There are also polymer electrolytic capacitors, which use conductive polymer that, in its monomer form, is a liquid, but when exposed to the right catalyst, will polymerize into a solid material.  This is just like super glue, which is a liquid monomer that polymerizes solid once it is exposed to moisture (either in/on the surfaces it is applied to, or from the air itself). In this way, polymer capacitors can be mostly a solid electrolyte, which results in reduced ESR, greater longevity, and generally better robustness.  They still have some small amount of solvent in the polymer matrix however, and it is needed to be conductive.  So they still dry out.  No free lunch sadly.</p>

<p>Now, what are the actual electrical properties of these types of capacitors? We already mentioned polarity, but the other is their ESR and ESL.  Electrolytic capacitors, due to being constructed as a very long plate wound into a coil, have relatively high ESL (equivalent series inductance).  So high in fact, that they are completely ineffective as capacitors above 100kHz, or 150kHz for polymer types.  Above this frequency, they are basically just resistors that block DC.  They won't do anything to your voltage ripple, and instead will make the ripple be equal to the ripple current multiplied by the capacitor's ESR, which can often make ripple <em>even worse</em>.  Of course, this means any sort of high frequency noise or spike will just shoot right through an aluminum electrolytic capacitor like it wasn't even there. </p>

<p>Tantalums are not quite as bad, but they still lose their effectiveness with medium frequencies (the best and smallest ones can almost hit 1MHz, most lose their capacitive characteristic around 300–600kHz).  </p>

<p>All in all, electrolytic capacitors are great for storing a ton of energy in a small space, but are really only useful for dealing with noise or ripple below 100kHz.  If not for that critical weakness, there would be little reason to use anything else.  </p>

<h1>3. Ceramic Capacitors</h1>

<p>Ceramic capacitors use a ceramic as their dielectric, with metallization on either side as the plates.  I will not be going into Class 1 (low capacitance) types, but only class II.  </p>

<p>Class II capacitors cheat using the ferroelectric effect.  This is very much akin to ferromagnetism, only with electric fields instead.  A ferroelectric material has a ton of electric dipoles that can, to some degree or another, be oriented in the presence of an external electric field.  So the application of an electric field will pull the dipoles into alignment, which requires energy, and causes a massive amount of energy to ultimately be stored in the electric field.  Remember how a vacuum was the baseline of 1? The ferroelectric ceramics used in modern MLCCs have a dielectric constant on the order of 7,000.  </p>

<p>Unfortunately, just like ferromagnetic materials, as a stronger and stronger field magnetizes (or polarizes in our case) a material, it begins running out of more dipoles to polarize.  It saturates.  This ultimately translates into the nasty property of X5R/X7R/etc type ceramic capacitors: their capacitance drops with bias voltage.  The higher the voltage across their terminals, the lower their effective capacitance.  The amount of energy stored is still always increasing with voltage, but it is not nearly so good as you would expect based on its unbiased capacitance. </p>

<p>Voltage rating of a ceramic capacitor has very little effect on this.  In fact, the actual withstanding voltage of most ceramics is much higher, 75 or 100V for the lower voltage ones.  In fact, many ceramic capacitors I suspect are the exact same part but with different part numbers, the same 4.7µF capacitor being sold as both a 35V and 50V capacitor under different labels.  The graph of some MLCCs' capacitance vs. bias voltage is identical, save for the lower voltage one having its graph truncated at its rated voltage.  Suspicious, certainly, but I could be wrong.  </p>

<p>Anyway, buying higher rated ceramics will do nothing to combat this voltage related capacitance falloff, the only factor that ultimately plays a role is the physical volume of the dielectric.  More material means more dipoles.  So physically larger capacitors will retain more of their capacitance under voltage.  </p>

<p>This is also not a trivial effect.  A 1210 10µF 50V ceramic capacitor, a veritable beast of a capacitor, will lose 80% of its capacitance by 50V.  Some are a little better, some are a little worse, but 80% is a reasonable figure.  The best I have seen was a 1210 (inches) keep about 3µF of capacitance by the time it hit 60V, in a 1210 package anyway.  A 10µF 1206 (inches) sized 50V ceramic will be lucky to have 500nF left by 50V.  </p>

<p>Class II ceramics are also piezoelectric and pyroelectric, though this doesn't really impact them electrically.  They have been known to vibrate or sing due to ripple, and can act as microphones.  Probably best to avoid using them as coupling capacitors in audio circuits.  </p>

<p>Otherwise, ceramics have the lowest ESL and ESR of any capacitor.  They're the most 'capacitor-like' of the bunch.  Their ESL is so low that the primary source is the <strong><em>height of the end terminations on the package itself</em></strong>  Yes, that height of an 0805 ceramic is the main source of its 3 nH of ESL. They still behave like capacitors into the many MHz, or even higher for specialized RF types.  They also can decouple a lot of noise, and decouple very fast things like digital circuits, things electrolytics are useless for.  </p>

<p>In conclusion, electrolytics are:</p>

<ul>
<li>lots of bulk capacitance in a tiny package</li>
<li>terrible in every other way</li>
</ul>

<p>They are slow, they wear out, they catch fire, they will turn into a short if you polarize them wrong.  By every criteria capacitors are measured by, save for capacitance itself, electrolytics are absolutely terrible.  You use them because you have to, never because you want to.  </p>

<p>Ceramics are:</p>

<ul>
<li>Unstable and lose a lot of their capacitance under voltage bias</li>
<li>Can vibrate or act as microphones.  Or nanoactuators!</li>
<li>Are otherwise awesome.</li>
</ul>

<p>Ceramic capacitors are what you want to use, but aren't always able to.  They actually behave like capacitors and even at high frequencies, but can't match the volumetric efficiency of electrolytics, and only Class 1 types (which have very small amounts of capacitance) are going to have a stable capacitance.  They vary quite a bit with temperature and voltage.  Oh, they also can crack and are not as mechanically robust. </p>

<p>Oh, one last note, you can use electrolytics just fine in AC/non-polarized applications, with all their other problems still in play of course.  Just connect a pair of regular polarised electrolytic capacitors, with same polarity terminals terminals together, and now the opposite polarity ends are the terminals of a brand new, non-polar electrolytic.  As long as their capacitance values are fairly well-matched and there is limited amount of steady state DC bias, the capacitors seem to hold out in use.</p>
","232663"
"Negative voltage from Arduino?","21424","","<p>I recently got a INA101HP see picture below. I was trying to use it on a breadboard. To power the op amp I connected 5V to +vcc pin but then I realized I did not really get how to provide -5V for the -vcc pin.... how is this possible if I am using an Arduino Uno as the voltage source?? </p>

<p><img src=""https://i.stack.imgur.com/U4nVv.png"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/3p0vM.png"" alt=""enter image description here""></p>

<p>EDIT: Based on answers received thus far </p>

<p>would it just be easier/CHEAPER if I got a separate 9V battery with a 9V battery cap and connect the pos end to ground and neg end to -vcc? do +vcc and -vcc magnitudes have to be equivalent for an op amp? It seems I will have to get some extra component either way...</p>
","<p>If you only need a few mA the simplest solution is to use a <strong>charge pump</strong> like the <a href=""http://www.intersil.com/data/fn/fn3072.pdf"" rel=""nofollow noreferrer"">ICL7660</a> to create -5V from +5V:  </p>

<p><img src=""https://i.stack.imgur.com/11fpz.png"" alt=""enter image description here"">  </p>

<p>As you can see it only needs a few components. This simplicity has its price, and that's that the output voltage starts to drop if you load it with more than just a few mA.    </p>

<p>Alternatively you can use an <strong>inverting SMPS</strong> (Switch-Mode Power Supply), like this one </p>

<p><img src=""https://i.stack.imgur.com/RrlWq.png"" alt=""LTC3631 app""></p>

<p>which will allow for more current. The ratio R1/R2 sets the output voltage. This is the simplest switcher application I know. An SMPS however requires careful component selection and PCB layout to get a good efficiency and low EMI.</p>
","18174"
"Is there anything I should watch out for with cheap ""Arduino"" copies?","21381","","<p>There's a plethora of cheap Arduino copies on eBay and similar sites, usually originating from the far east, that can be had for a significant chunk less than the official boards, especially if you're buying more than one.</p>

<p>Aside from the moral reasons of supporting the Arduino guys (not that I'm ignoring that, just not considering it for the purposes of this question) is there any technical difference between them, or are they pretty much the same (Arduino are open source hardware after all) will they be, as far as functionally, pretty identical?</p>
","<p>You should rather make make a cheap Arduino by yourself. By doing this, you can have it customized and use high quality parts. You can (and should) buy the original Atmega chip so you will have 100% compatibility with the software.</p>

<p>You will maybe [accidentally] burn the first chip to ashes (like me), but you'll get a lot of experience doing this.</p>

<p>Most cheap electronics have failed me. So would cheap Arduino clone, I believe. Electronic components are kind of delicate things, capacitors and transistors especially. </p>

<p>I know my answer is not real answer to the question, but you know, cheap hardware is random thing: you'll get a guys, that had luck (over 50% much likely) and those who didn't. My friend is of the second group and I'm pretty sure, he would sign under my answer.</p>

<p>Here, you can see a cheap way to make your own Arduino (cheaper than a pizza with Coca-Cola <code>:)</code>):
<a href=""http://arduino.cc/en/Main/ArduinoBoardSerialSingleSided3"">http://arduino.cc/en/Main/ArduinoBoardSerialSingleSided3</a></p>
","67034"
"How to identify orphaned power cords?","21378","","<p>We are doing a massive purge of ""stuff"" from home and storage. I am accumulating a large quantity of random, unmarked power cords. Some will have ""Nintendo"" or ""Norelco"" on them - so I know to go confer with my boys about their gaming stuff or check my husbands grooming items, etc. </p>

<p>But what I am confounded by is several totally generic type cords - with a specifically shaped female pin end and standard oriented plug end(one prong larger than the other). There are numbers imprinted on both ends as well as printed in white ink along the wire. <em>Lots</em> of numbers. I attempted a google search but the results were equally random. ""AC power cord for some electronic device."" </p>

<p>How can I determine what each cord is for? I don't want to store them all ""in case"" - but I also don't want to throw them out only to discover they were needed for something we still use (or want to sell, give away, donate).</p>
","<p>Any chance your big box 'o cords contains some ""cords"" as in cords and some ""cords"" as in adapters?</p>

<p><strong>""Cords"" as in <em>cords</em>:</strong> These have a plug that goes into the wall and an <a href=""http://en.wikipedia.org/wiki/IEC_60320"" rel=""nofollow noreferrer"">IEC 60320-compliant plug</a>. With these, it's not critical to use them with the exact same device they came with. The general rule is: If they fit, they're good. Over time, you may end up having lots and lots of them, because many new computers/monitors/whatnots are shipped with one. Keep the nicer dozen of each type, give the rest to a friend hacker of yours or try your community's recycling yard (cable bin for copper recycling!).</p>

<p><strong>""Cords"" as in <em>adapters</em>:</strong> These are sometimes also called <em>wall warts</em>, because the somewhat bigger enclosure (wart) that is plugged into the wall contains a transformer or other type of power supply, and they have a low-voltage output specifically designed for a certain type of equipment. There is no standard to make sure you don't fry a device designed for a 5&nbsp;V supply with a wrong, higher-voltage adapter, e.g. one that outputs 12&nbsp;V. Also, even if the voltage is the same between two adapters (say: 5&nbsp;V DC), the polarity at the small plug to the device may be different... These adapters can only be used interchangeably if <em>all</em> the details match (Voltage, AC vs. DC, polarity, current rating, size of plug - and I may have forgotten something). Sometimes, mostly for laptop adapters, it is even necessary that the laptop receives a datagram from its very own power supply... TLDR: It is wise to have labels on adapters, like some of yours do. No labels: The tiny print or the manuals may provide the information about what matches with what. No tiny print or no manuals: Detective work, and hoping you don't let the magic smoke out if plugging the wrong adapter into a device... Some are probably junk, some may be valuable (C64, vintage musical instruments?), even if you don't need them any more (-> flea market, online classifieds or auction?).</p>

<p>Some more hints on power supplies or adapters of unknown origin or purpose: <a href=""https://electronics.stackexchange.com/a/34746/930"">https://electronics.stackexchange.com/a/34746/930</a></p>
","71289"
"How can a capacitive touch screen be triggered without human contact?","21374","","<p>I want to robotically touch an iPhone screen without any human intervention. </p>

<p>I've done some experiments but have not found a reliable solution. It seems even styluses that work through gloves still rely on the capacitive characteristics of the human body. </p>

<ul>
<li>Carrot held by human works</li>
<li>Carrot held in plastic clamp doesn't</li>
<li>Pogo Stylus works held by human and held by human through clothes</li>
<li>Stylus does not work held in plastic clamp. </li>
<li>Stylus works held in plastic clamp attached to human through clothes via jump lead.</li>
<li>Stylus held in plastic clamp with jump lead dangling off seems to work most the time.</li>
</ul>

<p>Is it possible to mimic the human element using capacitors and other components? What signal does the capacitive screen need to be triggered?</p>

<p>Thanks</p>
","<p>I haven't actually done this, but it seems the problem is the objects you are using are too small and don't have enough ambient capacitance.  A human touching something adds capacitive coupling to the environment.  Think of the size and surface area difference between a carrot and a carrot+human.</p>

<p>You should be able to use something conductive that is covered by a thin insulating layer, then connect the conducive part to a conductive plate under the iPhone or to ground.  In this case ""conductive"" only needs to be not a good insulator.  As you found, even something like a carrot is conductive enough.  Try connecting a ground clip to the other end of the carrot, or connect it to the chassis of your machine.</p>
","23039"
"how to convert bytes into ASCII in C language","21358","","<p>I am receiving bytes from my UART as uint8. How do I convert these bytes into ASCII? I am using Atmel 6.0 and my microcontroller is ATMega16L.</p>

<p><strong>EDIT</strong></p>

<p>I am using an android phone to send and receive information to a Wifi module (RN-131) from Roving networks. The wifi module connects to the microcontroller (atmega16L) through UART. Whatever the wifi module receives from the phone is transmitted out its UART. Similarly, whatever is written to its UART is transmitted out through wifi.</p>

<p>Now, what I'm trying to do is send a string from the phone which gets converted into bytes. The code is shown below:</p>

<pre><code>PrintWriter out = new PrintWriter(new BufferedWriter(new outputStreamWriter(socket.getOutputStream())), true);
out.println(""Eclipse"");
</code></pre>

<p>here, the '<strong>BufferedWriter</strong>' - <em>Constructs a new BufferedWriter, providing out with a buffer of 8192 bytes.</em> and '<strong>PrintWriter</strong>' - <em>Constructs a new PrintWriter with out as its target writer. The parameter autoFlush determines if the print writer automatically flushes its contents to the target writer when a newline is encountered.</em></p>

<p>now to program the microcontroller, I'm using AVR studio 6.0</p>

<pre><code>uint8_t data;
char arr[32];
data = UDR;
length = strlen(data);
itoa(data, arr, 10);
</code></pre>

<p>But what I receive is ""50, 53, 52"" even when I'm sending ""Eclipse"".</p>

<p><strong>EDIT 20th June 2012</strong></p>

<p>Here is my code till now. Note: the code is written in AVR Studio 6.0 so it looks a bit different to other codes written in AVR Studio 4.18.</p>

<pre><code>/**************************************************
 *  Includes
 */
#include &lt;avr/io.h&gt;
#include &lt;util/delay.h&gt;
#include &lt;avr/interrupt.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdbool.h&gt;
#include &lt;stdio.h&gt;
#include ""../../../../../../Program Files (x86)/Atmel/Atmel Studio 6.0/extensions/Atmel/AVRGCC/3.4.0.65/AVRToolchain/avr/include/avr/iom16.h""

/**************************************************
 *  Global Variables
 */
int trigger=0, length=0;
int i=0, n=0;
uint8_t data;
char arr[8];

/**************************************************
 *  Defines
 */
#define LED_PORT PORTA
#define RED_ON (PORTA | 0x01)
#define RED_OFF (PORTA &amp; ~0x01)
#define YELLOW_ON (PORTA | 0x02)
#define YELLOW_OFF (PORTA &amp; ~0x02)
#define GREEN_ON (PORTA | 0x04)
#define GREEN_OFF (PORTA &amp; ~0x04)

/**************************************************
 *  Function Prototypes
 */
void initialize(void);                      
void time_display(void);

int main(void){
    initialize();

    while(1){
        //TODO:: Please write your application code

    }
}

void initialize(void){

    DDRA = 0x07; //PORTA pins 0,1,2 set as outputs
//  DDRD = 0x02; //PORTD pin 1 is output (TX) and pin 0 is input (RX)

    //Timer SETUP
    TCCR1A = 0x80; //OCR1A enable in CTC mode
    TCCR1B = 0x0C; //CTC mode, 256 prescale 
    TIMSK = 0x10; //CTC on OCR1A enabled, overflow disabled
    OCR1A = 2000; //OCR value set to get an interrupt every 1 second (15624)

    //USART SETUP
    UCSRA = 0x00; //no Frame Error, no parity error, no Data OverRun
    UCSRB = 0xE0; //receiver enable, transmitter enable (0x18)
    UCSRC = 0x8E; //Asynchronous USART mode, no parity, 1 stop bit, 8-bit character size, Data transmitted on rising edge and received on falling edge of the clock
    UBRRL = 51; //Baud rate of 9600bps
    UBRRH = 0;

    sei(); //Global interrupt enable
}

//timer capture interrupt
ISR(TIMER1_COMPA_vect){

}

ISR(USART_RXC_vect){
    LED_PORT = RED_ON;
    _delay_ms(100);

    for(int x=0; x&lt;5; x++){
        arr[x] = UDR;
    }

    LED_PORT = RED_OFF;
    _delay_ms(100);

    trigger = 1;
}

ISR(USART_UDRE_vect){
    if(trigger &gt;= 1){
        LED_PORT = GREEN_ON;
        _delay_ms(200);
        LED_PORT = GREEN_OFF;
        _delay_ms(200);

        UDR = data; //transmit the data
        trigger = 0;
    }
}
</code></pre>
","<p>**EDIT 6/19/2012***********************************************************</p>

<p>Ok, so after you added your code I have made a few changes for you to try (and to understand!)</p>

<p>First of all, we have declared our character array volatile so that the compiler knows it may change unexpectedly from an interrupt.  Likewise, we have created a variable to keep track of our index position in the array:</p>

<pre><code>/**************************************************
 *  Global Variables
 */
int trigger=0, length=0;
int i=0, n=0;
uint8_t data;
volatile char arr[8];
volatile char arr_idx = 0;
</code></pre>

<p>Next, i have edited your UART initialization code based on the ATMega16L Datasheet and your comments:</p>

<pre><code>//USART SETUP
UCSRA = 0x00; //no Frame Error, no parity error, no Data OverRun
UCSRB = 0xD8; //receiver enable, transmitter enable (0x18)
UCSRC = 0x86; //Asynchronous USART mode, no parity, 1 stop bit, 8-bit character size, Data transmitted on rising edge and received on falling edge of the clock
UBRRL = 51; //Baud rate of 9600bps (8MHz clock?)
UBRRH = 0;
</code></pre>

<p>Look closely at the <a href=""http://datasheet.octopart.com/ATMEGA16L-8PU-Atmel-datasheet-810.pdf"" rel=""nofollow noreferrer"">datasheet</a> (page ~166).  I believe I have correctly configures the UART now based on your comments.  I will not go over each bit, but you should.  Please ask questions if you think I made a mistake or you don't get something.</p>

<p>Finally, I have edited your ISR routine:</p>

<pre><code>ISR(USART_RXC_vect){
    arr[arr_idx] = UDR;
    arr_idx++;
    arr_idx %= 7; //make sure index stays within array

    trigger = 1;
}
</code></pre>

<p>Note that, the ISR is executed every time a single byte (or character) is received.  This means we want to process the single character (add it to our array), increment our index location, and get out of it quickly so that we are ready for the next character to come in.</p>

<p>You now need to look at the arr[] through whatever method you have been using and see if it is now receiving your characters correctly.</p>

<p>**END OF EDIT****************************************</p>

<p>One option is to just use one of the available libraries included in AVR Studio:</p>

<pre><code>#include &lt;stdlib.h&gt;
</code></pre>

<p>and then somewhere in your code...</p>

<pre><code>char num2[5]; //create a buffer for the ascii string
itoa(num1,num2,10); //convert the integer (num1) to an ascii string (num2) in base 10
</code></pre>

<p>If you are then displaying this on a character LCD, you can send the num2 array to the lcd print function that you are using.</p>

<p>If you are concerned about code space you can fairly easily write your own simple itoa (integer to ascii) function. You will need to grab each ""tens"" position from your integer using the ""/"" and ""%"" operators and convert it to ascii:</p>

<p><a href=""http://www.asciitable.com/index/asciifull.gif"" rel=""nofollow noreferrer"">http://www.asciitable.com/index/asciifull.gif</a></p>

<p>From the table above, you can see that once you grab each digits value (0-9), just add 48 to it to convert it into the ascii character representation.</p>

<p><strong>EDIT</strong></p>

<p>Ok, so after you adding your information and assuming:</p>

<ul>
<li>You have correctly initialized the UART baud rate etc on your ATMEGA</li>
<li>The android code is successfully sending the ascii bytes across the WiFly and out of its UART</li>
</ul>

<p>Then the microcontroller should already be receive these characters as Ascii, and the ITOA  function is not what is needed here and in fact would mess up your string data coming in.</p>

<p>It could still be a lot of different things though...How are you viewing the uart data that is being received by your microcontroller?</p>
","34175"
"How to choose right PWM frequency for LED?","21337","","<p>I want to control LED's brightness with PWM (via BJT transistor). What frequency of PWM should I choose?</p>
","<p>For a question like this, you will probably get as many answers as there are people interested in answering. Here is my answer: <strong>It depends</strong>.</p>

<p>Here are some of the limiting factors, first the lower limits:</p>

<ul>
<li>Persistence of vision: 
<ul>
<li>Different people are differently sensitive to flicker in a light source. Some would notice flicker even at 100 Hertz, others perhaps not  even at as low as 10 Hz. </li>
<li>Motion of light source relative to the eye makes flicker more discernible, scaling up with speed of the motion. </li>
<li>Human vision sensitivity at low intensity of light - both ambient and source intensity. At very low intensity, the eye is much more sensitive to any change in intensity. So an LED operated at low duty cycle / low current and in a dark environment would require a higher minimum PWM frequency.</li>
</ul></li>
</ul>

<p>Now the upper limits:</p>

<ul>
<li>LED turn-on characteristics: An LED cannot be toggled at arbitrarily high frequency, once the pulse duration approaches the turn-on time, the LED never really turns on fully, hence linearity of PWM control is lost to begin with, and at higher frequency / shorter pulses, eventually the LED just stays dim or off.</li>
<li>PWM provider capabilities: Your microcontroller would have its own maximum PWM rate, which sets a hard limit.</li>
<li>Switching losses: Any switching system, MOSFET based, BJT based, or other, suffers switching losses of power as switching rate increases. At one point this become significant both in terms of heating of switching device, and efficiency of illumination.</li>
</ul>

<p>Thus, depending on these parameters, and any others affecting your specific requirement, the correct answer could be anywhere in the 50 Hz to few dozen KHz range.</p>
","79400"
"Competing PCB Crystal layout recommendations","21308","","<p>This is related to this question: <a href=""https://electronics.stackexchange.com/questions/5597/hows-my-crystal-oscillator-layout"">How's my crystal oscillator layout?</a></p>

<p>I'm trying to layout a 12MHz crystal for a micro controller. I've been reading through several recommendations specifically for crystals as well as for high frequency design.</p>

<p>For the most part they seem to agree on a few things:</p>

<ol>
<li>Keep traces as short as possible.</li>
<li>Keep differential trace pairs as close to the same length as possible.</li>
<li>Isolate the crystal from anything else.</li>
<li>Use ground planes beneath the crystal.</li>
<li>Avoid vias for signal lines.</li>
<li>Avoid right angle bends on traces</li>
</ol>

<p>Here's the layout of what I currently have for my crystal:</p>

<p><img src=""https://i.stack.imgur.com/ByDRL.png"" alt=""crystal layout""></p>

<p>The red represents the top PCB copper and blue is the bottom PCB layer (it's a 2-layer design). The grid is 0.25mm. There's a complete ground plane beneath the crystal (blue layer), and surrounding the crystal is a ground tied to the bottom ground plane using several vias. The trace connecting to the pin next to the clock pins is for the uC's external reset. It should be held at ~5V, and a reset is triggered when it's shorted to ground.</p>

<p>There are still a few questions I had:</p>

<ol>
<li>I've seen a few recommended layouts which place the load capacitors closer to the IC and others which place them on the far side. What differences can I expect between the two, and which one is recommended (if any)?</li>
<li>Should I remove the ground plane from directly beneath signal traces? It seems like that would be the best way to reduce the parasitic capacitance on the signal lines.</li>
<li>Would you recommend thicker or thinner traces? Currently I have 10mil traces.</li>
<li>When should I bring the two clock signals together? I've seen recommendations where the two lines are directed essentially towards each other before heading to the uC, and other where they are kept apart and brought slowly together like I currently have.</li>
</ol>

<p>Is this a good layout? How could it be improved?</p>

<p>Sources I've read through so far (hopefully this covers most of them, I might be missing a few):</p>

<ol>
<li><a href=""http://www.ti.com/lit/an/scaa082a/scaa082a.pdf"" rel=""nofollow noreferrer"">TI's recommendations for high speed layout guidelines</a></li>
<li><a href=""http://www.atmel.com/Images/Atmel-2521-AVR-Hardware-Design-Considerations_ApplicationNote_AVR042.pdf"" rel=""nofollow noreferrer"">Atmel's AVR hardware design considerations</a></li>
<li><a href=""http://www.atmel.com/Images/Atmel-8128-Best-Practices-for-the-PCB-Layout-of-Oscillators_ApplicationNote_AVR186.pdf"" rel=""nofollow noreferrer"">Atmel's Best Practices for the PCB layout of oscillators</a></li>
</ol>

<p><strong>edit:</strong></p>

<p>Thanks for your suggestions. I've made the following changes to my layout:</p>

<ol>
<li>The bottom layer beneath the uC is being used as a 5V power plane and the top layer is a local ground plane. The ground plane has a single via to the global ground plane (bottom layer) where the 5V joins together to the source, and there's a 4.7uF ceramic capacitor between the two. Made routing ground and power much easier!</li>
<li>I've removed the top ground elements directly under the crystal to prevent shorting out the crystal casing.</li>
<li>@RussellMcMahon, I'm not sure what exactly you mean by minimize the loop area. I've uploaded a revised layout where I bring the crystal leads together before sending them to the uC. Is this what you meant?</li>
<li>I'm not entirely sure how I can complete my guard ring loop around the crystal (right now it's kind of a hook-shape). Should I run two vias to connect the ends (isolated from the global ground), remove the partial-ring, or just leave it as it is?</li>
<li>Should I remove the global ground from beneath the crystal/cap?</li>
</ol>

<p><img src=""https://i.stack.imgur.com/KPKN3.png"" alt=""updated layout""></p>
","<p>Your placement is fine.</p>

<p>Your routing of the crystal signal traces is fine.</p>

<p>Your grounding is bad.  Fortunately, doing it better actually makes your PCB design easier.  There will be significant high frequency content in the microcontroller return currents and the currents thru the crystal caps.  These should be contained locally and NOT allowed to flow accross the main ground plane.  If you don't avoid that, you don't have a ground plane anymore but a center-fed patch antenna.</p>

<p>Tie all the ground immediately associated with the micro together on the top layer.  This includes the micro's ground pins and the ground side of the crystal caps.  Then connect this net to the main ground plane <i>in only one place</i>.  This way the high frequency loop currents caused by the micro and the crystal stay on the local net.  The only current flowing thru the connection to the main ground plane are the return currents seen by the rest of the circuit.</p>

<p>For extra credit, so something similar with the micro's power net, place the two single feed points near each other, then put a 10 &micro;F or so ceramic cap right between the two immediately on the micro side of the feed points.  The cap becomes a second level shunt for high frequency power to ground currents produced by the micro circuit, and the closeness of the feed points reduces the patch antenna drive level of whatever escapes your other defenses.</p>

<p>For more details, see <a href=""https://electronics.stackexchange.com/a/15143/4512"">https://electronics.stackexchange.com/a/15143/4512</a>.</p>

<h2>Added in response to your new layout:</h2>

<p>This is definitely better in that the high frequency loop currents are kept of the main ground plane.  That should reduce overall radiation from the board.  Since all antennas work symmetrically as receivers and transmitters, that also reduces your susceptibility to external signals.</p>

<p>I don't see the need to make the ground trace from the crystal caps back to the micro so fat.  There is little harm in it, but it is not necessary.  The currents are quite small, so even just a 8 mil trace will be fine.</p>

<p>I really don't see the point to the deliberate antenna coming down from the crystal caps and wrapping around the crystal.  Your signals are well below where that will start to resonate, but adding gratuitous antennas when no RF transmission or reception is intended is not a good idea.  You apparently are trying to put a ""guard ring"" around the crystal, but gave no justification why.  Unless you have very high nearby dV/dt and poorly made crystals, there is no reason they need to have guard rings.</p>
","39147"
"How to make Arduino do High Speed I2C","21299","","<p>I wired up two <a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en532229"" rel=""nofollow"">MCP4725 DAC</a>'s to my Arduino and wrote a little demo sketch to test functionality. The sketch draws a Lissajous curve on my oscilloscope.
The output frequency is a bit disappointing (approx. 1.5kHz sample rate), but the datasheet to the DAC mentions High Speed I2C mode. Does Arduino (Mega1280) support High Speed I2C mode and if 'yes' how?</p>

<pre><code>#include &lt;Wire.h&gt;
#include &lt;math.h&gt;

#define DAC0 ( 0xCC &gt;&gt; 1 )
#define DAC1 ( 0xCE &gt;&gt; 1 )

int sh[ 360 ] , sl[ 360 ];
int ch[ 360 ] , cl[ 360 ];

void setup() {
  Wire.begin();
  for ( int a = 0; a &lt;= 360; a++ ) {
    int s = sin( a * 3.141592 / 180 ) * 2047 + 2048;
    int c = cos( a * 3.141592 / 180 ) * 2047 + 2048;
    sh[ a ] = int( s / 256 );
    sl[ a ] = s - sh[ a ] * 256;
    ch[ a ] = int( c / 256 );
    cl[ a ] = c - sh[ a ] * 256;
  }
}

void loop() {
  for ( int b = 0; b &lt; 360; b++ ) {
      for ( int a = 0; a &lt; 360; a += 6 ) {
      Wire.beginTransmission( DAC0 );
      Wire.send( ch[ a ] );
      Wire.send( cl[ a ] );
      Wire.endTransmission();
      Wire.beginTransmission( DAC1 );
      Wire.send( sh[ ( a * 2 + b ) % 360 ] );
      Wire.send( sl[ ( a * 2 + b ) % 360 ] );
      Wire.endTransmission();
     }
  }
}
</code></pre>
","<p>I would consider going one level below the C++ object ""Wire"" and use their C files found here:</p>

<p><a href=""https://github.com/arduino/Arduino/tree/master/libraries/Wire/utility"">https://github.com/arduino/Arduino/tree/master/libraries/Wire/utility</a></p>

<p>There is a constant of interest in <code>twi.h</code>:</p>

<p><code>#define TWI_FREQ 100000L</code></p>

<p>And the register is set in the file <code>twi.c</code> like so:</p>

<pre><code>// initialize twi prescaler and bit rate
  cbi(TWSR, TWPS0);
  cbi(TWSR, TWPS1);
  TWBR = ((F_CPU / TWI_FREQ) - 16) / 2;

/* twi bit rate formula from atmega128 manual pg 204
  SCL Frequency = CPU Clock Frequency / (16 + (2 * TWBR))
  note: TWBR should be 10 or higher for master mode
  It is 72 for a 16mhz Wiring board with 100kHz TWI */
</code></pre>

<p>Going by that comment, and without having to go into the datasheet (although I suggest that you do if you want to understand what those lines mean), it appears that the Arduino Mega (16 MHz) defaults to 100 kHz I2C clock.  Following the formula given, change the value of TWI_FREQ to achieve a desired I2C clock frequency.</p>

<p>However, after reading the datasheet of the Atmega, it appears to me that the fastest you can get [See edit].  Take a look at the section <code>24.5.2 Bit Rate Generator Unit</code> to confirm this.  If you define ""High Speed"" to be 3.4 MHz I2C, then <strong>the answer appears to be no</strong>, you can't achieve that with your current hardware, but you should be able to get something faster than the default 100 kHz if you really want to.</p>

<p><strong>EDIT:</strong> It may be possible to achieve 1 MHz if I'm reading the datasheet correctly.  Formula used from the datasheet: SCL = (F_CPU)/(16 + 2*TWBR*4^TWPS)  The disclaimer below still stands :p</p>

<p>Disclaimer: I just took a quick glance at the docs to come up with the above, it's totally possible that I missed something. Please read the datasheet to confirm any of this and familiarize yourself with your microcontroller, since you are wanting to do something that the Arduino library does not offer.</p>
","29458"
"Is a CAN enabled microcontroller sufficient to drive a CAN bus?","21294","","<p>There are a number of CAN modules built into microcontrollers these days. The <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/39637d.pdf"">PIC18F2480</a> is an example of that. Is that microcontroller (with built-in CAN) capable of driving a CAN bus on its own or is an external CAN transceiver/controller required?</p>

<p>I believe CAN has both a software and hardware layer and by the looks of it these CAN-enabled microcontrollers appear to have just the software, but it does not state that it can or cannot drive the CAN bus as is.</p>

<p>I'm looking to connect more than six microcontrollers through a CAN bus and would like to know if I need a transceiver across all of them or whether the built-in stuff can handle the communication from a software and hardware perspective.</p>

<p>Assume that I'll have necessary termination resistors and other small discrete components (caps, resistors, etc.) </p>
","<p>This is a <em>very</em> good question. As a general rule, CAN requires a transceiver for every node:</p>

<p><img src=""https://i.stack.imgur.com/nr3OD.jpg"" alt=""enter image description here""></p>

<p>However, under certain circumstances, you can actually get away without any transceivers! Those circumstances are:</p>

<ul>
<li>Short bus length (much less than 1 meter)</li>
<li>Preferably all microcontrollers are on the same PCB, or stack of PCBs.</li>
<li>The bit rate is low</li>
<li>The environment isn't too electrically noisy</li>
</ul>

<p>These aren't hard rules. You might get away with maximum bit rate (1MB/s) if you have a really short bus (10cm).</p>

<p>To achieve this, you need to know a little about what the transceiver does. Like most transceivers, they can output a high or a low to the bus (representing 1 and 0), but the 0 can dominate a 1. I.E. If two transceivers try to speak at the same time, and one is saying 1 and the other is saying 0, then the 0 will win. We can re-create the same situation simply using diodes:</p>

<p><img src=""https://i.stack.imgur.com/VyCvZ.png"" alt=""Simple CAN""></p>

<p>See the Seimens application note <a href=""http://www.mikrocontroller.net/attachment/28831/siemens_AP2921.pdf"" rel=""noreferrer"">AP2921: On-Board Communication via CAN without Transceiver</a></p>

<p>But here's something even more interesting: The PIC actually has hardware support for transceiverless CAN! </p>

<p><img src=""https://i.stack.imgur.com/cVY5I.png"" alt=""CIOCON Register""></p>

<p>You can configure the CAN TX pin so that is behaves in exactly the same way as the transceiver. This means you can wire up the CAN bus without the diodes. You'll still need the resistor though.</p>

<p><img src=""https://i.stack.imgur.com/XOcvx.png"" alt=""Simpler CAN""></p>
","30596"
"microcontroller vs. System on chip","21284","","<p>I am starting out programming micro controllers and I was reading some documentation and textbooks. <strong>I am a little confused as to what the difference is between a Micro-controller and a System on chip?</strong> </p>

<p>Some documentation use these two terms inter changeably. However most textbooks point out that using the two terms inter changeably is NOT correct, thus there must be some notable difference...</p>

<p>Thanks!   </p>
","<p>A microcontroller is a processor that has its program and data memory built in.  These chips are intended for small embedded control applications, so leaving the pins for I/O and not requiring a external memory bus is very useful.  Some microcontrollers have as little as 6 pins, and can do useful things.  Contrast that to a general purpose computing processor intended for a PC.  Those things have 100s of pins in a array and require extensive external circuitry.</p>

<p>As for system on a chip, that is a less well defined term.  Cyprus calls some of their parts PSOC (Programmable System on Chip).  These are basically a microcontroller with small FPGA on the same chip.  Instead of having built in peripherals, you can make whatever you want within the available resources of the FPGA.</p>

<p>In general, I think a system on a chip is a microcontroller with some supposedly system-level logic integrated with it.  Of course the further you try to go into the system, the less likely any one set of extra hardware is going to be useful, so some kind of configurability is very useful.  However, for now ""system on chip"" is more of a marketing term than anything real.</p>
","16833"
"How to safely discharge high voltage (> 42 V) capacitors?","21244","","<p>I have a 1200 watt PC power supply (yeah that's for a gaming rig!). Unfortunately it's failing on me after about 3 years. As the guarantee is over and I don't want to have shipping costs, I want to open it myself and see what can be wrong. I have low to no experience with power supplies of this wattage and rating. So my question is, how can I make sure when I open the PSU casing, I am not going to kill myself.</p>

<p>Is it enough to just leave it off for few days? Maybe not, because I can see huge capacitors inside.</p>

<p>Maybe connecting it to PC and trying to turn it on without plugging it into wall socket could discharge the caps?</p>

<p>And a silly question, the huge inductors inside are not a threat while it's not connected to wall socket, right?</p>
","<p>The best method is using a power resistor (3...5&nbsp;W, 30...100&nbsp;k\$\Omega\$), insulated with heat shrink tubes over the body and most of the wires.</p>

<p>If you are absolutely sure you will not connect the resistor across the capacitors of a power supply that is still turned on, lower resistor values may be useful for faster discharging. With 330&nbsp;\$\Omega\$, your discharge current will start at something like 320&nbsp;V&nbsp;/&nbsp;330&nbsp;\$\Omega\$&nbsp;=&nbsp;0.97&nbsp;A, a safe value for most electrolytic capacitors.</p>

<p>Just remember that this resistor will dissipate (320&nbsp;V)<sup>2</sup>&nbsp;/&nbsp;330&nbsp;\$\Omega\$&nbsp;=&nbsp;310&nbsp;W for a brief duration when used for discharging only (<em>safe!</em>) - but the power will be dissipated continuously when your resistor is used over a live power supply's capacitors (<em>shock hazard from the voltage, burn and fire hazard from the large power dissipated by a relatively smallish resistor!</em>).</p>

<p>Here's a discharge resistor I built for developing and fixing switching power supplies. The wire ends are (hollow) ferrules as used for connecting stranded wires into screw-on terminal blocks. They connect really well to the ends of the PCB-mounted capacitors' wires pointing through the solder connections - and they won't slip off and produce shorts to neighboring components. Y'all, feel free to copy the design and work safely ;-)</p>

<p><img src=""https://i.stack.imgur.com/c71xC.jpg"" alt=""SMPS Discharge Resistor""></p>

<p>Also a neon lamp with a series resistor of ca. 100&nbsp;k\$\Omega\$ is a fairly good indicator of lethal voltages. It will glow above ca. 70&nbsp;V. Ok, 70&nbsp;V is more than SELV, but the lamp is still better than nothing.</p>

<p>Shorting the electrolytic capacitors with a screwdriver may cause a very high discharge current, possibly damaging them. <a href=""https://electronics.stackexchange.com/questions/13198/why-shouldnt-electrolytic-capacitors-be-short-circuited"">See here for some details</a>. A plain short is really quite the redneck way to go...</p>
","52366"
"Common vs. ground","21233","","<p>I've been trained to use the word ground and the ground symbol 
<img src=""https://i.stack.imgur.com/dZEtr.png"" alt=""enter image description here"">
to refer to the earth, the dirt on which we stand.</p>

<p>Circuit common is considered to be a separate concept, with the symbol <img src=""https://i.stack.imgur.com/KZDDB.png"" alt=""enter image description here"">.</p>

<p>My understanding is that ""ground"" means that the node can and should be tied to the earth. ""Common"" implies an arbitrary voltage reference with no connotation about its voltage relative to earth. One might have multiple commons in a schematic, but earth is earth.</p>

<p>Obviously there are cases where ""ground"" is used to mean what I defined above as ""common"". Would those cases be <em>wrong</em>? Does my use of terminology match standard usage?</p>
","<p><img src=""https://i.stack.imgur.com/TTet7.jpg"" alt=""enter image description here""></p>

<p>The lowly NAND gate has a pin called GND and there's no reason to suppose it must be connected to: -</p>

<ul>
<li>Ground, </li>
<li>Earth, </li>
<li>Chassis,</li>
<li>0V or </li>
<li>Common</li>
</ul>

<p>I don't believe there is standard usage other than in protective earth points: -</p>

<p><img src=""https://i.stack.imgur.com/IsujX.jpg"" alt=""enter image description here""></p>
","108779"
"Error when compiling ""Does not name a type""","21215","","<p>I want to inherit my own class from LiquidCrystal that creates some custom characters during initialization. Here's the code I've written so far:</p>

<p><strong>MyProject.ino</strong></p>

<pre><code>#include &lt;LiquidCrystal.h&gt;
#include ""MyLiquidCrystal.h""

MyLiquidCrystal lcd(8, 9, 4, 5, 6, 7);

void setup()
{
 lcd.begin(16, 2);
 lcd.setCursor(0,0);
 lcd.print(""Welcome"");
}

void loop()
{
}
</code></pre>

<p><strong>MyLiquidCrystal.h</strong></p>

<pre><code>#include &lt;LiquidCrystal.h&gt;
#include &lt;Arduino.h&gt;

namespace MyProject
{
    class MyLiquidCrystal: public LiquidCrystal
    {
        private:               
            void createCustomChars()
            {
                byte smiley[8] = { B00000, B10001, B00000, B00000, B10001, B01110, B00000 };                    
                this.createChar(0, smiley);
            }

        public:
            MyLiquidCrystal(uint8_t rs,  uint8_t enable, uint8_t d0, uint8_t d1, uint8_t d2, uint8_t d3) 
                : LiquidCrystal(rs, enable, d0, d1, d2, d3)
            {
                createCustomChars();
            }
    };
};
</code></pre>

<p>I'm getting the following error at line <code>MyLiquidCrystal lcd(8, 9, 4, 5, 6, 7);</code>:</p>

<pre><code>MyProject:5: error: 'MyLiquidCrystal' does not name a type
</code></pre>

<p>I've been googling for a while now but couldn't figure out what's going on.
Any help would be appreciated!</p>
","<p>Try removing <code>namespace MyProject</code> from the header file. That's not required and means that it's not finding the class located outside the namespace. Alternatively you can use the new namespace prefix in your main project as another answer suggests.</p>
","72925"
"Does AC Power have Polarity?","21207","","<p>When I run 24VAC into a full wave bridge rectifier followed by a 220uF electrolytic capacitor to turn it into ~32VDC, the  source has two wires. Does it matter in what order I connect the AC wires to the input to the bridge rectifier? If so how do I determine which wire goes where? I suspect that it's totally symmetric on the input side, but I'm am full of doubt when it comes to AC. Sorry if this is just a really dumb question.</p>
","<p>When you're looking at an AC source in isolation such as in your question, indeed there's no polarity and you can connect the wires either way round.</p>

<p>When combining two or more AC sources in series or parallel, the relative <em>phasing</em> is very important.</p>
","137106"
"What is the difference between a transformer and a coupled inductor?","21185","","<p>Transformers and coupled inductors seem very similar. Is there a difference in construction? Or only in use?</p>

<p>This question asks something similar, but the answers don't address my question:
<a href=""https://electronics.stackexchange.com/questions/6316/coupled-inductor-vs-an-actual-transformer"">Coupled inductor vs an actual transformer?</a></p>
","<p>The two are basically the same class of device, although each will have parameters optimized differently.  The two names are to explain the different intended usage, which also gives you a quick guess of how some of the parameters <i>may</i> differ.  Of course only the datasheets would tell you what the parameters are for sure.</p>

<p>A transformer is specifically intended for transferring power from one winding to another.  You want the coupling between windings to be as good as possible, the leakage inductance zero, and the absolute inductance of each winding with the other open is often not a large concern.</p>

<p>With coupled inductors, each winding is still used for its inductance alone, although of course some coupling is being utilized else there would be two separate inductors.  Generally leakage inductance is less of a issue.  In fact, it can be useful to have some minimum guaranteed individual (non-coupled, or <i>leakage</i>) inductance for each winding.  The absolute inductance of each winding with the other open is also a important parameter that will be well specified.</p>
","96655"
"Changing a Signal's DC Offset","21151","","<p>I have a square wave being generated from a waveform generator oscillating between 0 V and 5 V.  The generator does not support negative DC offsets.  I need to shift this signal down to be centered about the 0 V value, i.e. oscillating between -2.5 V and 2.5 V (AC Coupled?).</p>

<p>What are ways of doing this?</p>

<p>(Forgive me if I mess up any terminology I'm a software engineer by trade.)</p>
","<p>What you need to do is simply remove the DC offset all together, not supply a negative one.  This is known as AC coupling.  If you run the output of your square wave generator through series capacitor, it should do what you need.  This will however be at the expense of making the square wave less square.</p>

<p>An example circuit is shown below for you:</p>

<p><img src=""https://i.stack.imgur.com/3P8Ao.png"" alt=""Example Circuit""></p>

<p>And the output would look like this (Green Trace = Generator Output, Blue Trace = Voltage Across Resistor):</p>

<p><img src=""https://i.stack.imgur.com/rvdxM.png"" alt=""Green Trace = Generator Output, Blue Trace = Voltage Across Resistor""></p>

<p>You will probably get a little voltage loss (meaning your peaks will be a little less that +/- 2.5V) since no capacitor is ideal, but you can get a pretty good square wave output if you get the right value capacitor.  You'll have to experiment and see.  Usually, the larger capacitor value you choose, the closer your output waveform will be to the original for any frequency a benchtop square wave generator is outputting.</p>
","24982"
"Firmware & Circuit of ATtiny45 direct USB 2.0 Connection","21142","","<p>I want to make my own modular <strong>USB device using an ATtiny45</strong> that simply sends data to the PC over USB. I'm not reading data, so a single way ( ATtiny -> PC ) connection would be completely okay.</p>

<p>I am using an <strong>Arduino Uno as ISP</strong> with the standard ArduinoISP sketch loaded from within the Arduino Software. I'm thinking of using AVRDUDE to programm the ATtiny45 with the Arduino as ISP because I want to be able to use C code compiled to HEX since it is more advanced than the Arduino Programming Langue.</p>

<p>My basic thoughts of the circuit:
<img src=""https://i.stack.imgur.com/qZCEm.png"" alt=""enter image description here""></p>

<p>As you can see, I want a ""direct"" USB connection.
So far I know that i have to use a software based solution for this.</p>

<ol>
<li><p>I've managed <strong>SoftwareSerial</strong> to work with my ATtiny45. For this I've used the Arduino Software to Programm the ATtiny45 with following code:</p>

<pre><code>#include &lt;SoftwareSerial.h&gt;
#define rxPin 3
#define txPin 4
SoftwareSerial serial(rxPin, txPin);

void setup() {
    pinMode(rxPin, INPUT);
    pinMode(txPin, OUTPUT);
    pinMode(led, OUTPUT);     
    serial.begin(4800);
}

void loop() {
    serial.println(""1"");
    delay(1000);
}
</code></pre>

<p>Please note that I don't use Pin 3 ( yet ) but I need to define it for SoftwareSerial.</p>

<p>This way, using SoftwareSerial, i was able to send data from the ATtiny directly into the TX pin of my Arduino UNO that had a blank sketch loaded onto it for this test.
I was using the Serial Monitor of the Arduino Software to read the data on COM4 ( in my case ) because my PC didn't recognized any device ( COM port ) as I've tryed to hook the programmed ATtiny directly to a USB cable.</p>

<p>Unfortunately I only got strange unicode characters in the Serial Monitor. I think it's because the data is in hex format or so.
So I've noticed that I need to connect a <strong>USB/Serial Converter</strong> betewwn the USB and the ATtiny45... I've searched for such converters, but I don't want to use any pre-made boards, since I want all my components on a single board.
I think an FTDI chip would be way too ""much"" for my project, isn't it ? ( It has too tiny pins to solder... )</p></li>
<li><p><strong>V-USB</strong> was then my second approach, since it doesn't need a USB/Serial converter ( as i know ). So to use V-USB I would need to use AVRDUDE as I mentioned earlier.</p>

<p>I've found this nice example <a href=""http://www.obdev.at/products/vusb/easylogger.html"" rel=""noreferrer"">V-USB EasyLogger</a>. It contains a circuit design and example firmware. ( C / C++ / HEX )</p>

<p>The only thing I want to know is: Do i really need to make my circuit look like shown in the example ? ->
<img src=""https://i.stack.imgur.com/2g9W1.png"" alt=""enter image description here""></p></li>
</ol>

<p>What else do I need to know about this kind of USB connection ? ( Why do I need a USB / Serial converter ? Can I just hook up the +5 &amp; VCC ? What components do I absolutely need ? what kind of signal do i need to send via TX ? bits ? hex ? what voltage does it needs to be ? )</p>

<p>Thanks for all of your answers.</p>

<hr>

<p><strong>UPDATE</strong></p>

<p>Here are some aditional links that really helped me in some points. But I still didn't understood it fully...</p>

<p>the first one -> <a href=""http://www.ernstc.dk/arduino/tinycom.html"" rel=""noreferrer"">http://www.ernstc.dk/arduino/tinycom.html</a></p>

<p>and the second -> <a href=""http://www.re-innovation.co.uk/web12/index.php/en/blog-75/227-attiny-arduino"" rel=""noreferrer"">http://www.re-innovation.co.uk/web12/index.php/en/blog-75/227-attiny-arduino</a> ( scroll down to the ""Serial Output"" section )</p>
","<p>You can communicate the ATtiny45 to USB directly, without a FTDI conveter.</p>

<p>To make everithing working you will need the <a href=""http://www.obdev.at/products/vusb/index.html"" rel=""nofollow noreferrer"">V-USB</a> library.</p>

<p>A very good example of have make everithing working is <a href=""http://codeandlife.com/2012/02/22/v-usb-with-attiny45-attiny85-without-a-crystal/"" rel=""nofollow noreferrer"">here</a>, that it use the same example from EasyLogger.</p>

<p>The same author have some others nice <a href=""http://codeandlife.com/topics/v-usb-electronics/"" rel=""nofollow noreferrer"">tips ans projects</a> with USB and uC.</p>

<p>A sample circuit the ATtiny:</p>



<p><img src=""https://i.stack.imgur.com/eSzbF.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2feSzbF.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","84858"
"Generate a 100 Hz Clock from a 50 MHz Clock in Verilog","21120","","<p>I have a DE0 board with a 50 Mhz clock that am I trying to to bring down to 100 Hz in Verilog. Could anyone help me with the code to do this?</p>
","<p>Build an 18 bit counter.  Every time it hits 250,000, toggle a flip-flop.  50 MHz / 250,000 = 200 Hz.  Toggling a pin at 200 Hz gives you 100 Hz with a 50 percent duty cycle.  If you just need a pulse with a 100 Hz repetition frequency, then build a 19 bit counter and generate a pulse when it hits 500,000.  </p>

<p>Fortunately 250,000 and 500,000 are both even integers.  Generating a perfect 50 percent duty cycle with an odd divisor means that you need to flip the output on on a rising edge and off on a falling edge.  On a Xilinx FPGA, this can be done with an ODDR/ODDR2 and a counter with a little head scratching to get the D0/D1 inputs set correctly.  This only works for sending the signal out of the chip through an I/O pin, though, as the output of an ODDR/ODDR2 cannot be used within a design.  A pulse is really all you need inside a design, though.  </p>

<p>Generating anything with a non-integer ratio is more complicated.  If it is a rational fraction, you may be able to use a PLL or DDS to help out, either by itself or in combination with a counter.  If it isn't a rational fraction, then you are more or less out of luck unless you can approximate it with a rational fraction.  If a PLL is unavailable, will not go low enough, or you can't get the right ratio from a PLL and counter combination, then you can use a fractional DDS.  The idea with a fractional DDS is you add a constant to an accumulator on every clock cycle and toggle the output when the accumulator rolls over.  This will produce an output with a bit of jitter, but it can produce a precise frequency on average.  To produce a 100 Hz 50 percent duty square wave with a 32 bit accumulator, all you need to do is add 100*2^32/50e6 = 8589.93459 ~= 8590 each clock cycle.  The MSB of the accumulator will toggle at 50e6/(2^32*8590) = 100.00076145 Hz.  The larger the accumulator, the more accurate this will be.  The frequency resolution of a 32 bit accumulator is quite good - if you go up or down by 1 LSB, you get either 98.989119 or 100.012403 Hz.  However, you will get +/- 1 clock period of what is called deterministic jitter.  In other words, the edges are quantized by clock period and so could be up to 1/2 clock period early or late.  Unlike regular jitter, if you view deterministic jitter on an oscilloscope, you will see a very bimodal distribution of cycle times with two or more discrete averages, as opposed to one smooth distribution.  Also, since the .00076145 is an offset and not an average, the phase will slowly shift with respect to the system clock.  This may or may not be tolerable in your application.  </p>

<p>Example verilog to generate 100 Hz from 50 MHz with a 50% duty cycle:</p>

<pre><code>// generate 100 Hz from 50 MHz
reg [17:0] count_reg = 0;
reg out_100hz = 0;

always @(posedge clk_50mhz or posedge rst_50mhz) begin
    if (rst_50mhz) begin
        count_reg &lt;= 0;
        out_100hz &lt;= 0;
    end else begin
        if (count_reg &lt; 249999) begin
            count_reg &lt;= count_reg + 1;
        end else begin
            count_reg &lt;= 0;
            out_100hz &lt;= ~out_100hz;
        end
    end
end
</code></pre>

<p>Example verilog to generate a 100 Hz repetition 10 ns pulse from a 50 MHz clock:</p>

<pre><code>// generate 100 Hz pulse chain from 50 MHz
reg [18:0] count_reg = 0;
reg out_100hz = 0;

always @(posedge clk_50mhz or posedge rst_50mhz) begin
    if (rst_50mhz) begin
        count_reg &lt;= 0;
        out_100hz &lt;= 0;
    end else begin
        out_100hz &lt;= 0;
        if (count_reg &lt; 499999) begin
            count_reg &lt;= count_reg + 1;
        end else begin
            count_reg &lt;= 0;
            out_100hz = 1;
        end
    end
end
</code></pre>

<p>Example verilog to generate a 10 MHz output with 50% duty cycle from a 250 MHz clock with an ODDR2 on a Spartan 6:</p>

<pre><code>// generate 10 MHz from 250 MHz
// 25 cycle counter, falling edge interpolated
reg [4:0] count_reg = 0;
reg q0 = 0;
reg q1 = 0;

always @(posedge clk_250mhz or posedge rst_250mhz) begin
    if (rst_250mhz) begin
        count_reg &lt;= 0;
        q0 &lt;= 0;
        q1 &lt;= 0;
    end else begin
        if (count_reg &lt; 24) begin
            count_reg &lt;= count_reg + 1;
        end else begin
            count_reg &lt;= 0;
        end
        q0 &lt;= count_reg &lt; 12;
        q1 &lt;= count_reg &lt; 13;
    end
end

ODDR2
clk_10mhz_out_oddr2_inst
(
    .Q(clk_10mhz_out),
    .C0(clk_250mhz),
    .C1(~clk_250mhz),
    .CE(1),
    .D0(q0),
    .D1(q1),
    .R(0),
    .S(0)
);
</code></pre>

<p>Example verilog code to generate 100 Hz from 50 MHz with a 50% duty cycle using an accumulator:</p>

<pre><code>// generate 100 Hz from 50 MHz
reg [31:0] count_reg = 0;
wire out_100hz = count_reg[31];

always @(posedge clk_50mhz or posedge rst_50mhz) begin
    if (rst_50mhz) begin
        count_reg &lt;= 0;
    end else begin
        count_reg &lt;= count_reg + 8590; //(((100 * 1 &lt;&lt; 32) + 50000000/2) / 50000000)
    end
end
</code></pre>
","137123"
"Charging Li-ion batteries in parallel","21042","","<p>I wanted some opinion on my set up here, just to make sure I got the basics right.</p>

<p>I have a Li-ion battery charging circuit based on the MCP73113. This is designed to be a single-cell battery charger. </p>

<p>The battery itself (3.7V, 650mAh) comes with its own PCB with Schottky diode and current regulators as protection.
EDIT: Not a Schottky diode. Current limiter and a Protection IC.</p>

<p>By design, they work together just fine.</p>

<p>I have more batteries from the same manufacturer and wanted to make higher capacity packs by putting two cells in parallel. The two cells come with their own PCB, but I only kept one of them, as I soldered their leads together. It seems to work and they are charged and discharged just like regular batteries (3.7V, now 1300 mAh).</p>

<p>However, not all the packs I made work smoothly and I get a failure rate of 2 in every 10 packs. They all start out normally, but occasionally when the batteries are not charged for some time, or are used up, they tend to not work anymore. So far, in only 1 pack I found the voltage to be different (both now below 2V, aka dead).</p>

<p>I assume my method is not the right approach to ensure 100% success rate, so I was wondering how can this be solved. All the controllers I looked into was designed for multiple cells in series, not parallel. Am I fundamentally missing something here?</p>
","<p>Connecting cells in parallel is common practise with professional battery pack manufacturers, so there is nothing wrong with it. What pros do is they assemble packs from cells out of the same box (same shipment, same lot), having very tight tolerances. This way, you even get packs with serially connected cells (eg. 3s1p) where the cell voltages stay closely matched over the lifetime of the pack (several years) - without balancing of course. This is quite a considerable achievement, you can calculate yourself how much self discharge difference the cells can have in order not to have significant unbalancing. </p>

<p>Your case is much simpler (1s2p) so I guess you are using low quality cells. The above is only valid for top quality cells (Panasonic, Samsung etc), a lot of ""noname"" cells like used in aftermarket camera batteries are just crap. Which cells are you using?</p>
","126686"
"Algorithm for mixing 2 axis analog input to control a differential motor drive","21008","","<p>I am looking for information about how to implement proper mixing of 2 analog joystick signals (X an Y axis) to control a dual differential motor drive (""tank like"" drive) using a uC (ATMega328p in my case, but same should apply to any uC with ADC inputs and PWM outputs):</p>

<p>I have a analog stick, that gives 2 analog values:</p>

<p>(direction)X: 0 to 1023<br>
(throttle)Y: 0 to 1023  </p>

<p><img src=""https://i.stack.imgur.com/3u2OQ.jpg"" alt=""enter image description here""></p>

<p>Rest position is (direction and throttle neutral) 512,512<br>
Throttle forward/direction left is 0,0<br>
Full forward-full right is 1023,0<br>
etc.</p>

<p>The motors are controlled by 2 H-bridge drivers, 2 PWM pins for each (Forward, backward), like so:<br>
Left Motor: -255 to 255<br>
Right Motor: -255 to 255<br>
(positive values enable forward PWM pin, negative enable reverse PWM pin, 0 disables both)  </p>

<p>The goal is to mix joystick analog signals to achive following response :  </p>

<p>a)Throttle forward, direction neutral = vehicle moving forward<br>
b)Throttle forward, direction left    = vehicle moving forward and turning left<br>
c)Throttle neutral, direction left    = vehicle turning left IN PLACE that is right motor   full forward, left motor full reverse  </p>

<p>...and similarly for other combinations. Of course, the output should be ""analog"" that is, it should allow gradual transition from for example from option a) to b) to c).</p>

<p>The concept is: </p>

<p><img src=""https://i.stack.imgur.com/6SDXJ.jpg"" alt=""http://www.lynxmotion.com/images/html/build123.htm""></p>
","<p>""Proper"" mixing is open to debate :-).</p>

<p>An issue is that you have to make decisions about how fast a track is moving under pure signals from a single pot and what to do when signals from the other pot are included. For example, if you push the FB (Forward-Backward pot fully forwards, and if both motors then run at full speed ahead, how do you deal with the addition of a small amount of LR (Left-Right) pot being added. To get rotation you have to have one track going faster that the other.  So, if you are already running at maximum forwards speed on both motors you must decrease one or other track speed in order to turn. But, if you had been standing still you would have accelerated one or other track  to achieve the same result.</p>

<p>So, all that said, here is a simple off-the-cuff starting solution out of my head which seems like  good start.</p>

<p>If pots are mechanically independant then both can be at 100% simultaneously.<br>
 If both are on a joystick type arrangement, if Yaxis = 100% and Xaxis = 0%, then adding some B will usually reduce A. A joystick could be constructed where the above is not true, but these are unusual.<br>
 Assume that the joystick is of the type that increasing Y% when X = 100% will reduce X. Other assumptions can be made. </p>

<p>FB = front-back pot. Centre zero, +Ve for forward motion of pot  </p>

<p>LR = Left right pot. Centre zero. +Ve for pot at right. </p>

<p>K is a scale factor initially 1.<br>
If any result exceeds 100% then adjust K so result = 100% and use same K value for other motor also.  </p>

<ul>
<li>eg if Left motor result = 125 and Right motor result = 80 then.<br>
As 125 x 0.8 = 100, set K = 0.8. Then.<br>
Left = 125 x 0.8 = 100%. Right = 80 x 0.8 = 64%. </li>
</ul>

<p>Then:</p>

<ul>
<li><p>Left motor = K x (Front_Back + Left_Right)</p></li>
<li><p>Right motor =  K x (Front_Back - Left_Right)</p></li>
</ul>

<p>Sanity checks:</p>

<ul>
<li><p>LR = 0 (centered), FB = full fwd -> Both motors run full forwards.</p></li>
<li><p>LR = full left, FB = 0 -><br>
Left motor runs full backwards,<br>
Right motor runs full forwards.<br>
Vehicle rotates anti clockwise.</p></li>
<li><p>FB was 100%, Lr = 0%. Add 10% of LR to right.<br>
L = FB+LR = 100%- + 10%
R = FB-LR = 100%- - 10%</p></li>
</ul>

<p>If largest axis &lt; 100%, scale until = 100%.<br>
 Then scale other axis by same amount.</p>
","19671"
"How diodes protect H-bridge DC motor driver?","20972","","<p>I don't really understand how these diodes in this circuit and similar circuits (like driving a relay circuit) protects the controller circuit from the energy stored by the inductance of the coil.
I really appreciate if someone could graphically explain it. ( I mean how the the diodes block the current and etc)</p>

<p>the second question about this circuit is the capacitor. what happens if it isn't there?</p>

<p><img src=""https://i.stack.imgur.com/GiUx0.png"" alt=""enter image description here""></p>
","<p>The diodes in this application are not there to block current, but to allow a low-impedance path for the coils to discharge themselves through. If such a path is not provided, then when the coil's supply is stopped at each cycle, the stored magnetic energy must find a path for discharge. This results in the coil expressing an arbitrarily high reverse voltage across its ends till the energy finds a way to get out. </p>

<p>Result: This high voltage shows up across the MOSFETs, which die a miserable death. </p>

<p>The diodes thus provide a short-circuit discharge path, dissipating this energy as heat within the diode. </p>

<p>The capacitor's function is to act as a local energy store, to provide some of the energy required by the motor during the initial spike of each turn-on, and storing back some of the energy that kicks back onto the power rail at each turn-off. Without the capacitor, the current spikes at each edge would completely need to be served by the supply rail. As any supply connection will have some resistance, these current spikes thus result in voltage dips on the supply rail.</p>

<p>In simple terms, the capacitor smooths out the spikes due to temporary power demand and temporary power surplus, as the coils are energized and de-energized.</p>
","80142"
"Are UV LEDs really dangerous?","20950","","<p>I just bought some <a href=""http://www.mouser.fr/Search/ProductDetail.aspx?R=UV3TZ-390-15virtualkey65330000virtualkey749-UV3TZ-390-15"">UV LEDs</a></p>

<p>I bought them for testing banknotes and identity papers. I read the documentation and saw some warnings about UV light in which the vendor advises not to look directly at the light and not to expose skin to the light.</p>

<p>Can I use these LEDs safely ?</p>
","<p>The limits of ""safe"" emitted light are very complicated. You can read about the basics <a href=""http://www.sciencebuddies.org/science-fair-projects/project_ideas/Phys_Laser_Safety.shtml"">here</a>.</p>

<p>A rule of thumb I have heard is if the emitted power is over 5mW, protection should be used. Since the LEDs you linked are capable of 10mW, <strong>yes they can be harmful</strong>. Do not use them until you understand how they can be harmful and how to prevent it. </p>

<p>UV is particularly dangerous because we can't see it so our blink reflex won't help. To safely work with these LEDs you should get a pair of glasses that block the possible wavelengths the LED can emit, 390 to 405nm ±2.5nm. <a href=""http://www.newport.com/Laser-Safety-Glasses-and-Goggles/139677/1033/info.aspx#tab_Specifications"">Examples here.</a></p>

<p>This paragraph answers an edited out question in the OP wondering why he had a UV pen with no warnings. As for your UV pen light question, it is likely the power was low enough that it was not harmful. Less than 0.39mW (roughly) is considered eye safe so under that no warning would've been required.</p>
","123675"
"Why do capacitors lose capacitance in series?","20924","","<p>Unlike rechargeable batteries, capacitors have a lower capacitance in series. Why is this and if I charge each cap separately and then put them in series, will it still be a lower capacitance? </p>
","<p>The answer to this comes from considering what is capacitance: it is the number of coulombs (C) of charge that we can store if we put a voltage (V) across the capacitor.</p>

<p><strong>Effect 1:</strong> If we connect capacitors in series, we are making it harder to develop a voltage across the capacitors. For instance if we connect two capacitors in series to a 5V source, then each capacitor can only charge to about 2.5V.  According to this effect alone, the charge (and thus capacitance) should be the same: we connect two capacitors in series, each one charges to just half the voltage, but we have twice the capacity since there are two: so break even, right? Wrong!</p>

<p><strong>Effect 2:</strong> The charges on the near plates of the two capacitors cancel each other. Only the outer-most plates carry charge. This effect cuts the storage in half.</p>

<p>Consider the following diagram. In the parallel branch on the right, we have a single capacitor which is charged. Now imagine that if we add another one in series, to form the branch on the left. Since the connection between the capacitors is conductive, bringing the two plates to the same potential, the <code>-----</code> charges on the bottom plate of the top capacitor will annihilate the <code>+++++</code> charges on the top plate of the bottom capacitor.</p>

<p>So effectively we just have two plates providing the charge storage. Yet, the voltage has been cut in half.</p>

<p><img src=""https://i.stack.imgur.com/bt0Bp.png"" alt=""enter image description here""></p>

<p>Another way to understand this is that the two plates being charged are <strong>farther apart</strong>.  In free space, if we move plates farther apart, the capacitance is reduced, because the field strength is reduced.  By connecting capacitors in series, we are virtually moving plates apart. Of course we can place the capacitors closer or farther on the circuit board, but we have now have two gaps instead of one between the top-most plate and the bottom-most plate. This reduces capacitance.</p>
","68422"
"What is the difference between registers, flip flops and latches?","20894","","<p>I want the answer to the very basic level. I know what they mean individually, but what I am looking for is connection between them.</p>
","<p>Flip-flops are single bit devices with two stable states.  The outputs are typically Q and \$\mathsf{\small \overline{\text{Q}}} \$.  There are several kinds, here are probably the most common:</p>

<p>SR flops have two inputs, S (Set) and R (Reset).  As they name implies, asserting either of these either sets or resets the flip-flop.  After the input is de-asserted, the flip-flip retains it state.  The inputs are usually negated, \$\mathsf{\small \overline{\text{S}}} \$ and \$\mathsf{\small \overline{\text{R}}} \$, i.e. 0 is the asserted state.</p>

<p>J-K flip-flops are similar to SR flip-flops, (with J being Set and K being Reset), but they have a third property -- if both J and K are set, then the flip-flop toggles.</p>

<p>D flips have a clock input, and when this clock rises (or falls, depending on the type), the D input is clocked into the flip-flop.  Most D-flops also have the S and R inputs of a SR flip-flop.</p>

<p>Latches are the same as a flip-flop.  Several latches can be combined in parallel to form a register. There will be inputs for each bit plus a clock.  An 8-bit register used inside a microcontroller would hold a single byte.  A 16-bit register would hold an address ranging from 0 to 65535 etc.  Often a register will have a common reset lead.</p>

<p>Latches can also be combined in series to form a shift register, in this case there is a single input, and the output of one latch is fed into the input of the next on the rising or falling edge of a clock.  The final output of the register can be used to feed into the input of another register.  The shift register can also have individual inputs for each latch, so the register is both parallel and serial at the same time.  This might be used for a register inside an ALU (arithmetic logic unit), that can do both arithmetic and logic operations, as well as shifting.</p>
","123451"
"Thin wires - tips for stripping and soldering?","20888","","<p>Any tips for stripping and soldering thin, tiny wires like these below, (maybe even thinner!)?</p>

<p><img src=""https://i.stack.imgur.com/xx2Qo.jpg"" alt=""enter image description here""></p>

<p>Initially, I would think of using a knife for stripping because wire strippers will definitely not work. Then with soldering, too large solder flows are highly unwanted. Someone recommended to heat a small bit of solder onto the soldering iron tip and then letting it flow to the joint. Any recommendations?  Thank you!
<img src=""https://i.stack.imgur.com/4kMgp.jpg"" alt=""enter image description here""></p>
","<p>I've used a high wattage soldering gun and just burned the enamel off, then clean it up. Tin it when it was all clean.</p>

<p>Commercial enamel wire strippers are <a href=""http://www.aliexpress.com/store/507101/210525981-507358209/Portable-paint-stripper-enameled-wire-stripping-machine-HB-8-with-good-quality-and-low-price-we.html"">available</a>.</p>

<p>Something to experiment with would be dipping the wire in acetone. I would do this far away from a heat source! </p>

<p>You are correct though, using an Xacto knife or sandpaper will ruin the integrity of the wire by creating very small nicks in the copper.</p>
","27141"
"How can I convert a PNP to NPN transistor?","20888","","<p>I have a circuit which requires a PNP transistor. 
I only have an NPN transistor.</p>

<p>Is there a way to convert one to the other given that they have the same characteristics (apart from the npn/pnp part?)</p>

<p>And for others after me... can the reverse also be done? e.g. how does one convert a PNP transistor to its NPN equivalent?</p>
","<p>If it's the only type of transistor in the circuit, the translation is straightforward; build the circuit as designed, reverse the power connections and any other polarised components (diodes, electrolytic caps).</p>

<p>If you need one PNP in a mostly NPN circuit, there is no general solution.</p>

<p>There may be solutions, depending on the configuration of the PNP stage.</p>

<p>For example, if the PNP transistor was being used as an emitter follower, and you have the headroom, you may be able to use an NPN in common emitter, with Rc=Re so that its gain is (approx) 1.</p>

<p>If the PNP transistor was in a complementary power output stage but you can only find low power PNP transistors, I remember seeing an arrangement using a PNP driver transistor and an NPN power transistor to ""replace"" the non-existent PNP power transistor. Peter Walker did this around 1970 for the Quad 303 power amp (I believe 3 transistors were involved) when there was no PNP version of the famous 2N3055.</p>

<p>And there may be other such substitutions.</p>
","51445"
"Why is sine wave preferred over other waveforms?","20869","","<p>Why did scientists chose to go with sine wave to represent alternating current and not other waveforms like triangle and square?</p>

<p>What advantage does sine offers above other waveforms in representing current and voltage?</p>
","<p>Circular motion produces a sine wave naturally: -</p>

<p><img src=""https://i.imgur.com/c9P9FPl.gif"" alt=""enter image description here""></p>

<p>It's just a very natural and fundamental thing to do and trying to produce waveforms that are different is either more complicated or leads to unwanted side effects.</p>

<p><img src=""https://i.stack.imgur.com/gl5es.gif"" alt=""enter image description here""></p>

<p>Up and down motion (in nature) produces a sine wave against time: -</p>

<p><img src=""https://i.stack.imgur.com/lwDHg.jpg"" alt=""enter image description here""></p>
","152624"
"How do you build your own RFID reader?","20850","","<p>What's involved in building your own RFID reader? As you guys would know industrial RFID readers aren't cheap, how do you energise the antenna, then read back the output?</p>
","<p>There's a University(UG) level final project detailing one <a href=""http://instruct1.cit.cornell.edu/courses/ee476/FinalProjects/s2006/cjr37/Website/index.htm"" rel=""nofollow"">here.</a></p>

<p>There's a more general RFID eavesdropper/reader <a href=""http://cq.cx/proxmark3.pl"" rel=""nofollow"">here.</a></p>
","555"
"Correct location of header file for arduino sketches","20806","","<p>I have NewSoftSerial.h and NewSoftSerial.cpp in the same folder as my sketch.  </p>

<p>The sketch is thus.</p>

<pre><code>#include &lt;NewSoftSerial.h&gt;

int incomingByte = 0;   // for incoming serial data
NewSoftSerial bluetooth(2, 3);

void setup() {
  // put your setup code here, to run once:
  Serial.begin(9600);   // opens serial port, sets data rate to 9600 bps
  Serial.flush();
  //enter command mode
  Serial.println(""$$$"");
}

void loop() {
  // send data only when you receive data:
  if (Serial.available() &gt; 0) {
    //read the incoming byte:
    incomingByte = Serial.read();

    //say what you got:
    Serial.print(""I received: "");
    Serial.println(incomingByte, BYTE);
  }
}
</code></pre>

<p>What am I doing wrong that I get these errors?</p>

<blockquote>
  <p>trainremotesketch.cpp:1:27: error:
  NewSoftSerial.h: No such file or
  directory trainremotesketch:3: error:
  'NewSoftSerial' does not name a type</p>
</blockquote>
","<p>The short answer is that library files go in the libraries folder in the Arduino root folder. A library should be in a sub-folder named for the class, and should contain a c++ implementation and header file.</p>

<pre><code>-Arduino
  |
  +--libraries  
       |
       +--NewSoftSerial
           |
           +--NewSoftSerial.cpp
           |
           +--NewSoftSerial.h           
</code></pre>
","12981"
"Adding voltage cutoff to a circuit?","20779","","<p>I'm powering a project with a 2-cell 7.4V LiPo battery.  What circuit do I add to make the unit stop drawing power when the voltage from the battery drops below 6.4V?  The goal is to protect the LiPo battery from discharging below 3V/cell.</p>
","<p>In all the following a TLV431 1.25V reference is specified.<br>
 This requires &lt; 100 uA minimum regulation current compared to about 500 uA for the 2.5V TL431.</p>

<p>When on the TLV431 on voltage is about equal to the reference voltage - NOT 0V.</p>

<p>TLV431 current is a battery load even when output is off. At about 100 uA this drains about 2.5 mAh/day. </p>

<p>Voltage sensing divider is also a battery load. This can be small. </p>

<p><strong>Hysteresis</strong> is not used in any of the following circuits - except the one copied from internet.  A whiff of hysteresis could be used to stop battery on/off cycling when load is removed. Ask if unclear how to do this. </p>

<hr>

<p>(1) Opamp based<br>
 P Channel FET high side switch.<br>
 TLV431 1.25 V reference.<br>
 R2/R3 divide Vmin to = 1.25V.</p>

<p><img src=""https://i.stack.imgur.com/N1uO2.jpg"" alt=""enter image description here""></p>

<p>(2) N Channel FET, low side switch.<br>
 TLV431 1.25V reference.<br>
 FET Vth &lt;&lt; Vmin</p>

<p><img src=""https://i.stack.imgur.com/5vNPE.jpg"" alt=""enter image description here""></p>

<p>(3) P Channel FET, high side switch.<br>
 TLV431 = 1.25V reference.<br>
 FET Vth &lt;&lt; (Vmin-1.25)V</p>

<p><img src=""https://i.stack.imgur.com/UjPys.jpg"" alt=""enter image description here""></p>

<p>(4) From web - similar to my N Channel low side circuit.<br>
 From <a href=""http://www.rcgroups.com/forums/showthread.php?t=725572&amp;page=6"" rel=""noreferrer"">This discussion page</a>.  </p>

<p>Here R6 adds hysteresis.  </p>

<p><img src=""https://i.stack.imgur.com/haxjS.jpg"" alt=""enter image description here""></p>
","19741"
"Stm32 Event and interrupts","20737","","<p>I started studying interrupts on stm32 specifically the stm32f4 discovery board. i found this example in which you have to press the button to start the interrupt and push it again to stop it. </p>

<p>In this line:EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt we have to choose either the interrupt mode or the event mode. I changed it to event mode but it doesn t seem to work .So i came out with the conclusion that the handler is executed whith interrupts only.</p>

<p>Why do we then use Events on stm32 if you can't execute some code when they happens? </p>

<p>Here is the code:   </p>

<pre><code>        #include ""stm32f4xx.h""
        #include ""stm32f4xx_syscfg.h""
        #include ""stm32f4xx_rcc.h""
        #include ""stm32f4xx_gpio.h""
        #include ""stm32f4xx_exti.h""
        #include ""misc.h""



        EXTI_InitTypeDef   EXTI_InitStructure;

        void EXTILine0_Config(void);
        void LEDInit(void);


        void ExtInt(void)
        {

          LEDInit();

          /* Configure EXTI Line0 (connected to PA0 pin) in interrupt mode */
          EXTILine0_Config();

          /* Generate software interrupt: simulate a rising edge applied on EXTI0 line */
          EXTI_GenerateSWInterrupt(EXTI_Line0);

          while (1)
          {
          }
        }

        /**
          * @brief  Configures LED GPIO.
          * @param  None
          * @retval None
          */
        void LEDInit()
        {
          GPIO_InitTypeDef  GPIO_InitStructure;

          /* Enable the GPIO_LED Clock */
          RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD, ENABLE);

          /* Configure the GPIO_LED pin */
          GPIO_InitStructure.GPIO_Pin = GPIO_Pin_12;
          GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
          GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
          GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
          GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
          GPIO_Init(GPIOD, &amp;GPIO_InitStructure);
        }

        /**
          * @brief  Configures EXTI Line0 (connected to PA0 pin) in interrupt mode
          * @param  None
          * @retval None
          */
        void EXTILine0_Config(void)
        {

          GPIO_InitTypeDef   GPIO_InitStructure;
          NVIC_InitTypeDef   NVIC_InitStructure;

          /* Enable GPIOA clock */
          RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);
          /* Enable SYSCFG clock */
          RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);

          /* Configure PA0 pin as input floating */
          GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN;
          GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
          GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;
          GPIO_Init(GPIOA, &amp;GPIO_InitStructure);

          /* Connect EXTI Line0 to PA0 pin */
          SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOA, EXTI_PinSource0);

          /* Configure EXTI Line0 */
          EXTI_InitStructure.EXTI_Line = EXTI_Line0;
          EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
          EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
          EXTI_InitStructure.EXTI_LineCmd = ENABLE;
          EXTI_Init(&amp;EXTI_InitStructure);

          /* Enable and set EXTI Line0 Interrupt to the lowest priority */
          NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;
          NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x01;
          NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x01;
          NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
          NVIC_Init(&amp;NVIC_InitStructure);
        }

        /**
          * @brief  This function handles External line 0 interrupt request.
          * @param  None
          * @retval None
          */
        void EXTI0_IRQHandler(void)
        {
          if(EXTI_GetITStatus(EXTI_Line0) != RESET)
          {
            /* Toggle LED1 */
            GPIO_ToggleBits(GPIOD, GPIO_Pin_12);

            /* Clear the EXTI line 0 pending bit */
            EXTI_ClearITPendingBit(EXTI_Line0);
          }
        }

        /**
          * @}
          */

        /**
          * @}
          */

        /******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/

        int main(void)
        {

            while(1)
            {
            }
        }
</code></pre>
","<p>Sometimes finding the answer to these questions for an ARM device can be more difficult than simpler microcontrollers because the information is often spread across family and programming guides rather than included in the datasheet. In this case the answer appears to be on page 377 of the <a href=""http://www.st.com/st-web-ui/static/active/en/resource/technical/document/reference_manual/DM00031020.pdf"">RM0090 Reference manual</a>:</p>

<blockquote>
  <p>The STM32F4xx are able to handle external or internal events in order to wake up the core
  (WFE). The wakeup event can be generated either by:</p>
  
  <ul>
  <li><p>(I've removed normal external interrupt mode details)</p></li>
  <li><p>or configuring an external or internal EXTI line in event mode. When the CPU resumes
  from WFE, it is not necessary to clear the peripheral interrupt pending bit or the NVIC
  IRQ channel pending bit as the pending bit corresponding to the event line is not set.</p></li>
  </ul>
</blockquote>

<p>So it appears the main purpose is to enable wakeups without generating an interrupt or having to respond to interrupts during normal operation.</p>

<p>It's not mentioned in that guide and I'm not sure how applicable is to the STM32 architecture but on some other devices similar schemes can be useful to catch fast events without generating an interrupt. For example you may have an application where it's important to capture that a sub-microsecond event has occurred, but there's no need to respond to it quickly so you can just check a flag to see if it's occurred.</p>
","114927"
"What is the purpose of solder mask expansion?","20736","","<p>I see recommendations of 2-4 mils for solder mask expansion.  But why is it necessary?</p>
","<p>If the solder mask expansion were 0, in theory -- assuming everything aligned perfectly -- the board would work fine.</p>

<p>In practice, things never align perfectly.
The actual hole punched in the solder mask may be slightly less than what you specified (""shrinkage""), and that hole is <em>always</em> be placed in a slightly different location than what you specified (""movement"").
If your solder mask expansion is too small, then these misalignments cause the solder mask to partially or completely overlap SMT pads and through-hole pads.</p>

<p>If the solder mask completely covers most or all of the pad, the SMT part will be completely disconnected from that pad.
Then the board will immediately fail the end-of-line go-nogo test.</p>

<p>Many people specifically design the pads of a footprint to comply with IPC's fillet recommendations.
If the solder mask even partially covers some of that pad,
then the fillet of solder will be smaller than a person looking only at the copper might expect.
If the fillet of solder is too small, then the (SMT or through-hole) part will not be mechanically attached as well.
After a few thousand cycles of vibration, the solder may eventually crack, and the part will be completely disconnected from that pad or hole.
Then your customer will notice the problem.
(This is much worse than a board failing the end-of-line go-nogo test).</p>

<p>Daniel Grillo gives an excellent explanation of what happens if the solder mask is too big.</p>
","12696"
"Can you use an Arduino Uno as an ATmega328 programmer?","20727","","<p>I don't have an Uno, but I was thinking of getting one and by the looks of it, you can remove the AVR microcontroller from the Arduino, right? It's just a DIP IC in a socket that can be pulled out, it seems like.</p>

<p><a href=""http://egyrobots.com/image/cache/data/arduino-uno-500x500.jpg"" rel=""nofollow noreferrer"">Uno http://egyrobots.com/image/cache/data/arduino-uno-500x500.jpg</a></p>

<p>So can you just load a program, remove the AVR chip, throw in another one, and load another program? Then you can have a permanent microcontroller solution for all your projects.</p>

<p>Is this possible?</p>
","<p>Yes, the Arduino can be used as an AVR programmer.
But, no, you can't just plug the new chip in.</p>

<p>The AVR microcontroller in the Arduino contains the Arduino bootloader. This bootloader can only update the sketch code.</p>

<p>In order to use a brand new AVR with your Arduino, you'll need to copy the Arduino bootloader to it using an AVR In-System-Programmer (ISP).</p>

<p>Fortunately, the Arduino Uno can be used as an AVR ISP.</p>

<p><a href=""http://arduino.cc/en/Tutorial/ArduinoISP"">http://arduino.cc/en/Tutorial/ArduinoISP</a></p>
","17457"
"How can I make my own potentiometer?","20690","","<p>I want to create my own potentiometer for a project. Part of the reason is because I believe it'll be more adapted to my needs but I must admit that it seems like something really fun to do. </p>

<p>I've read online that the resistive part of the potentiometer is either made of Graphite or a ""resistive cable"". I know many good stores selling electronics component but I wasn't able to find graphite stripes to make my own potentiometer.</p>

<p>Another idea I had is to use a cable used for heating since they are pretty resistive by definition. I'm just not sure if it could work correctly.</p>

<p>So what are my options?</p>
","<p><strong>MAKING YOUR OWN VARIABLE RESISTORS</strong></p>

<p>Anything conductive, accessible, doesn't oxidise, able to be ""wiped"" with a wiper (resistor pickup) with adequate dying ""too quickly"".</p>

<p>As this is as much for fun as anything else ""too quickly"" may be able to be of lower duration in time or cycles than usually.</p>

<p>Resistance values that you generate may be lower than not, depending on material used.</p>

<p>Properly ""potentiometer""  mans a 3 terminal device with voltage across it and a sliding voltage tap but I'll take it to also just mean 'variable resistor.</p>

<p>Connection to start may be with ""crocodile clips or pushed in ""drawing pins"" / ""thumbtacks/other.</p>

<ul>
<li><p><strong>Pencil lead.</strong>   </p>

<p>Select an old (or new) pencil.<br>
Sharpen both ends.<br>
Measure resistance to see what sort of pot resistance you are going to get.<br>
CAREFULLY break open and remove the lead intact.<br>
May need a few pencils to get it right.<br>
Connect clips at either end.<br>
Connect ohmmeter to one end.<br>
Run other ohm-meter along length and note variation in resistance.  </p>

<p>If you connect a voltage across length then you can use a slider to puck off variable voltage with position.</p></li>
<li><p><strong>Resistance wire</strong></p>

<p>In place of the pencil lead above you can us a length of new or used resistance wire.<br>
Wire can be strethed tight between eg thumbtacks or nail in a piece of wood.<br>
Note that wood becones part of the resistor.<br>
New Nichome or Chomel wire canbe bought for modest cost.<br>
Ohms per metre varies with thickness - thinnest possible is liable to be best.<br>
Around 10 ohms/meter is common but higher R is possible.</p>

<p>Nichrome from old heater or toaster element works.<br>
This may be somewhat oxidised with age and may be brittle.<br>
You can sand surface carefully once stretched in place.</p></li>
<li><p><strong>Butyl Rubber and friends</strong></p>

<p>Black rubber used for roofing has carbon black in it.<br>
Take meter and wander round sticking probes in rubber on sale and other material.<br>
When you find a sheet of substance that has some resistance acquire a small sample by best permissible means and cut strips to make a pot.</p></li>
<li><p><strong>Paper and salt water.</strong></p>

<p>Lay out a strip of newspaper<br>
Wet well but not until soggy with salt in water solution.<br>
Test pot.<br>
Note how result varies with salt concentration, degree of saturation of paper, passage of time, ...</p>

<p>Try copper-sulphate in place of salt.<br>
Try ""Epsom Salts""<br>
Try ... ?</p></li>
<li><p><strong>Copper wire</strong></p>

<p>!!!<br>
(1) Get thinnest possible bare copper wire.<br>
Measure resistance.<br>
Low but usable.</p>

<p>(2) Now for a very good trick.      </p>

<p>Get thinnest (within reason) enamel or varnish or polyurethane insulated copper wire. Sortthat insulation can be ""sanded"" off with care.<br>
Find a ""former"" that is an insulator and that you can wind your copper wire on.<br>
Round or oval cross section is good.<br>
Once you have built one you will get a better feel for shape that is needed. 
Wind copper carefully and neatly in a long ish coil along formr. Many turns.<br>
Not too too many the first time.   </p>

<p>Wind neatly so turns stack against each other neatly.
Fasten carefully at both ends.<br>
Now CAREFULLY use fine sand paper to sand along top surcae of coil so you expose copper on each turn BUT DO NOT TAKE OFF SO MUCH THAT COIL TURNS ALL GET SHORTED TOGETHER.   </p>

<p>Run a wiper along the bared copper.<br>
You have a wire-wound variable resistor.</p></li>
<li><p><strong>""Plastic""</strong></p>

<p>Use epoxy resin and silicone rubber.<br>
Fill with various amounts of carbon black, or pencil graphite or powdered metal etc.<br>
Make a track.<br>
Let set.<br>
Test.</p>

<p>Also silver filled compound used for PCB track repair.</p>

<p>Also ??? - look around you ... . </p></li>
</ul>

<p>By now you should have a few other ideas.</p>

<p>Report back :-) !!!!</p>
","24422"
"How to reduce MOSFET turn-off delay","20640","","<p>The title says it all in signal switching applications - besides choosing a different device, how can I reduce the turn-off delay of (N-channel) MOSFETs? Is there something similar to the Baker Clamp used for BJTs? </p>
","<p>A MOSFET gate and driver look something like this:</p>



<p><img src=""https://i.stack.imgur.com/sg0DV.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fsg0DV.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>\$C_G\$ is mostly the gate capacitance of the MOSFET itself. The driver may add some capacitance of its own, but it's usually negligible.</p>

<p>\$L_G\$ and \$R_G\$ mostly come from the gate driver circuit. The leads of the MOSFET also contribute, but to a lesser degree.</p>

<p>\$R_G\$ is also expressly added in some driver circuits to dampen the resonance of \$L_G\$ and \$C_G\$. Without this damping, ringing can result in the voltage at M1's gate taking transient excursions well beyond the voltage provided by \$V_{GS}\$, sometimes exceeding the maximum specified by the MOSFET and damaging the gate.</p>

<p>For the fastest possible switching times, you want all of these to be as little as possible.</p>

<p>Minimizing \$R_G\$ is pretty straightforward. Don't add any more resistance than required, and don't make the PCB traces excessively thin. You also want the driver to be as close to the MOSFET as possible, and you want it to be something capable of sinking and sourcing high current. The simplest way to do that might be to add a BJT push-pull pair of emitter followers:</p>



<p><img src=""https://i.stack.imgur.com/BJtRt.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fBJtRt.png"">simulate this circuit</a></sup></p>

<p>For a more complex example, see <a href=""https://electronics.stackexchange.com/questions/56140/driving-low-side-of-a-mosfet-bridge-with-3-3v/56157#56157"">driving low side of a mosfet bridge with 3.3V</a>. Of course, there are also integrated solutions.</p>

<p>If it's more important to have fast turn-off than fast turn-on (common in H-bridge applications), then D1 can be added to mostly bypass \$R_G\$ during turn-off, while still retaining much of the damping capability.</p>

<p>To minimize \$L_G\$, be mindful of not only the length of the gate trace, but also the return path from the source back to the gate driver. Remember, the gate charging current must flow <em>through</em> the gate and the source, and back to the driver. The inductance of this loop is proportional to the area it encircles, and at high frequencies, this inductance will limit the switching speed much more than the resistance \$R_G\$. Common layout practice is to have a solid ground plane under the MOSFET and the driver, with the gate trace as short as possible running over this. Where you need to connect layers with vias, include several, if possible, to minimize their effective inductance.</p>

<p>Remember also that \$L_G\$ and \$R_G\$ include the power supply impedance. Be sure the gate driver is adequately supplied with power supply decoupling capacitors. Use several, in parallel, to maximize the capacitance and minimize the inductance.</p>

<p>\$C_G\$ can't be directly reduced, except by selecting a different MOSFET. More expensive MOSFETs can deliver less gate capacitance for a lower \$R_{DS(on)}\$ or maximum current handling ability. Also, don't use a MOSFET with more current handling ability than necessary; you will pay for it in increased gate capacitance.</p>

<p>Most gate driver designs can also benefit from driving the gate to a <em>negative</em> voltage. By applying a higher voltage to \$L_G\$ and \$R_G\$, the current will become greater, faster, leading to a higher \$\frac{di}{dt}\$ and thus faster turn-off. Also remember that the higher you make \$\frac{di}{dt}\$, the faster you can switch, but also the worse ringing will be.</p>

<p>Also, keep in mind that if you succeed at achieving a very fast turn-off, you may bump into your MOSFET's \$\frac{dv}{dt}\$ limit. As the drain-source voltage increases, the drain-gate and drain-body capacitance must be charged, and this means the gate driver must sink that charging current. If it can't, then the gate voltage may rise enough to turn the MOSFET back on, and depending on your circuit, something bad could happen. Usually this means shoot-through for H-bridges.</p>

<p><img src=""https://i.stack.imgur.com/ZK7A5.png"" alt=""schematic of MOSFET parasitic capacitances""></p>

<p><em>from <a href=""http://www.irf.com/technical-info/appnotes/mosfet.pdf"" rel=""nofollow noreferrer"">International Rectifier - Power MOSFET Basics</a></em></p>

<p>This is another reason to include D1 if you've intentionally added \$R_G\$.</p>

<p>The concept of a baker clamp can also be applied to a MOSFET, simply by not driving the gate to a higher voltage than necessary. However, unlike BJTs, MOSFETs experience a decreasing \$R_{DS}\$ as \$V_{GS}\$ increases, so there is some value in raising \$V_{GS}\$ above the turn-on threshold.</p>

<p><img src=""https://i.stack.imgur.com/HVmDW.png"" alt=""on-resistance vs gate voltage""></p>

<p><em>an example, for 2N7000</em></p>

<p>You will have to calculate your thermal limits to see if you can gain something here, but I'd say if \$R_{DS}\$ is low enough that you don't need to drive the gate very high, you'd get better performance by selecting a different MOSFET with lower overall gate capacitance and higher \$R_{DS(on)}\$. This is because most of the charge you have to move, and thus time you have to wait to turn on or off, is spent when the gate voltage is crossing the threshold voltage \$V_{th}\$:</p>

<p><img src=""https://i.stack.imgur.com/ojzAX.png"" alt=""gate charge characteristics""></p>

<p><em>2N7000 again. The flat section in the middle is at \$V_{th}\$.</em></p>

<p>Increasing the gate voltage above \$V_{th}\$ takes relatively little charge, but you can get substantial reductions in \$R_{DS}\$.</p>
","74472"
"Why is RAM not put on the CPU chip?","20539","","<p>Modern CPUs are very fast compared to all things external, including memory (RAM). </p>

<p>It is understandable, since CPU clock frequency has reached a point where it takes several clock ticks for an electric signal simply to run from from the CPU through the bus to RAM chips and back. </p>

<p>It also complicates life on many levels: multi-level cache hierarchies are built to deliver data closer to the CPU, which in turn require complex synchronization logic in the chip. Programs must be written in a cache-friendly way to avoid wait cycles while data is fetched. </p>

<p>Many of these problems could be avoided if a significant amount of RAM was located directly on the CPU chip. It doesn't have to an exclusive arrangement: maybe put 1-4 GB on the chip, depending on its class and allow additional memory installed separately. </p>

<p>I'm sure there are good reasons Intel, AMD and the like are not doing this. What are these reasons? Is it that there's no room to spare on the chip? </p>
","<p>Intel's Haswell (or at least those products that incorporate the Iris Pro 5200 GPU) and IBM's POWER7 and POWER8 all include embedded DRAM, ""eDRAM"".</p>

<p>One important issue that has led eDRAM not to be common until recently is that the DRAM fabrication process is not inherently compatible with logic processes, so that extra steps must be included (which increase cost and decrease yield) when eDRAM is desired. So, there must be a compelling reason for wanting to incorporate it in order to offset this economic disadvantage. Alternatively, DRAM can be placed on a separate die that is manufactured independently of, but then integrated onto the same package as, the CPU. This provides most of the benefits of locality without the difficulties of manufacturing the two in a truly integrated way.</p>

<p>Another problem is that DRAM is not like SRAM in that it does not store its contents indefinitely while power is applied, and reading it also destroys the stored data, which must be written back afterwards. Hence, it has to be refreshed periodically and after every read. And, because a DRAM cell is based on a capacitor, charging or discharging it sufficiently that leakage will not corrupt its value before the next refresh takes some finite amount of time. This charging time is not required with SRAM, which is just a latch; consequently it can be clocked at the same rate as the CPU, whereas DRAM is limited to about 1 GHz while maintaining reasonable power consumption. This causes DRAM to have a higher inherent latency than SRAM, which makes it not worthwhile to use for all but the very largest caches, where the reduced miss rate will pay off. (Haswell and POWER8 are roughly contemporaneous and both incorporate up to 128MB of eDRAM, which is used as an L4 cache.)</p>

<p>Also, as far as latency is concerned, a large part of the difficulty is the physical distance signals must travel. Light can only travel 10 cm in the clock period of a 3 GHz CPU. Of course, signals do not travel in straight lines across the die and nor do they propagate at anything close to the speed of light due to the need for buffering and fan-out, which incur propagation delays. So, the maximum distance a memory can be away from a CPU in order to maintain 1 clock cycle of latency is a few centimetres at most, limiting the amount of memory that can be accommodated in the available area. Intel's Nehalem processor actually reduced the capacity of the L2 cache versus Penryn partly to improve its latency, which led to higher performance.* If we do not care so much about latency, then there is no reason to put the memory on-package, rather than further away where it is more convenient.</p>

<p>It should also be noted that the cache hit rate is very high for most workloads: well above 90% in almost all practical cases, and not uncommonly even above 99%. So, the benefit of including larger memories on-die is inherently limited to reducing the impact of this few percent of misses. Processors intended for the enterprise server market (such as POWER) typically have enormous caches and can profitably include eDRAM because it is useful to accommodate the large working sets of many enterprise workloads. Haswell has it to support the GPU, because textures are large and cannot be accommodated in cache. These are the use cases for eDRAM today, not typical desktop or HPC workloads, which are very well served by the typical cache hierarchies.</p>

<p>To address some issues raised in comments:</p>

<p>These eDRAM caches cannot be used in place of main memory because they are designed as L4 victim caches. This means that they are volatile and effectively content-addressable, so that data stored in them is not treated as residing in any specific location, and may be discarded at any time. These properties are difficult to reconcile with the requirement of RAM to be direct-mapped and persistent, but to change them would make the caches useless for their intended purpose. It is of course possible to embed memories of a more conventional design, as it is done in microcontrollers, but this is not justifiable for systems with large memories since low latency is not as beneficial in main memory as it is in a cache, so enlarging or adding a cache is a more worthwhile proposition.</p>

<p>As to the possibility of very large caches with capacity on the order of gigabytes, a cache is only required to be at most the size of the working set for the application. HPC applications may deal with terabyte datasets, but they have good temporal and spatial locality, and so their working sets typically are not very large. Applications with large working sets are e.g. databases and ERP software, but there is only a limited market for processors optimized for this sort of workload. Unless the software truly needs it, adding more cache provides very rapidly diminishing returns. Recently we have seen processors gain prefetch instructions, so caches are able to be used more efficiently: one can use these instructions to avoid misses caused by the unpredictability of memory access patterns, rather than the absolute size of the working set, which in most cases is still relatively small.</p>

<p>*The improvement in latency was not due only to the smaller physical size of the cache, but also because the associativity was reduced. There were significant changes to the entire cache hierarchy in Nehalem for several different reasons, not all of which were focused on improving performance. So, while this suffices as an example, it is not a complete account.</p>
","175633"
"What does the term ""bias"" mean?","20537","","<p>I've see a number of terms that make reference to the word ""bias"". I've read the <a href=""http://en.wikipedia.org/wiki/Biasing"">wikipedia article</a> but I'm after are more practical answer.</p>

<p>Some examples of what a <em>forward</em> or <em>reverse</em> biased device is would also be well received.</p>
","<p><em>Bias</em> is another word for the <em>operating point</em> -- a dc voltage or current about which the instantaneous value might vary.</p>

<p>For example, you can say you applied a ""6 V peak-peak AC signal <em>biased</em> at +1 V"". In this case the range of the signal would be from -2 to +4 V. You can see the relationship with the everyday meaning of <em>bias</em>, ""a tendency or inclination"" (<a href=""http://dictionary.reference.com/browse/bias?r=75&amp;src=ref&amp;ch=dic"">dictionary.com</a>) in this case with the meaning that although the voltage varies, it tends to be near the operating point.</p>

<p>As the other answers point out, the term is often used with relation to diodes and other nonlinear components.</p>
","66962"
"How to find Gate Delay","20532","","<p>I need to find the delay of a full adder. I searched for it but I couldnt find absolute information.</p>

<p>Sample delays : XOR - 8ns / AND - 2ns / OR - 2ns
<img src=""https://i.stack.imgur.com/AQPzC.gif"" alt=""enter image description here""></p>

<p>What is the delay of this circuit?</p>

<p><strong>My Solution</strong></p>

<p>I think the delay is the maximum time.
For Full Adder : XOR + XOR = 16ns (max) Is it correct?
Another question is how can I find the delay of 4-bit adder?</p>

<p>Thanks in advance.</p>
","<p>For a single-bit adder, the worst-case propagation delay is the longest time it will take to get a stable output, which for this case is 16ns.</p>



<p><img src=""https://i.stack.imgur.com/ESoEJ.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fESoEJ.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>However, for an N-bit adder, you should consider the path from the input's least significant bit (LSB) to a stable output's most significant bit (MSB)-- $$A_0 \rightarrow C_{out,0} \rightarrow C_{out,1} \rightarrow C_{out,2} \rightarrow S_3 (1)$$ (C<sub>in, i</sub> is implied, but not shown).</p>

<p>In the case of your circuit, we're given the following paths
$$A_i \rightarrow S_i = 16ns (2)$$
$$A_i \rightarrow C_{out,i} = 12ns (3)$$
$$C_{in,i} \rightarrow S_i = 8ns (4)$$
$$C_{in,i} \rightarrow C_{out,i} = 4ns (5)$$</p>

<p>From this, we calculate the longest path previously shown in (1). This calculates to be $$12ns + 8ns + 8ns + 8ns = 36ns$$</p>

<p>For more information, please refer to <a href=""http://www.ee.ic.ac.uk/pcheung/teaching/ee2_digital/Lecture%2014%20-%20Adder%20circuits.pdf"" rel=""nofollow noreferrer"">this lecture on adder circuits</a></p>
","86083"
"Is it possible to fire a spark plug from batteries","20521","","<p>I wanted to create a remote fired trigger for a spud gun so I can trigger it remotely.</p>

<p>Ideally I'd like to use a spark plug to fire because it should work well for gas mixtures but the trigger is pretty small/simple. Basically it's a a little remote box with a push button trigger that runs off of batteries.</p>

<p>It has a light, arm switch, and push button that triggers a relay but I currently don't have anything connected on the relay switch end.</p>

<p>Would it be possible to charge up some caps and get enough juice to bridge a spark plug with a small battery source (4 AAA or AA batteries) or would I need to step it up to something bigger (lipo or lead acid).</p>

<p><em>Note: I have used caps for filtering before but never for charging/discharging.</em></p>

<p><strong>Update:</strong></p>

<p><strong>Just wanted to clarify. I know that a gas grill push-button igniter is a viable option but I'm looking for something more reliable. Ie, an igniter that I'm 100% positive it'll fire a good spark when I push the button. Check out <a href=""http://www.youtube.com/watch?v=Mr1k4G0T-3U"" rel=""nofollow"">""Tater gun Fires a Hunert yards""</a> to see what I mean by unreliable.</strong></p>
","<p>The answer for automotive spark plugs is no with a normal battery. But with a 9v battery by stepping up the current using a ignition coil (which ramps it up thousands of volts) then you will be able to use a spark plug....Only thing with that though is that your battery (9v) won't last long, as its ""Juice"" will be all gone in a few shots. Hope this made sense :) just tell me if not....</p>

<p>You could make a spark though with your normal everyday disposable camera....Something like this: <a href=""http://www.angelfire.com/80s/sixmhz/camera.html"" rel=""noreferrer"">http://www.angelfire.com/80s/sixmhz/camera.html</a></p>

<p>P.S: If you used a larger battery (more volts) then you would have more juice :) </p>
","11817"
"Determine MOSFET switching speed","20497","","<p>How can I determine the switching speed of a MOSFET, with given Qg (gate charge), Vgs (G-S junction voltage) and gate resistor ?
How should I determine the required value of the gate resistor?</p>
","<p>From the point of view of the driving circuit, the gate looks like a capacitor to the source.  It actually has some capacitance to the drain too, but that has been taken into account in the total gate charge figure.  You know the voltage the gate must change and the charge that must be transferred to accomplish that.  From there it's simple to compute the equivalent capacitance: Farads = Couloumbs / Volt.  Once you have the capacitance, The R*C time constant gives you some idea how fast the gate will slew given a step input on the other side of the gate resistor.  To reach 90% of the final gate voltage, for example, takes 2.3 time constants.</p>

<p>When the FET actually ""switches"" is more tricky.  The FET won't suddenly go from full off to full on at a particular gate voltage, but there is a gate voltage at which a small incremental change will make the most difference in the FET output characteristic.  You have to decide how full on and how full off ""switching"" really means, and then decide what gate voltage range that represents.  Then you can use the equivalent R-C model to decide how quickly a step input will cause it to slew accross this region.  For example, if you decide most of the switching happens between 20% and 80% of the gate voltage, then that would be 1.4 time constants.</p>
","20511"
"Understanding GPIO analog and digital","20470","","<p>I'm trying to understand GPIO, and have read a bunch of different blog posts and I think I'm close to getting it, but still struggling with a few things.</p>

<p>I've seen a few reference to GPIO only being able to work with binary values, but other posts which say the value can be from 0-255. I'm assuming this is the difference between analog and digital GPIO. Is that correct? Is it possible that a single GPIO pin can act as both analog and digital? </p>
","<p>A GPIO pin is a 'general purpose input/output' pin. This is by default only high or low (voltage levels, high being the micro controller's supply voltage, low usually being ground, or 0V). But the levels of 'high' and 'low' are usually given as voltages as a proportion of the supply voltage. So anything usually above 66% of the supply voltage is considered a logic level 'high' which means some lower voltage devices can talk with high voltage devices as long as the levels fall within what is considered 'high'. A 1.8–2.7V low power microcontroller or GPS receiver for example will have trouble communicating directly to a 5V microcontroller because what the low voltage device sees as 'high' the higher voltage device will not think it's high at all. This is for using GPIO as an input pin, and output is basically the same - the output high is based on the supply of the controller, where it will drive current out and set the voltage of that pin to VCC, or sink current and pull the pin to 0V for a logic 'low'.</p>

<p>Sometimes you can use a SINGLE pin for 'analog' values, by configuring the GPIO pin to be used by other onboard devices like an 'analog to digital' (ADC) converter. The pin is set to a channel on the ADC and this acts as an input to the ADC now, not a normal GPIO pin. You can then set the ADC to take a sample, and read the ADC's result register value for numbers like 0-1024 if it's 10-bit resolution. </p>

<p>As someone has mentioned, a GPIO pin could be used in software to give the effect of a Pulsed Width Modulation (PWM) signal, usually at low speeds for GPIO toggling. Most microcontrollers have dedicated PWM generators which can be configured to use a GPIO pin as an output pin, and these are very fast and far more stable than using software to control GPIO for generating a PWM signal. PWM are used for 'average' or '%' style signals and allow you to do things like dim lights and control a motor's speed.</p>

<p>GPIO pins are usually arranged in groups, called Ports. In small controllers, they might be 8-bit architecture, so ports are often grouped into lots of 8, and their values can be read all at the same time by reading a 'data register' that represents the logic high/low values of those pins. Similarly, you can set pins to be outputs and then write 8-bits into a data register, and the microcontrollers GPIO controller will read the register's changed values, and drive the pin high or pull the pin low depending what value you just set.</p>

<p>In newer controllers such as the ARM Cortex A8 and A9 like in the Raspberry Pi and BeagleBone, their GPIO controllers and different options are very complicated. They use a 32-bit architecture, so most GPIO pins are arranged into 32-pin blocks, even if not all are actually usable (some might be dedicated or not enabled). The BeagleBone (which I have worked on before) has some really awesome options for its large amount of pins, and sometimes you will need to use a 'pin mux' tool, which allows you to set up the special modes of certain pins for things like PWM, pulse capture, timer outputs, analog (ADC) channel inputs, and even (on the BeagleBone anyway) mapping to the industrial sub-processors available on the ARM core, but are considered independent processors and need their own pin mapping in order to be connected to the outside world. </p>
","104473"
"Easiest way to regulate a 12 V battery to regulated 12 V?","20465","","<p>What's the easiest way to regulate a 12 V battery to a regulated 12 V power source?</p>

<p>Preferably, I'd like a ready-made product so that I could avoid having to show my lack of skill with the soldering iron. :-) More complex answers are fine, too, as long as they are insightful.</p>

<p>I'm thinking of powering a 12 V / 600 mA stage piano/synth by replacing its AC/DC converter with a small car battery for portable use. Because the device is not designed for in-car use, I understand that regulation is the safest bet. (Of course, I could buy an inverter, but I'd like to ""do it right"" and get rid of the DC/AC AC/DC conversion.)</p>
","<p>What a regulator actually does is to smooth out variations in voltage to make a source look more like a battery. In a case like this, you don't have to worry about the source voltage changing much, so the main advantage of regulation is moot. </p>

<p>Often equipment that's designed for low-voltage DC will actually accept a range of voltages. Sometimes it isn't, and really does expect a regulated supply. The problem here is, what's the range that the synth will find acceptable? Admittedly, applying regulation solves <em>that</em> problem by nailing the voltage down to something that's supposed to work, but the thing is, voltage regulation gets complicated when the source and the output voltages are closer than about 2 volts, because regulators need some headroom to work with. Automotive batteries nominally sit around 13.8V; worryingly high if your device wants a regulated 12V input, annoyingly low if you want to regulate it to 12V.</p>

<p>If you can measure the voltage from your present AC/DC converter, <em>while it's connected to the synth, with the synth turned on</em>, and that voltage is with say, half a volt of the battery's open-circuit voltage, you would probably be able to directly connect the battery, without a regulator. </p>
","13911"
"Can I put multiple resistors in series to get higher resistance?","20457","","<p>If I put 3 1MΩ resistors in series, is that the equivalent of one 3MΩ resistor?</p>
","<p>The short answer: Yes. It's the same.</p>

<blockquote>
  <p><img src=""https://i.stack.imgur.com/x0ROW.png"" alt=""alt text""></p>
  
  <p>The current through resistors in
  series stays the same, but the voltage
  across each resistor can be different.
  The sum of the potential differences
  (voltage) is equal to the total
  voltage. To find their total
  resistance:</p>
  
  <p><img src=""https://i.stack.imgur.com/N8d3M.png"" alt=""alt text""></p>
  
  <p><a href=""http://en.wikipedia.org/wiki/Resistor#Series_and_parallel_resistors"">By Wikipedia</a></p>
</blockquote>

<p>But this the ideal value. In the real word, resistors have tolerances and you have take in count. E.g., tolerance of 10%. The final value can vary between 2.7MΩ to 3.3MΩ.</p>
","8002"
"What is the purpose of the Arduino Uno power pins section?","20456","","<p>I have an Arduino Uno, and from what I understand, the digital I/O pins on the side of the uno  each have 5V and can be controlled from the Arduino software. </p>

<p>I am pretty sure from reading the documentation and testing it out with a 9V battery (Please correct me if I am wrong) that the VIM and ground pins on the opposite side of the uno are used for powering the uno from an external, non-USB power source. </p>

<p>What I find a bit hard to understand from the uno's documentation, is the purpose of the 5V and 3.3V pins. I tried hooking up a hobby motor to the 5V and ground pins, and it spun - so am I correct in deducing that the 5V and 3.3V pins are used to power external components that don't need to be controlled from the Arduino software? </p>
","<p>The 5V pin is the output of the on-board 5V regulator. Yes, you are correct that it can be used to power external components which use a 5V connection.</p>

<p>The 3V3 pin is the output of the on-board 3.3V regulator. Same as above as for powering components from it.</p>

<p>The VIN pin is slightly more complicated. If you are not powering it from USB but rather from an external power supply, that supply is directly available on VIN. However, the ATmega328 is still powered from 5V which is available on the 5V pin after being passed through the regulator. So the VIN pin is unregulated (unless your external supply is regulated) and should probably not be used to power external components.</p>

<p>Unfortunately, I believe all the pins on the arduinos are only rated for 40mA. So while your power supply might be able to provide more, if you take it from the power pins you should not draw more than that.</p>
","17988"
"What could cause a microcontroller to unexpectedly reset?","20434","","<p>One particularly irritating variety of bug in a microprocessor-controlled system is for the microprocessor to unexpectedly reset. An important tool for debugging this kind of problem is a list of possible causes. What could cause a microcontroller to unexpectedly reset?</p>
","<p>On PIC and dsPIC chips, I have observed the following causes of unexpected reset.</p>

<p>Hardware:</p>

<ul>
<li>Reset pin driven low or floating. Check the obvious stuff first!</li>
<li>ESD coupling into the reset pin. I've seen this happen when completely unrelated equipment gets turned on on the same desk. Make sure there's enough capacitance on the reset pin, possibly as much as 1 uF.</li>
<li>ESD coupling into other pins of the processor. Scope probes in particular can act as antennae, couple noise into the chip and cause odd resets. I've heard reports of ""invalid opcode"" reset codes.</li>
<li>Bad solder joint/intermittent bridge. Could be losing or shorting a power rail, either on the processor or somewhere else on the board.</li>
<li>Power rail glitch/noise. Could be caused by any number of external problems, including a damaged regulator or a dip in the upstream supply. Make sure the power rails feeding the processor are stable. May require more cap somewhere, perhaps decoupling cap directly on the processor.</li>
<li>Some microcontrollers have a Vcap pin, which must not be connected to VDD and must have its own capacitor to common. Failure to connect this pin properly may have unpredictable results.</li>
<li>Driving an analog input negative past a certain limit causes a reset that reports in RCON like a brownout. The same may be true of digital inputs.</li>
<li>Very high dV/dt in a nearby power converter can cause a brownout reset. (See <a href=""https://electronics.stackexchange.com/questions/84679/what-could-cause-unexplained-brownout-resets/84895#84895"">this question</a>.) I have seen this in two cases, and in one I was able to track it to capacitive coupling. An IGBT was switching 100-200 amps, and at turn-off some feedback circuits were seeing a few microseconds of noise, going from 2V to over 8V on a 3.3V processor. Increasing the filter cap on that feedback rail made the resets stop. One could imagine that adding a dV/dt filter across the transistor might have had a similar effect.</li>
</ul>

<p>Software:</p>

<ul>
<li>Watchdog timer. Make sure the watchdog timer is cleared often enough, especially in branches of your code that may take a long time to execute, like EEPROM writes. Test for this by disabling the watchdog to see if the problem goes away.</li>
<li>Divide-by-zero. If you're performing <em>any</em> divide operation in your code, make sure the divisor can never be equal to zero. Add a bounds check before the division. Don't forget that this also applies to <a href=""https://en.wikipedia.org/wiki/Modulo_operation"" rel=""noreferrer"">modulo operations</a>.</li>
<li>Stack overflow. Too many nested function calls can cause the system to run out of dynamic memory for the stack, which can lead to crashes at unusual points in code execution.</li>
<li>Stack underflow. If you are programming in assembler, you can accidentally execute more RETURNs than you executed CALLs.</li>
<li>Non-existent interrupt routine. If an interrupt is enabled, but no interrupt routine is defined, the processor may reset.</li>
<li>Non-existent trap routine. Similar to an interrupt routine, but different enough I'm listing it separately. I've seen two separate projects using dsPIC 30F4013 which reset randomly, and the cause was tracked to a trap that was called but undefined. Of course, now you have the question of why a trap is called in the first place, which could be any number of things, including silicon error. But defining all trap handlers should probably be a good early step in diagnosing unexplained resets.</li>
<li>Function pointer failure. If a function pointer does not point to a valid location, dereferencing the pointer and calling the function pointed to can cause a reset. One amusing cause of this was when I was initializing a structure, with successive values of NULL (for a function pointer) and -1 (for an int). The comma got typoed, so the function pointer actually got initialized to NULL-1. So don't assume that just because it's a CONST it must contain a valid value!</li>
<li>Invalid/negative array index. Make sure you perform bounds checking on all array indices, both upper <em>and</em> lower bounds, if applicable.</li>
<li>Creating a data array in program memory that's larger than the largest section of program memory. This may not even throw a compilation error.</li>
<li>Casting the address of a struct to a pointer to another type, dereferencing that pointer, and using the dereferenced pointer as the LVALUE in a statement can cause a crash. See <a href=""https://stackoverflow.com/questions/18620476/why-does-casting-a-struct-address-to-an-int-pointer-dereferencing-and-using-th/18620604?noredirect=1#comment27411010_18620604"">this question</a>. Presumably, this also applies to other undefined behaviors.</li>
</ul>

<p>On some dsPICs, the RCON register stores bits indicating cause of reset. This can be very helpful when debugging.</p>
","81253"
"Speaker BJT amplifier function","20388","","<p>I'm trying to understand the below circuit:</p>

<p><a href=""http://www.allaboutcircuits.com/worksheets/trouble_bjtamp.html"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UYYJq.png"" alt=""Question #5""></a></p>

<p>I have to analyze an amplifier circuit from a microphone to a speaker and don't understand how it works. I know that the first stage is a voltage divider, but I can't figure out what the second stage is or how it works? In which stage does the amplification take place? I would really appreciate any help!</p>
","<p>Let's put some part reference designators on your diagram.</p>

<p><img src=""https://i.stack.imgur.com/DIa0j.png"" alt=""Annotated""></p>

<p>Always number all the parts. Then it is easy to discuss the diagram. Instead of ""the emitter resistor of the second transistor"" we just say R5.</p>

<ul>
<li><p>C1: This is a coupling capacitor which allows the AC signal to pass but blocks DC. It protects the microphone's coil from receiving a DC current from the amplifier's bias circuit and protects the amplifier's bias circuit from being disturbed by the impedance of the microphone. C1 transmits the voltage fluctuations from the microphone, superimposing them upon the bias voltage between R1 and R2.</p></li>
<li><p>R1 and R2: These resistors form a voltage divider, establishing a voltage-divider bias for the base of transistor Q1. From a 9V power supply, R2 will develop about 1V. That's enough to forward bias the base junction of Q1, turning the transistor on.</p></li>
<li><p>Q1: This BJT is the heart of the first amplification stage, a common-emitter (CE) voltage amplifier.  Its job is to transform variations in the base current caused by the microphone voltage variations arriving over C1 into current variations through the collector-emitter circuit R3, R4 and C2.</p></li>
<li><p>R3: This is the load resistor for the CE voltage amplification stage. Variations in current controlled by Q1 cause R3 to develop a voltage.  This voltage is the output of the Q1 stage, directly conveyed to the base of Q2. The voltage is inverted with respect to the microphone signal. When the signal swings positive, more current flows through R3, developing a greater voltage drop. The top of R3 is pinned to the 9V power rail, so more voltage drop means that the bottom of R3 swings more negative. </p></li>
<li><p>R4: This emitter resistor provides feedback to stabilize the DC bias of Q1. The bias provided by R1 and R2 turns on Q1 using a voltage of about 1V, mentioned above. This causes current to flow through the transistor. This current causes a voltage in R4. The transistor ""rides"" on this voltage. So the voltage opposes the 1V of bias. According to some rule of thumb calculations, R4 will develop about 0.3V, which is the voltage that is left over when we take the 1V bias voltage between R1 and R2, and subtract the base-emitter voltage drop of 0.7V. This 0.3V over 1500 ohms means that about 0.2 mA of collector current will flow through the transistor, at quiescence. This bias current also flows through the 10K R3 resistor, where it gives rise to a  voltage of 2V.  So the output of Q1 is biased approximately 2V below the 9V power rail. </p></li>
<li><p>C2: This capacitor bypasses the R4 resistor for AC signals. The R4 resistor has the effect of feedback. The amplified current passes through R4 and develops a voltage, and Q1 rides on top of this voltage. The voltage being amplified is the difference between the input and the emitter. So R4 provides negative feedback, which reduces gain. By introducing C2, we get rid of this feedback for AC signals. AC signals do not experience negative feedback, and so the gain is much higher for those signals.   R3 and R4 provide a stable DC bias for Q1, and C2 ""cheats"" around it, creating a higher gain for AC, so that the amplifier has a wider swing around the bias point (which, recall, is about 2V below the power rail).  A lot of voltage gain is needed because microphones put out a rather small signal, and all the amplification is being done by a single stage.</p></li>
<li><p>Q2: This transistor is set up as a current amplifying <em>emitter-follower</em> stage. Note that there is no load resistor similar to R3 in the previous stage. Instead, the output is taken from the top of the emitter resistor R5.</p></li>
<li><p>R5: What happens here is that the top of resistor R5 follows the voltage applied to the base of Q2. It is simply that voltage, minus 0.7V. As the voltage at the base swings, the voltage at the top of resistor R5 goes through the same swing. This voltage is applied to the speaker through C3.</p></li>
<li><p>C3: Another blocking capacitor. It prevents DC from flowing into the speaker, which would damage the speaker and also cause a lot more bias current to flow through Q2, since the speaker's impedance is a lot lower than that of R5.</p></li>
<li><p>C2: This is a power-supply decoupling capacitor. In several places in the circuit, AC signals return to the power supply either through the 9V rail or through the common return (ground). These currents can develop a voltage across the internal impedance of the power supply. C2 provides a short circuit for these AC signals. Without power supply decoupling, current variations in Q2 could feed back into the Q1 stage, giving rise to oscillations. C2 also helps to keep stray noise from the power supply, such as power supply ripple, from affecting the circuit. Another way to look at it is that the capacitor provides current in response to sudden demands by Q2.</p></li>
</ul>

<p>The Q2 stage is needed because, even though it does not amplify voltage, it amplifies power. It does that because it is able to deliver more current than Q1.  Q1 has load resistor R3, which gives it a rather high output impedance. If the speaker were connected to the Q1 stage output, hardly any sound would come out of it because the Q1 stage cannot maintain its voltage into just an 8 ohm load.   Q2 has no collector resistor, and so the output impedance is low. Current flucutations flow freely from the power supply, through the transistor's collector and across C3 to the speaker.</p>

<p>The Q1 stage is needed because a current driving stage like the one built around Q2 doesn't have any voltage gain. The Q2 stage alone could take the voltage from the microphone and put it across the speaker. Now it would be better than connecting the microphone directly to the speaker, because the microphone would be isolated from driving the low impedance of the speaker.  But, in spite of that, would simply not be loud enough. Getting a reasonably loud sound out of the speaker requires a much higher voltage level.</p>

<p>The jobs of amplifying voltage, and then amplifying the current which enables that voltage to be put across a low-impedance load such as a speaker, are best implemented separately.</p>
","49904"
"What causes overvoltage in power grid?","20383","","<p>In the region where I live there's a state standard that says that mains voltage deviation can be within 5 percent continuously and within 10 percent for short periods of time, so if the mains voltage is within those ranges - it's just okay. The nominal voltage is 220 volts, so it can be in 209..231 volts range continuously and in 198..242 volts range for short periods of time.</p>

<p>Now I understand that sometimes there're undersized wires and huge losses and bad wire joints and this can cause undervoltage at the consumer site.</p>

<p>What would cause overvoltage? I mean there're carefully designed generators somewhere that rotate at carefully monitored ""right"" speeds and produce carefully precomputed voltage. Then there're transformers that again have the right number of winds in each windings and so convert the right voltage into the other right voltage. So I don't see how voltage would suddenly get higher than designed. Yet there's even a state standard that allows for rather huge deviations.</p>

<p>What exactly causes overvoltages in power grid?</p>
","<p>Why is the mains voltage generally above the nominal value?
I am not talking about power spikes, which leave the margins. We are talking about standard operations. By design, the power is set closer to the top margin than to the middle. These are the reasons: </p>

<p>Standard power generators all run with a certain rotational speed which is synchronized with the grid frequency. The rotational frequency of the generator also depends on how many poles it is equipped with, all 4-pole generators in 50Hz grids run with 1500/min, for instance. </p>

<p>Grid frequency is just about the only persistently constant value you can expect from the grid. </p>

<p>At the fixed speed, the power output of a generator is regulated by the excitation of the field coils and the mechanical input at the turbine or engine. Both values must be regulated in unison. If you increase the excitation without increasing mechanical input, the machine will slow down, and come out of sync, which must be prevented. </p>

<p>Some kinds of power plants run asynchronous (flywheel, solar, wind mostly) which means their power output has to be electronically regulated to fit it onto the grid. </p>

<p>For several reasons the power suppliers will regulate towards the upper end. </p>

<p>First, they can react more quickly to reduce power output: Divert some steam, reduce excitation, done. To react upwards, they must first make more steam, which takes time. So it is safer to be on the top limit. </p>

<p>Secondly, the same power can be more efficiently be transported when the Voltage is higher. Losses almost exclusively come from current, higher voltage means less current, so less loss, bigger percentage of voltage arrives at the customer, and only power that arrives will be paid. </p>

<p>Lastly, a part of the used power is pure electrical resistance, which consumes more power with higher voltage, leading to higher consumption and higher sales. I suppose this is not a big deal. </p>

<p>Now the power suppliers know very well how much power will be consumed on average. They know how much more will be needed on special days like thanksgiving (every stove is in action that day), or on superbowl day. They will plan ahead for quite a while. </p>

<p>The quality of the grid lines is taken into consideration here: If they know the voltage drop within a neighborhood rather high, the supply to that neighborhood will be set up so the planned voltage arrives at the customers, if possible. Transformators between the high/medium/low voltage networks can be regulated to some degree. (see ULTC at <a href=""http://en.wikipedia.org/wiki/Tap_%28transformer%29"" rel=""nofollow"">http://en.wikipedia.org/wiki/Tap_%28transformer%29</a>)</p>

<p>Therefore voltage drops and also phase shifts are the bane of the suppliers: These two factors lead to bigger losses in the lines, which they have to pay for themselves. </p>
","22721"
"Can't figure out EIA-232 (RJ45) to DB9 cable... (seems simple!)","20381","","<p>I've purchased a used BayTech RPC4 unit (8-port power strip controllable using RS232).</p>

<p>The front of the unit has an RJ45 port (EIA-232) and has a wiring diagram on how to wire it to a DB9 port so you can connect it to a PC.</p>

<p>Here's the diagram:
<img src=""https://i.stack.imgur.com/vU2iX.jpg"" alt=""enter image description here""></p>

<p>If I use standard TIA-568B wiring for the RJ45 connector:</p>

<pre><code>1 = orange/white
2 = orange
3 = green/white
4 = blue
5 = blue/white
6 = green
7 = brown/white
8 = brown
</code></pre>

<p>...then it looks like I need to connect to to a DB9 like this:</p>

<pre><code>1 = DB9 #4
2 = DB9 #5
3 = DB9 #7
4 = DB9 #3
5 = DB9 #2
6 = DB9 #1
7 = DB9 #5
8 = DB9 #6+8
</code></pre>

<p>However, that doesn't seem to work.  I'm using WinXP HyperTerminal for testing (9600-8-N-1) and I don't get any input or output.</p>

<p>Can anybody help me out?  What am I doing wrong?</p>
","<p>I ended up ordering a premade cable and adapter from Pacific Custom Cables and they worked so I checked the pin-out of the RJ45 (null-modem) to DB9.</p>

<p>Based on their pin-out, I made a new cable (crimped RJ45 on one end, soldered DB9 female on the other end) and here is the working pin-out:</p>

<pre><code>RJ45 pin,   DB9 pin (female)
----------------------------
  1           1
  2           6 + 8
  3           2
  4           5
  5           5
  6           3
  7           4
  8           7
</code></pre>

<p>I don't understand why that is the pin-out but that's what works and the pin-out from ""official"" cables and adapter.</p>
","52483"
"How do I disable clearance check for a layer or for only some certain elements?","20325","","<p><img src=""https://i.stack.imgur.com/NseDL.png"" alt=""enter image description here""></p>

<p>I'm designing a PCB in Altium Designer. There is a very large heat sink in my project. When I put it on the PCB, there will be plenty of empty space under it where I can put other small components. I tried to put some part of this bridge rectifier under it; that's geometrically possible in real life. But, Altium Designer gave a clearance warning (or an error?) about it (the elements turned into green as you see in the image).</p>

<p>How do I disable this warning/error just for these two elements, or for the entire top overlay layer?</p>
","<p>you can specify a design rule for that component:</p>

<p>Design > rule > placement > Component clearance,
 add new rule like that:
   advanced query: InComponent('D1')  //assume the component is 'D1'</p>

<p>constraints: 
       Min Vertical Clearance 0mil
       Min Horizental Clearance 0mil</p>

<p>then Altium Designer will not check this component's clearance.</p>
","148371"
"Why do cables and batteries have a positive and a negative side?","20313","","<p>I am a beginner in electronics, mostly self-taught. If electrons are negatively charged and are the reason for electric current why is there a 'positive' side on a battery and negative one? Don't electrons just flow out of one of those two sides? To my knowledge only one side pushes electrons and the other does nothing, how exactly does this work?</p>

<p>What is a 'ground' anyways? I have read that the negative side is the ground and yet it is the side that pushes electrons in a battery, is that correct?</p>
","<p>Electrons flow out one side (the negative one) and come back in from the other (the positive one). Current is <em>not</em> associated with electron accumulation, but with electron flow. The point of the battery is pushing electrons from the positive to the negative terminal: this pushing requires energy, that is chemically kept in the battery, used to push the electrons that then release it when they go through your circuit.</p>

<p>The negative sight might be or not ground. Ground is a word that is used to refer to a circuit particular node, sometimes connected to ground. You measure all voltages with respect to this node, so it is the zero voltage node. I understand you might think that electrons might escape if ground is connected to the negative terminal of the battery but that is not possible since they must go back in the battery because no net charge accumulation is allowed. If an electron pushed by the battery happens to escape through ground, another one will come from ground, make it through your circuit and then back in the battery.</p>
","118373"
"Undamped natural frequency","20280","","<p>What's the definition of the <em>undamped natural frequency</em>?  I've looked and I cannot find it.</p>

<p>A second order system has the following transfer function
$$
H(s) = \frac{A_o \omega_n^2}{s^2 + 2 \zeta \omega_n s + \omega_n^2}
$$
where \$\zeta\$ and \$\omega_n\$ are the damping coefficients and the undamped natural frequency respectively.</p>

<p>Let's suppose I have a transfer function as follows
$$
T(s) = \frac{200}{s^2 + 10s - 50}
$$
What would the undamped natural frequency be?  I don't know if it'd be \$\sqrt{50}\$ or \$j\sqrt{50}\$ or something else...  If \$\omega_n\$ were complex, this would also imply that \$\zeta\$ be complex.  Is it even possible to have a complex valued damping coefficient?  Also, since it's \$\omega_n^2\$, does this imply that there are always <em>two</em> undamped natural frequencies?  A positive and a negative one?</p>
","<p>Rather than the frequency domain, let's look at this in the time domain and particularly, the characteristic equation associated with a linear homogeneous 2nd order differential equation for some system:</p>

<p>\$r^2 + 2 \zeta \omega_n r + \omega^2_n = 0\$.</p>

<p>If the roots of the characteristic equation are real (which is the case if \$\zeta \ge 1\$), the general solution is the sum of real exponentials:</p>

<p>\$Ae^{\sigma_1 t} + Be^{\sigma_2t} \$</p>

<p>where</p>

<p>\$\sigma_1 = -\zeta \omega_n + \sqrt{(\zeta ^2 - 1)\omega^2_n} \$</p>

<p>\$\sigma_2 = -\zeta \omega_n - \sqrt{(\zeta ^2 - 1)\omega^2_n} \$</p>

<p>Since these are real exponentials, there is no oscillation in these solutions.</p>

<hr>

<p>If the roots are complex conjugates (which is the case if \$\zeta &lt; 1\$), the general solution is the sum of complex exponentials:</p>

<p>\$e^{\sigma t}(Ae^{j\omega t} + Be^{-j\omega t})\$</p>

<p>where</p>

<p>\$\sigma = -\zeta \omega_n\$</p>

<p>\$\omega = \sqrt{(1 - \zeta ^2)\omega^2_n}\$ </p>

<p>This solution is a sinusoid with angular frequency \$\omega\$ multiplied by a real exponential.  We say the system has a ""natural frequency"" of \$\omega\$ for a reason that I think is obvious.</p>

<p>Finally, setting \$\zeta = 0\$ (an <em>undamped</em> system) , this solution becomes:</p>

<p>\$Ae^{j\omega_n t} + Be^{-j\omega_n t}\$</p>

<p>which is just a sinusoid of angular frequency \$\omega_n\$.</p>

<p>In summary, a system may or may <em>not</em> have an associated natural frequency.  Only systems with \$\zeta &lt; 1\$ have a natural frequency \$\omega\$ and only in the case that \$\zeta = 0\$ will the natural frequency \$\omega = \omega_n\$, the undamped natural frequency.</p>
","73204"
"BJT: What exactly is an AC Load line?","20260","","<p>The DC Load Line is simple to explain, for a given circuit the relation between V<sub>CE</sub> and I<sub>C</sub> must comply to the KVL relationship for that circuit.
<img src=""https://i.stack.imgur.com/kFkFm.png"" alt=""enter image description here""></p>

<p>In the graph we can choose a Q point, and then see if we superimpose an AC signal on top of the DC voltage then the V<sub>C</sub> will follow accordingly, and we can determine the maximum output swing. </p>

<p>The AC Load Line confuses me however. Because when I determine this line using the AC equivalent circuit model and KVL across the v<sub>ce</sub> loop, the load line now goes through zero on a graph.</p>

<blockquote>
  <p>i<sub>c</sub> = - v<sub>ce</sub> / (R<sub>C</sub> // R<sub>L</sub>)</p>
</blockquote>

<p>Then I understand to get the true load line of the circuit, I must superimpose the AC Load line on the Q point, and preferably use the middle of the AC LL as the Q point.</p>

<p>I then get this:</p>

<p><img src=""https://i.stack.imgur.com/ue3L4.png"" alt=""enter image description here""></p>

<ul>
<li>Does this mean the DC LL no longer stands? </li>
<li>How did we get the I<sub>max</sub> and V<sub>max</sub> of the AC LL?</li>
<li>And how do I determine the Q point to be in the middle of the AC LL?</li>
</ul>

<p>Thanks</p>
","<p>Load lines shows the behavior linear components in the circuit. DC load line gives the I-V relationship in the DC equivalent circuit. The inverse of slope of DC line gives the  DC load resistance, \$R_E+R_C\$. </p>

<p>AC load lines give the I-V relationship when AC equivalent model is considered. But the AC load seen by the amplifier, \$r_c=R_C||R_L\$, is different from the DC load and hence the slope of AC load line is different. But these two lines intersect at the point where AC signal part becomes \$0\$. ie, at Q point.</p>

<ul>
<li><p>DC load line is applicable only when DC equivalent circuit is considered.</p></li>
<li><p>After calculating Q point (\$I_{CQ},V_{CEQ}\$) from DC load line, \$I_{max}\$ and \$V_{max}\$ can be calculated as,
$$I_{max} = I_{CQ} + \frac{V_{CEQ}}{r_c}$$
$$V_{max} = V_{CEQ} + I_{CQ}r_c$$</p></li>
<li><p>Putting Q-point in middle means: \$I_{max} = 2I_{CQ}\$ and \$V_{max} = 2V_{CEQ}\$. Comparing this equations with equations for \$I_{max}\$ and \$V_{max}\$, it is clear that the value of \$r_c\$ should be \$V_{CEQ}/I_{CQ}\$. So after drawing DC LL, select Q-point such that
$$\frac{V_{CEQ}}{I_{CQ}} = r_c$$
This will fix the Q point in the middle of the AC LL.</p></li>
</ul>
","110440"
"How much current can Solderless Breadboards handle?","20232","","<p>I'm working on a project with a few stepper motors. I want to breadboard them so I know the circuit works well before creating a physical PCB.</p>

<p>Each of the three motors is rated 2A, but I'll be prototyping with 1A (controled with driver chip) at 12V. How dangerous is this much current on a solderless breadboard? It's a cheap one I picked up on eBay, so I doubt that it's made with super high quality materials. I won't be leaving it plugged in for extended periods of time and it'll always be supervised with me there if it receives power. Is this a bad idea?</p>

<p>Note: each of the motors will be on its own rail with its own wire coming from the power source.</p>
","<p>Engineers with a conscience don't let others use breadboards.</p>

<p>Oh, I know, it starts out easy, like any other drug.  You're uncertain of yourself and instead of doing calculations, or even back of the envelope calculations you say to yourself "" I'll do the <em>easy</em> thing, I'll breadboard it- I don't have to think too much and then I can move on"".  But that is the easy lie, sort of like using SPICE (but I digress) when you should be calculating \$g_m\$.</p>

<p>So you try it, perhaps your friends are doing it too, you want to fit in.  And hey!  it works, and you didn't have to spend too much time at it.  But in doing so, you don't get the practise of doing those calculations, that skill never develops and eventually you end up being dependant upon the little suckers.</p>

<p><em>and then they turn on you</em></p>

<p>You're projects have started to grow, and get larger and say you want to show someone ""the cool thing"" you have been doing.  And they want to <em>touch</em> it and you jump at them, not willing to allow them to touch your baby, your <em>precious</em>.</p>

<p>I was lucky when I started out.  Someone gave me a breadboard to work with, and I now suspect that they did it on purpose.  The thing is, this breadboard was damaged, and I wasted hours trying to get something running when it was a faulty breadboard.  I didn't have that internal modelling ability, I didn't know what to expect, so I wasted time.  After than once I never once used a breadboard again.</p>

<p>Using a breadboard is an easy way out, it's an addictive drug and if you persist you'll one day find yourself wondering "" hmm, can I run One Amp those those little traces?""  maybe you can.  But the real question is, should you?  with that much power, what happens when the board shorts out in behind (like they are wont to do)?</p>

<p>Listen, there are lots of ways to prototype things that take only a little more time than a breadboard that are semi-permanent, are not fragile, are smaller and <em>more importantly</em> allow you to build high performance circuits (be that high amperage or high frequency).  Use protoboards or dead bug the circuit.</p>

<p>Being a little slower actually is a good thing, because you end up with something that can be handled, doesn't stop working the moment that someone sneezes and most importantly ... because you are going to put more effort into it, you learn to actually calculate <em>before</em> you commit.  You end up learning more.</p>

<p>So kick the habit dead bug that sucker.  You'll find that you get a better circuit by far.</p>
","117999"
"Least expensive way to plug in a microcontroller into 120V (without wall wart or batteries)","20210","","<p>I need to be able to power a Atmega168 by plugging it into a wall.  The circuit is a little bit more complex but not too much.  The Atmega168 needs between 1.8V and 5V at 200mA.  The ideal solution needs to be contained all on the PCB board.  No wall warts or batteries.</p>

<p>What is a good strategy or set of components that will allow this to be done safely and inexpensively?  I'm new to the area but I have heard things about switched-mode power supply.  Also, efficiency is not very important as long as it is not hot to the touch.</p>
","<p>I don't know if these are inexpensive enough, but the simplest - and safest - way would be to use a commercial pcb mount power supply module like these:</p>

<p><img src=""https://i.stack.imgur.com/1dUy4.jpg"" alt=""enter image description here"">
<a href=""http://www.recom-international.com/pdf/Powerline-AC-DC/RAC01_02-SC.pdf"" rel=""noreferrer"">RECOM Power RAC01-05SC</a>
(<a href=""http://www.mouser.com/ProductDetail/RECOM-Power/RAC01-05SC/?qs=waQl70lBfV2o5W1U0daQgelMyAX7vpenAzRrc9xKbnM="" rel=""noreferrer"">Mouser</a>)</p>

<p><img src=""https://i.stack.imgur.com/IofOc.jpg"" alt=""enter image description here"">
<a href=""http://www.farnell.com/datasheets/606238.pdf"" rel=""noreferrer"">MYRRA 47122</a>
(<a href=""http://www.newark.com/myrra/47122/power-supply-2-75w-5vdc-reg/dp/90R9579"" rel=""noreferrer"">Newark</a>)</p>

<p>Or else build a wall wart into your device. I've purchased commercial equipment that had a wall wart mounted internally by means of cable ties, with wires soldered to the wall wart's prongs.</p>
","33057"
"Where does the Maximum Emitter-Base Voltage come from?","20197","","<p>The <a href=""http://uk.farnell.com/multicomp/bd679/darlington-transistor-to-126/dp/1574362"">datasheet for a BD679 transistor</a> lists amongst the absolute maximum ratings that the ""Emitter Base Voltage"" has a maximum of 5v.</p>

<p>This figure confuses me - my mental model of a (BJT) transistor has the path from the base to the emitter equivalent to that of a diode and the potential difference is irrelevant - it is the current that controls the gate.</p>

<p>I have searched for this term and among the results get ones like <a href=""http://www.physicsforums.com/showthread.php?t=426358"">this</a> which appear to be talking about a different property of the transistor.</p>

<p>The notation ('Emitter Base Voltage' as opposed to 'Base Emitter Voltage') makes me think this might be referring to the maximum 'negative voltage' that could be placed across the Base-Emitter, instead of the maximum in normal operation. Is this correct?</p>

<p>If not, what is this figure, and what causes this junction to have such a low maximum compared with the rest of the device?</p>
","<p>""Emitter Base Voltage"" is the maximum voltage that may be applied <strong>when the base-emitter diode is in reverse</strong>; not conducting. This is generally much lower than a small signal diode in reverse can handle.</p>
","35002"
"Are there any certificates for embedded system developers?","20180","","<p>For example in the field of networks there are CISCO, JUNIPER, CCNA, etc., and in the field of databases there are oracle certificates and so on. </p>

<p>What about the developers of Embedded systems (Hardware &amp; software): are there any certificates for them?</p>
","<p>Recently, I came to know that ARM provides a certification called ARM Accredited MCU Engineer mainly for people working in the micro controller realm.</p>
","129873"
"Which wire is negative on this PC fan?","20173","","<p>I just got this PC fan and it has a 3 pin connector, I know the wire with the white stripe is positive but how can I find out which of the other two wires are negative?</p>

<p>If you can't see the photo, here is a link to it: <a href=""https://i.stack.imgur.com/QQYmk.jpg"" rel=""nofollow noreferrer"">http://i.stack.imgur.com/QQYmk.jpg</a></p>

<p><img src=""https://i.stack.imgur.com/QQYmk.jpg"" alt=""Fan cable""></p>
","<p>PC fan pinouts can be found easily online:</p>

<p><img src=""https://i.stack.imgur.com/NpPzH.png"" alt=""PC fan pinout""></p>

<p>If you're trying to figure out which wire is ground on the fan itself, and you don't have a connector, then just connect 12V to the middle wire and try ground on either of the outside wires. When the fan spins, you've found it. The other, if connected, is a tachometer. Connecting it to ground briefly won't cause any harm.</p>
","108397"
"Can the Common Emmiter Amplifier use a PNP Transistor instead?","20139","","<p>This is a simple Class A amplifier using an NPN transistor:</p>

<p><img src=""https://i.stack.imgur.com/xO68Y.gif"" alt=""Class A NPN Amplifier""></p>

<p>Is there a way this can use a PNP transistor, instead (with only 0V and +Vcc, not 0V and -Vcc)? Why or why not?</p>
","<p>Any amplifier that can be made with an NPN BJT can also be made with a PNP. Whether its inverting or not really depends on how the output is interpreted. More on that later.</p>

<p>To convert this NPN common-emitter amplifier to a PNP common-emitter amplifier, just mirror the entire thing except for the supply voltages top-for-bottom:</p>

<p><img src=""https://i.stack.imgur.com/kTZG4.png"" alt=""PNP common emitter amplifier""></p>

<p>Equivalently, you can just swap the NPN transistor for a PNP transistor, and replace +Vcc with -Vcc. However, the convention is to draw schematics with higher voltages at the top, so the resulting schematic would look a bit funny.</p>

<p>Remember that voltages are <em>relative</em>. The only important thing with a PNP common emitter amplifier is that the emitter is at a higher voltage than the other terminals, the base is approximately 0.6V lower than the emitter, and the collector will be lower than the emitter, with how much lower controlled by the base current and load.</p>

<p>If we call the highest voltage in the circuit ""ground"", then we can have negative voltages. Or, we can call the lowest voltage ""ground"" and have positive voltages. We can even pick a voltage in the middle and have both. Or, we can ignore ground altogether and talk about the voltage ""drop"" or ""across"" a component or between any two points in the circuit.</p>

<p>This is the same circuit, just with a different notion of ""ground"", which is completely irrelevant to the operation of the circuit, only our discussion of it:</p>

<p><img src=""https://i.stack.imgur.com/9AP2P.png"" alt=""with ground at top""></p>

<p>Really, the terminal labeled ""output"" is a voltage somewhere between the other two terminals. Is it inverting? Well, are we considering the signal to be the output relative to the higher voltage at the top, or the lower voltage at the bottom?</p>

<p>Let's get rid of the names which the electricity doesn't know about, and draw the whole circuit, with a power supply and all: </p>

<p><img src=""https://i.stack.imgur.com/SBvTq.png"" alt=""without labels""></p>

<p>There is no ""ground"" and there is no ""Vcc""; there's just a battery with two terminals, one with a higher potential than the other. We can call them what we like; the circuit doesn't care, as long as there's that voltage difference there.</p>

<p>There is also no ""output"" terminal, but instead we have two voltage differences, either of which could be considered the ""output"": \$V_a\$ and \$V_b\$.</p>

<p>When the input \$V_{in}\$ is low, this forward-biases the transistors base-emitter junction more, turning it on more, making it effectively look like a smaller resistor and allowing more current in \$R_L\$. By Ohm's law, if the current over a resistor increases, so too will the voltage across it. Or, you can think of \$R_L\$ and the transistor as making a <a href=""http://en.wikipedia.org/wiki/Voltage_divider"" rel=""noreferrer"">voltage divider</a>. Either way, you can see than when \$V_{in}\$ goes down, \$V_b\$ goes up.</p>

<p>\$V_a + V_b\$ must be equal to the battery voltage, since they are in parallel with the battery. So if \$V_b\$ is going down, \$V_a\$ must be going up to make up the difference.</p>

<p>So is it inverting? I can't say! Is \$V_a\$ or \$V_b\$ the output?</p>

<p>What if \$V_{in}\$ is connected between the + side of the battery and C1, instead of the - side of the battery and C1, as it is now? Then is this an inverting amplifier, or not?</p>
","57798"
"Communication between a USB/serial device and an AVR (atmega/Arduino) microcontroller","20134","","<p>I have a device which provides a USB port. If I attach it to a Windows PC it is recognized as a ""CP2103 USB to UART Bridge Controller"". According to the device documentation, it should communicate in serial format at 38400bps.</p>

<p>I have to talk to this device with a atmega microcontroller.</p>

<p>Since the USB pinout is different from the serial UART of the uC, firstly I thought I would need a circuit to convert the signals.
I found the AVR-CDC project and put on a <a href=""http://www.recursion.jp/avrcdc/cdc-232.html"" rel=""nofollow noreferrer"">CDC-232</a> in order to convert USB (<code>GND</code>, <code>D+</code>, <code>D-</code>, <code>VCC</code>) to RS232 (<code>TX</code>, <code>RX</code>, <code>GND</code>):</p>

<p><img src=""https://i.stack.imgur.com/6790Z.png"" alt=""enter image description here""></p>

<p>To make it I used another atmega328 as uC, flashed with the specific hex, with a 16Mhz crystal instead of the 12Mhz one specified into the diagram.</p>

<p>Then I built another piece of circuit to convert the RS232 signal to TTL:
<img src=""https://i.stack.imgur.com/S7N0l.jpg"" alt=""enter image description here""></p>

<p>So the signal conversion should be USB -> RS232 -> TTL.</p>

<p>I programmed my uC to send some data to the device and I can follow the signal with the oscilloscope until it enter into the CDC-232, then I lose it. I have no output on pins 4 and 5 of the CDC-232 uC, where I should have a USB signal.</p>

<p>Is my overall approach right? Sould I go on debugging the CDC-232 part or there is something wrong elsewhere?</p>
","<p>If your device shows up as a CP2013 when you plug the device into a computer's USB port, and you want to replace your Computer with an Arduino, then that isn't really easy to do, or generally possible. The methods you mention in the question have to do where the AVR/Arduino is the device, <em>not</em> the Host. </p>

<p>The device already has a USB-UART converter embedded inside it, and only shows you the USB side of it. This means that your arduino needs to function as a USB <em>host</em>. Functioning as USB host is not straightforward. You need to set up a USB Host/Hub controller, and figure out how to handle enough of the USB protocol stack to talk to the CDC compatible USB-UART device. Using a USB OTG Host controller may be marginally easier, but still nowhere close to being trivially easy. Your best bet would be to see if you can bypass the CP2013 on the device and access the UART lines directly. This may not always be possible. If the CP2013 is actually some other piece of hardware or firmware masquerading as a CP2013, then you're fresh out of luck. </p>
","56663"
"Definition and Explanation of Insertion Loss and Return Loss","20133","","<p>I'm trying to understand the physical meaning on Insertion Loss and Return Loss on a transformer, specifically RF transformers.</p>

<p>The values are often quoted as figures of merit in datasheets, but I'm having trouble understanding how these values affect the operation on a transformer.</p>

<p>I've seen other questions about these concepts elsewhere on the forums, but they seem to discuss dealing with how to handle them in circuits and components rather than their meanings and effects.</p>

<p>The Wikipedia articles on this are somewhat confusing to me.  Could someone please explain, perhaps with a mathematical example, how this all works?</p>

<p>I'll give an example of what I'm looking at:</p>

<p>For a given RF transformer, the Insertion Loss @ 10 MHz is 0.5 dB, and the Return Loss @ 10 MHz is 25 dB, with impedances of 50 Ohm.  Let's say I put in a 1 V, 10 MHz sine wave, what happens?</p>

<p>How does this effect the signal on the secondary winding?  If the windings are 1:1, are these losses the same if I run the signal from the secondary to the primary?  Does this change how impedance is transformed across windings?  What if the winding impedances aren't the same?  Thanks!</p>
","<blockquote>
  <p>For a given RF transformer, the Insertion Loss @ 10 MHz is 0.5 dB, and the Return Loss @ 10 MHz is 25 dB, with impedances of 50 Ohm. Let's say I put in a 1 V, 10 MHz sine wave, what happens?</p>
</blockquote>

<p>Return loss tells you how much of the input signal is reflected. Return loss is the ratio between the reflected power and input power:</p>

<p>$$ \mathrm{RL}=\frac{P_{ref}}{P_{in}} $$</p>

<p>If the input signal is 0 dBm and there is 25 dB return loss, then the component will create a reflected wave of -25 dBm back toward the generator. </p>

<p>In your example, I assume you mean a 1 V rms signal (as opposed to 1 V amplitude or 1 V peak-peak). This is +13 dBm. With 25 dBm return loss the reflected wave has -12 dBm power or 56 mV rms amplitude.</p>

<p>The insertion loss tells you how much power is lost in the signal passing through the component. Insertion loss is the ratio between output power and input power:</p>

<p>$$\mathrm{IL}=\frac{P_{out}}{P_{in}}$$</p>

<p>If the input signal is 0 dBm and there is 0.5 dB insertion loss, the transmitted signal (continuing towards the final load) is -0.5 dBm. In your example, +13 dBm - 0.5 dB gives +12.5 dBm power or 943 mV rms amplitude.</p>

<blockquote>
  <p>If the windings are 1:1, are these losses the same if I run the signal from the secondary to the primary?</p>
</blockquote>

<p>In and ideal world, yes. This is because of the <a href=""http://en.wikipedia.org/wiki/Reciprocity_%28electromagnetism%29"" rel=""nofollow"">reciprocity theorem</a>. In the real world there might be slight differences in the measured characteristics due to differences between the connectors on each side, etc.</p>

<p>If this characteristic is important for your application you can look for a transformer with a ""reverse return loss"" and ""reverse insertion loss"" specifications. If the vendor offers S-parameter characteristics of the part, you can look at the S<sub>12</sub> (reverse transmission) and S<sub>22</sub> (reverse reflection) characteristics. If they are the same as the S<sub>21</sub> and S<sub>11</sub>, then your device is symettric.</p>

<blockquote>
  <p>Does this change how impedance is transformed across windings?</p>
</blockquote>

<p>If the turns ratio is 1:1 there won't be any impedance transformation.</p>

<blockquote>
  <p>What if the winding impedances aren't the same?</p>
</blockquote>

<p>In rf, if things are done right, the impedance you see looking into the primary depends more on how the secondary is loaded than on characteristics of the transformer itself. If you want to transform impedances you will choose the turns ratio so that, for example, a 75 ohm load can be driven by the secondary, while the primary looks like a 50 ohm load to the generator.</p>

<blockquote>
  <p>So if I understand correctly, Insertion is the efficiency from one winding to the next, and Return is the reflected portion of the original signal? </p>
</blockquote>

<p>Insertion loss is the power loss from input to output. It applies to many kinds of rf devices, not just transformers.</p>

<blockquote>
  <p>when you say loss, you mean the ratio between input and output, not the difference, correct?</p>
</blockquote>

<p>Yes, a ratio in watts is a difference in dBm.</p>
","110417"
"Pull Down Resistors","20055","","<p>In my quest to understand electrical engineering, I have stubmled across this tutorial:</p>

<p><a href=""http://www.ladyada.net/learn/arduino/lesson5.html"" rel=""noreferrer"">http://www.ladyada.net/learn/arduino/lesson5.html</a></p>

<p>I have understood the diagrams until I got to switches. I am not sure how switches work on the breadboard or the diagrams. This is the specific one I am thinking of (this is of a pull down resistor):</p>

<p><img src=""https://i.stack.imgur.com/QH5VS.png"" alt=""enter image description here""></p>

<p>The implementation is:</p>

<p><img src=""https://i.stack.imgur.com/khqb7.jpg"" alt=""enter image description here""></p>

<p>Based on the diagram, what I think is happening is: Power goes to the switch, if the button is up then the circuit is not completed? If the button is pressed then the current takes the path of least resistance to pin2 because it has more pull (100ohm &lt; 10kohm).</p>

<p>The way it is described in the tutorial sounds like when the button is up, the circuit is still complete, but the 10k ohm resistor pulls the power to the ground. I am not positive how or why if both the 10k ohm and 100ohm are receiving equal current, the current would get pulled to the ground through a higher resitance than is open to pin 2.</p>
","<p>Firstly, forget the 100 &Omega; resistor for now. It's not required for the working of the button, it's just there as a protection in case you would make a programming error.  </p>

<ul>
<li>If the button is pressed P2 will be directly connected to +5 V, so that will be seen as a high level, being ""1"".  </li>
<li>If the button is released the +5 V doesn't count anymore, there's just the 10 k&Omega; between the port and ground.</li>
</ul>

<p>A microcontroller's I/O pin is high impedance when used as input, meaning there flows only a small leakage current, usually much less than the 1 &micro;A, which will be the maximum according to the datasheet. OK, lets' say it's 1 &micro;A. Then according to Ohm's Law this will cause a voltage drop of 1 &micro;A \$\times\$ 10 k&Omega; = 10 mV across the resistor. So the input will be at 0.01 V. That's a low level, or a ""0"". A typical 5 V microcontroller will see any level lower than 1.5 V as low.  </p>

<hr>

<p>Now the 100 &Omega; resistor. If you would accidentally made the pin output and set it low then pressing the button will cause a short-circuit: the microcontroller sets 0 V on the pin, and the switch +5 V on the same pin. The microcontroller doesn't like that, and the IC may be damaged. In those cases the 100 &Omega; resistor should limit the current to 50 mA. (Which still is a bit too much, a 1 k&Omega; resistor would be better.)  </p>

<p>Since there won't flow current into an input pin (apart from the low leakage) there will hardly be any voltage drop across the resistor.  </p>

<p>The 10 k&Omega; is a typical value for a pull-up or pull-down. A lower value will give you even a lower voltage drop, but 10 mV or 1 mV doesn't make much difference. But there's something else: if the button is pressed there's 5 V across the resistor, so there will flow a current of 5 V/ 10 k&Omega; = 500 &micro;A. That's low enough not to cause any problems, and you won't be keeping the button pressed for a long time anyway. But you may replace the button with a switch, which may be closed for a long time. Then if you would have chosen a 1 k&Omega; pull-down you would have 5 mA through the resistor as long as the switch is closed, and that's a bit of a waste. 10 k&Omega; is a good value.</p>

<hr>

<p>Note that you can turn this upside down to get a pull-up resistor, and switch to ground when the button is pressed. </p>

<p><img src=""https://i.stack.imgur.com/9J6sx.png"" alt=""enter image description here""></p>

<p>This will invert your logic: pressing the button will give you a ""0"" instead of a ""1"", but the working is the same: pressing the button will make the input 0 V, if you release the button the resistor will connect the input to the +5 V level (with a negligible voltage drop).  </p>

<p>This is the way it's usually done, and microcontroller manufacturers take this into account: most microcontrollers have internal pull-up resistors, which you can activate or deactivate in software. If you use the internal pull-up you only need to connect the button to ground, that's all. (Some microcontrollers also have configurable pull-downs, but these are much less common.)</p>
","37738"
"Increase capacitor voltage rating by using multiple capacitors?","20043","","<p>I'm trying to find a small 1000µf capacitor for my Arduino shield. The shield is a digital synthesizer that is powered by the Arduino's 5v regulated power.
After discovering that the 5v supply from the Arduino is incredibly noisy when using it to generate sound whilst plugged into my computers USB port, I popped on a 1000µf cap and all was good.</p>

<p>Now I'm trying to find a more compact solution, as the massive 1000µf cap hanging off the shield is just too huge, plus it gets in the way of the header connections and other components on my board - making it hard to stack the shield with other Arduino shields.</p>

<p>I've found some nice and compact 1000µf caps, they're niobium oxide based and so they have a pretty low voltage rating.</p>

<p><a href=""http://uk.farnell.com/avx/nojv108m004rwj/capacitor-case-v-1000-uf-4v/dp/1658024RL"">Link to part on Farnell</a></p>

<p>My question is this: Can I use more than one niobium oxide capacitor in order to increase the maximum voltage handling?</p>

<p>The capacitors I'm interested in have a maximum voltage rating of 4v, I would like to double that, the voltage they will nominally have to handle will be 5v, however I'd like to have a fair bit of head room.</p>

<p>Thanks.</p>
","<p>You can put capacitors in series, but that rarely works out better than getting the right cap in the first place.  As Steven said, two of the same caps in series have double the voltage rating but half the capacitance.</p>

<p>You also have to be careful that the DC level of the node between the caps is at about 1/2 the voltage.  If one cap has a little more leakage than the other, and this is quite possible, then the mid node won't be near 1/2 way and the voltage rating of one of the caps is exceeded anyway.  One way to deal with this is to put deliberate leakage around each cap that is significantly larger than their actual leakage.  In other words, put a resistor accross each cap.  Make these resistors has high as possible but to still have several times the cap leakage current flowing thru them.  The resistors form a voltage divider that keeps the midpoint at about 1/2 the voltage.</p>

<p>However, all this is a kludge around your original problem.  You want to power something at 5V and you have only a noisy 5V supply available.  Putting a big fat 1 mF cap accross this supply apparently attenuates the noise enough, but there are other ways too.  How much current do the noise-sensitive parts of your circuit draw?  If it's limited to 100 or even 200 mA, then a ferrite ""chip inductor"" in series with the supply followed by a 20 &micro;F ceramic cap to ground might by all you need.</p>

<p>Probably a all around better approach is to locally make your own 5V from the higher voltage the Arduino also uses for that purpose.  I don't know what voltage the Arduino runs on, but somewhere in your system there must be a higher voltage with some sort of regulator making the 5V the Arduino uses.  That gives you more headroom to drop a little voltage in a filter before your regulator.  The filter removes high frequencies from the higher voltage, and the active electronics in the regulator then deals with the remaining low frequencies.  That should produce a nice clean 5V independent of the Arduino and therefore with none of the Arduino's noise on it.  Another advantage of this is that it doesn't load the Arduino's 5V supply.  I don't know how much extra current capacity that supply has, but probably not a large amount.</p>
","20759"
"Changing all via and routing sizes at once (Altium Designer, PCB Design)","20036","","<p>I have a completed PCB design drawn by Altium Designer. I want to increase via sizes. But there are too much of them, and changing all of them one by one will be a very long and bothersome work. Is there any way that I can select and resize them all at once?</p>
","<p>Use PCB Filter to filter for all objects by using the statement 'IsVia'.</p>

<p>Then you can use PCB Inspector to change values all at once.
When Via's still need to be big (like for power), you could also add extra filters to only select via's with certain hole sizes, but you'd have to look up what parameter this is saved in.</p>
","18949"
"Diode circuit analysis using ideal diodes exam problem","19975","","<p>I've been reviewing some past exam and stumbled across this question
<img src=""https://i.imgur.com/70kVVmt.jpg"" alt=""diode problem""></p>

<p>So I need to find the current I through the middle diode and the voltage across the bottom left 10KΩ resistor.</p>

<p>To try solve this problem i used the technique, ""assumed states for analysis of ideal switch model diode circuits"" (not sure if thats the actual name of the technique).</p>

<p>So for my first state, i assumed that both D1 and D2 are on
<img src=""https://i.imgur.com/55XJbQp.jpg"" alt=""state1""></p>

<p>Since the current are not negative for both diodes, the assumption for both diodes being on must be correct. Thus the required current across the diode is:</p>

<p><strong>(15V - 11.25V)/10KΩ = 0.000375A</strong></p>

<p>However upon looking the answers, it says that the current across the diode is 0A. This means that the diode is actually ""off"" (while the other diode is on), and thus my analysis is wrong.</p>

<p>Is there a problem with my reasoning or am i missing something crucial? </p>

<p>Thank you for your time!</p>
","<p>I think the easiest method to solve such problems is to assume that the diodes are off (both, and then one of the two), compute the voltages across the diodes and see if there's a contradiction with your assumption. Let's call the top left diode \$D_1\$ and the diode in the middle \$D_2\$.</p>

<p><strong>Case 1:</strong> \$D_1\$ off, \$D_2\$ off: Since \$D_1\$ is off there is no current through the top 5k resistor, and since \$D_2\$ is off, there is also no current through the bottom left 10k resistor. So \$V=0\$ and the voltage at the anode of \$D_1\$ is 15 Volts. Contradiction! (\$D_1\$ should be on).</p>

<p><strong>Case 2:</strong> \$D_1\$ off, \$D_2\$ on: again no current through top 5k resistor. Voltage \$V\$ is</p>

<p>$$V=\frac{15V\cdot(5k||10k)}{10k+(5k||10k)}=3.75V$$</p>

<p>Contradiction! (Because the voltage across \$D_1\$ would be \$15V-3.75V=11.25V\$ and it should be on.)</p>

<p><strong>Case 3:</strong> \$D_1\$ on, \$D_2\$ off: Voltage \$V\$ is</p>

<p>$$V=\frac{15V\cdot 10k}{5k+10k}=10V$$</p>

<p>The voltage at the anode of \$D_2\$ is \$15V\cdot 5k/15k=5V\$. This agrees with our assumption, because with these voltages \$D_2\$ must be off. So your solution is</p>

<p>$$I=0A,\quad V=10V$$</p>
","108608"
"What are carry-lookahead adders and ripple-carry adders?","19970","","<p>I see <em>carry-lookahead adders</em> and <em>ripple-carry adders</em> terms being used often. I have no idea what either means (nor the type of architecture they describe).</p>

<p>Can someone please explain what each one is, why one may be faster than the other, and what each is used for?</p>

<p>Also, are there any external sources that may help with the matter?</p>
","<p>A system of ripple-carry adders is a sequence of standard full adders that makes it possible to add numbers that contain more bits than that of a single full adder. Each full adder has a carryin (Cin) and a carryout (Cout) bit, and the adders are connected by connecting Cout on step k to Cin on step k+1 (Cin on step 0 is C0 in the picture, Cout on step 3 is C4 in the picture)</p>

<p><img src=""https://i.stack.imgur.com/Ey23y.png"" alt=""Ripple-carry adder - picture from Wikipedia""></p>

<p>The challenge with ripple-carry adders, is the propagation delay of the carry bits. Assume that, in an instant the values of A and B change, such that</p>

<pre><code>A1 = 0
B1 = 1
A0 = 1
B0 = 1
</code></pre>

<p>Since A0 and B0 are high, the first full adder will produce a carry, i. e. C1 = 1. However, it takes some time for the logic to settle down, so C1 doesn't change until a little after A1 and B1 changed. Thus, before C1 shows up, the second full adder does not produce a carry, but as C1 shows up, the second adder will recompute and produce a carry, i. e. C2 = 1. In the worst case, C4 is not correctly computed until 4*propagation delay, and Cn is not computed until n*propagation delay.</p>

<p>A carry-lookahead adder system solves this problem, by computing whether a carry will be generated before it actually computes the sum. There are multiple schemes of doing this, so there is no ""one"" circuit that constitutes a look-ahead adder. The idea is something like this:</p>

<p><img src=""https://i.stack.imgur.com/Rwjwn.png"" alt=""Look-ahead carry adder""></p>

<p>The calculation of C4 is no faster than in the the ripple-carry above, nor is PG and GG - the magic only happens when you put several of these blocks together to add even larger numbers.</p>

<p>The important to note part of the picture, is that the purple block is producing three values: C4, PG (Propagate) and GG (Generate). PG goes high if this block will propagate Cin to Cout, and GG goes high if the block will generate an overflow regardless of Cin. (Also, the block may neither propegate nor generate a carry, in which case both PG and GG are low, and Cout is 0.) PG and GG can be calculated in the purple block regardless of the value of C0 - thus, when C0 finally arrives, the purple block can simply consult its previously calculated result, and if the result is a ""propagate,"" then C0 is propagated directly to C4; this is four times faster than propagating through all the four full adders.</p>

<p>The reason why the block has the outputs PG and GG is so that, in a hierarchal fashion, we can acquire even greater propagation speedups. </p>

<p>Also see: <a href=""http://faculty.kfupm.edu.sa/COE/abouh/Lesson3_3.pdf"" rel=""noreferrer"">http://faculty.kfupm.edu.sa/COE/abouh/Lesson3_3.pdf</a></p>
","58239"
"What are the pins for in this Relay module?","19969","","<p>I am trying to figure out how to use this relay module. There is no datasheet that I could find for the whole module, there however are for individual box.</p>

<p>Here is the picture below, there are three jumper pins which read VCC, VCC, GND. And there are four activator pins (I guess) they read  GND, IN1, IN2, VCC</p>

<p>At the output end, I got current coming in connected to Middle terminal and receiving wire connected to the one showing Isolated line.</p>

<p>To activate it, I am applying 3V DC -ve on the GND (on the activator pins set) and +ve on the IN1.</p>

<p>Am I doing it wrong ? Here is the URL for further info: <a href=""http://www.miniinthebox.com/2-channel-5v-high-level-trigger-relay-module-for-arduino-works-with-official-arduino-boards_p727426.html"" rel=""noreferrer"">http://www.miniinthebox.com/2-channel-5v-high-level-trigger-relay-module-for-arduino-works-with-official-arduino-boards_p727426.html</a> </p>

<p><img src=""https://i.stack.imgur.com/gPysX.jpg"" alt=""enter image description here""></p>
","<p>Typical relay module clone, they are all similar. Below schematic is per channel.</p>

<p>Keep in mind that RY-VCC (JD-VCC in the schematic) is for the Relay section, while VCC on the 4 pin connector is for the opto-isolated side.</p>

<p><img src=""https://i.stack.imgur.com/lMYtu.jpg"" alt=""enter image description here""></p>

<p><a href=""http://arduino-info.wikispaces.com/ArduinoPower"" rel=""noreferrer"">http://arduino-info.wikispaces.com/ArduinoPower</a> for a full wiki on using these.</p>
","112731"
"Potential difference across one resistor with and without a known current?","19965","","<p>Okay imagine you have a voltage supply of 10V and one Resistor of 5 Ohms. </p>

<p>Now find the current : I=5/10 = 0.5A</p>

<p>So potential difference across that resistor : V=IR=10V .. which proves this statement I found in my lecture note :</p>

<blockquote>
  <p>If no internal resistance is present in voltage supply, the potential difference across the resistor is equal to supply voltage.</p>
</blockquote>

<p>Now imagine the same circuit but total current is given as 0.1A . The potential difference is V=IR=0.1*5=0.5V, which basically means the statement above is incorrect. </p>

<p>However, my question is regarding the supplied current : what does it mean when the current is given or the need to find it ourselves ?? Is it possible to have the same voltage supply but with a different current supply ?</p>

<p>Let me know if you need more clarification</p>
","<blockquote>
  <p>V=IR=10V .. which proves this statement I found in my lecture note </p>
  
  <blockquote>
    <p>If no internal resistance is present in voltage supply, the potential difference across the resistor is equal to supply voltage.</p>
  </blockquote>
</blockquote>

<p>You don't need to measure anything to prove this statement. It's a simple consequence of Kirchoff's voltage law. If you have a perfect 10 V voltage supply, no matter what you connect across it, the voltage across that element will be 10 V.</p>

<blockquote>
  <p>Now imagine the same circuit but total current is given as 0.1A . The potential difference is V=IR=0.1*5=0.5V, which basically means the statement above is incorrect.</p>
</blockquote>

<p>I'll assume you know that your supply has an open-circuit voltage of 10 V, but you don't know the internal resistance.</p>

<p>If you measure 0.1 A, then you know the total resistance is 100 Ohms. This total resistance is made up of the supply's internal resistance and your external load (5 Ohms). Therefore you know the internal resistance is 95 Ohms.</p>
","45342"
"How can I make a plated-through hole in Eagle?","19949","","<p>I have mounting holes (0.125 in) at the corner of my PCB project in Eagle, made with the standard ""hole"" tool. However these are not electrically connected to anything.</p>

<p>There doesn't appear to be a way to make these plated through by specifying a net (unlike a via).</p>

<p>If I want my mounting holes to be connected to the ground plane, do I have to just make an oversize via? Is there some other way?</p>
","<p>No, you don't want just a oversized via.  Step back and think about the problem a bit.  You don't just want a mounting hole, but rather a genuine electrical part.  This part should show up in the schematic, be something you place on the board, have a pin connected to a net, and a pad that connection can be routed to, just like other electrical parts.  </p>

<p>The correct answer is therefore to use such a part.  This would have a schematic symbol with one connection.  The package would be a thru-hole pad with the hole size matching your mounting screw and the pad diameter a little larger than the screw head diameter.  If you want this to be a ground connection, connect it in the schematic to your ground net.</p>

<p>I have done this before and have a few such mounting hole parts in my library, including one for a #4-40 machine screw.</p>
","50625"
"Batteries in series with different amp-hour ratings.","19932","","<p>I have a 1.5 amp-hour, 12 V battery and I have a 10 amp-hour 12 V battery. I know the voltage will increase to 24 V when they are put in series, but I don't know what goes on amp-hour wise. </p>

<p>Does the new amp-hour rating take the amp hour of the low amp hour rating, does it take the 10 amp hours or is it like an average? </p>
","<p>It is bad practice to connect batteries in series when they don't have the same capacity. The battery with the smaller capacity will be empty before the larger one, resulting in a lower voltage for the smaller battery. At that point things will start to get interesting as the larger battery will start to charge the smaller one through the connected circuit <strong>and with reversed voltage</strong>. The cell is not designed for being reversed and charged and bad things may happen a.o.: leaking acid and exploding. Neither of these situations are desirable. This is also the reason why most manuals of battery operated devices urge to replace all batteries at the same time. </p>

<p><img src=""https://i.stack.imgur.com/ab5CY.png"" alt=""batteries in series""></p>
","60735"
"Extending the backup runtime of a UPS with an external car battery","19900","","<p>I'm looking for a simple/inexpensive way to have a longer power backup time.<br>
My fist thought was putting 2 cheap UPSes in parallel. But I quickly found it's not that simple. You would need another device that synchronizes the waves, otherwise... boom!!.</p>

<p>Then I thought of connecting them in series, but I read somewhere that that wouldn't work because the output of a UPS in backup mode is not a true sine wave. So feeding a second UPS with that fake wave would make it think the power went off and it would switch to battery mode as well.</p>

<p>So then I thought, what if I could use a car battery as an extension to the UPS' internal battery. And I found <a href=""http://www.instructables.com/id/Make-your-computer-UPS-last-for-hours-instead-of-m/"" rel=""nofollow"">this instructable</a> that shows exactly how to do it.</p>

<p>The article gives the important warning that a UPS is not meant to run at full capacity on battery power for a long time (just for the time its battery last, which is a few minutes) so you should choose a UPS with twice as much power as you will need.</p>

<p>Keeping that in mind, is this safe to do?<br>
Is it as simple as putting a car battery in place of the internal one and expect it to work seemlessly?
Will the UPS be able to charge the car battery considering it's way bigger than the UPS is meant to have?</p>
","<p>Good quality (APC) UPS can be used like that. I have two units running at the moment. I use them for different purpose, they trickle charge my motorcycle battery and the battery I have left from the previous car. APC UPSes are very good storage chargers for Lead acid batteries (after all, that's one of their primary purposes) and I have a shop nearby giving them away for free.</p>

<p>The unit will run non-stop with any battery, and you can even swap batteries while running on them. The car battery might not be too happy though, they don't appreciate deep discharge, but if you're planning to drain it to the floor only once a year it won't make much difference. </p>

<p>Charging will be quite slow since the unit is set to the battery which comes with it. The battery inside 600 VA APC Back UPS is 7 Ah so the car battery will be charged with 700 mA current.</p>
","150517"
"How does the capacitor in a debouncing circuit work?","19857","","<p>On the following circuit (a debounced push button that turns on a LED):</p>



<p><img src=""https://i.stack.imgur.com/G7fXP.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fG7fXP.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>I'm trying to understand why the LED will not light up as the capacitor looks like it's bypassing the switch. When the capacitor is full, it doesn't transmit/conduct electricity?</p>

<p>You'll notice that I'm very beginner, but after 20 hours of reading various tutorials, I still can't really figure out something very simple; how does the full capacitor act differently than a simple wire? If I replaced the capacitor with a wire placed a wire instead of the capacitor, the light would always be on.</p>

<p>Edit:
Some people pointed out that the debouncing circuit made no sense (bad voltage, etc.) Here's my 2nd attempt to make more sense. R5 and R6 could be the same, but I thought keeping them separate would help to keep 1 job to each component.</p>

<p><img src=""https://i.stack.imgur.com/xmAEe.png"" alt=""circuit""></p>
","<p>This is not a good debounce circuit. </p>

<p>One problem is that (at least ideally) the switch and its connecting wires have a resistance of zero. This means that the capacitor will instantaneously discharge when the switch is closed. (In practical terms, also, this rapid discharge could even be bad for the switch contacts or the wiring, if there is a high enough voltage on the capacitor and it has a high enough capacity.)</p>

<p>A capacitive switch debounce should slowly charge the capacitor when the switch is in one state, and slowly discharge it when it is in another state. The RC constant doesn't have to be the same, but it should be something nonzero.  The circuit has resistors that control the charging of the capacitor; it just needs a resistor in the switch loop to discharge it gracefully.</p>

<p>Another problem with this circuit is that the LED is only off if the circuit has been on for some time, such as if the circuit has existed since the beginning of time with that same voltage source. But what if, at time \$t = 0\$, the voltage source has been 0V and suddenly jumps to its voltage? At that time, the capacitor, which must have been empty, begins charging. While it is charging, current flows and the LED will light up briefly and then go dark. (Well, maybe not, because your source has only 1V, but that's another story).</p>

<p>In CircuitLab, you can distinguish these two situations in the ""Time Domain"" simulation. You can either ""Skip Initial"" or not. The solver can either pretend that the circuit has existed in the given state for all eternity until the time \$t = 0\$, and start solving it from there. Or it can solve it from the point of view that the circuit just came into existence at \$t = 0\$ and the voltage sources spring into life, the capacitors are empty, and so on.</p>

<p>One final consideration here is that the circuit only lights a LED, so switch bounce is basically moot, unless the LED is shining on some optical detector where the switch bounce turns into a glitch in the signal. If the LED's job is to just provide a pretty light, then your eye won't even be fast enough to see the switch bounce.  </p>

<hr>

<p>Here is a time domain simulation of the circuit (after changing V1 to 3V). What is plotted is the LED current. Important: the Skip Initial parameter is set to Yes, so we can see what happens when the capacitor is initially empty and the voltage source energizes to 3V. This is all with the switch in an open state.</p>

<p><img src=""https://i.stack.imgur.com/8dWFv.png"" alt=""enter image description here""></p>

<p>As you can see, current surges through the LED and then dies down.  If your intent was that the LED is strictly controlled by the operator via the push button, then your design does not implement your intent one hundred percent.</p>

<hr>

<p>With regard to the comment below, suppose that the aim is to actually drive a microcontroller pin (everything running at 5V). Firstly, we can do that without any capacitance and handle the debouncing in software by sampling the pin at a reasonably low rate.</p>



<p><img src=""https://i.stack.imgur.com/7N8OO.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f7N8OO.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>When the switch is open the output is pulled to 0V by the pull-down resistor. When we close the switch, the voltage at the top of the resistor rises to 5V. This output can be regarded as a signal. We are interested in the low frequency component of the signal: relatively slow switch presses. We want to reject high frequencies, like switch bounce. To that aim, we can add a passive, one-pole RC low-pass filter:</p>



<p><img src=""https://i.stack.imgur.com/VZKDf.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fVZKDf.png"">simulate this circuit</a></sup></p>

<p>Now when the switch closes, the voltage rises gradually as the capacitor is charged. You can see this in the time domain simulation:</p>

<p><img src=""https://i.stack.imgur.com/8xQA8.png"" alt=""smoothed switch closure""></p>

<p>When the switch is opened, the capacitor will discharge through R1 and R1, gradually dropping the voltage back to zero. The capacitor basically follows the voltage of R1, but with lag due to having to charge through R1, and discharge through R1 and R2. (Note that the discharge is twice as slow as the charge!) </p>

<p>The microprocessor input senses the voltage with high impedance, so we can ignore its loading effect and not even show it on the diagram. <strong>We cannot do this in the case of the LED because it requires current which our circuit must supply. That current flows through our resistors and develops voltages that we must account for: in other words, it has ""loading effects"".</strong></p>

<p>This type of circuit works even better if we feed the output to a Schmidt trigger. A Schmidt trigger is a kind of buffer for digital signals which shows hysteresis similar to a thermometer. Its output goes high when some high input threshold is exceeded, and falls low when a different low threshold is exceeded. For instance, it might go high when the input goes above 3.5 volts, and only go low when the input falls below 1.5. </p>

<p>So even if the capacitor allows through some noise that could still cause some small flipping back-and-forth near the crossing of an input's threshold, the Schmidt trigger will reject that.</p>

<hr>

<p>Suppose we want to debounce the LED with a capacitor? The problem is that the resistances end up being too low due to the need to supply current to the LED. If we just use the same circuit and make the resistors smaller (and the capacitor larger by the same factor), we end up with something which wastes power. The way to do this is to use a small signal loop to handle the switch, and debounce it, and then use the voltage to control a transistor which dumps current into the LED. </p>

<p>Though <em>debouncing</em> a LED might be useless, if we make the resistors and/or capacitor large enough, we can obtain a nice behavior: that of the LED slowly fading on when the button is pressed and held, and fading out when it is released.</p>



<p><img src=""https://i.stack.imgur.com/WOzc0.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fWOzc0.png"">simulate this circuit</a></sup></p>

<p>This is the same circuit as before: the ""out to microcontroller"" node now connects to the base of an n-channel MOSFET which drives current to the LED. The MOSFET ""buffers"" the debounce logic from the LED driving. The debounce circuit isn't disturbed by the low impedance of the LED, and the LED is not starved of current by the high impedances in the debounce circuit.</p>
","66767"
"How can I measure back-EMF to infer the speed of a DC motor?","19809","","<p>I'm interested in measuring the back-EMF of a motor to determine a motor's speed because it's cheap and requires no additional mechanical parts. How can I measure the back-EMF when I'm driving the motor?</p>
","<p>One way to do this is to briefly stop driving the motor, long enough to let any residual current from the driving voltage die down, and then simply measure the voltage. The time it takes the current to settle will depend on the inductance of the windings. This is simple to understand, and the undriven interval can be made quite short, but this has obvious disadvantages.</p>

<p>Another method involves a clever use of Ohm's law. A motor can be modeled as a series circuit of an inductor, a resistor, and a voltage source. The inductor represents the inductance of the motor's windings. The resistor is the resistance of that wire. The voltage source represents the back-EMF, and it is directly proportional to the speed of the motor.</p>

<p><img src=""https://i.stack.imgur.com/QnUzX.png"" alt=""motor model schematic""></p>

<p>If we can know the resistance of the motor, and we can measure the current in the motor, we can infer what the back-EMF must be <em>while the motor is being driven</em>! Here's how:</p>

<p>We can ignore \$L_m\$ so long as the current through the motor is not changing much, because the voltage across an inductor proportional to the rate of change of current. No change in current means no voltage across the inductor.</p>

<p>If we are driving the motor with PWM, then the inductor serves to keep the current in the motor relatively constant. All we care about then, is really the average voltage of \$V_{drv}\$, which is just the supply voltage multiplied by the duty cycle.</p>

<p>So, we have an effective voltage we are applying to the motor, which we are modeling as a resistor and a voltage source in series. We also know the current in the motor, and the current in the resistor of our model must be the same because it is a series circuit. We can use Ohm's law to calculate what the voltage across this resistor must be, and the difference between the voltage drop over the resistor and our applied voltage must be the back-EMF.</p>

<p>Example:</p>

<p>motor winding resistance \$ = R_m = 1.5\Omega\$<br/>
measured motor current \$= I = 2A \$<br />
supply voltage \$= V_{cc} = 24V \$<br />
duty cycle \$ = d = 80\% \$</p>

<p>calculation:</p>

<p>voltage effectively applied to the motor \$ = \overline{V_{drv}} = dV_{cc} = 80\% \cdot 24V = 19.2V \$<br/>
voltage drop over motor resistance \$= V_{R_m} = IR_m = 2A \cdot 1.5\Omega = 3V \$<br/>
back-EMF \$ = V_m = \overline{V_{drv}} - V_{R_m} = 19.2V - 3V = 16.2V \$</p>

<p>Putting it all together into one equation:</p>

<p>\$ V_m = dV_{cc} - R_m I \$</p>
","54998"
"Charging 2 Li-Ion Batteries via a single charger","19774","","<p>I'm currently building a portable USB charger. It uses 2 Li-ion batteries in series connected to a USB port via a 5V regulated buck converter. While a single Li-ion battery would suffice for most applications, this USB charger needs to be able to output 1A at 5V; a single Li-ion battery of the type I have is only able to output 1A at 3-4V, or a max of 3-4W - therefore stepping up the voltage would reduce the maximum current output. The converter itself is not an issue other than requiring more than 5V to operate (hence wiring the batteries in series to produce an input voltage of 6-8V), since it has a maximum current output of 3A.</p>

<p>For the purposes of charging, I have a relatively cheap TP4056 charging micro-board specifically designed for charging 3.6V nominal batteries such as the ones I have. It's capable of CC-CV charging and automatic shutdown when current drops too low (indicating saturation). However, it's only designed for operating with one battery - as such, it can only detect whenever the battery it is connected to is full. Is there anything I could set up that would allow the charger to switch between batteries whenever one is full, and cease to charge either whenever both are full?</p>

<p>I imagine a relatively simple solution of a manual switch for operation after one battery is full might work, but this introduces micromanagement that I believe can be fairly easily avoided.</p>
","<p>When charging lithium batteries in series, you need what's known as a balance charger to keep the cells at similar voltage. One way that some chargers do this is by stopping the charge of both when one is full, discharging the full one until they are even, and then charge them both up again. There are <a href=""https://www.hobbyking.com/hobbyking/store/__7028__Turnigy_Accucel_6_50W_6A_Balancer_Charger_w_accessories.html"" rel=""nofollow"">fully featured chargers</a> meant for the remote control hobby, but they require setting the charge options on the screen before every charge. I cannot seem to find any ""plug and play"" balance charger boards similar to the TP4056. I am fairly sure that ICs exist that will handle the buck/boost power supply and the balancing, but I can't seem to find one and you would need to manufacture your own circuit board, and the chip is almost certainly surface mount.</p>

<p>That being said, there are a few workarounds. One is to have the batteries in series for operation and parallel for charging, and use either one or two single cell chargers. This can be accomplished through a 3PDT switch, and a good explanation is <a href=""https://learn.adafruit.com/multi-cell-lipo-charging/overview"" rel=""nofollow"">here</a>. Note that you don't need to use the same charger, your TP4056 should be able to be substituted.</p>

<p>A simpler and more elegant way to do it would be to use a boost mode power supply, and don't put the cells in series. You can attach multiple of your current cells in parallel, so that if you have two cells and are drawing 5W, it would be 2.5W per cell or ~0.67A. There are many chargers that are designed for this application, handling both the CC-CV charging and the boost regulator for the output, such as the <a href=""http://www.seeedstudio.com/depot/LiPo-Rider-Pro-p-992.html?cPath=1_75"" rel=""nofollow"">Lipo Rider Pro</a> from Seeed Studio which will do 1A output. This is what I would recommend.</p>

<p>Alternatively, you can buy more powerful batteries that will put out more than 1A instead of putting multiple in parallel.</p>

<p>Or if you want to take all the fun out of this project and just buy something that sort of works, there are USB battery banks available from China that will take care of all the charging and discharging of 18650 LiPo batteries. I have seen banks that will take from one to six 18650 cells in parallel, and some of the larger ones can do as much as 3A output. <a href=""http://www.fasttech.com/product/1341401"" rel=""nofollow"">Here</a> <a href=""http://www.fasttech.com/products/1424/10004461/1457401-qidian-2a-2-18650-diy-power-bank-battery"" rel=""nofollow"">are</a> <a href=""http://www.dx.com/p/universal-convenient-5v-usb-adapter-power-bank-w-torch-light-black-2-x-18650-264150#.U2XsfOhX-uY"" rel=""nofollow"">a</a> <a href=""http://www.dx.com/p/6a-6-x-18650-battery-bank-charger-w-double-usb-output-led-battery-flashlight-black-295182#.U2XsiOhX-uY"" rel=""nofollow"">few</a> <a href=""http://www.ebay.com/itm/5V-2A-2-Dual-USB-18650-Battery-Mobile-Power-Bank-Charger-DIY-Box-for-iPhone-HTC-/121294650266?pt=US_Cell_Phone_PDA_Chargers&amp;hash=item1c3db97b9a"" rel=""nofollow"">examples</a>, and a <a href=""https://www.youtube.com/watch?v=Z1KBccrNYHE"" rel=""nofollow"">video review</a>. Their build qualities and user interfaces look pretty bad, but apparently they work.</p>
","109113"
"Find short location on PCB","19770","","<p>I am trying to find a short on my board. So far, I have used my fluke to measure the resistance to gain some clues but everywhere I measure 4 ohm, so that didn't work. </p>

<p>I am thinking of trying to push &lt;2V up to couple hundred mA with a power supply (current limited) make it work for a minute or so to find the heat location but not so sure that is safe. Is this the only way to do this?</p>
","<p>A surer method is to apply current and then measure voltage drop across sections of track with a sensitive voltmeter. Many multimeter (even cheap ones) have a 200 mV (milliVolt) range which, with a 4 digit display gives 100 uV (microVolt) resolution (not accuracy, but that's another issue). If you pass say 100 mA along a track then you need 1 milliOhm of track to drop 100 uV. </p>

<ul>
<li>\$(R = \frac{V}{I} = \frac{0.0001}{0.1} = 0.001)\$ </li>
</ul>

<p>If you place two probes at either end of a track section the polarity of the voltage drop will show you the direction of current flow. You can literally follow the current around the board. You can find the point at which current leaves a track - voltage drop per track length will be smaller or of opposite polarity past a point of current departure. </p>

<p>If that's not sensitive enough, many meters have a 200 uA range with a resolution of 0.1 uA (!). Due to issues of meter internal resistance and specific implementation one or other of these ranges may work best for you, but either way you have a useful short-circuit-current tracer.  </p>

<p>Note that the voltage range is less liable to be damaged when doing this. When using a current range, if you probe two locations which are not on the same track and which have a significant voltage difference it is easy for far more than 200 uA to flow and, depending on meter circuitry, damage may occur.</p>

<p>You can set the test current to a useful minimum value by using a current limited supply to apply a current to a section of track and then observing the results with your meter. Current may be limited to a value that works well enough with you test equipment.</p>

<p>Whether a given test current is ""safe"" depends on your circuitry and is not able to be stated for a general situation. If you use a voltage and current limited supply and set the supply voltage to just high enough to produce a short circuit current suitable for testing then you will know the maximum energy that is able  to be dissipated anywhere. For example, if you set Imax to 100 mA and Vsupply to 2 Volts then total available energy = V x I = 2 x 0.1 = 200 mW (milliWatt). That level of dissipation MAY cause problems in specific devices but is not liable to cause thermal damage to almost anything.</p>
","16399"
"Measuring an Arduino's power source voltage using Analog In","19750","","<p>I am powering an Arduino using a 5v battery (3.7v to a step-up module), and I need to measure the voltage. <strong>Let's say the battery delivers high current</strong>, is it safe to measure the voltage via Analog In? As in this:</p>

<p><img src=""https://i.stack.imgur.com/tBl0U.png"" alt=""enter image description here""></p>

<p>The reason I'm asking is that I don't know much about the Arduino's ADC architecture and limitations. So normally, I'd do so for safety:</p>

<p><img src=""https://i.stack.imgur.com/oJCpC.png"" alt=""enter image description here""></p>

<p><strong>Are the connections in the first diagram safe for the ADC? Thanks in advance!</strong></p>

<p><strong>Note:</strong> A similar question was asked here: (<a href=""https://electronics.stackexchange.com/questions/53211/monitor-dc-power-usage"">Monitor DC Power Usage</a>), but it doesn't answer the question of high current loads on the battery.</p>
","<p>Check the datasheet for the input current on a I/O pin It depens on the exact type of controller on your Arduino. It is probably called <strong>Input Leakage Current I/O pin</strong> and will be near <strong>1μA</strong>.</p>

<p><a href=""http://www.atmel.com/Images/Atmel-8271-8-bit-AVR-Microcontroller-ATmega48A-48PA-88A-88PA-168A-168PA-328-328P_datasheet.pdf"" rel=""nofollow noreferrer"">Here is a typical ATmega datasheet used on Uno / Duemilanove / ...</a> , you can find the parameter on page 304. Check <a href=""http://www.atmel.com/products/microcontrollers/avr/megaAVR.aspx"" rel=""nofollow noreferrer"">the datasheet for your specific controller</a> for accurate details.</p>

<p>If you use a 3.7V battery and a step up converter to supply 5V to the controller, you can connect the battery directly to your controller analog input. However when the output voltage of the step up converter drops below the voltage of the battery (for whatever reason) then your entire Arduino will be fed through the analog input pin and that is what you <em>don't</em> want. All input pins have protection against overvoltage which enables this behaviour, but the diodes are not rated for continuous currents. In conclusion: it is best to include a series resistor between battery and input pin.</p>

<p>But now your measurement relies on the accuracy of the 5V power supply. Depending on which exact controller you have, there are various <a href=""http://arduino.cc/en/Reference/AnalogReference"" rel=""nofollow noreferrer"">internal reference voltages</a> available which are far more accurate than the power supply voltage. If you add an extra resistor to ground (R2) you can use such a reference to accurately measure the input voltage. This is called a (resistive) voltage divider. With the given ratio, the voltaga on the input pin will be 1V when the battery voltage is 3.7V:</p>

<p>\$V_{measurement} = \dfrac{R2×V_{BATT}}{R1+R2}\$</p>



<p><img src=""https://i.stack.imgur.com/PQCFm.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fPQCFm.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>
","64767"
"Battery management circuit for Nokia BL-4C / 5C Li-ION batteries","19746","","<p>Nokia BL-4C / BL-5C are 3.7V, 700-1000mAh (<a href=""http://translate.google.co.in/translate?hl=en&amp;sl=de&amp;u=http://nokiaport.de/index.php?mid=&amp;pid=akkutyp&amp;prev=/search?q=site:nokiaport.de%2bBL-4c&amp;hl=en&amp;safe=off&amp;client=firefox-a&amp;hs=Uur&amp;rls=org.mozilla:en-US:official&amp;biw=1708&amp;bih=849&amp;prmd=imvns&amp;sa=X&amp;ei=4ZUWUMbLOILqrQefroCgCw&amp;ved=0CGgQ7gEwAA"" rel=""nofollow noreferrer"">variants</a>) Lithium-ion batteries, which are available in abundance and at very low cost ($4 - $7 a piece), since these are used in entry level Nokia phones, sold in most developing countries. </p>

<p>These batteries have 3 terminals, as explained <a href=""http://www.cpkb.org/wiki/Nokia_BL-4C_battery_pinout"" rel=""nofollow noreferrer"">here</a>, for battery positive-terminal, ground, and a terminal (BSI) which I believe presents a fixed resistance value, that needs to be measured, to determine battery-type (chemistry, characteristics including capacity etc.)</p>

<p>So here are my questions:-</p>

<ol>
<li><p>Is anyone aware of any existing open-source hardware project, that has built battery-management circuit around such batteries ? (PS> In my searches so far, I've not come across any such project).</p></li>
<li><p>How exactly, can one accurately measure the resistance offered by BSI terminal of the battery ? A very accurate and stable reference voltage would be required, I believe - but if the battery itself is the source of such reference voltage, it could vary with charge-status and condition of battery, so how could it serve as a good reference ?</p></li>
<li><p>Is it necessary to have a temperature sensor in proximity/touching the battery ?</p></li>
<li><p>What would be some low-cost battery-management IC's that are not too difficult to source or work with, for hobbyists, which can be used to charge such Li-ION batteries safely ?</p></li>
</ol>

<p>Have found <a href=""https://electronics.stackexchange.com/questions/8021/precise-resistance-measurement-techniques"">this question</a> here related to 'resistance measurement', but the mechanisms described are far too cumbersome, expensive &amp; require manual intervention, to be useful in automated battery-type identification. OTOH, it is possible that I've completely misunderstood the purpose of the BSI terminal.</p>

<p>As for whether ""temp sensor"" is needed, I think the answer is YES, based on <a href=""http://www.cpkb.org/wiki/BTemp"" rel=""nofollow noreferrer"">this</a>. However, the question then becomes, without access to proprietary battery characteristics information of this Nokia battery, what can one do with the temp-sensor ?</p>
","<p><strong>3rd terminal:</strong> </p>

<p>The 3rd terminal on your battery is most likely to be an ""on board"" thermistor temperature sensor. Try this.<br>
 Determine -ve and +ve battery terminals.<br>
 Connect ohm meter between -ve and terminal that is not +ve.<br>
 Blow warm air over battery (NOT TOO HOT) and determine whether resistance varies with temperature.<br>
 Sensor could be comnnected to +ve rather than -ve but -ve connection probably most likely.</p>

<p><strong>Charging:</strong></p>

<p>There are many ICs available for charging LiIon cxells.
If you want to build your own Lithium Ion / LiPo charger for up to 500 mA charge rate then using the MCP83831 / MCP83832 charger IC is a very easy and economical way of doing so.<br>
 This is eg what Sparkfun use in the LilyPad Simple.<br>
  <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/21984e.pdf"" rel=""nofollow noreferrer""><strong>Data sheet here</strong></a></p>

<p>It can literally be as simple as shown in the circuit diagram below.</p>

<p><img src=""https://i.stack.imgur.com/J5raH.jpg"" alt=""enter image description here"">. </p>

<p>The resistor from Vss to Prog sets maximum charging current.<br>
 Several other options are available by selecting variants of the basic device.   Unfortunately 3 different options are selected as a group (see datasheet page 21) providing less flexibility , but the device is still useful and well priced.<br>
 Options include cell voltage below which charger goes into ""precondition"" mode,<br>
 end point current termination level<br>
 and i_condition / i_charge ratio. </p>

<p>My main ""complaint"" with this IC is that the lowest voltage output level version is 4.2V and higher voltage (and very dangerous) versions are available.<br>
 Digikey sell 3 different versions (AC, AT, DC) with the AT mainly stopping charging sooner (longer life, lower capacity), while the DC variant will try to  produce 'magic smoke' and 'vent with flame' if a very low voltage battery is charged. </p>

<p>Available <a href=""http://www.digikey.com/product-detail/en/MCP73831T-2ATI%2FOT/MCP73831T-2ATI%2FOTCT-ND/1979803"" rel=""nofollow noreferrer"">in stock from Digikey</a> for $US0.68/1 and $US0.42/100. </p>
","36851"
"Arduino With Assembly?","19701","","<p>Since for my venture into Microprocessing I decided to go with Atmel AVR due to the vast resources available. And Arduino seems to has alot as well, not to mention their starter kits seem more ""at my level""</p>

<p>The problem is I want to learn it in Assembly first, and then go to C/C++ or w/e Arduino uses, but ive heard Arduino won't take AVR assembly? Is this true? is their any way around that?</p>

<p>Thanks</p>

<p>edit: I would go with the ATMEL STK500 but..for a first timer it looks VERY complicated? Is there any reason why I can't just get a 8 bit AVR and put it on a breadboard and experiment that way? (i guess i'd have to figure out how to interface them as such....)</p>

<p>edit2: This is what I was thinkin</p>

<p><a href=""http://www.adafruit.com/index.php?main_page=product_info&amp;cPath=17&amp;products_id=193"">http://www.adafruit.com/index.php?main_page=product_info&amp;cPath=17&amp;products_id=193</a></p>
","<p>The Arduino boards can be programmed in assembly.  All you need is an ICSP Cable (In Circuit Serial Programmer) cable and the AVR toolchain (free from ATMEL) to write to the board.  You then get the advantage of on board debugging.</p>

<p>As you suggested, you can just slap an ATMEL chip on a breadboard and go to town.  </p>

<p>The kit you referenced looks like a great starting point.  You can take the chip right off the board and stick it on your own breadboard (as long as it has correctly regulated power and you account for the clock).</p>
","12752"
"How does __delay_cycles work?","19690","","<p>I'm using a <code>msp430g2553</code> and setting the clock to 1Mhz:</p>

<pre><code>BCSCTL1 = CALBC1_1MHZ;
DCOCTL = CALDCO_1MHZ;
</code></pre>

<p>I've timed a 5 million cycles and it unexpectedly takes around 6 seconds (I was expecting 5).
The loop I've used is:</p>

<pre><code>int i;
for(i=0;i&lt;5000;i++)
    __delay_cycles(1000);
</code></pre>

<p>I've read about using interrupts (probably based on Timer_A, etc) but I'd like to avoid that for now.</p>

<p>So my question is: how can I implement a constant argument <code>sleep</code> based on __delay_cycles?</p>

<p><strong>Later edit</strong></p>

<p>Assembly for:</p>

<pre><code>void delay1000() {
        __delay_cycles(1000);
}
</code></pre>

<p>is:</p>

<pre><code>delay1000:
    0c3b4: 04 12                     PUSH    R4
    0c3b6: 04 41                     MOV     SP,      R4
    0c3b8: 24 53                     INCD    R4
    0c3ba: 3f 40 4c 01               MOV     #0x014c, R15    // 332 decimal (1000/3 -&gt; DEC, TST and JNZ)
    0c3be: 1f 83                     DEC     R15
    0c3c0: 0f 93                     TST     R15
    0c3c2: fd 23                     JNZ     delay1000+0xa
    0c3c4: 03 43                     NOP     
    0c3c6: 03 43                     NOP     
    0c3c8: 34 41                     POP     R4
    0c3ca: 30 41                     RET     
</code></pre>
","<p>Look at the dissassembly of the code, remember the for loop adds some instructions which take a few cycles. With a 5000 loop, these extra cycles will add up. Also, how <code>delay_cycles()</code> is implemented can make a big difference.<br>
You can count the cycles for each loop in the simulator, do the math and compensate for the added cycles by passing the appropriate value.  </p>

<p>Of course, the best way to get accurate timing is to use interrupts, but you say you want to avoid those for now.</p>
","52811"
"Fastest way to get integer mod 10 and integer divide 10?","19685","","<p>If a hardware doesn't support modulus or division operations, it takes many more CPU cycles to simulate modulus/division by software. <strong>Is there any faster way to calculate division and modulus if the operand is 10?</strong></p>

<p>In my project I frequently need to calculate integer modulus 10. In particular, I'm working on PIC16F and need to show a number on an LCD. There are 4 digits to support, so there are 4 calls to modulus and division function (software implementation). That is, like the following:</p>

<pre><code>digit = number % 10;    // call to an expensive function
number /= 10;           // call to an expensive function
somehow_lit_segments();

digit = number % 10;    // call to an expensive function
number /= 10;           // call to an expensive function
somehow_lit_segments();

digit = number % 10;    // call to an expensive function
number /= 10;           // call to an expensive function
somehow_lit_segments();

digit = number % 10;    // call to an expensive function
number /= 10;           // call to an expensive function
somehow_lit_segments();
</code></pre>

<p>There are other areas that uses similar code.</p>
","<p>Heres a binary to BCD algorithm I used several years ago based on one found <a href=""http://www.piclist.com/techref/language/ccpp/convertbase.htm"">here</a>.  I was using an external BCD to 7 seg display driver so the result could be written to the proper ports directly as packed BCD for output.  </p>

<p>This is fairly fast if you have a hardware multiplier in the PIC, i was using a PIC18F97J60.  If you don't have a hardware multiplier on your PIC, consider using shift + add for the multiplication.</p>

<p>This takes in an unsigned 16bit int and returns packed BCD with 5 digits, it could be modified and made faster for 4 digits.  It uses shift + additions to approximate division by 10 but given the limited input range it is exact for this use.  You may want to pack the result differently as well to line up with how your using the result.</p>

<pre><code>void intToPackedBCD( uint16_t n, uint8_t *digits ) {

    uint8_t d4, d3, d2, d1, d0, q;  //d4 MSD, d0 LSD

    d1 = (n&gt;&gt;4)  &amp; 0xF;
    d2 = (n&gt;&gt;8)  &amp; 0xF;
    d3 = (n&gt;&gt;12) &amp; 0xF;

    d0 = 6*(d3 + d2 + d1) + (n &amp; 0xF);
    q = (d0 * 0xCD) &gt;&gt; 11;
    d0 = d0 - 10*q;

    d1 = q + 9*d3 + 5*d2 + d1;
    q = (d1 * 0xCD) &gt;&gt; 11;
    d1 = d1 - 10*q;

    d2 = q + 2*d2;
    q = (d2 * 0x1A) &gt;&gt; 8;
    d2 = d2 - 10*q;

    d3 = q + 4*d3;
    d4 = (d3 * 0x1A) &gt;&gt; 8;
    d3 = d3 - 10*d4;

    digits[0] = (d4&lt;&lt;4) | (d3);
    digits[1] = (d2&lt;&lt;4) | (d1);
    digits[2] = (d0&lt;&lt;4);
}
</code></pre>
","12630"
"Difference between capacitor start and capacitor run Induction motors?","19681","","<p>All though in both types of Induction Motors, capacitor does the job of phase shifting to produce the rotating magnetic field, their working principle is the same. Then whats the point in disconnecting the capacitor by centrifugal switch for capacitor start, and not disconnecting for the capacitor run motors. I mean is either of the Induction Motor designated for particular power rating, plus i read somewhere that capacitor start Induction Motor has high starting torque. Also when i browsed the internet found this piece of info that capacitor run motor has improved p.f. due to start capacitor, so isn`t it always advantageous to have capacitor permanently to improve motor efficiency. </p>
","<p>A Capacitor Start Motor not only switches out the capacitor when up to speed, but also switches out the starting winding which is in series with the start capacitor.  Capacitor Start motors have very high starting torque for a single phase AC motor.  The same is true for a capacitor start / capacitor run motor WITH a centrifugal switch.  In this case, the run capacitor is a different value and just provides some additional phase lag especially to help the motor maintain speed under load, and improve the power factor.
A Capacitor start/run motor without a centrifugal switch has a lower starting torque, but good performance under load, and again, an improved power factor.</p>
","175905"
"How much voltage to give my IR LED?","19642","","<p>I got a new IR led, emitting light at 850nm.  It says 5v reverse voltage and 1.5 forward voltage.  How many volts should I give it?  I have DESTROYED three other IR LEDs because of giving them too many volts.  What should I do?!</p>

<p>---------------------------------ADDED----------------------------------
Here is the full information on the LED, typed up:</p>

<p>Max. Reverse voltage:5v
Max. Continuous forward current: 100mA
Max. Forward Voltage: 1.5 typ., 1.8V max.@50mA</p>

<p>So, if I give it 3.3v@50mA raw, it will destroy it, correct?  Therefore, I guess I need a 10k resistor?</p>
","<p>I'm pretty sure that there are multiple answers on this site with the information that you require.</p>

<p>But: decide what voltage you want to run the LEDs from.  Subtract 1.5V - you now know the voltage across the series resistor that you need.</p>

<p>Now divide that voltage by the desired current.  If you divide by Amps, you get the resistor value in Ohms.  If you divide by mA, you get the resistor value in Kilohms.</p>
","163495"
"Where to find buttons eagle cad","19633","","<p>Does any one know where to find buttons in EAGLE that look something like the one in this schematic?</p>

<p><img src=""https://3.bp.blogspot.com/-sb5Bb6uSVcc/UHbz_sWg51I/AAAAAAAAALE/re7VESX4m5E/s640/brfrc2.jpg"" alt=""style 1""></p>

<p>I'm making a schematic and all I can find are complex looking buttons. If those are not available, then can someone help me find a normal switch, like this:</p>

<p><img src=""https://upload.wikimedia.org/wikipedia/commons/4/46/SPST-Switch.svg"" alt=""style 2""> </p>

<p>I can't seem to find this in the EAGLE libraries, either.</p>
","<p>The best answer is to make your own, it's easy.  Someone else's library parts aren't going to adhere to your conventions for the silkscreen, hole sizes, BOM handling, etc, etc.  I never even look in the Eagle libraries as they are basically useless.</p>

<p>In your case, you haven't even said what kind of button, only shown the schematic symbol.  There are many many many different ""buttons"" from various manufacturers.  Most of these will require a different footprint.  You have to specify a particular part before you can even tell if someone else's Eagle button is applicable to your case.</p>

<p>In the off chance you can live with <i>my</i> conventions, download my Eagle Tools release from <a href=""http://www.embedinc.com/pic/dload.htm"" rel=""nofollow"">http://www.embedinc.com/pic/dload.htm</a> and look around in the ""Switch"" library.  There are some buttons in there, but again, there is no way to know what you actually want.</p>
","59391"
"What will it take to build a small bluetooth device?","19612","","<p>I am new to this part of StackExchange. I am doing a project that requires me to keep track of Bluetooth devices. So I want to build a tiny Bluetooth device that can be attached to almost anything; something tiny but effective. What will it cost to build this kind of device? What is the smallest size obtainable and how effective will it be?</p>

<p>Look forward your opinions!</p>

<p>Thanks!</p>
","<p>There is an <a href=""http://store.atmel.com/PartDetail.aspx?q=p:10500252"" rel=""noreferrer"">Atmel Bluetooth</a> extension kit, and plenty of projects on other sites that describe interfacing Bluetooth with an AVR. You can also find tutorials for interfacing the AVR with a MicroSD card, so you could log all your data there.</p>

<p>SMT AVR chips are tiny and cheap. If you want to sacrifice size and price for faster development time, there is an <a href=""http://arduino.cc/it/Main/ArduinoBoardBluetooth"" rel=""noreferrer"">Arduino Bluetooth module</a>. Arduino is AVR based, so you can always cost/size reduce later down to your own custom design once you've got the bugs worked out.</p>

<p>Edit: Browsing Mouser, I found the <a href=""http://www.ti.com/product/cc2540"" rel=""noreferrer"">TI CC2540</a>, a <a href=""http://www.ti.com/lit/ds/symlink/cc2540.pdf"" rel=""noreferrer"">bluetooth system-on-a-chip with an 8051 core</a>.</p>
","26055"
"CMSIS vs HAL vs Standard Peripherals Library","19605","","<p>So I'm switching from PICs to ARM and I bought an STM32F4 discovery board.
So far I understand that to program it you can either access all registers directly in memory (obvious way) and also there are 3 main libraries you can use to make your life easier.
Now my question is, which one of those 3 (CMSIS, HAL, Std Peripherals Lib) is the most LOW level one? ie. the one with the less overhead. My goal is to learn the controller's inner workings and not make my life easier (only a little), so I would like to know which of these is closer to the core without resorting to use assembly.</p>
","<p>Definitely the CMSIS. It is not exactly a library, it mostly contains definitions for the various registers.</p>

<p>It is exactly what one needs to access the microcontroller's registers easy, so as to implement his/her own HAL. It has no overhead, since you just access the registers.</p>

<p>Keep in mind that CMSIS, unlike the other two, is defined by ARM and not ST. This means that the various CMSIS libraries out there for the various microcontrollers are quite similar, which greatly aids in portability.</p>

<p>Furthermore, CMSIS is the simpler one so it is (IMO) the most versatile, and most reliable, with possibly fewer (or no) bugs. Some hal libraries for the various mcu's that I've used are quite infamous for their bugs.</p>

<p>On the other hand, CMSIS needs quite more work from you. It is however my personal choice, since I prefer to invest my time creating quality libraries, that suit my needs, and understanding how the chip works, that just spending time to learn just a new library.</p>
","224356"
"Hot capacitors: Is that a problem?","19589","","<p>First I want to say that I have no experience with capacitors heating up, so this one may be obvious.</p>

<p>I've recently replaced a set of aluminium electrolytic capacitors on an ADSL modem. The original ones vented. They were rated at 105 °C, so I got some 105 °C (of same voltage rating) capacitors as a replacement. Unfortunately, I couldn't find capacitors of the same size, so the modem is now outside of its plastic case. </p>

<p>Anyway, I noticed that the capacitors are getting hot. This is first time I noticed something like that. All other capacitors I've touched were always cool, even when used on a warm PCB. So I'm getting 45.5 °C on the cap of the capacitors. The outside temperature is 27.8 °C. The temperature of the PCB itself (measured from an exposed, unpopulated, solder pad) is 35.7 °C.</p>

<p>I do understand that the capacitors should be able to take the temperature without any problems, but it still seems a bit too high to me. </p>

<p>So is it normal for capacitors to heat up this much? I was unable to determine exact properties of the original capacitors (and Google isn't familiar with inscriptions on them), so I got some ""low-ESR"" capacitors just in case.</p>

<p><strong>UPDATE:</strong> The capacitors are rated at 25 V (working at 12 V) and have capacitance of \$470 \mu F\$. The modem was bought in 2008. and was working more or less continuously (with no more than two months downtime for that period) since then until a month ago. </p>
","<p>I'll assume that these are power supply capacitors. </p>

<p>Short answer: </p>

<ul>
<li>45C is tolerable. </li>
<li>Cooler would be better. </li>
<li>Taking steps to minimise temperature will improve lifetime, especially in a continuously on application.</li>
<li>All similarly specified capacitors are not created equal. Brand may matter.</li>
</ul>

<p>Long! answer: </p>

<p>That's hotter than you'd expect in a simple power supply circuit, but should be tolerable - but see below re operating lifetime that you can expect. ""Rule of thumb"" is that capacitor life halves for every 10 degrees C rise in temperature. If your capacitors are ~ 45C externally assume that the core is at say 55C. That's (105-55) = 50C lower than rated so lifetime will be about 2^5 = 32 times longer than nominal rating. Most capacitors (especially 105C rated ones) have a 2000 hour or better rating so you could expect a lifetime of about 2000 x 32 = 64000 hours or about 8 years of continuous operation. Even if core temperature was 65C that would give 4 years continuous. If the modem is run 24/7, as it may well be, then capacitor failure in the say 2 to 10 year timescale is not unexpected. What lifetime did you get from the original capacitors? And was the modem operated continuously?</p>

<p>Capacitors are also rated for ""ripple current"" and exceeding the ripple current rating will increase internal heating and reduce lifetime. This is an additive effect with temperature. eg If two capacitors are operating  at 50C then the one with a larger ripple current will have a shorter lifetime. Formulae are available to allow ripple current lifetime derating calculations (not to hand at present, I can provide if useful).</p>

<p>Ripple current ratings can vary widely between capacitor model and manufacturer. Using a known reputable brand of capacitor is recommended in demanding applications as specification sheets for unknown brands are often suspect, often having been copied from those of other manufacturers. [[This claim is based on my having personally tracked down the source of a significant number of data sheets of capacitors and other products when the claims did not seem to match reality. Internet searching on an unusual phrase will often allow the source to be located.]]</p>

<p>Operating your modem without its case is liable to reduce capacitor operating temperature and increase lifetime. Anything else you can sensibly do to reduce ambient temperature will also help. If you measure a 45C cap temperature in a 20C ambient room, if you then operate the modem in a 30C enclosure the cap temperature will probably be 55C or higher.</p>

<p>Fan cooling may make sense. But just replacing the caps when they fail or buying a new modem may be preferable. Heatsinks for capacitors are not unknown but are not common. Anything you can do to sensibly improve airflow will help. eg if it has no case then orientation may not matter much, so orienting it to improve air flow may be possible.</p>

<p>A datasheet or manufacturer's information should tell you</p>

<ul>
<li>Rated operating temperature.</li>
<li>Lifetime at rated temperature.</li>
<li>Ripple current.</li>
<li>ESR (less commonly)</li>
</ul>

<p>If they don't tell you the first three, buy another brand.
ESR is important but is reasonably well correlated with the other parameters. You can buy capacitors with 3000 hour or 5000 hour or even longer lifetimes at rated temperature, but cost is liable to be higher to much higher. You can buy capacitors with higher than 105C temperature ratings but they are usually much less common and probably expensive. </p>

<p>There are many well known &amp; reputable brands. Panasonic make a wide range of grades, generally seem to ""know their stuff"" and often are not much dearer than little known or unknown brands. They are certainly not the only brand to consider but are a good starting place. </p>

<p>Distributors like Digikey (www.digikey.com) stock a vast range of brands and models. Digikey have an excellent parametric search engine that allows you to selectively subset based on many different parameters. Even if you buy elsewhere their product search engine is a useful tool. Also see www.findchips.com 
[[No association with Panasonic or Digikey apart from being a satisfied user and customer/ database user.]]</p>
","16502"
"Can Arduino be used in commercial products?","19585","","<p>Is it legal for me to sell a product that's built with an Arduino? I know that it's open source, but does that mean I can sell my product for profit, or only for use in prototyping?</p>
","<p>Since legal questions sometimes need really specific answers, I found Arduino's exact position on this:</p>

<blockquote>
  <p>Physically embedding an Arduino board inside a commercial product does not require you to disclose or open-source any information about
  its design.</p>
  
  <p>Deriving the design of a commercial product from the Eagle files for an Arduino board requires you to release the modified files under
  the same Creative Commons Attribution Share-Alike license. You may
  manufacture and sell the resulting product.</p>
  
  <p>Using the Arduino core and libraries for the firmware of a commercial product does not require you to release the source code for
  the firmware. The LGPL does, however, require you to make available
  object files that allow for the relinking of the firmware against
  updated versions of the Arduino core and libraries. Any modifications
  to the core and libraries must be released under the LGPL.</p>
  
  <p>The source code for the Arduino environment is covered by the GPL, which requires any modifications to be open-sourced under the same
  license. It does not prevent the sale of derivative software or its
  inclusion in commercial products. </p>
  
  <p>In all cases, the exact requirements are determined by the applicable
  license. Additionally, see the previous question for information about
  the use of the name “Arduino”.</p>
</blockquote>

<p><em>Source: <a href=""http://arduino.cc/en/Main/FAQ"">http://arduino.cc/en/Main/FAQ</a></em></p>

<p><em>Disclaimer:</em> Arduino's position on this may change over time, I'm not a lawyer and this doesn't constitute legal advice, blaa, blaa, blaa... <code>:)</code>  In short: I'm not responsible if you get in trouble.</p>
","67032"
"Steady-State DC Analysis: Inductors and voltage sources","19575","","<p>Consider the following circuit. I'm tying together the basic definitions of capacitor and inductors, and how they work when connected to a DC source. </p>

<p><a href=""https://i.stack.imgur.com/badwO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/badwO.png"" alt=""Circuit displaying a steady-state RLC circuit""></a></p>

<p>First off, we have the equations for current throuh a capacitor, and voltage across a inductor.</p>

<ul>
<li>\$i_c(t) = C\frac{dv_c(t)}{dt},\quad v_l(t) = L\frac{di_l(t)}{dt}\$</li>
</ul>

<p>Analyzing this, we can see, clearly, that if our inductor and capacitor are <em>""empty""</em> at \$t=0\$, that our capacitor acts as a short circuit, as there's no current going through it unless there's a change in voltage across the capacitor.</p>

<p>However, I'm having difficulties seeing how the inductor acts as a short circuit. Because we have the DC voltage source \$10V\$, all we know is that our voltage is constant. <strong>What I wonder</strong> then is how we can make the statement that our inductor acts as a short circuit.</p>

<p>Also, why do we call direct voltage sources ""DC voltage source""? Doesn't is sound a bit strange saying ""direct current voltage source""?</p>
","<p>For capacitor ic(t)=C *dvc(t)/dt, when switch is closed there is voltage difference between the +ve and -ve terminal. Hence, there will be flow of current until cap is charged. Since battery is a constant voltage source, the cap will be charged to 10 V and after that there won't be any flow of DC current through it and it will act as open circuit for DC current.</p>

<p>In case of inductor, vl(t)=L *dil(t)/dt, vl(t) is the voltage across the inductor, hence when circuit is closed there is huge di/dt in transisent state and inductor will act as huge resistor. But as the current becomes constant at steady state, di/dt = 0, V(l) = 0 which means voltage across inductor is zero hence short.</p>

<p>The reason for calling the source as voltage source is that it provides constant voltage for different loads which may draw different current.</p>
","191143"
"How can I create a female jumper wire connector","19573","","<p>How can I create the female side of wires like these to fit 2.54mm spaced headers? What would the part inside the enclosure be and what is the name of the enclosure? I'm struggling to find them on UK suppliers' websites.</p>

<p><img src=""https://i.stack.imgur.com/sZA09.jpg"" alt=""Headers""></p>
","<p>How about <a href=""http://www.adafruit.com/products/266"" rel=""nofollow noreferrer"">these</a> female-female wires, 6"" long:  </p>

<p><img src=""https://i.stack.imgur.com/4rZj7.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/exJqI.jpg"" alt=""enter image description here""></p>
","37784"
"Current carrying capacity of 28 AWG wire?","19565","","<p><a href=""http://www.l-com.com/item.aspx?id=3770"" rel=""nofollow"">This SCSI cable</a> is composed of 28 AWG twisted pairs.  <a href=""http://www.l-com.com/multimedia/tips/tip_copper_wire.pdf"" rel=""nofollow"">According to an L-Com ""tip""</a>, such a twisted pair should be able to carry at least 3*0.8=2.4 Amps per conductor.  However, <a href=""http://www.powerstream.com/Wire_Size.htm"" rel=""nofollow"">this other web site</a> which references the <em>Handbook of Electronic Tables and Formulas</em> suggests that you can carry only 226 mA per conductor.  This is an order of magnitude difference!  Can anyone explain which one is correct?</p>

<p>The application requires the conductors to carry 1A at 5V DC.  So the question really comes down to whether I need one pair or more than one pair.</p>

<p>EDIT:</p>

<p>As David correctly assumed, only one pair will be carrying this current, and 1A is the most current I expect that pair to carry.  All other pairs will carry at most 50 mA worst case per wire, typically much less than that, and all the other pairs combined are current limited to 150 mA.</p>
","<p>I am assuming you are going to use only one twisted pair (out of the 34 available) for 1 A. In that case, you should be fine for your application using 28 AWG copper assuming that your cable is surrounded by open air at 30 °C or cooler. The first link's recommendation is close to the (United States) National Electric Code formula. Note that the fine print for the second link says that the power transmission values are ""very very conservative.""</p>

<p>If more than one twisted pair is carrying a significant amount of current or the cable will not allow heat dissipation, use multiple pairs to carry your current.</p>
","33524"
"What does a resistor do?","19555","","<p>OK, <em>very</em> basic question here.</p>

<p>I read lots of books, searched quite a bit, and every description I read seemed to talk about the flow of electrons and right away go too deep in theory for me to grasp the basic principle of their use.</p>

<p>I understand a resistor limits the ""flow"", so that an LED doesn't blow up for example. But I fail to understand exactly what a resistor does to current and voltage...</p>

<p><strong>Do resistors affect both current and voltage? In what manner?</strong></p>
","<p>Electric flow is the motion of electrical charges through a material. Resistance is the <em>physical obstruction</em> of these moving charges.</p>

<p>A certain amount of energy is required to keep these charges in motion, and since the energy drop is <em>proportional</em> to the amount of charge kept in motion, this results in a voltage drop across the material since electromotive force (in volts) is energy (in joules) per charge (in coulombs).</p>

<p>Since it is a physical obstruction, it also restricts the <em>rate</em> at which charges can move across a given point per unit time. This results in a maximum current, since current (in amperes) is charges (in coulombs) per unit time (in seconds).</p>

<p>And as it turns out, if you apply more or less electromotive force across the same resistance, the current increases or decreases exactly linearly. This gives rise to Ohm's Law, which states that electromotive force is proportional to the product of current and resistance, that is, \$E = IR\$.</p>
","136383"
"How do I calculate the frequency of an FM transmitter circuit?","19554","","<p>Below is an FM transmitter circuit I found on the web that I would like to build from scratch:</p>

<p><img src=""https://i.stack.imgur.com/vMxPU.png"" alt=""Transmitter Circuit""></p>

<p>How I would calculate the carrier signal frequency so that I know where to tune my FM radio?</p>

<p>If I want this to transmit my own signal, instead of the microphone signal, could I just replace the microphone with the output of a TRS connector? </p>
","<p>$$F = \frac{1}{2\pi\sqrt{LC}}$$</p>

<p>L and C2 are components oscillator</p>

<p>but this is a very awful bad circuit.</p>

<p>1 transistor as oscillator an as modulator is not the way to do it
it isn't as stable as an regular modular transmitter</p>

<p>for just a sine out you wont use this circuit 
you could look on the Internet for</p>

<ul>
<li>Colpitts oscillator</li>
<li>Hartley oscillator</li>
<li>clapp oscillator</li>
<li>Meissner / armstrong oscillator</li>
<li>Wien bridge oscillator</li>
<li>...</li>
</ul>

<p>or some VFO (Variable ferquency oscillator)</p>

<ul>
<li>PLL</li>
<li>DDS</li>
<li>...</li>
</ul>

<p>or when is must be very stable a <b>XTAL</b> oscillator </p>

<p>For just data send and receive
google for 
433MHZ serial data <br>
433 psk data <br>
433 spi<br>
... </p>
","33437"
"Converting passive USB Hub to powered USB Hub, by adding regulated wall-wart as power supply?","19551","","<p>From a quick price-check on ebay,</p>

<ul>
<li>Passive (bus-powered) USB Hubs - ~ $2-$5</li>
<li>Powered (externally) USB Hubs - ~ $15-$20</li>
</ul>

<p>My use-case is to expand the no. of USB ports on a ARM-based SBC, and to embed the hub in the same enclosure, so I was wondering, if it is possible to just add a regulated (7805 based) wall-wart power adapter, to supply extra current to the devices.</p>

<ul>
<li>Is there some per-port and up-stream protection circuit required ?</li>
<li>Does it make a difference if the host-port is USB1.0 / USB1.1 / USB2.0 (from the point of view of converting the hub to a powered one) ? </li>
<li>Are there some gotcha's with this approach, which I might be missing ?</li>
</ul>

<p>BTW, if someone is aware of an existing ""embeddable"" USB hub circuit schematic, which isn't more expensive (BOM-wise) than the ebay consumer devices, would appreciate a pointer.</p>
","<p>The (externally) powered USB hub I have just connects the power supply to the appropriate pins of the USB connectors. Power from the PC is connected trough a diode, so the hub can be powered by the PC or the power supply.</p>

<p>USB specification says that devices should negotiate for the power with the hub or PC, but in practice, just connecting the 5V to the required pins works just as well, especially if the power supply is powerful enough for all devices. Some USB devices (battery chargers, lamps, fans etc) do not negotiate for the power, just connect the power pins to whatever is needed.</p>
","26051"
"3-bit multipliers - how do they work?","19525","","<p>I need to understand how 3-bit multipliers work and then I must design one. I've read through <a href=""http://wikipedia.org/wiki/Binary_multiplier"" rel=""nofollow"">Wikipedia's binary multiplier</a> but I just can't wrap my head around it. I don't understand where to start. Could you please explain to me what happens when two 3-bit numbers are run through a 3-bit multiplier? Maybe then I can reconstruct each step in a circuit on paper. Alternatively, could you outline the relevant sub-concepts I need to grasp? </p>

<p>In general, I'm thankful for any help in understanding 3-bit multipliers.</p>

<p>EDIT: Thank you to everyone who contributed to this Question. You all helped me understand the relevant concepts, and so I wish I could accept all answers as solutions. </p>
","<p>If you're a EE/CPE student and you're just starting to learn logic, maybe you haven't learned this yet but you will.  </p>

<p>Arithmetic and logic functions are essentially realized in circuit form by starting with a truth table and filling in the values that implement the function you want.  For 2x2 bit multiplication, this is the truth table:</p>

<p><img src=""https://i.stack.imgur.com/K42Wg.png"" alt=""Logic Friday"">
<strong>From the program <a href=""http://sontrak.com/"" rel=""noreferrer"">Logic Friday</a></strong></p>

<p>Go through each row, and you'll see how it implements it.  It is in the form <em>A0,A1</em> * <em>B0,B1</em> = <em>F0,F1,F2,F3</em></p>

<p>Sorry, it's backwards as typically the LSB is A0 or B0, I numbered it wrong.  Anyways, take for instance the last row.  It says 11 * 11 = 1001.  In decimal, that's just 3 * 3 = 9</p>

<p>After the truth table is complete, you could fill this into a <em><a href=""http://en.wikipedia.org/wiki/Karnaugh_map"" rel=""noreferrer"">karnaugh map</a></em>, and derive the equations for each output of the circuit.  In this case, I let this handy program do it for me.</p>

<p>The output came to this. </p>

<p><img src=""https://i.stack.imgur.com/eu1K6.png"" alt=""Logic Friday""> </p>

<p>At this point, you can see that I have an equation for F0 through F3 based on the inputs.  Now I just need to throw in the logic gates to match those equations. And voila, you have a circuit that performs binary multiplication.</p>

<p>This is the simplistic side of it.  Real processors and the ALUs inside of them don't exactly do it this way.  For instance on a 64-bit computer, the amount of combinational logic necessary to perform 64x64 bit multiplication would be insane. Instead, as the wikipedia article you read states, they multiply one of the 64-bit operands by each individual bit of the 2nd operand, each time shifting the result. Finally, they add all of the partial sums together. That is the absolute most simplistic method of performing the multiplication sequentially.  Some processors though have even faster multiply implementations that make use of <a href=""http://en.wikipedia.org/wiki/Wallace_tree"" rel=""noreferrer"">wallace trees</a></p>

<p>Also, if you'd like a little more insight on the sequential type multiplier, here you go.  This may be a little more difficult so don't worry about understanding how each of the components works underneath, because you will learn it soon.  I leared shift registers, ALUs, and all that by the end of my first digital logic course.</p>

<p><img src=""https://i.stack.imgur.com/nNlKF.png"" alt=""http://faculty.kfupm.edu.sa/COE/mimam/files/COE200experiment13.pdf""></p>

<p><strong>This image comes from <a href=""http://faculty.kfupm.edu.sa/COE/mimam/files/COE200experiment13.pdf"" rel=""noreferrer"">http://faculty.kfupm.edu.sa/COE/mimam/files/COE200experiment13.pdf</a></strong></p>

<p>This is a simplified 4x4 bit version, and it goes sort of like this:</p>

<p>1) The 4-bit multiplier is loaded and stored in the P shift register, specifically Pl. Also, the 4-bit multiplicand is stored in the B-register. Ph is all 0's</p>

<p>2) On each clock cycle, the P register is shifted to the right, and the rightmost bit, P0, is sign-extended (not shown, to make it 4 bits), and ANDed with the multiplicand in the B-register. If you go back to the binary multiplier page on wikipedia, under multiplication basics, the 2nd grey area, you can see this happening with each staggered row, it is an AND operation that essentially does the multiplication since each time it is either <em>multiplicand x 0</em>, or <em>multiplicand x 1</em>.</p>

<p>Since the ALU is performing the add operation, the result of the 1 bit multiplication is added to the previous partial sum, in this case 0 since this is the first step, and stored in Ph.</p>

<p>3) On the next cycle, the P register is again shifted, and so you can see how the Ph output gets shifted and added again to the result of the 1-bit multiplication.</p>

<p>4) At the end, you have an 8-bit result stored in the p register.</p>
","99816"
"Best way to send sensor readings over simple RF connection","19468","","<p>I have bought a pair of simple 315MHz <a href=""http://www.alpha-crucis.com/en/wireless/1784-rf-link-transmitter-315mhz-3700386689451.html"">TX</a>/<a href=""http://www.alpha-crucis.com/en/wireless/1827-rf-link-receiver-4800bps-315mhz-3700386105333.html"">RX</a> modules. I want to use these to connect a battery powered ATTiny85 to an Arduino base station. The ATTiny needs to regularly wake up and send a sensor reading to the base station.</p>

<p>In theory I should be able to simply write data to the TX and read it from the RX module. However, how do I ensure that I write/read at the correct rate? What code do I need to use to transmit at a particular speed (bytes/second)? What is the best way of doing error correction/detection?</p>

<p>Since I want the transmitter to be battery powered could I use a transistor to turn off VCC to the TX module when idle. What will the RX module receive when the TX module is powered down?</p>
","<p>Those modules basically make the receiver pin wiggle in response to how you drive the transmitter pin.  They know nothing about what you think wiggling the pin means, and don't contain a UART.  More details weren't immediately obvious without digging.  That's your job, so I didn't bother to go further.  You should provide a link to the datasheet, not the product splash page.</p>

<p>These modules work on AM modulation.  The short writeup says ASK, but it's probably just on/off keying of the transmitter (which is technically a subset of ASK).  The problem with this scheme is that the receiver can't inherently know the level for when the transmitter is on.  It therefore most likely looks at recent received signal strengths and picks a value in the middle to decide between on and off.  This is called <em>data slicing</em>.</p>

<p>If you are not regularly transmitting ons and offs, the receiver looses track of what levels on and off are, and can no longer data slice correctly.  This is usually dealt with in two ways.  First, a <em>preamble</em> is sent.  This contains a bunch of ons and offs in rapid succession so that the receiver can settle on a good data slicer threshold.  It is expected that some or all of these bits are not correctly interpreted by the receiver, so are therefore not really ""received"".  The second strategy is to send data so that there is always a recent on and off for the receiver to refer to.  Some receivers, particularly cheap ones that do the data slicing in analog, just slice about the low pass filtered average received signal strength.  For such receivers, you not only need to vary between on and off frequently, but the average needs to be close to 1/2 on.</p>

<p>This is why manchester encoding is so popular for such RF links.  I won't go into manchester encoding here since this is well known and you will have no problem finding lots of information on it out there.  One nice feature of manchester code is that it averages to 1/2 on over each bit.  A bit is divided into two halves.  On-off may mean 1 and off-on 0.  Manchester is probably the best easiest to do encoding scheme.</p>

<p>You can use a UART, but you have to be careful and you will give up some bandwidth (battery power).  Look at what a UART will transmit.  If you send the characters immediately following each other, then each one will take 10 bit times.  There will be a start bit, 8 data bits, and a stop bit.  The start and stop bit are always opposite polarity.  You can arrange to use codes in the remaining 8 bits that have a equal number of 0s and 1s to keep the data slicer threshold in the middle.  This means you only get to send 4 bits of information in each UART character.  You'll also have to think about the preamble carefully.</p>

<p>In general, you should assume any one RF transmission has a significant chance of bit errors.  This means some kind of checksum is a good idea.  You can send data in packets, and include something like a 16 or 20 bit CRC checksum with each packet.  If the packet is not received intact, then it is discarded like it never happened.</p>

<p>The system also has to deal with the random noise received when the transmitter is powered down.  In that case the receiver threshold will drop and it will start data slicing whatever random noise it picks up.  With a properly designed preamble and checksum, you can make the chance of random noise looking like valid data vanishingly small.</p>
","24404"
"How to find the dynamic range of ADC?","19457","","<p>I bought a Analog to Digital Converter but did not gave much attention to Dynamic range. The resolution is 12 Bit. Minimum input voltage is 0V and maximum is 5V. </p>

<p>The problem is I don't have the datasheet and want to know how can I find the Dynamic range of this ADC?</p>

<p>Additional info: It says it has 10Megasample per sec of sample-rate.</p>
","<p>The dynamic range is the ratio of the maximum voltage to the minimum voltage that the ADC can convert.  The maximum voltage is 5 volts.  Since it is a 12 bit converter, it has a resolution of 2<sup>12</sup> - 1 or 4095.  Thus the minimum voltage, for which the ADC would have only the least significant bit set, is 1.22 millivolts.  So the dynamic range of your ADC is 5/.00122 = 4095 = 72.2 dB. In general, the dynamic range is only a function of the number of bits, not the maximum input voltage. But I calculated using voltage just to show you the details.</p>
","120593"
"What happens if I connect a transformer in reverse?","19427","","<p>I was thinking the other day. A transformer is just two coils, right? There is no polarisation or anything else fancy? The ratio of the number of windings on the input to the number of windings to the output reflects how many volts are outputted given the input?</p>

<p>So if I connect my 250V to 7.5V transformer to the mains in reverse, will I simply get 8.33KV? I assume so.</p>

<p>More practically, what will happen? From memory, the breakdown voltage of air is approx 1KV/cm. Doesn't this mean there would be all sorts of streamers between the transformer output terminals? What about between the windings themselves? Surely the thin layer of insulation around the transformer windings tightly wrapped doesn't insulate that much?</p>

<p>And say there are streamers between the 8KV outputs of the transformer. What then? Fire? Blown fuse?</p>
","<p>As Mr Banana says - magic smoke happens. Because ...</p>

<p>Energy is transferred in  transformer via a magnetic field. The field is produced by the amp-turns in the core (amps flowing x number of turns). Above a certain level the core cannot support any more amp turns and the core ""saturates"". What was an inductor with resistance to AC of far more than its resistance becomes mainly a resistor.</p>

<p>You'd get lots and lots and lots of amps in the case that you mentioned - so much so that if the fuse didn't get there first the transformer would DEFINITELY be destroyed.</p>

<p>The iron core in a transformer is usually operated on the part of it's magnetic curve where it is beginning to saturate and get less efficient. This is to get as much use of the steel core as possible. They are run close enough to ""the edge"" that a transformer made to run on 60 Hz mains will get much warmer on 50 Hz mains at the <strong>same</strong> voltage as the cycles are 60/50 = 20% longer and the current in the winding gets that much longer to increase  and ...</p>

<p>So a SLIGHT overvoltage may work OK - say about 20% max. But 230/7.5 0 30+ times as much ""will not work""! :-)</p>
","21579"
"How to retrieve part information from Digi-Key automatically","19409","","<p>How to automatically retrieve, given a Digi-Key part number, information such as Manufacturer, Manufacturer Part Number, Description, etc.  Perhaps parsing the GET http respose to:</p>

<p><a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=DK_PART_NUMBER"">http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=DK_PART_NUMBER</a></p>

<p>(thanks to angryee for the correct parameters) </p>

<p>Where DK_PART_NUMBER is the Digikey part number.</p>

<p>Does anybody know if they have a web service or simply a better interface for this?</p>

<hr>

<p>After asking this question I decided to go ahead and write something that did some basic fetching from Digikey:</p>

<pre><code>dk_pn = '587-1962-1-ND'

from urllib import urlopen
from sgmllib import SGMLParser

headers = ['Digi-Key Part Number',
           'Manufacturer',
           'Manufacturer Part Number',
           'Description',
           'Lead Free Status / RoHS Status',
           'Operating Temperature',
           'Standard Package',
           'Price Break',
           'Unit Price',
           'Extended Price']

class DK_Parser(SGMLParser):
    def reset(self):

        SGMLParser.reset(self)

        self.last_td = ''
        self.inside_th = False
        self.inside_td = False
        self.grab_data = False
        self.part_info = {}
        self.hdr_index = 0
        self.row_hdrs = []

    def start_tr(self, attrs): # row
        self.first_header_in_row = True

    def start_th(self, attrs): # header cell
        if self.first_header_in_row:
            self.first_header_in_row = False
            self.row_hdrs = []
            self.hdr_index = 0
        self.inside_th = True

    def end_th(self):
        self.inside_th = False

    def start_td(self, attrs): # data cell
        self.inside_td = True

    def end_td(self): 
        self.inside_td = False
        self.hdr_index = self.hdr_index+1

    def handle_data(self,text):
        text = text.strip()
        if self.inside_th:
            if text in headers:
                self.row_hdrs.append(text)
                self.last_td = ''
                self.grab_data = True
            else:
                self.grab_data = False
        elif self.inside_td and self.grab_data:
            if self.hdr_index:
                self.last_td = ''
            if self.hdr_index &lt; len(self.row_hdrs):
                self.last_td = self.last_td + text
                self.part_info[self.row_hdrs[self.hdr_index]] = self.last_td

dk_url = 'http://search.digikey.com/scripts/DkSearch/dksus.dll'
dk_params = '?Detail&amp;name='

sock = urlopen(dk_url + dk_params + dk_pn)

parser = DK_Parser()
parser.feed(sock.read())
sock.close()
parser.close()

for k,v in parser.part_info.items():
    print k,"":"",v
</code></pre>

<p>Only the first data line of the the [price break/unit price/extended price] table is captured.</p>
","<p>You'd want to use the detail option instead of the keyword.  Like this:</p>

<p><a href=""http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=458-1003-ND"">http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=458-1003-ND</a></p>

<p>That returns an HTML page which is text which can be parsed.  It's all in table format so you can create a list of terms you're interested in and parse out the values.  I can see a parts list script that takes in a list of parts and the values you want to retrieve (ie, Voltage, Max Current, or however Digikey lists it) and then make some Python to read the part number, grab the page, parse out the info and stick it in a CSV, database or HTML file.  I've been thinking of something similar and it doesn't seem too hard.  Well, hard enough to stop me from whipping it out right now anyway :)</p>
","3330"
"What makes a pull-up/down resistor strong or weak?","19407","","<p>A ""strong"" pull (up/down) resistor would be one of a relatively low value, while a ""weak"" one would be of a relatively high value.</p>

<p>For example, a pull-down resistor would be used to keep an I/O pin low, but a button connected from that pin to V<sub>CC</sub> would bring it high when pressed, because more current flows from V<sub>CC</sub> to the pin than from the pin to GND.</p>

<p>In that situation, it seems any value of resistor could be used to keep the pin low, and a button press would always ""override"" it. What, then, would determine if the pull-down resistor is strong or weak?</p>

<p>Does ""strong"" vs ""weak"" only apply when one such resistor is being compared to other resistances in the circuit, such as an internal pull-down resistor?</p>
","<p><em>Strong</em> means <em>low resistance</em>. <em>Weak</em> means <em>high resistance</em>. Of course <em>low</em> and <em>high</em> are relative terms, and so are <em>strong</em> and <em>weak</em>. The reference for this relationship must be inferred from context.</p>

<p>A <em>strong</em> or <em>low resistance</em> pull-up/down resistor is good because the time constant formed the load capacitance (often, the input gate capacitance, and the PCB trace capacitance) is small, so rise/fall times will be short.</p>

<p>A <em>strong</em> pull-up/down resistor is good because noise currents from unintended coupling and EMI will result in smaller noise voltages. (Think about Ohm's law)</p>

<p>A <em>weak</em> or <em>high resistance</em> pull-up/down resistor is good because it will not require much current from the driving circuitry to work against the resistor. Batteries will thus last longer, parts can be smaller and don't get as hot.</p>

<p>Of course, you usually want all of these things, but a resistor can't be both. A discussion about <em>strong</em> vs. <em>weak</em> is usually clarifying which of these concerns (or perhaps others) are more important for a particular application.</p>
","76381"
"Solving Clipper Circuit containing battery and resistance in series","19404","","<p>I have learned to solve clipper circuit with and with out battery in parallel to the output node. But have no idea what to do if a resistance also connected with it in series.
There is nothing said about it in my book. How can I solve this circuit?</p>



<p><img src=""https://i.stack.imgur.com/8UbwP.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f8UbwP.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>A general procedure for solving this type of problem will be helpful. </p>
","<p><strong>Steps</strong></p>

<ol>
<li>Consider the circuit in three cases as shown below. </li>
<li>In each case, replace diodes with their equivalent model: reverse biased diode with open circuit and forward biased diode with a voltage source (drop) of 0.7V (+ve terminal to anode side). </li>
<li>Use node or mesh analysis to find the output.</li>
</ol>

<hr>

<p><strong>case1:</strong> only D1 conducts. (\$V_i &gt; 5.7 V\$)</p>

<p><img src=""https://i.stack.imgur.com/zIQb2m.png"" alt=""enter image description here""></p>

<p>$$V_{R_1} = (V_i - 5.7)\frac{R1}{R1+R}$$
$$V_o = V_{R_1} + 5.7$$</p>

<p><strong>case2:</strong> only D2 conducts.(\$V_i &lt; -5.7 V\$)</p>

<p><img src=""https://i.stack.imgur.com/8Sf1Tm.png"" alt=""enter image description here""></p>

<p>$$V_{R_2} = (V_i + 5.7)\frac{R2}{R2+R}$$
$$V_o = V_{R_2} - 5.7$$</p>

<p><strong>case3:</strong> Neither D1 nor D2 conduct. (\$-5.7 &lt; V_i &lt; 5.7 \$)</p>

<p><img src=""https://i.stack.imgur.com/0VdoJm.png"" alt=""enter image description here""></p>

<p>$$V_o = V_i$$</p>

<p><strong>Note:</strong>  The equivalent model of diode considered is piece-wise linear, an ideal diode in series with a voltage source (drop). You can add a resistance in series also to include the forward resistance of diode. I assumed silicon diode. If using any other diode, replace 0.7V with the cut-in voltage of that diode.</p>
","113383"
"Does PCIe hotplug actually work in practice?","19399","","<p>I've got into a discussion in the comments of <a href=""https://security.stackexchange.com/questions/109199/is-physical-security-less-important-now-for-securing-a-server?noredirect=1#comment194327_109199"">https://security.stackexchange.com/questions/109199/is-physical-security-less-important-now-for-securing-a-server?noredirect=1#comment194327_109199</a> </p>

<p>The question is simple. Has anyone experience of successfully hotplugging a PCIe card? Does it require special motherboards and cards, or is it supposed to work on all consumer hardware?</p>
","<p>I used to design PCI-Express hardware that required full hot-plug support in hardware and software, and it certainly is possible, but it's quite involved and requires extensive software support -- the hardware is actually quite simple. I had to design the hardware, then implement BIOS (UEFI) and kernel (Linux) support for hot-plugging arbitrary PCIe devices over fiber and copper.</p>

<p>From a software point of view, one must remember that PCIe continues with the PCI software model, including the concepts of bus, device, function addressing. When the PCI bus is enumerated, it's done as a breadth-first search:
<a href=""https://i.stack.imgur.com/m9yMS.gif"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/m9yMS.gif"" alt=""PCI Bus topology from tldp.org""></a></p>

<p>PCIe enumeration is generally done twice. First, your BIOS (UEFI or otherwise) will do it, to figure out who's present and how much memory they need. This data can then be passed on to the host OS who can take it as-is, but Linux and Windows often perform their own enumeration procedure as well. On Linux, this is done through the core PCI subsystem, which searches the bus, applies any quirks if necessary based on the ID of the device, and then loads a driver who has a matching ID in its probe function. A PCI device is ID'd through a combination of it's Vendor ID (16-bits, e.g. Intel is 0x8086) and Device ID (another 16-bits) -- the most common internet source is here: <a href=""http://pcidatabase.com/"" rel=""noreferrer"">http://pcidatabase.com/</a>.</p>

<p>The custom software part comes in during this enumeration process and that is you must <strong>reserve ahead of time</strong> PCI Bus numbers, and memory segments for potential future devices -- this is sometimes called '<strong>bus padding</strong>'. This avoids the need to re-enumerate the bus in the future which can often not be done without disruption to the system. A PCI device has BARs (<em>base address registers</em>) which request to the host how much and what type (memory or I/O space) memory the device needs -- this is why you don't need jumpers like ISA anymore :) Likewise, the Linux kernel implements PCIe hotplug through the pciehp driver. Windows does different things based on the version -- older versions (I think XP) ignore anything the BIOS says and does it's own probing. Newer versions I believe are more respectful of the ACPI DSDT provided by the host firmware (BIOS/EFI) and will incorporate that information.</p>

<p>This may seem pretty involved and it is! But remember that any laptop / device with an ExpressCard slot (that implements PCIe as you can have USB-only ExpressCards) must do this, though generally the padding is pretty simple -- just one bus. My old hardware used to be a PCIe switch that had another 8 devices behind it, so padding got somewhat more complicated.</p>

<p>From a hardware point of view, it's a lot easier. GND pins of the card make contact first, and we'd place a hot-swap controller IC from LTC or similar on the card to sequence power once the connection is made. At this point, the on-board ASIC or FPGA begins it's power-up sequence, and starts to attempt link-training its PCI Express link. Assuming the host supports hot-plugging and the PCI Express <strong>SLTCAP</strong>/<strong>SLTCTRL</strong> register (in spec: PCI Express Slot Capability Register, PCI Express Slot Control Register. There is a 1 and 2 for this as well -- enough bits to split across two regs). for that port was configured to indicate the port is hot-plug capable, the software can begin to enumerate the new device. The slot status (SLTSTA, PCI Express Slot Status Register) register contains bits that the target device can set indicating power faults, mechanical release latch, and of course presence detect + presence changed.</p>

<p>The aforementioned registers are located in 'PCI (Express) Configuration Space', which is a small region of the memory map (4K for PCIe) allocated to each potential bdf (bus:device:function). The actual registers generally reside on the peripheral device.</p>

<p>On the host side, we can use PRSNT1#/PRSNT2# as simple DC signals that feed the enable of a power switch IC, or run to GPIO on the chipset / PCH to cause an IRQ and trigger a SW 'hey, something got inserted, go find it and configure it!' routine.</p>

<p>This is a lot of information that doesn't directly answer your question (see below for the quick summary), but hopefully it gives you a better background in understanding the process. If you have any questions about specific parts of the process, let me know in a comment here or shoot me an email and I can discuss further + update this answer with that info.</p>

<p><strong>To summarize</strong> -- the peripheral device must have been designed with hot-plug support in mind from a hardware POV. A properly designed host / slot is hot-plug capable as well, and on a high-end motherboard I would expect it to be safe. However, the software support for this is another question entirely and you are unfortunately beholden to the BIOS your OEM has supplied you.</p>

<p>In practice, you use this technology anytime you remove/insert a PCIe ExpressCard from a computer. Additionally, high-performance blade systems (telecom or otherwise) utilize this technology regularly as well.</p>

<p>Final comment -- save the PDF that was linked of the Base Spec, PCI-SIG usually charges bucks for that :)</p>
","208796"
"What is causing large oscillations in my DC/DC boost converter? Is this ground bounce or some other effect?","19367","","<p>I designed my first PCB for a DC-DC boost converter only to find that it produced very noisy output. The design is based around the <a href=""http://www.micrel.com/_PDF/mic2253.pdf"" rel=""noreferrer"">MIC2253</a>.<br>
Here's a schematic:</p>

<p><a href=""https://i.stack.imgur.com/qfK2m.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/qfK2m.png"" width=""630"" alt=""Schematic""></a></p>

<p>Although my circuit allows for different combinations of input voltages (Vin) and output voltages (Vout). The case I am debugging is with Vin=3.6V and Vout=7.2V. The Load was a 120 ohm resistor. I calculated the duty cycle D=0.5 (i.e. 50%). This seems to be within the 10% minimum and 90% maximum duty cycle limits specified in the datasheet. The other components, i.e. caps, inductors, resistors are the same or similar to what the data sheet suggests in its application example.</p>

<p>The design appears to give the correct RMS step up voltage on the output, but, after viewing the signal through an oscilloscope I see damped sinusoidal voltage oscillations appearing periodically which seems to be initiated by the switching of the inductor. I see the same oscillations on almost every ground point on the board. The oscillations on the output are large, that is 3 V peak to peak.  After doing a bit of research it seems that my problems are not particular to my choice of converter, but, to problems with my PCB layout (see links below). I'm not sure how to fix my layout to ensure acceptable results.</p>

<p>These documents seem useful for debugging the problem:</p>

<ul>
<li><a href=""http://www.physics.ox.ac.uk/lcfi/Electronics/EDN_Ground_bounce.pdf"" rel=""noreferrer"">http://www.physics.ox.ac.uk/lcfi/Electronics/EDN_Ground_bounce.pdf</a>  </li>
<li><a href=""http://www.analog.com/library/analogDialogue/cd/vol41n2.pdf"" rel=""noreferrer"">http://www.analog.com/library/analogDialogue/cd/vol41n2.pdf</a>  </li>
<li><a href=""http://www.enpirion.com/Collateral/Documents/English-US/High-frequency-implications-for-switch-mode-DC-R_0.pdf"" rel=""noreferrer"">http://www.enpirion.com/Collateral/Documents/English-US/High-frequency-implications-for-switch-mode-DC-R_0.pdf</a>  </li>
<li><a href=""http://www.maxim-ic.com/app-notes/index.mvp/id/3645"" rel=""noreferrer"">http://www.maxim-ic.com/app-notes/index.mvp/id/3645</a>  </li>
<li><a href=""http://www.maxim-ic.com/app-notes/index.mvp/id/735"" rel=""noreferrer"">http://www.maxim-ic.com/app-notes/index.mvp/id/735</a>  </li>
</ul>

<p>I've attached three images. ""original pcb.png"" contains an image of the board I am having issues with. It is a 2 layer board. Red is the top copper. Blue is bottom copper.</p>

<p><img src=""https://i.stack.imgur.com/KBDuz.png"" alt=""original pcb.png"" title=""original pcb.png"">  </p>

<p>""current loops.jpg"" shows the prototype board with orange and yellow overlays of the two different current paths used to charge (orange) and discharge (yellow) the inductor. One of the articles, ( <a href=""http://www.physics.ox.ac.uk/lcfi/Electronics/EDN_Ground_bounce.pdf"" rel=""noreferrer"">http://www.physics.ox.ac.uk/lcfi/Electronics/EDN_Ground_bounce.pdf</a> ), suggested that the two current loops should not change in area, thus, I tried to minimize their the change in area in a new layout I started in ""pcb_fix.png"". I hacked the original PCB so that it was closer to this new layout, but, the performance of the board didn't change. It is still noisy! The quality of the hack isn't as good as shown in ""pcb_fix.png"", however, it is a fair approximation. I would have expected somewhat of an improvement, but, I didn't see any.</p>

<p><img src=""https://i.stack.imgur.com/DaBlF.jpg"" alt=""current loops.jpg"" title=""current loops.jpg""></p>

<p><img src=""https://i.stack.imgur.com/mYtgC.png"" alt=""pcb_fix.png"" title=""pcb_fix.png""></p>

<p>I'm still not sure how to fix this. Maybe the ground pour is causing too much parasitic capacitance? Perhaps the caps have too much impedance (ESR or ESL)?  I don't think so, because they are all ceramic multilayer and have the values and dielectric material requested by the datasheet, i.e. X5R.Perhaps my traces might have too much inductance. I chose a shielded inductor, but, is it possible that its magnetic field is interfering with my signals?</p>

<p>Any help would be very appreciated.</p>

<p>At the request of a poster, I've included some oscilloscope output under different conditions.</p>

<hr>

<p>Output, AC Coupled, 1M Ohm, 10X, BW limit OFF:<br>
<img src=""https://i.stack.imgur.com/IJDiM.png"" alt=""1M Ohm, 10X, BW limit OFF""></p>

<hr>

<p>Output, AC Coupled, 1M Ohm, 10X, BW limit OFF:<br>
<img src=""https://i.stack.imgur.com/9ri7Q.png"" alt=""1M Ohm, 10X, BW limit OFF""></p>

<hr>

<p>Output, AC Coupled, 1M Ohm, 10X, BW limit 20Mhz:<br>
<img src=""https://i.stack.imgur.com/Xg7L7.png"" alt=""1M Ohm, 10X, BW limit 20Mhz""></p>

<hr>

<p>Output, AC Coupled, 1M Ohm, 1X, BW limit 20Mhz, 1uF, 10uF, 100nF caps and 120 ohm resistor shunting output, i.e. they are all in parallel:<br>
<img src=""https://i.stack.imgur.com/Y6cTO.png"" alt=""1M Ohm, 1X, BW limit 20Mhz, 1uF, 10uF, 100nF caps and 120 ohm resistor shunting output""></p>

<hr>

<p>Switching Node, DC Coupled, 1M Ohm, 10X, BW limit OFF</p>

<p><img src=""https://i.stack.imgur.com/Mbjk1.png"" alt=""Switching Node, DC Coupled, 1M Ohm, 10X, BW limit OFF""></p>

<hr>

<p>Switching Node, AC Coupled, 1M Ohm, 10X, BW limit 20Mhz</p>

<p><img src=""https://i.stack.imgur.com/aDvGs.png"" alt=""Switching Node, AC Coupled, 1M Ohm, 10X, BW limit 20Mhz""></p>

<p><strong>ADDED: Original oscillations attenuated greatly, however, under heavier load new undesirable oscillations occur.</strong></p>

<p>Upon implementing several of the changes suggested by Olin Lathrop, a large decrease in oscillation amplitude was observed. Hacking the original cicuit board to approximate the new layout helped somewhat by bringing down the oscillations to 2V peak to peak:</p>

<p><img src=""https://i.stack.imgur.com/DLARS.jpg"" alt=""Hack to approximate new layout""></p>

<p>It will take at least 2 weeks and more money to get new prototype boards so I am avoiding this order until I sort out the problems.</p>

<p>The addition of additional input 22uF ceramic capacitors made only a negligible difference. However, the overwhelming improvement came from simply soldering a 22uF ceramic cap between the output pins and measuring the signal across the cap. This brought the noise maximum amplitude to 150mV peak to peak without any bandwidth limiting of the scope!!  Madmanguruman suggested a similar approach, with the exception that he suggested altering the probe tip instead of the circuit. He suggested putting two caps between ground and the tip: one 10uF electrolytic and one 100nF ceramic (in parallel I assumed). In addition, he suggested limiting the bandwidth of the measurement to 20Mhz and putting the probes on 1x. This seemed to have a noise attenuating effect as well in about the same magnitude. I guess I can conclude that there was originally insufficient capacitance at the output.
<img src=""https://i.stack.imgur.com/JRFLl.jpg"" alt=""new ceramic cap on output kills most ringing""></p>

<p>I'm not sure if this is a acceptably low noise floor or even a typical noise amplitude for a switching converter, but, it is a massive improvement. This was encouraging so I went on to test the robustness of the circuit under more significant loading. </p>

<p>Unfortunately, under heavier loading the circuit is producing some new weird behaviour. I tested the circuit with a 30 ohm resistive load. Although the board does still boost the input voltage as it should, the output now has a low frequency sawtooth/triangle wave output. I'm not sure what this indicates. It looks like constant current charging and discharging of the output cap to me at a much lower frequency than the switching frequency of 1 Mhz. I am unsure why this would happen. </p>

<p><img src=""https://i.stack.imgur.com/rVw0A.png"" alt=""Output under heavy load""></p>

<p>Probing the switching node under the same test conditions showed a messy signal and horrible oscillations. </p>

<p><img src=""https://i.stack.imgur.com/ssGyA.png"" alt=""switching node under heavy load"">
<img src=""https://i.stack.imgur.com/JnRJR.png"" alt=""switching node under heavy load zoomed""></p>

<p><strong>Solution Found</strong></p>

<p>The question has been answered and the circuit is performing adequately. The problem was indeed related to the stability of the control loop as Olin Lathrop suggested. I received may great suggestions, however, Olin was the only one to suggest this course of action. I therefore credit him with the right answer to my question. However, I greatly appreciate everyone's help. Several of the suggestions made were still relevant to improving the design and will  be implemented into the next revision of the board. </p>

<p>I was compelled to follow Olin's advice also because I noticed that the frequency of the sawtooth/triangle output  had the same frequency of appearance as the square wave portion of the signal at the switching node. I thought that the ramp up of the voltage on the output was due to successfully energizing the inductor and the ramp down was due to failure to adequately energize the inductor during the oscillatory portion of the signal on the switching node. It made sense that this was a stability problem because of this.</p>

<p>By following Olin's suggestion to take a closer look at the compensation pin, I determined that increasing the capacitance of the RC series network on the comp pin restored the stability of the control loop. The effect that this had on the switching node was significant as can be seen by the square wave output:</p>

<p><img src=""https://i.stack.imgur.com/HsDbh.png"" alt=""switching node with fixed rc on comp pin""></p>

<p>The low frequency sawtooth/triangle wave was eliminated.</p>

<p><img src=""https://i.stack.imgur.com/MLYsr.png"" alt=""output after comp rc fix""></p>

<p>Some high frequency noise (100Mhz) may still exist on the output, but, it has been suggested that this is just an artefact of the measurement and disappears when the 200Mhz scope's bandwidth is limited to 20Mhz. The output is pretty clean at this point:</p>

<p><img src=""https://i.stack.imgur.com/Qseus.png"" alt=""final bandwidth limited output""></p>

<p>I suppose I still have some questions regarding the high frequency noise, however, I think that my questions are more general and not specific to this debugging question, so, the thread ends here. </p>
","<p>Your schematic is excessivly large and layed out in a confusing way, which discourages people from responding.  Don't draw grounds going upwards, for example, unless the parts really are coming from a negative voltage.  If you want others to look at a schematic, give them some respect.  Don't make us tilt our heads to read things and make sure text doesn't overlap other parts of the drawing.  Attention to these details not only helps your credibility, but it also shows respect from those you are seeking a favor from.  I did see this question earlier, but all the above made me think ""too much trouble, screw this"", and then I went on to something with a lower hassle factor.</p>

<p>You gave us a bunch of details, but forgot about the obvious high level issues.  What voltage is the output supposed to be?  You mentioned boosting somewhere in your lengthy writeup, but there also appears to be ""7.2V"" written by the output connector.  This doesn't match with ""2.5V-10V"" written by the input.  From how the inductor, switch, and diode are wired, you have a boost topology.  This isn't going to work if the input exceeds the desired output voltage.  What are your actual input and output voltages?  At what current?</p>

<p>Now to the ringing.  First, some of these things are clearly scope artifacts.  You have a <em>very</em> small (2.2&micro;H) inductor.  I didn't look at the controller datasheet, but that sounds surprisingly low.  What switching frequency is the controller supposed to operate at?  Unless it's a MHz or more, I'm skeptical about the 2.2 &micro;H choice for the inductor.</p>

<p>Let's look at some of your scope traces:</p>

<p><img src=""https://i.stack.imgur.com/LbKDa.png"" alt=""""></p>

<p>This is actually showing a reasonably expected switching pulse.  From this we can also see that the switching frequency, at least in this instance, is 1 MHz.  Is that what you intended?</p>

<p>The trace starts at the left with the switch closed so that the inductor is charging up.  The switch open at 100 ns and the inductor output therefore immediately rises until its current starts dumping thru D1.  That is at 8V, so the output voltage is apparently something like 7.5V considering D1 is a Schottky diode but is getting a large current pulse (it would be good to know how large, or at least how large the average is).  This goes on for 300 ns until the inductor is discharged at t=400ns.</p>

<p>At that point the output side of the inductor is open and is only conected to parasitic capacitance to ground.  The inductance and this parasitic capacitance form a tank circuit, which is producing the ringing.  There are only two cycles of this ringing before the next pulse, but note how it is decaying slightly.  The little remaining energy that was left in the inductor after the diode shut off is now sloshing back and forth between it and the capacitance, but each cycle a little is getting dissipated.  This is all as expected, and is one of the characteristic signatures of this kind of switching power supply.  Note that the ringing frequency is about 5 MHz, which in a real commercial design you have to be careful to handle to avoid it radiating.  This ringing can actually be the main emission from a switching power supply, not the pulse frequency as many people seem to assume.</p>

<p>We can also see that the ringing is decaying towards a bit below 4V, which tells us the input voltage you were using in this case.  This confirms it really is operating as a boost converter with about 2x stepup, at least in this case.  The 2x stepup is also confirmed by the roughly equal inductor charge and discharge phases, which are 300 ns each in this instance.</p>

<p>The free ringing tank circuit phase is brought to a abrupt end when the switch turns on again at t=800ns.  The switch stays on for about 300ns charging up the inductor and the process repeats with about a 1 &micro;s period.</p>

<p>This scope trace actually shows things working as expected.  There is no smoking gun here.</p>

<p>You complain about output oscillations, but unfortunately none of your scope traces show this.  The early ones aren't meaningful since they are most likely showing scope artifacts and common mode ground bounce showing up as a diffential signal.  Even this one:</p>

<p><img src=""https://i.stack.imgur.com/l8elF.png"" alt=""""></p>

<p>Isn't telling us much.  Note the sensitive voltage scale.  There is nothing surprising here at 20 mV/division.  Some of this is almost certainly the common mode transients confusing the scope so that they show up as differential signal.  The slower parts are the diode conducting and then not conducting, and the current pulse being partially absobed by the capacitor.</p>

<p>So, this all gets down to what exactly is the problem?  If you are seeing large scale voltage fluctuations on the output over a number of switching cycles, then show that.  That's what I thought you were originally complaining about.  If that is the case, then take a careful look at the compensation network for the switcher chip.  I didn't look up the datasheet, but from the name ""comp"" for pin 12 and the fact that C4 and R2 are connected to it, this is almost certainly the feedback compensation network.  Usually, datasheets just tell you what to use and don't give you enough information to come up with your own values anyway.  Read that section of the datasheet carefully and see if you have met all the conditions for using the values you did.  Those are the suggested value for this part, right?</p>

<h2>Added:</h2>

<p>I meant to mention this before but it slipped thru the cracks.  You have to make sure the inductor is not saturating.  That can cause all sorts of nasty problems, including large transients and control instability.  From the first scope trace I copied, we can see that the inductor is being charged for 300 ns from about 3.8 V.  3.8V x 300ns / 2.2&micro;H = 518mA.  That is the peak inductor current in this case.  However, that is at a rather low output current.  Again from the scope trace we can infer the output current is only about 75-80 mA.  At higher output currents the peak inductor current will go up until eventually the controller will run in continuous mode (I'm guessing, but that's likely).  You have to make sure the inductor current doesn't exceed its saturation limit over the full range.  What is the inductor rated at?</p>

<h2>Added2:</h2>

<p>I think there are two basic problems here:<ol></p>

<p><li>You are expecting a switching power supply to have low noise like linear power supplies you have looked at.  This is not reasonable.</p>

<p><li>You are getting a lot of measuring artifacts which make the output look a lot worse than it really is.</p>

<p></ol></p>

<p>Your original layout didn't help matters.  The second one is better but I still want to see a few improvements:</p>

<p><img src=""https://i.stack.imgur.com/MlbBd.jpg"" alt=""""></p>

<p>Unfortunately you have the tStop layer turned on cluttering up what we really want to see, but I think we can still decipher this picture.</p>

<p>You now have a direct path from the diode thru the output cap back to the ground side of the input cap without cutting accross the ground plane.  That's a big improvement over the original.  However, you've got the ground plane broken up with a big L shaped slot in the middle that extends all the way to the bottom edge.  The left and right parts of the bottom of the ground plane are connected only by a long about route.  This could be easily fixed by reducing the excessive spacing requirement around some of your nets, and by moving a few parts just a little.  For example, there is no reasons the two very large vias to the right of the + input couldn't be a litte farther apart to let the ground plane flow between them.  The same things is true to the left of R3, between the cathode of the diode and C5, and between the board edge and D1.</p>

<p>I also think you have too little capacitance both before and after the switcher.  Change C1 to 22&micro;F like C5, and add another ceramic cap immediately between the two pins of JP2.</p>

<p>Try a new experiment with the new layout.  Manually solder another 22&micro;F cap directly between the pins of JP2 on the bottom of the board.  Then clip the scope probe ground to the ""-"" pin (not some other ground point on the board, <i>directly to the ""-"" pin only</i>) and hook the probe itself to the ""+"" pin (again, <i>right at the pin</i>, not some other point on the output voltage net).  Make sure nothing else is connected to the board, including any other scope probes, ground clips, grounding wires, etc.  The only other connection should be the battery, which should also not be connected to anything else.  Keep this setup at least a foot or so away from anything else conductive, particularly anything grounded.  Now look a the output waveform.  I suspect you will see substantially less of the noise that appeared to be in the first scope trace you posted.</p>
","23065"
"Energy consumption when cell phone charger connected to socket but not to phone","19346","","<p>When my cell phone is charged fully, it says 'Please remove charger from wall socket to save energy'. How am I wasting energy if the charger is connected to the socket but the phone is not connected? I thought you only consume energy when you connect the phone.</p>
","<p>With no phone/device attached to a charger, it is still possible for the charger to consume some energy. How much energy is dependent on what exactly is inside the charger. </p>

<p>The simplest charger could potentially be a transformer and a linear regulator. In this case, the transformer would step down the wall voltage and the linear regulator will pump out a relatively solid voltage to charge your device. In this case, the charger itself is always drawing some energy. A linear regulator converts voltages, say 9V to 5V, and dissipates the rest of the power as heat. As a result linear regulators can be fairly inefficient. The upside however, is that they are generally much cheaper than most alternatives. A simple rule here would be that if the charger is warm to the touch with no phone/device attached, you're wasting energy.</p>

<p>Charger technologies have certainly changed and adapted, especially with the growing concern for being green. As a result, many manufacturers have opted for more energy efficient means of charging devices. The message you receive from your cell phone telling you that it is fully charged is an example. Modern devices are usually smart enough to limit their power consumption once they are fully charged. </p>

<p>All that said, your charger is likely fine to remain plugged in without a device attached. If you want to be sure you can purchase something like the <a href=""http://www.p3international.com/products/special/p4400/p4400-ce.html"" rel=""nofollow"">Kill A Watt</a> to test your charger. There are also various articles and experiments that have tested this idea out:
<a href=""http://www.slate.com/articles/health_and_science/the_green_lantern/2009/10/you_charged_me_all_night_long.html"" rel=""nofollow"">From Slate</a> <a href=""https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CDIQFjAA&amp;url=http%3A%2F%2Fwww.powerint.com%2Fen%2Ffaq%2F5&amp;ei=0j2UT9mAD8rz6QHMsZSIBA&amp;usg=AFQjCNE0seoilAa8vxpiDshMYghHkgiMlA"" rel=""nofollow"">another site</a> <a href=""https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;ved=0CEkQFjAD&amp;url=http%3A%2F%2Fwww.inference.phy.cam.ac.uk%2Fsustainable%2Fcharger%2F&amp;ei=0j2UT9mAD8rz6QHMsZSIBA&amp;usg=AFQjCNEN7YZYSwMjjS0hteDommaRrNw5Zw"" rel=""nofollow"">and another</a></p>
","30485"
"Voltage, Ampere and and Ohm of a DC motor","19343","","<p>This might be a quite simple question. I have a small DC motor (it seems to be <a href=""http://mikromotorcu.com/index.asp?FKN=363&amp;FKNAd=RS-54ORH%20DC491509&amp;FKat=1&amp;FKatAlt=9"" rel=""nofollow"">this one</a>). This webpage suggests that it needs 6V. I have a power supply which outputs 6V and writes ""0.6A"". But when I connect to the DC motor it does not turn. Neither with 12V (with the same power supply set to 12V). I tried a power supply with 24V and ""600mA"". The DC motor works with the 24V power supply, but it turns really fast (probably too fast).</p>

<p>Is it possible that 7,2VA from the 12V-power supply are too few? So the voltage is ok, but it needs more power? Can measure the resistance of the DC motor and use Ohm's law to calculate the amount of Ampere the DC motor needs?</p>

<p><em><strong>Update:</em></strong> The motor writes <em>RS-54ORH DC491509</em>, that's why I suppose it is the one I linked above. And it actually needs a few Ampere to run! But 6V seem to be ok.</p>
","<p>The motor will require a startup current which is quite a bit higher than running current, so it's very possible 600mA is not enough (I can't determine the size from the photo - some measurements would be useful so a rough comparison with similar sized motors can be done)<br>
Is there a voltage/current rating plate on the motor? Does it have a model number printed on it? </p>

<p>What makes you think it is this specific motor? There are many that look exactly the same.  </p>

<p>Anyway, if you really can't find out any more about it, then you will have to do a few tests:</p>

<p>If you have a scope (or multimeter but will be a bit trickier) then measure the voltage across the power supply, <em>then</em> connect the motor. If the voltage sags significantly (e.g. more than a volt or two) then it's quite likely the motor is trying to sink more current than the supply can provide.    </p>

<p>Also, test the winding resistance. Divide the operating voltage by this and you will get an idea of the startup current. It's possible a large capacitor or two across the supply (e.g. let cap charge, then use a series switch to turn motor on) might help it get started if it's not too far off the mark power wise.  </p>

<p>Here is a table of data for a <a href=""http://www.farnell.com/datasheets/55280.pdf"" rel=""nofollow noreferrer"">6VDC motor</a> picked at random:</p>

<p><img src=""https://i.stack.imgur.com/fABxK.png"" alt=""DC Motor specs""> </p>

<p>You can see that the starting current is 3.51A, which is about 4 times the max continuous current of 0.84A. If we look at the winding resistance of 1.71&Omega;, we can see that 6V / 1.71 = 3.51A, so this if your peak startup current (before any back EMF develops)   </p>

<p>The measurements for this motor are 22mm diameter and 32mm length. If your motor is a similar size or bigger then it is quite possible it is of a similar or higher power rating and too much for the power supply (although this is obviously far from certain given the widely varying type/quality of motors)  </p>
","43278"
"Designing a GSM PCB antenna","19332","","<p>Before someone complains about my crappy design I should tell you that my knowledge on antennas or RF is near zero.</p>

<p>I recently worked on a project that required a GSM module. After testing it on a PCB using an external antenna that apparently seamed fairly simple, I made a new PCB with a built in antenna.</p>

<p>It worked well but I noticed that the signal was significantly lower than the one with the external antenna. I also noticed that if I touched the antenna connection with a wire the signal increased in strength close to the one with the external antenna.</p>

<p>My board is a double sided board with a ground plane with a clearance distance of about 2 mm from the antenna on one nearest side. The antenna is located near the edge of the board as can be seen on the picture.</p>

<p><img src=""https://i.stack.imgur.com/nWpsS.png"" alt=""Antena""></p>

<p>Is there something that I could do to improve my antenna performance? Currently the antenna has solder mask on top of it, can this degrade its performance? Is it better to have it plated instead?</p>

<p>Full board</p>

<p><img src=""https://i.stack.imgur.com/FxU5s.png"" alt=""enter image description here""></p>
","<p>There seems to be a remarkable lack of relevant on-web material. Maybe just hiding.</p>

<p>This looks highly apposite <a href=""http://www.eurojournals.com/ejsr_32_2_02.pdf"" rel=""nofollow noreferrer"">Design of New Multi Standard Patch Antenna 
GSM/PCS/UMTS/HIPERLAN for Mobile Cellular Phones</a> with an interesting appearance</p>

<p><img src=""https://i.stack.imgur.com/jtDjr.jpg"" alt=""enter image description here""></p>

<p>And tri-band !!!</p>

<p><img src=""https://i.stack.imgur.com/z8h7r.jpg"" alt=""enter image description here""></p>

<hr>

<p>GSM Dipole antenna - very informative</p>

<p><a href=""http://webstaff.itn.liu.se/~shago/ADS/GSM_Dipole_v2.pdf"" rel=""nofollow noreferrer"">Designing a GSM dipole antenna </a></p>

<hr>

<p>Commercial product.</p>

<p>LOOKS simple.<br>
LOOKS good<br>
LOOKs can be deceiving :-)</p>

<p><img src=""https://i.stack.imgur.com/Sh8Ip.jpg"" alt=""enter image description here""></p>

<p><a href=""http://www.microlectra.com/files/d783b794b011fbbe27497eaa97459349/ds-ant-pcb4242pdf"" rel=""nofollow noreferrer"">GSM Pentaband antenna</a></p>

<p>They say:</p>

<ul>
<li><p>800/900/1800/1900/2100MHz </p>

<p>Omni Directional 1/2 Wave  </p>

<p>Miniature 42 x 42 x 1mm</p>

<p>VSWR &lt;3.0</p>

<p>RG178 Coax 50Ω Impedance</p>

<p>2-3dBi Gain (nominal)</p>

<p>Vertical Polarization</p>

<p>Admitted Radiation Power 1W</p>

<hr></li>
</ul>

<p>The free marvellous NEC RF software will probably do what you want.</p>

<p><a href=""http://en.wikipedia.org/wiki/Numerical_Electromagnetics_Code"" rel=""nofollow noreferrer"">Links and intro to NEC here</a></p>

<p>Have a look here <a href=""http://www.rau-deaver.org/Mac-RFTools.html"" rel=""nofollow noreferrer"">RF/Microwave Tools</a> and here <a href=""http://www.electromagnetics.biz/Tools.htm"" rel=""nofollow noreferrer"">Tools and calculators - with RF writ large</a> </p>

<hr>

<p>If you have enough $ - <a href=""http://www.home.agilent.com/agilent/product.jspx?cc=NZ&amp;lc=eng&amp;ckey=1297113&amp;nid=-34346.0.00&amp;id=1297113"" rel=""nofollow noreferrer"">Agilent ADS</a></p>

<ul>
<li>Advanced Design System is the world’s leading electronic design automation software for RF, microwave, and high speed digital applications. In a powerful and easy-to-use interface, ADS pioneers the most innovative and commercially successful technologies, such as X-parameters* and 3D EM simulators, used by leading companies in the wireless communication &amp; networking and aerospace &amp; defense industries. For WiMAX™, LTE, multi-gigabit per second data links, radar, &amp; satellite applications, ADS provides full, standards-based design and verification with Wireless Libraries and circuit-system-EM co-simulation in an integrated platform.</li>
</ul>
","39583"
"Best pattern for WFI (wait-for-interrupt) on Cortex (ARM) microcontrolers","19261","","<p>I'm looking into developing battery-powered software using the EFM Gekko controllers (http://energymicro.com/) and would like the controller to be asleep whenever there's nothing useful for it to be doing.  The WFI (Wait For Interrupt) instruction is used for this purpose; it will put the processor to sleep until an interrupt occurs.</p>

<p>If sleep were engaged by storing something someplace, one could use load-exclusive/store-exclusive operations to do something like:</p>

<pre>
  // dont_sleep gets loaded with 2 any time something happens that
  // should force the main loop to cycle at least once.  If an interrupt
  // occurs that causes it to be reset to 2 during the following statement,
  // behavior will be as though the interrupt happened after it.

  store_exclusive(load_exclusive(dont_sleep) >> 1);

  while(!dont_sleep)
  {
    // If interrupt occurs between next statement and store_exclusive, don't sleep
    load_exclusive(SLEEP_TRIGGER);
    if (!dont_sleep)             
      store_exclusive(SLEEP_TRIGGER);
  }
</pre>

<p>If an interrupt were to occur between the load_exclusive and store_exclusive operations,
the effect would be to skip the store_exclusive, thus causing the system to run through the loop one more time (to see if the interrupt had set dont_sleep).  Unfortunately, the Gekko uses a WFI instruction rather than a write address to trigger sleep mode; writing code like</p>

<pre>
  if (!dont_sleep)
    WFI();
</pre>

<p>would run the risk that an interrupt could occur between the 'if' and the 'wfi' and set dont_sleep, but the wfi would go ahead and execute anyway.  What's the best pattern to prevent that?  Set PRIMASK to 1 to prevent interrupts from interrupting the processor just before executing the WFI, and clear it immediately after?  Or is there some better trick?</p>

<p><B>EDIT</b></p>

<p>I'm wondering about the Event bit.  By the general description, it woulds like it's intended for multi-processor support, but was wondering whether something like the following might work:</p>

<pre>
  if (dont_sleep)
    SEV();  /* Will make following WFE clear event flag but not sleep */
  WFE();
</pre>

<p>Every interrupt that sets don't_sleep should also execute an SEV instruction, so if the interrupt happens after the ""if"" test, the WFE would clear the event flag but not go to sleep.  Does that sound like a good paradigm?</p>
","<p>I did not fully understand the <code>dont_sleep</code> thing, but one thing you could try is do the ""main work"" in the PendSV handler, set to the lowest priority. Then just schedule a PendSV from other handlers each time you need something done. <a href=""http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0395b/CIHJHFJD.html"" rel=""nofollow noreferrer"">See here</a> how to do it (it's for M1 but M3 is not too different).</p>

<p>Another thing you could use (maybe together with the previous approach) is the Sleep-on-exit feature. If you enable it, the processor will go to sleep after exiting the last ISR handler, without you having to call WFI. See some examples <a href=""http://infocenter.arm.com/help/topic/com.arm.doc.ddi0337e/ch05s09s02.html"" rel=""nofollow noreferrer"">here</a>.</p>
","12608"
"How do I save a waveform from ModelSim for later opening/viewing","19260","","<p>If I save the waveform, it is saved as a .do file in ModelSim/QuestaSim. This does not help as later I will have to run the simulation to get the wave back anyway!</p>

<p>What I am looking for is means by which all the wave (their data at points in time) is saved in a single file like an EVCD file. Later I can just open this file even when I have absolutely nothing from the design itself and be able to pan and zoom in/out on the wave. I find nothing in ModelSim that can be used to do this. Saving the waveform as an image takes away a lot of important features, this is what I do at present but want to know how to save the wave itself for later use in the wave editor???</p>
","<p>You need to save the waveform/dataset as a .wlf file.  To tell Modelsim to capture all signal values in the design you can do a <code>log -r /*</code>.  Afterwards you can open up the specific waveform/dataset .wlf either through the GUI or by typing <code>vsim -view &lt;some_name&gt;.wlf</code> in the console.  Have a look in the ModelSim/QuestaSim user manual under <code>'Saving a Simulation to a WLF File'</code></p>
","110722"
"PIC: how to set timer0 to give an interrupt at every 1 sec?","19243","","<p>I am programming a PIC18F67K22 and I've set it to use a 16X4Mhz Internal RC oscillator with PLL enabled.</p>

<ul>
<li>High level interrupt on <code>TIMER0</code> overflow </li>
<li>I am using MCC18 compiler.</li>
</ul>

<p><strong>So how to set <code>TIMER0</code> to give an interrupt at every second?</strong></p>
","<p>The <code>TIMER0</code> is a 16bits timer, so to set to interrupt every 1 second you need to set:</p>

<ul>
<li><p><strong>Prescaler @ 16</strong> </p></li>
<li><p><strong>TMR0 Preload @ 3036</strong></p></li>
</ul>

<p>The equation:</p>

<p>$$T = \left(\frac{4}{Fosc}\right) \cdot Presc \cdot (Resolution - Preload)$$</p>

<p>Where:</p>

<ul>
<li>T = Period = 1s</li>
<li>Fosc = Oscilator Frequency = 4MHz</li>
<li>Presc = Prescaler = 16</li>
<li>Resolution = 2<sup>16</sup> = 65535 </li>
<li>Preload = 3036</li>
</ul>

<p>Sample code:</p>

<pre><code>// Timer0 Registers:16-Bit Mode; Prescaler=1:16; TMRH Preset=$BD; 
//                  TMRL Preset=$DC; Freq=1,00Hz; Period=1,00 s
T0CON.TMR0ON = 1;  // Timer0 On/Off Control bit: 1=Enables Timer0 / 0=Stops Timer0
T0CON.T08BIT = 0;  // Timer0 8-bit/16-bit Control bit: 1=8-bit timer/counter / 0=16-bit timer/counter
T0CON.T0CS   = 0;  // TMR0 Clock Source Select bit: 0=Internal Clock (CLKO) / 1=Transition on T0CKI pin
T0CON.T0SE   = 0;  // TMR0 Source Edge Select bit: 0=low/high / 1=high/low
T0CON.PSA    = 0;  // Prescaler Assignment bit: 0=Prescaler is assigned; 1=NOT assigned/bypassed
T0CON.T0PS2  = 0;  // bits 2-0  PS2:PS0: Prescaler Select bits
T0CON.T0PS1  = 1;
T0CON.T0PS0  = 1;
TMR0H = $BD;        // preset for Timer0 MSB register
TMR0L = $DC;        // preset for Timer0 LSB register
</code></pre>
","84184"
"Is it good to have a higher slew rate? What are some of the effects due to slew rate limitations?","19224","","<p>This question is in relation to the working of an op-amp. I know what slew rate is, but I am not entirely sure whether is it good to have a high slew rate.</p>

<p>As far as my understanding goes, a higher slew rate should allow the op-amp to give the output as per the input without time delay. Is my understanding correct? </p>

<p>What are the effects due to slew rate limitations?</p>
","<p>Slew rate limits will cause distortion at high output frequency and amplitude.  If your amp is slew rate limited, putting in a periodic waveform (sine, square, etc.) will result in something that looks a bit like a sawtooth wave.  This can create frequency harmonics that are not present in the original signal, especially when the source signal is a pure sinewave.  Generally, you need to have a high enough slew rate for the highest frequency and output voltage that your circuit needs to support.  </p>

<p>The slew rate is another term for slope.  The maximum slope of a sinewave is equal to its amplitude times its angular frequency (derivative of \$A \sin(2 \pi f t)\$ at the zero crossing at \$t = 0\$ is \$2 \pi f A\$).  So a 1 MHz signal at 1 V amplitude (2 V peak to peak) has a maximum slope of \$2\pi \times 1 \text{V} \times 1 \text{MHz} = 6.28 \text{V} / \mu \text{s}\$.  If your amp has a slew rate of less than \$6.28 \text{V} / \mu \text{s}\$, then you will get a triangle wave if you try to get it to output a 1 MHz 1 V sinewave.  Note that the slew rate has to do with the output voltage of the op amp, not the gain.  That being said, it usually affects high gain circuits more because the signals tend to be larger.  </p>

<p>In op-amps, slew rate and bandwidth tend to be linked - high speed op amps tend to have fast slew rates, otherwise they wouldn't be very useful.  Fast slew rates will allow an op amp to overshoot or ring at a larger output swing than an op amp with equivalent bandwidth but a slower slew rate.  Slower slew rates can help limit overshoot and ringing in many cases.  Another thing to consider is the power supply - the output current has to come from somewhere.  Very fast slew rate op amps require a very low impedance power supply.  This may require placing multiple capacitors of different values very close to the op amp - generally a combination of large, bulk capacitance and small, high frequency bypass caps .  </p>

<p>Slew rate limitations can be helpful for reducing the harmonic content of digital signals.  Some devices have a propensity for producing very fast edges (e.g. FPGAs) which, while necessary for high bandwidth communications, can cause problems with lower speed communications.  Fast edges can couple to adjacent traces and can cause crosstalk and intersymbol interference.  Limiting the slew rate can mitigate this.  Transmitting serial data over a limited bandwidth (e.g. for an RF link) also takes advantage of slew rate limiting to confine the bandwidth of the signal.  </p>
","138328"
"Shutdown Controller for Raspberry Pi in a car","19186","","<p>Following on from my <a href=""https://electronics.stackexchange.com/questions/60622/circuit-to-safely-power-down-raspberry-pi"">previous question</a> I'm trying to create a shutdown controller for my Raspberry Pi.  The Raspberry Pi needs to be powered from the battery, but should power-down after the Pi detects that the ignition has been turned off.</p>

<p>The Pi will take a 3.3V feed from the ACC line (I have other components that will take 5V from the ACC line via a 7805, so I will step down to 3.3V using a voltage divider unless anyone has a better suggestion - I'll also be driving a uPD6708 which takes 5V CMOS I/O, so will have to step-down from 5V to 3.3V on another 2 lines).  </p>

<p>Software running in the RPi will set one of the GPIO pins high, presumably when the RPi shuts down the GPIO pins will all go low.  So Q1 should turn the relay on, keeping the RPi's power on as long as the ignition is on, or the GPIO pin is high.</p>

<p>I have 3 fuse kits with a 1000uF cap and some kind of transformer/inductor, so I may as well use one of them on each the 12V battery and 12V accessory line.</p>

<p><a href=""http://store.mp3car.com/Micro_Shutdown_Controller_p/pwr-007.htm"" rel=""nofollow noreferrer"">This shut down controller</a> claims to draw only 50uA in standby - if I used a CMOS 4071 OR gate that would be a start, but from what I've read, you'd need more current from the OR gate to saturate the transistor - is that right?</p>

<p>Bearing in mind that I need to level-shift 5 lines from 3.3V to 5V and 2 from 5V to 3.3V in addition to the requirements of this sub-circuit, can anyone recommend components/alternatives for OR1, Q1, RLY1 and/or any modifications?</p>



<p><img src=""https://i.stack.imgur.com/h8854.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fh8854.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>Here's my attempt at following @Connor Wolf's suggestion.  </p>

<ul>
<li>R1 and C3 need to be be chosen to allow the RPi to shut down properly</li>
<li>I've added C1 because I image that it will take a brief moment before the relay switches after the ignition is turned off - I've got no idea how long that is, but I suppose the RPi is going to be drawing about 700mA from the capacitor, in addition to the 555 and relay</li>
</ul>



<p><img src=""https://i.stack.imgur.com/9pyyo.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f9pyyo.png"">simulate this circuit</a></sup></p>

<p>@Nick suggests it could be simpler - like this perhaps?  I tried to remove the diodes so that I could just use an off-the-shelf 12V-5V 1A USB power supply (or a pair of them).  The 555 datasheet says that it outputs 3.3V (max source 100mA?  <a href=""http://www.jaycar.com.au/images_uploaded/relaydrv.pdf"" rel=""nofollow noreferrer"">This page</a> says 200mA).  The RPi will take read the ACC line at 3.3V to determine when to shut down.</p>



<p><img src=""https://i.stack.imgur.com/cUzUH.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fcUzUH.png"">simulate this circuit</a></sup></p>
","<p>While using a one-shot timer circuit will work, I think an easier solution can be used. Take a look at this circuit.</p>

<p><img src=""https://i.stack.imgur.com/CZHx4.jpg"" alt=""enter image description here""></p>

<p>For clarification, ""VBAT"" is a 12V source that is always on as long as the battery is connected. However, ""ACC"" is a 12V source that is only on when the ignition is on or the key is set to ""accessory."" Rather than using a 5V relay just to control the power to the RPi, why not use a standard 12V auto relay as shown. This way, there is no wasted power (except for the coil current while the power is on) because everything will be disconnected from the battery.</p>

<p>One side of the coil is always connected to 12V. The opposite side is connected to ground (chassis) through an N-Channel FET (Q1). While a MOSFET is used in the diagram, any FET capable of sinking the coil current can be used. When ""ACC"" is powered ON, Q1 will switch ON, connecting the coil to ground and actuating the switch. This will in turn power whatever 5V regulation circuit you plan to use (a simple 7805 regulator with heat sink, a switching DC-DC converter, the USB supplies mentioned, etc).</p>

<p>The diode D2 is there to ensure the capacitor can only discharge into Q1 and can be regular or Shottky. Other methods should probably be used for over voltage and current protection from the battery.</p>

<p>The ""ACC"" voltage can be put through a voltage divider to create a 3.3V signal for the RPi. Be careful with this voltage level, considering a 12V auto battery can really be more like 14V DC. As long as this signal is HI, the RPi knows that the power is on. Obviously, this GPIO pin should be set as an input with any internal pullups disabled. When ""ACC"" is turned off, the RPi should see the LO signal on the pin and begin its shutdown.</p>

<p>When the ""ACC"" voltage is turned off, the capacitor C1 will retain the charge for so long, discharging through the resistor R1. Once the capacitor voltage drops below the gate threshold of Q1, it will switch OFF, disconnecting the relay coil from ground and removing power from the peripheral circuit. If a ""logic level MOSFET"" is used for Q1, it will remain switched ON until C1 voltage is fairly low. I tested this circuit using an NTD4960 (<a href=""http://www.onsemi.com/pub_link/Collateral/NTD4960N.PDF"" rel=""nofollow noreferrer"">Datasheet</a>), and it remained on for around 15 seconds - until C1 was around 2V. To increase the time, increase the capacitance value. </p>
","62441"
"difference between a DC motor and gear motor","19139","","<p>Isnt DC motor the same as gear motor? Because what is the use of dc motor without gears?</p>
","<p>A DC motor is not the same as a ""gear motor"" - a ""gear motor"" may be an AC or DC motor coupled with a gearbox or transmission. A gear motor adds mechanical gears to alter the speed/torque of the motor for an application. Usually such an addition is to reduce speed and increase torque. A DC motor without gears is useful in many applications, for example the simple fan. Contrast that with the motor that operates the turntable in your microwave, a gearbox there reduces the speed so your food isn't thrown against the interior wall.</p>

<p>For more information, check the Wikipedia on <a href=""http://en.wikipedia.org/wiki/DC_motor"" rel=""nofollow"">DC Motor</a>.</p>
","97480"
"What are the functional differences between monolithic and disc ceramic capacitors?","19121","","<p>I've inherited an older part numbering scheme, in which ceramic capacitors are divided into disc and monolithic types. Is this actually a firm division in their characteristics? If so, what are the differences? Is that nomenclature common, or are other names used more often? Are there other classifications of ceramic capacitors in addition to those two?</p>

<p>Edit: If I have two capacitors, a monolithic and a disc, of equal voltage and capacitance, why would I use one over the other?</p>
","<p>If by monolithic, you mean the multi-layer chip caps (sometimes labled MLCC), that's what all the high density ceramic caps are.  </p>

<p>The traditional disc caps are basically just a slab of ceramic with plate on each side, radial leads attached, and dipped in epoxy or maybe ceramic for coating.  These are low capacitance devices (100 or so pF) but can be very high voltage.  Sometimes they are also called safety caps.  </p>

<p>Also, there are disc or cylindrical shaped caps that are really MLCC structures with an electrode around the outside edge and the other electrode in the middle.  These are used as feed through caps in housings of EMI filters, or maybe even as part of a transmission line termination.  </p>

<p>Wikipedia has a pretty good write-up of capacitors <a href=""http://en.wikipedia.org/wiki/Ceramic_capacitor"">here</a>.  </p>

<p>Edit:  </p>

<p>The question of the disk cap and MLCC having the same voltage rating and capacitance and having to choose between the two occupies a very small space in the Venn diagram.  MLCCs were derived from disc technology to overcome limitations in capacitance and allow wider use of ceramic dielectrics which are comparatively easy to fab.  The main things the disk has going for it are the high voltages and rugged construction.  A single wafer of ceramic is going to take more abuse than a stack of thin layers of ceramic.  The choice would come down to things like that.  </p>

<p>If you needed a rugged part, or a part that could not be surface mounted you would choose the disc (I know you can get leaded multilayer ceramics, but its a disappearing market).  If you needed a part with low ESL and more compact size you would choose the MLCC.  It's pretty clear which is usually more desirable.</p>

<p>The uses for disc type caps really are those for which it has an advantage, like high voltages from 3kV to 6kV where you might need a low dissipation coefficient or NPO type stability.  MLCCs don't offer much competition at those higher voltages.</p>
","73236"
"Any drawbacks to ""low temp"" lead-free solder paste?","19101","","<p>I am about to try my first ""reflow skillet"" soldering job, and as I look at the available types of solder paste I see there are lead-free pastes with much lower melting temperatures than others.</p>

<p>For example, this one from <a href=""http://www.chipquik.com/LowTempSolderPaste.pdf"">ChipQuik</a>.</p>

<p>The advantages seem obvious, but somehow the marketing literature does not mention any drawbacks to this type of solder paste. In the quantities I would order the price seems about the same. Is there a reason this Sn42Bi58 formula hasn't become standard?</p>
","<p>42/58 Tin / Bismuth is not unknown as a low temperature solder but has issues.  </p>

<p>While widely used for some very serious applications (see below) it is not a mainstream industry contender for general use. It is not obvious why not given its substantial use by eg IBM. </p>

<p><strong>Identical</strong> to the Bi58Sn42 solder you cite is: </p>

<ul>
<li><p>Indalloy 281, Indalloy 138, Cerrothru. </p>

<p>Reasonable shear strength and fatigue properties. </p>

<p><strong>Combination with lead-tin solder may dramatically lower melting point and lead to joint failure.</strong>  </p>

<p>Low-temperature eutectic solder with high strength.</p>

<p>Particularly strong, <strong>very brittle.</strong></p>

<p><strong>Used extensively in through-hole technology assemblies in IBM mainframe computers where low soldering temperature was required.</strong> </p>

<p>Can be used as a coating of copper particles to facilitate their bonding under pressure/heat and creating a conductive metallurgical joint.</p>

<p><strong>Sensitive to shear rate</strong>. </p>

<p>Good for electronics. Used in thermoelectric applications. </p>

<p>Good thermal fatigue performance.</p>

<p>Established history of use. </p>

<p>Expands slightly on casting, then undergoes very low further shrinkage or expansion, unlike many other low-temperature alloys which continue changing dimensions for some hours after solidification.</p></li>
</ul>

<p>Above attributes from the fabulous Wikipedia - link below. </p>

<p>According to other references it has low thermal conductivity, low electrical conductivity, thermal embrittlement issues and potential for mechanical embrittlement. </p>

<p>SO - it MAY work for you, but I'd be very very very cautious about relying on it without very substantial testing in a wide range of applications. </p>

<p>It is well enough known, has obvious low temperature advantages, has been widely used in some niche applications (eg IBM mainframes) and yet has not been welcomed with open arms by industry in general, suggesting that it's disadvantages outweigh advantages except perhaps in areas where the low temperature aspect is overwhelmingly valuable.</p>

<p>Note that the chart below suggests that flux cored versions seem to be specifically unavailable either as wire or as preforms.</p>

<p>Comparison chart:</p>

<p><img src=""https://i.stack.imgur.com/81SBz.jpg"" alt=""enter image description here""></p>

<p>The above chart is from <a href=""http://www.psma.com/ul_files/forums/leadfree/aim_lead_free_guide.pdf"" rel=""noreferrer"">this superb report</a> which however does not provide detailed comment on the above issues. </p>

<p><a href=""http://en.wikipedia.org/wiki/Solder"" rel=""noreferrer"">Wikipedia notes</a> </p>

<ul>
<li>Bismuth significantly lowers the melting point and improves wettability. In presence of sufficient lead and tin, bismuth forms crystals of Sn16Pb32Bi52 with melting point of only 95 °C, which diffuses along the grain boundaries and may cause a joint failure at relatively low temperatures. A high-power part pre-tinned with an alloy of lead can therefore desolder under load when soldered with a bismuth-containing solder. Such joints are also prone to cracking. Alloys with more than 47% Bi expand upon cooling, which may be used to offset thermal expansion mismatch stresses. Retards growth of tin whiskers. Relatively expensive, limited availability.</li>
</ul>

<p>Motorola's patented Indalloy 282 is Bi57Sn42Ag1 . Wikipedia says</p>

<ul>
<li>Indalloy 282. Addition of silver improves mechanical strength. Established history of use. Good thermal fatigue performance. Patented by Motorola.</li>
</ul>

<p><a href=""http://www.aimsolder.com/Portals/0/PDFs/technical/A%20Study%20of%20Lead-Free%20Solder%20Alloys.pdf"" rel=""noreferrer"">Useful lead free solder report - 1995</a> - nothing to add on above subject.</p>
","24725"
"Design a full adder of two 1-bit numbers using multiplexers 4/1","19081","","<p>How can i implement the full adder of two 1-bit numbers using only multiplexers 4/1? I created a truth table for a one-bit full adder, which looks like this:</p>

<p><img src=""https://i.stack.imgur.com/YAzBF.png"" alt=""enter image description here""></p>

<p>A  = first bit<br/>
B  = second bit<br/>
Pu = bit from lower position (used to create an adder for multiple bit numbers)<br/>
S  = sum<br/>
P  = transfer to higher position (e.g. if A=1, B=1 and Pu=0, the sum is 0 and transfer 1)<br/></p>

<p>I made K-maps and used AB as selection inputs of a  multiplexer and Pu as information input.</p>

<p>And finally got to this solution:</p>

<p><img src=""https://i.stack.imgur.com/ITAru.png"" alt=""enter image description here""></p>

<p>Is it correct?</p>
","<p>Yes, it's correct. </p>

<p>This is the sort of optimization that used to happen manually in the old days of FPGAs and before that with PALs. You had to rejigger your result based on selection and minimal logic gates.</p>

<p>I've not run across this solution, but then I've never been stuck with just multiplexors. </p>

<p>Oh incidentally,... one more multiplexor would do that inversion (generating the invert in the previous stage), so you could easily create a large adder with a three-pole switch for each binary digit. No logic needed. Nice. </p>
","156005"
"Capacitor in amplifier transistor","19047","","<p>Why are capacitors use in transistor cicuits? What does it do with biasing operations? I always see capacitors on transistors being used as amplifiers.</p>
","<p>A capacitor blocks DC, so it can be used to pass a signal (e.g. audio, etc) without it's DC level interfering with the DC bias of a transistor. This way the DC offset of the input signal can be at any level and the transistor amplifier will treat it the same way.  </p>

<p>For example, if you have one transistor with it's collector output at a DC level of 5V, and the next transistor stage has it's base biased around 1V, directly connecting them would turn the second stage full on all the time as the input voltage will always be too high.<br>
If we add a capacitor in between the stages, one side can be at the 5V DC level, and the other side can be at the 1V level, and only the AC variations pass through. This way the second stage operates correctly.      </p>

<p>Take this simple circuit as an example:</p>

<p><img src=""https://i.stack.imgur.com/kASxb.png"" alt=""Transistor Capacitor Coupling""></p>

<p>Here are the waveforms at the various points:</p>

<p><img src=""https://i.stack.imgur.com/d7Fqf.png"" alt=""Transistor Coupling Sim""></p>

<p>Notice how the input voltage is a 1kHz 10mV signal with a 10VDC offset. After the input capacitor the DC level is now ~870mV. The same can be seen at the output cap. The gain is around 20 (200mV / 10mV = 20)</p>

<p>Now if we remove the caps:</p>

<p><img src=""https://i.stack.imgur.com/JtOuN.png"" alt=""No caps""> </p>

<p>And look at the input/output waveforms:</p>

<p><img src=""https://i.stack.imgur.com/jI3Hh.png"" alt=""No caps sim""></p>

<p>Things have changed drastically - the transistor base is now at 10VDC, which means the emitter will be at around 8-9V (the usual 0.7V drop will be higher due to excessive current) and the emitter resistor current will be ~8.5V / 100 = ~90mA. The output is stuck at around 20mV higher than the emitter. The circuit has no gain.<br>
This is an extreme example, but even a few tens of millivolts either side of ideal bias point will have quite an effect on this circuit.</p>

<p>Apart from coupling, capacitors are also used for things like emitter bypass (as Vlad mentions) Here is the first circuit again with an emitter bypass capacitor added:</p>

<p><img src=""https://i.stack.imgur.com/wYJ72.png"" alt=""Emitter Bypass""></p>

<p>And the simulation:</p>

<p><img src=""https://i.stack.imgur.com/bS03a.png"" alt=""Emitter bypass simulation""></p>

<p>Notice the gain has increase to around 100 from the first circuit (1V / 10mV = 100) This is because the emitter resistor provides negative feedback and controls the gain in the first circuit. With the capacitor added, the DC is unaffected but the AC now sees a lower impedance path to ground (the capacitor) so the AC gain is increased. So the AC is ""bypassed"" to ground.  </p>

<p>There are many other uses for a capacitor, but these are the main uses in a typical audio amplifier circuit (apart from power rail filtering of course)</p>
","42317"
"Is my MOSFET-based bidirectional level shifter insane?","19043","","<p>In a moment of cheapness, I decided not to order a 5v to 3.3v level shifter from Sparkfun, but instead to put it together myself.  The <a href=""http://www.sparkfun.com/datasheets/BreakoutBoards/Level-Converter-v10.pdf"">original schematic</a> used a <a href=""http://docs-europe.electrocomponents.com/webdocs/0d22/0900766b80d22ec5.pdf"">BSS138</a> MOSFET, but since I enjoy surface-mount soldering about as much as root canal treatment, I decided to use a <a href=""http://docs-europe.electrocomponents.com/webdocs/0d24/0900766b80d246b2.pdf"">similar seeming MOSFET</a> that is through-hole mounted and easily available from my preferred supplier.</p>

<p>The results of this were sub-optimal.  When pulling the 5v line to ground, all was fine - the 3.3v side went to 0.07v.  But when pulling the 3.3v to ground, the 5v line showed around 4.14v (it was otherwise a touch above 5.1v).  On a closer reading of the datasheets involved, as well as the original Philips application note on the subject, I began to come to the conclusion that the gate threshold voltage was the problem.</p>

<p>By altering the schematic and tying the MOSFET's gate to 5v instead of 3.3v, both sides seem to work fine.  Pulling either side low causes the other side to go low.  I'm not, however, at all confident that this is actually a sane thing to do.  My understanding of the original schematic isn't deep enough to form a sensible opinion.</p>

<p>Will this modified schematic work, or are the current good results I'm seeing mere fluke or a precursor to something releasing magic smoke?</p>
","<p><strong>Short answer</strong></p>

<ul>
<li><p>In this circuit Vth (the gate to source voltage at which the MOSFET is just turned on) is crucial. Vth should be substantially lower than Vh-Vl = 5V - 3.3V = 1.7V. </p>

<p>The BSS138 has a Vth of 0.8 / 1.3 / 1.5  min/typical/max.<br>
So while notionally it would be ""good enough"" here as 1.7>1.5, that margin is uncomfortably small.  </p>

<p>Unfortunately, the alternative that you chose is even worse than the BSS138.<br>
The FQN1N60C has a Vth of 2/-/4 V. ie at its best case Vth of 2V it is higher than the required 1.7V and it can have a Vth of as much as 4V which is vastly more than 1.7V in this application. </p>

<p>An acceptable (just) TO92 MOSFET in stock at Digikey is the <a href=""http://www.diodes.com/datasheets/ZVNL110A.pdf"" rel=""noreferrer"">Zetex / Diodes Inc ZVNL110a</a>.<br>
This has Vth of 0.75/-/1.5 Volts. This is about the same as the BSS138.  </p></li>
</ul>

<hr>

<p>Longer:</p>

<ul>
<li><p>The BSS138 is a, relatively, hunk of junk. It has its place but it is stretched beyond its safe capabilities in this circuit. Unfortunately, the alternative that you chose, a FQN1N60C, is even worse.   </p></li>
<li><p>Your raising voltage LV to a voltage equivalent to HV overcomes the FQN1N60C's high Vth value. </p></li>
</ul>

<p>The reason your original circuit works poorly is because the FQN1N60C is a very sorry specimen of the MOSFET art, and the reason that your revised circuit works well is also because the FQN1N60C is a very sorry specimen of the MOSFET art. A low Vth MOSFET would work properly in the original circuit and fail in the revised one. </p>

<p>This is because in the original circuit the FQN1N60C Vth is too high for the available Vth and is not turning on properly. A MOSFET with low enough Vth would turn on properly with the available voltage. In the revised circuit you have provided the FQN1N60C with enough gate voltage in the operated state but not so much that it will be operated unintentionally. If you used a low Vth MOSFET it would be turned on by the fate voltage available when it was meant to be off and the circuit would fail. </p>

<p>The circuit is an extremely clever one BUT it's cleverness depends on the MOSFET having enough gate voltage to drive it when TX_LV is low but not enough voltage to drive it when TC_LV is high. Usually LV = T_LV when TX_LV is high, so the MOSFET sees <strong>no</strong> gate voltage. By increasing LV to HV you provide a gate voltage of (HV-LV) when TX_LV is high. As HV-LV = 5-3.3 = 1.7V the FQN1N60C does not false trigger as it's practical Vth is > 1.7V. </p>

<p><strong>Below is the original level shifter circuit diagram.</strong>  </p>

<p>The BSS138 is an N Channel MOSFET - so it conducts when its gate is positive relative to source, it is usual for it's drain to be higher than it's source, and the internal body diode blocks when Vds is +ve and conducts when Vds is negative.</p>

<p><img src=""https://i.stack.imgur.com/gS3SS.jpg"" alt=""enter image description here""></p>

<p><strong>Normal operation:</strong><br>
With TXLV and TXHV high, gate is at LV (originally 3V3, source is at TX_LV = 3.3 so Vgs=0 so FET is off.<br>
Source is at TX_LV pulled there by R3. </p>

<p>Send logic 0 left to right.<br>
Pull TX_LV low. Source = 0V, gate = 3V3. So Vgs = 3V3. As this is > Vth BSS138 is turned on. As source = 0V and FET is on, TX_HV will be also pulled to low. That was easy :-).</p>

<p>Send logic 0 right to left.<br>
Pull TX_HV low. Drain = 0. Gate is 3V3 via hard connection.<br>
Source = 3V3 (but see below)
So: Vgs = 0. FET is off. Vds = <strong>-</strong> 3V3.<br>
BUT the BSS138 has an internal diode S to D. This diode will now condi=uct, pulling TX_LV down to a diode drop above TX_HV.<br>
Also easy.</p>

<p>NOW replace  BSS138 with FQN1N60C.<br>
MOSFET's Vth is> to >> 1.7V margin between 5V and 3V3.<br>
Now, in sending logic 0 LEFT TO RIGHT, grounding source gives Vgs = 3V3 = &lt; 4V worst case. If true Vth is somewhere around 1.7V the circuit will sort of work.</p>

<p>Raising LV to 5V works as now Vgs = 5V.<br>
BUT when TX_LV is high there is still 5-3.3 = 1.7V drive to MOSFET, even though it should be 0V, and was before. </p>

<p><strong>If you now replace the MOSFET which has a Vth &lt; 1,7V it will always be turned on.</strong> ie a better quality MOSFET works worse (or not at all).
The ""cure"" is to use a MOSFET  initially with Vth &lt; to &lt;&lt; 1.7V.</p>
","18465"
"What I2C address should I choose?","19022","","<p>Now I know in order to have an I2C address reserved for yourself you have to pay the I2C people some money. But I don't want to do this.</p>

<p>I'm asking for advice on what address I should choose for my slave and master MCUs on my project. There will also be an EEPROM on the board. So I will avoid using the address of the EEPROM. I plan for the master to connect to a wide range of sensors, including gyros and accelerometers, and perhaps additional memory devices. Are there any blocks of addresses I should stay clear of? I was thinking of just using 0x00 for the master and 0x01 for the slave, because those seem to be rarely used.</p>

<p>Another question: would it be a bad idea to mix 10-bit devices and 7-bit devices on the same bus? I was considering the possibility of having my MCUs communicate with 10-bit addressing, but only using 7-bit addresses for sensors.</p>
","<p>First, don't use 0x00 and 0x01, those are reserved!  Table 3 of the <a href=""http://ics.nxp.com/support/documents/interface/pdf/i2c.bus.specification.pdf"">I2C Bus Specification</a> lists the reserved addresses (and reasons why): </p>

<pre>
Slave addr  R/W   Description
0000 000    0     General call address[1]
0000 000    1     START byte[2]
0000 001    X     CBUS address[3]
0000 010    X     Reserved for different bus format[4]
0000 011    X     Reserved for future purposes
0000 1XX    X     Hs-mode master code
1111 1XX    X     Reserved for future purposes
1111 0XX    X     10-bit slave addressing
</pre>

<p>You should also steer clear of 0x00 because that has no edge transitions, and might be an error condition (and it's hard to debug). </p>

<p>Other than that, I'd say ""Just make it configurable."" If you want to be able to plug in a wide variety of sensors, then you can either pay NXP for an address, or give it adjustable addresses.  Software modifications should be obvious if you want to distribute the source code.  A hardware option to toggle one or two bits of your selected address (solder jumpers on digital pins) is cheap and easy, or a ladder network of resistors with jumpers connected to an A/D pin could give you complete control in the hardware.</p>
","7553"
"What is the difference between burden resistor and a normal one?","19002","","<p>I just came across the word 'Burden Resistor'. Is it any different from a normal resistor? </p>

<p>If it is different, where can I possibly get one?  <a href=""http://www.sparkfun.com/search/results?term=burden%20resistor&amp;what=products"">Sparkfun</a> hasn't got one listed.  Any help is appreciated. I am trying to build a <a href=""http://openenergymonitor.org/emon/node/58/"">current sensing circuit</a>.</p>
","<p>No, they're the same components as regular resistors. The name refers to the function, not to the resistor's construction.</p>

<p>Current transformers act as current sources and need a load. A current source is the dual of a voltage source, and just like you shouldn't short-circuit a voltage source because it would cause infinite current, you shouldn't leave a current source open, as it would cause an infinite voltage. The burden resistor converts the current to a limited voltage.</p>
","36344"
"How do I build a computer with a Z80 microprocessor?","18986","","<p>I've got the chip, so how would I add: a clock, RAM, hard drive (maybe EEPROM?), a screen (LCD graphical screen?), input method (keyboard, mouse) ?</p>
","<p>Don't listen to the others saying that the z80 is too old or too hard.  The z80 was designed for this task.  It's the oldest continually produced CPU around for a reason, it's easy to build computer systems with it.  It's an excellent choice for your project.</p>

<p>There are some great books like ""z80 microcomputer design projects"" and ""<a href=""https://archive.org/details/The_Z80_microcomputer_handbook_William_Barden"" rel=""nofollow"">the z80 handbook</a>"" that will really help you out.  Also, look at <a href=""http://z80.info/"" rel=""nofollow"">z80.info</a>, they have a ton of information you'll want.</p>

<p>Your design goals are realistic.  The hardest part will be the LCD screen, assuming you want to drive a VGA or NTSC display.  But even that, once you get into it, is not that hard.  That'll be a recurring theme you'll encounter in this project, things are much easier than you expected.  Early microcomputers were remarkably simple machines, expecting you can duplicate them to some degree in 2012 is a very realistic goal.  Aside from the custom sound and video chips, the rest of the machine is still available as off the shelf parts and easily understandable even as a newbie.</p>

<p>The simplest usable z80 system will have the z80 CPU, some flash memory or EEPROM you can get for free from old motherboards, ram and a uart for serial communication (plus a max232 for level shifting).  All of this is available at any electronics distributor, are through hole components and can be built on a breadboard.  The only special equipment you'll need is the flash/EEPROM programmer (which I built myself from an Arduino).  Oh, and a few other things like some 74 series logic chips for address decoding, reset circuit, etc and a crystal oscillator.</p>

<p>Alternatively, you can replace the uart with a z80 pio chip to communicate with a modern parallel mode LCD character display.  It won't really do graphics, but it's easy to use and your z80 can print things early on.  A ps/2 keyboard will be rather simple to interface.</p>

<p>But anyway, the z80 is a good choice for your project.  This might sound complicated, but in the end its just not all that bad.  Build incrementally, start with the z80 test circuit, wire up a EEPROM so it can run some code and just build from there.</p>
","31096"
"Calculating the power supplied by the current and voltage sources","18975","","

<p><img src=""https://i.stack.imgur.com/tlK5q.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2ftlK5q.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>I have attended one exam where I was asked to solve this Question. Generally the Power is nothing but the product of current and voltage in a network. But here the question is to calculate the power delivered by current and voltage source individually. So how can I proceed to solve this?</p>
","<blockquote>
  <p>Generally the Power is nothing but the product of current and voltage</p>
</blockquote>

<p>You are right !</p>

<p>You just have to calculate the voltage across the current source, and the current in the voltage source, multiply the related current and voltage, and you'll get the answers.</p>

<ul>
<li>for the current source : the voltage is 12V (the same of the voltage source, because they are in parallel). The power is 6A * 12V = 72W</li>
<li>or the voltage source : you have first to calculate the current flowing in the source, which is the difference between the current in the resistor and the current of the current source. I = 4A - 6A = -2A. And the power is : -2A * 12V = -24W. The minus sign tells the voltage source will RECEIVE 24W</li>
</ul>

<p><strong>[ADDED]</strong>
Oh, and by the way : the power in the resistor is 12V * 4A = 48W. You can check that it is equal to the algebraic sum of the powers of the two sources:
48W = 72W + (-24W)</p>
","239841"
"How to make my own volume control for headphones?","18971","","<p>I have headphones that don't have volume control built in on the cable, so I thought why wouldn't I try to make one? However, I  don't know where to start. </p>

<p>Is it enough to just use a logarithmic potentiometer, or do I need something more?</p>

<p>If just a potentiometer is enough, what should be its ohmage?
I also use FIIO E3 headphones amplifier. Is it better if I put volume control before or after the amplifier?</p>

<p>At what should I pay attention to avoid creating hum or other unwanted noises?</p>

<p>My headphones are: <a href=""http://www.sennheiser.co.uk/uk/home_en.nsf/root/private_headphones_dj-headphones_500156"" rel=""nofollow"">http://www.sennheiser.co.uk/uk/home_en.nsf/root/private_headphones_dj-headphones_500156</a></p>
","<p>The writeup you linked to doesn't say much useful, but it appears these are bare speaker-type headphones (guessing from the size and shape).  That means they are probably small speakers with 4 or 8 Ohms impedance.</p>

<p>You don't want to put a pot in line with speakers.  That wastes power, doesn't present the right load to the amplifier, and probably messes up the frequency response due to the impedance change.  The best place to put a volume control is in the signal path, not the power path.  This means put it at the input of the amplifier that drives the headphones.</p>

<p>Whatever is driving the amplifier input is probably a ""line"" output.  These usually have a few 100 Ohms impedance with a nominal 1V signal.  A 1 k&Omega; logarithmic taper pot would be about right.  Nowadays logarithmic tapers are harder to find because old fashioned analog pot volume controls aren't used that much.  Nowadays the signal is handled digitally somewhere anyway, so the volume control is done by a digital multiply.  If you can't find a logarithmic taper pot, it's not that big a deal.  A linear taper will have a lot of change at the low volume end and not much at the high volume end, but for just setting a comfortable headphone volume it's probably good enough.</p>

<p>You can make a linear pot non-linear by putting another resistor accross the output.  This doesn't make it logarithmic, but should spread the volume range out a little.  Personally I wouldn't bother with this unless you've tried it directly and really didn't like the result.</p>

<p>As for avoiding hum and noise in audio, make sure everything is shielded.  If necessary, mount the pot in a small metal box with the box grounded to the bottom lead of the pot, which should also be the ground for the input and output cables.</p>
","24425"
"How to determine the total number of charges a portable charger can supply for a phone?","18945","","<p>According to <a href=""http://androidforums.com/android-accessories/331221-can-3000mah-portable-charger-charge-1500mah-battery.html"" rel=""nofollow"">can a 3000mAh portable charger charge a 1500mAh battery?</a>, it was mentioned that a 3000mAh Portable charger can only charge a 1500mAh phone's battery 1.33334 times.</p>

<p>So, how do we determine the total number of charges that a Portable charger can supply to a battery given the following parameters:</p>

<ol>
<li><p><code>X</code> mAh Portable charger with output of <code>Y</code> volt and <code>Z</code> Amp.</p></li>
<li><p><code>P</code> mAh phone battery with input of 5 volt (almost all phone is using 5 volts due to USB Charging) and <code>Q</code> Amp.</p></li>
</ol>

<p>The reason for asking is that according to the article, it mention that there is a 20% inefficiency (which I do not know if it is true for most portable charger), so a 3000 mAh Portable Battery charger can only charge a 2400 mAh battery. </p>

<p>If that is the case, the 3000 mAH Portable Battery charger can charge the 1500 mAh battery 1.6 times instead of 1.33334 times. I was thinking why it was stated 1.33334 times and not 1.6 times and I believe that there must be a way to calculate the number of times a Portable charger can charge a phone battery until it have no more electrical charges.</p>

<p><strong>Added Information</strong></p>

<p>Also, according to a user, it mention the following:</p>

<blockquote>
  <p>As posted above, with voltage conversion there is just 80% capacity of portable charger's battery pack available for your phone.</p>
  
  <p>While charging, your phone needs power for stand-by, so in my experience, you'll have just 65% capacity.</p>
  
  <p>And by industrial standards for batteries is +/- 20% tolerance admitted with capacity.</p>
  
  <p>So, your portable charger might have just 45% of its 3000mAh available for to charge your phone.</p>
</blockquote>

<p>So, can one use the magical value <code>45%</code> as a gauge for portable battery charger? (Meaning that a 5000 mAh battery charger can only charge a 2250 mAh phone battery one time.)</p>
","<p>I believe the answer can only be empirical, not definitive. </p>

<p>To examine some of the figures mentioned:</p>

<blockquote>
  <p>there is a 20% inefficiency (which I do not know if it is true for most portable charger)</p>
</blockquote>

<p>A portable charger that is itself charged from USB (5 Volts) would need a boost converter to be able to supply 5 volts at its output. Boost converters commonly mention efficiency of 65 to 85%. TI's <a href=""http://www.ti.com/lit/ds/symlink/tps61030.pdf"">TPS61030, TPS61031 and TPS61032</a> state 96%, and Maxim's <a href=""http://datasheets.maximintegrated.com/en/ds/MAX8815A.pdf"">MAX8815A</a> states 97% efficiency.</p>

<p>These figures do not account for possible efficiency loss due to external components (ESR of capacitors for instance) or temperature variation. Thus, treat that ""20%"" number as indicative at best.</p>

<blockquote>
  <p>your phone needs power for stand-by, so in my experience, you'll have just 65% capacity.</p>
</blockquote>

<p>That would depend on whether the phone is kept powered on while charging, what power intensive tasks (e.g. WiFi, social media polling software) are running on the phone, and even the current draw of the phone in the nominal ""powered off"" state - Some smartphones do not actually power off completely unless the battery is pulled out.</p>

<p>Thus, that 65% number is also indicative at best, though varying it somewhat is within the user's control.</p>

<blockquote>
  <p>by industrial standards for batteries is +/- 20% tolerance admitted with capacity.</p>
</blockquote>

<p>That number would be defined in the datasheet of the specific battery in question. It would also vary widely by age / charge cycle history of the battery, temperature, contact oxidation and possibly several other factors.</p>

<p>So, while the number is a reasonable guesstimate, it is not definitive.</p>

<p>Note that this last figure is applicable to both, the cellphone battery and the portable charger battery.</p>

<blockquote>
  <p>So, can one use the magical value 45% as a gauge for portable battery charger? </p>
</blockquote>

<p><strong>Clearly not</strong>. The only numbers that can be used, even as a rule of thumb, are those empirically measured for your particular situation and use pattern. Even so, the percentage will change widely over charge cycles, season and time of day (temperature factors).</p>
","48367"
"Simple LM317 variable voltage supply, does it limit current too?","18894","","<p>I had wanted to build a power supply for so long, and had never really understood the calculations involving the LM317. I had found a kit (pcb+parts) online and it had renewed my interests in using it for a simple power supply that is adjustable: (LM317T) <a href=""http://www.vakits.com/datasheets/LM317.pdf?osCAdminID=eb079516b4ea88673ef41d05e2bcab58"" rel=""nofollow noreferrer"">datasheet here</a>:</p>

<p>Schematic the PCB is using here:<br>
<img src=""https://i.stack.imgur.com/vjum2.jpg"" alt=""Schematic of the regulator""></p>

<p>I understand that R2 acts as a voltage divider of sorts, And R1 is to send a specific current to the ADJ pin (1.25V ref / 240 on R1 = 0.0052A)</p>

<p>The issue is that using the stated formula the output is this:</p>

<p>$$ V_{OUT} = 1.25 \cdot \Big(1 + \frac{R2}{R1} \Big) + I_{ADJ} \cdot R2$$
$$ 1.25 \cdot \Big(1 + \frac{1k}{240}\Big) + 0.0052 \cdot 1k = 12V? $$
$$ 1.25 \cdot \Big(1 + \frac{5k}{240}\Big) + 0.0052 \cdot 5k = 55V? $$</p>

<p>Why does the formula fail, just using 1K (near minimum on the voltage adjustment pot) and 5k which is recommended maximum R2 value?</p>

<p>Now assuming I can get 5V in example after adjusting the pot in real use, will the 240 ohm resistor limit the current, or do I have to add something else on top of that afterwards? If it does (I can have var. voltage + current limit) I assume I will need to up the resistor power specifications as the current will flow through them (or my after-regulator limiter)</p>

<p>Specifically, I do not want a constant current source, because testing a home-made solenoid or a random LED I assume the upper current limit I set will let them work and not be destroyed. I want this because I wish to set a limit rather than force 500mA to go through something it does not want to by raising the voltage well above 5V for example.</p>
","<p>The LM317 power supply shown will not provide variable current limiting.<br>
 A separate LM317 can be added to provide this feature.  </p>

<p>An LM317 current limits at a maximum value which it can survive and if this causes its temperature to rise to a manufacturer set upper limit it will progressively reduce the current to maintain itself at or below the maximum allowed temperature.</p>

<p>A current limiting LM317 can be added between the 28V supply and the voltage regulating LM317. During normal operation the CL LM317 will drop about 3 to 4 volts but otherwise have no effect. When its maximum preset current is reached it will drop whatever voltage is required to maintain current at or below the present limit.</p>

<p>The current limiter shown below is from the bottom of page 17 in the <a href=""http://www.vakits.com/datasheets/LM317.pdf?osCAdminID=eb079516b4ea88673ef41d05e2bcab58"" rel=""nofollow noreferrer"">LM317 data sheet</a>  that you referenced.<br>
 The IC acts to maintain 1.25V across R1.<br>
 So Ilimit = V/R = 1.25/R  and
 Resistor = V/I = 1.25/I   </p>

<p>eg ir R1 = 5 ohms then Ilimit = 1.25/I = 1.25/5 = 0.25 Amp.<br>
 And to set a 500 mA current limit R = V/I = 1.25/0.5 = 2.5 ohm.</p>

<p>Place this circuit between Vsupply (28v)  and the input to the voltage regulator. Note that either or both ICs may require heatsinking.                                                                                                                                                                   </p>

<p><img src=""https://i.stack.imgur.com/Bvynq.jpg"" alt=""enter image description here"">
The pot drops 1.25V (= Vref) across it in all cases. So Power dissipation in the pot = 1.25 x Ilimit. For say 1A max current dissipation = 1.25 x 1 = 1.25 Watt.<br>
 As they note, R1 minimum = 0.8 ohm (based on the assumed maximum current ratin of the LM317 of a nominal 1.5A in some versions). Power then would be about 1.2 Watt. Now assume that the full pot value was 10 times as high allowing a 150 mA minimum current limit. <strong>IF</strong> the maximum current flowed through the whole pot (which is can'tr in this case) the pot dissipation would be about 12 Watts (10 x the minimum resistance dissipation. So an eg 10 Watt wirewound linear pot would probably do an acceptable job.<br>
 If Imax = 1.5A then Rpot at 1.5A = V/I = 1.25/1.5 = 0.83 ohm = sanity checks OK. So full pot value = 8 ohms. Now cheap and put a 0.8 ohm resistor in series with the pot and get a little less dissipation in the pot worst case. </p>

<p>For $US4.37/1 Digikey has <a href=""http://www.ctscorp.com/components/Datasheets/026.pdf"" rel=""nofollow noreferrer"">this 5 Watt, 10 ohm linear rotary pot</a> - lets see how it works out.<br>
 Sadly, the data sheet says little about allowable max currents, overload allowances etc. So ...<br>
 10 ohms, 5W. P= I^2R. I5w = sqrt(P/R) = sqrt(5/10) = 0.71 A.<br>
 Any section of the resistive element should tolerate 0.7A and you can hope fervently that using only part of the track at max current means that heat dissipation will be better and you can rate it somewhat more highly. It may even work. If we decide to limit Ilim max to 1A say the Rmin = Vref/Ilim = 1.25/1 = 1.25 ohm. Use a fixed series 1.25 ohm resistor of at least 2 W rating and the pot can be set at zero for 1A limiting.</p>

<hr>

<p>HOWEVER ...</p>

<p>There are other ways.<br>
 A FET can be used to replace the resistor in the LM317 circuit and gate voltage varied. This is not hard to do but needs designing.</p>

<p>A binary codes switch can be used to select power resistors in 1:2:4:8 ratio allowing a stepped current selection. </p>

<p>BUT ...</p>

<p>The LM317 circuit was an easy introduction to what can be done. By instead using a series MOSFET and a low value fixed sense resistor in the main circuit and an op amp plus variable resistor that carries minimal current, an infinitely variable current limit can be provided at reasonably modest cost and complexity.</p>

<p>Ugly diagram below by way of example. Main merit is that diagram already existed on net :-).  I may draw up a low side more complete version if time allows.   </p>

<p>Current is drawn via Rs. Pot Vr1 sets a voltage point below Vin that drop across Vs is intended to match. If Vs drop is not large enough (ie current below limit) then FET is driven hard on and current limiter has no effect apart from drop in Rs.<br>
 If current exceeds Ilim then drop across Vs exceeds drop across pot and opamp switches to turn off MOSFET as required.  </p>

<p>MOSFET can be either N Channel provided opamp power supply is enough > Vi that MOSFET gate can be driven on. Or MOSFET can be P channel and MOSFET needs only be able to drive to close enough to Vin to turn FET off when required. R2 limits range of Vr1 to a useful range.<br>
 Q1 needs to be able to dissipate up to about  Ilim x Vin if you want to be able to short circuit system continually with  Vout = Vin.  Fold back current limiting or thermal shutdown is probably needed for longer term shorting but as is will save equipment.</p>

<p><strong>UGLY!!! example diagram</strong> </p>

<p><img src=""https://i.stack.imgur.com/ilCnB.jpg"" alt=""enter image description here""></p>
","27501"
"Connecting GSM SIM900A module with Ardunio","18885","","<p>I have bought an SIM900A Mini V4 GSM module. Here is the module,
<img src=""https://i.stack.imgur.com/FVoXF.jpg"" alt=""enter image description here""></p>

<p>I want to configure with arduino to send and receive SMS. </p>

<p>Do I have to connect TXD of this module--Tx of Arduino &amp; RXD of this module--Rx of Arduino or other way around?</p>

<p>There is no datasheet or documents on this new module.</p>

<p>When I search about RXD &amp; TXD, I found this in <a href=""http://www.8052.com/forum/read/152690"" rel=""nofollow noreferrer"">enter link description here</a></p>

<blockquote>
  <p>TxD means ""Data to be transmitted over the comms link"" - which will clearly be an input to the modem; 
  Similarly, RxD means ""Data that has been received from the comms link"" - which will clearly be an output from the modem. </p>
</blockquote>

<p>But I couldn't send or receive SMS using this configurations.</p>

<p>As I am new to this, It would be very helpful if anyone help on this.</p>

<p>Thank you in advance.</p>
","<p>I have a very similar board that is on the photo you posted, but with SIM900A instead of SIM900.</p>

<p>You can't connect the RS232 Serial Port directly to Arduino because of mismatch in voltage. The voltage on these pins is higher than Arduino's 5V. You would need a TTL to RS232 converter to hook up Arduino to those pins.</p>

<p>This board has also another interface to communicate. Those 2 jumpers can be removed and then you have access to 2.8V serial pins. Looking at your photo - there are 6 of them, the bottom 2 are GND, and the top 2 are RX (the one on the left) and TX (the one on the right). The bad news is you also can't directly connect Arduino to these pins. You would need a logic level shifter to shift 5V to 2.8V. I've however used a bluetooth-to-serial module from ebay that outputs 3.3V and risked connecting it to these pins. It works smoothly.</p>
","141671"
"Most used capacitor values","18883","","<p>I'm about to order a bunch of capacitors to keep on hand. What are some commonly used values I should stock up on? I know 0.1uF are good to have for decoupling, but what about others? </p>
","<p>Just buy one of those packs of assorted capacitors that are generally available (they usually have 10 of every value), and replenish the individual values that you find yourself using the most.</p>
","22691"
"When/why would you use a Zener diode as a flywheel diode (on the coil of a relay)?","18866","","<p>I have just been cogitating on the tutorial at <a href=""http://www.electronics-tutorials.ws/io/io_5.html"" rel=""noreferrer"">http://www.electronics-tutorials.ws/io/io_5.html</a>, and in the discussion of flywheel diodes it includes this sentence without further elaboration:</p>

<blockquote>
  <p>As well as using flywheel Diodes for protection of semiconductor components, other devices used for protection include RC Snubber Networks, Metal Oxide Varistors or MOV and Zener Diodes.</p>
</blockquote>

<p>I can kind of see how an RC network might be needed if it is a large device and therefore the coil could be kicking back more current than you want to dissipate through a single diode. (Please correct me if that's not the reason.)</p>

<p>I don't have a clue what an MOV is so for the moment I'll ignore that one. :-)</p>

<p>I have read a bit about Zener diodes, but I don't understand why their lower reverse breakdown voltage might be desirable here?</p>

<p>Edit: I'm also puzzled by the following diagram from the tutorial above:</p>

<p><img src=""https://i.stack.imgur.com/9WpB5.gif"" alt=""enter image description here""></p>

<p>Wouldn't this take any flyback voltage and dump it into the Vcc net? Would it not be a better idea to have the relay coil be between TR1 and ground, and the diode dissipating the flyback voltage to ground?</p>
","<p>The current from the relay opening doesn't go into the Vcc rail at all.  It follows the path shown here:</p>

<p><img src=""https://i.stack.imgur.com/jMxj6.png"" alt=""enter image description here""></p>

<p>The stored energy is dissipated in the diode drop and the coil resistance of the relay.</p>

<p>In the Zener diode configuration, the stored energy is dissipated in the full Zener voltage of the diode.  V*I is a lot higher power, so the current will fall faster and the relay might open a little faster:</p>

<p><img src=""https://i.stack.imgur.com/7b7Mw.png"" alt=""enter image description here""></p>

<p>MOVs are different than Zeners, but fulfill a similar circuit function:  They absorb energy when the voltage exceeds a certain level.  They are used for overvoltage protection, not for precision things like voltage regulators.</p>
","26948"
"Map processor to circuit diagram","18825","","<p>I am a software developer (using high level languages like .NET,C,C++ etc) trying to understand how computers work at a lower level.</p>

<p>I am familar with this diagram: </p>

<p><img src=""https://i.stack.imgur.com/egEUw.gif"" alt=""""></p>

<p>I am trying to gain a high level insight into how the diagram in the link maps to a circuit diagram like this: <img src=""https://i.stack.imgur.com/geioP.gif"" alt=""""></p>

<p>For example, have a look at the assembly language statement:</p>

<pre><code>ADD 1,2
</code></pre>

<p>I am trying to understand how the processor produces '3' as the output.  I realise that this question may be difficult to answer in simple terms.  If it is, then a link would help, perhaps to a book.</p>
","<p>I found my answer <a href=""http://www.youtube.com/watch?v=VBDoT8o4q00"" rel=""nofollow"">here</a>.  It is a high level overview of the process of adding numbers.</p>
","53157"
"Ferric Chloride or Muriatic Acid + Hydrogen Peroxide for etching?","18811","","<p>Currently purchasing the required kit to start etching my own boards and have gotten to the etching solution stage.  Ferric Chloride seems to be the standard for etching but I have also read about <a href=""http://www.instructables.com/id/Stop-using-Ferric-Chloride-etchant!--A-better-etc/#step1"">Muriatic Acid + Hydrogen Peroxide ecthing</a>, which apparently is better all round (both for the environment and my pocket).</p>

<p>Has anyone had any experience with this method of etching?</p>
","<p>I've used the muriatic acid/hydrogen peroxide solution.  It works great when it's fresh, but it does NOT keep for me.  If I go back and use it a couple of weeks later, it just doesn't work.  I haven't pursued proper disposal, yet, so I've accrued a bit of the stuff in mason jars (whose lids are rusting from the acid, by the way).  Once I figure out how to get rid of the acid/peroxide mixture, I think I'm going to try FeCl.</p>
","5561"
"How do I use superposition to solve a circuit?","18770","","<p>Yes, this is a pedagogical question. While answering another recent question, I wanted to refer the OP to concise instructions for using superposition to solve circuits. I found that all the easily found resources online were somewhat deficient. Typically they were unclear about what kinds of circuits superposition applies to, or about the actual method to apply the superposition theorem to a circuit problem. So, </p>

<p>What kinds of circuits can be solved by superposition?</p>

<p>How are different kinds of sources treated when solving by superposition?</p>

<p>What are the steps to solve a circuit using the superposition theorem?</p>
","<p><a href=""http://en.wikipedia.org/wiki/Superposition_theorem"" rel=""nofollow""><strong>Superposition theorem</strong></a><br>
""<em>The superposition theorem for electrical circuits states that for a linear system the response (voltage or current) in any branch of a bilateral linear circuit having more than one independent source equals the algebraic sum of the responses caused by each independent source acting alone, where all the other independent sources are replaced by their internal impedances</em>.""</p>

<blockquote>
  <p>What kinds of circuits can be solved by superposition?</p>
</blockquote>

<p>Circuits made of any of the following components can be solved using superposition theorem</p>

<ul>
<li>Independent sources</li>
<li>Linear passive elements - Resistor, Capacitor and Inductor</li>
<li>Transformer</li>
<li>Linear dependent sources</li>
</ul>

<blockquote>
  <p>What are the steps to solve a circuit using the superposition theorem?</p>
</blockquote>

<p>Follow the algorithm:</p>

<ol>
<li>Answer = 0;  </li>
<li>Select the first independent source.</li>
<li>Replace all independent sources in original circuit except the selected source with its internal impedance.</li>
<li>Calculate the quantity (voltage or current) of interest and add to Answer.</li>
<li>Exit if this was the final independent source. Else Goto step 3 with selecting next source.</li>
</ol>

<p>The internal impedance of a voltage source is zero and that of a current source is infinity. So replace voltage source with a short circuit and current source with open circuit while executing step 3 in the above algorithm.</p>

<blockquote>
  <p>How are different kinds of sources treated when solving by superposition?</p>
</blockquote>

<p>The independent sources are to be treated as explained above. </p>

<p>In case of dependant sources, do not touch them.</p>
","162502"
"Why is there a voltage drop in a twisted pair wires of an UTP cat.5 cable?","18745","","<p>I put 12V DC through a pair of twisted wires of a 50 meters (~160 feet) UTP cat.5 cable and noticed that there was a voltage drop at the other end of the cable. It only had 5V. If I'm feeding the same 12V through <strong>two wires that aren't paired (twisted), I don't get that voltage drop</strong>. What's the phenomenon that causes the voltage drop?</p>
","<p><strong>Summary</strong></p>

<ul>
<li><p>It sounds highly likely that you have got a sample of 'known to exist' Asian sourced knock-off clones of genuine produts, which use variable conductor sizes and resistances within the same cable and copper clad aluminum. </p></li>
<li><p>Applied brand names and labelling can be the same as genuine products. </p></li>
<li><p>Look at the wires closely - if you have copper aluminum it's a cheap fake. </p></li>
<li><p>Measure wire by wire resistances - see below. All should be the same and all should be under 20 ohms per 100m loop resistance. (For exact value - see below). </p></li>
</ul>

<hr>

<p><strong>But first - just in case:</strong> </p>

<ol>
<li><p>I'd measure end to end resistance of each <strong>wire</strong>. As will be seen below, you may get 6:1 (or worse of different) resistances within the same cable. </p></li>
<li><p>You don't say what load you are placing on the cable when getting this result - either in terms of load resistance or current drawn.</p>

<p>If you measure with a voltmeter and with no load the result should be essentially 12 volts. If not then you are doing something wrong or something starange is happening. Voltage drop is caused by current flowiing in a resistance - a voltmeter alone draws ~= zero current so there will be ~= zero voltage drop. </p></li>
</ol>

<p>With a say 10 ohm loop resistance (see below), to get 5V out from 12v in the load resistor would have to be 10 * 5/(12-5) =~7 ohms. Less if your loop resistance was less. If your load is > 7 ohms them summat aglae. Read on ... </p>

<p><strong>What you should see:</strong></p>

<p>Cat 5 cable can be </p>

<ul>
<li><p><a href=""http://www.westpenn-wpw.com/pdfs/BALUNS/CN-AH32PRJ45BNC.pdf"">Westpenn</a> 20, 22 or 24 gauge. Loop resistances per 100 metres are 7 / 11 / 18 ohms </p></li>
<li><p><a href=""http://www.ampnetconnect.com/documents/Enhanced_Cat_5e_Cable_Cut_Sheet.PDF"">AMP Cat5e</a> 24 gauge, 9.4 ohms/100m</p></li>
<li><p><a href=""http://en.wikipedia.org/wiki/Category_5_cable#Copper-clad_aluminium"">Wikipedia</a> 19 ohms.</p></li>
</ul>

<p>BUT</p>

<p><strong>Low quality clones</strong></p>

<ul>
<li><p>Uh Oh !!! <a href=""http://www.electronicspoint.com/re-more-cat5-woes-cca-t234908.html"">Electronicspoint</a> 20 + 40 + 120 ohms, </p>

<ul>
<li>Whilst doing some dc loop resistance tests on some 'certified' cat5e cable I
found that green and orange pairs had 2x the expected resistance, and the blue
and brown pairs had 6x the expected resistance.
<strong><em>Close inspection revealed cooper clad aluminium with the copper thickness
varying depending on the pair</em></strong>....</li>
</ul></li>
</ul>

<p>And other people comment</p>

<ul>
<li>Section 5.6.6.1 of this document
<a href=""http://www.commsalliance.com.au/__da.../S008_2010.pdf"">http://www.commsalliance.com.au/__da.../S008_2010.pdf</a>
gives the Australian requirements for approved telecommunications cables. Other
than coax, which is permitted to use a copper-clad aluminium centre conductor -
provided the centre conductor is at least 2mm in diameter, all other cables must
be either plain copper or plated (tin) copper. Table 3 gives the resistance
requirements.</li>
</ul>

<p>and </p>

<ul>
<li><p>That cable is definitely a Chinese knock-off and is not UL certified.</p>

<ul>
<li>NETCONNECT is a proprietary trade name of AMP (Tyco). Here is the data sheet for their genuine Cat 5e cable. Note this is UL certified with the same number as on your Chinese cable.
<a href=""http://www.ampnetconnect.com/documen..._Cut_Sheet.PDF"">http://www.ampnetconnect.com/documen..._Cut_Sheet.PDF</a></li>
</ul></li>
</ul>
","17931"
"Matlab and RLC analysis","18693","","<p>I'm trying to plot the response of a series RLC circuit to a step function using Matlab.</p>

<p>I've read a bit around it, but I can't get it to work.  Help would be much appreciated.</p>

<p>Here is my Matlab code:</p>

<pre><code>solution = dsolve('square(5, 50) / ((47*10^(-3) * 1*10^(-6))) = D2y + 220/(47*10^(-3)) * Dy + 1/(47*10^(-3) * 1*10^(-6)) * y', 'y(0) = 0', 'Dy(0) = 0', 'x');
ezplot('solution');
</code></pre>

<p>The values of the RLC circuit are:
\$R = 220\Omega\$, \$L = 47\$mH and \$C = 1\mu\$F.
The equation for the capacitor voltage (which is what I'm tring to plot) is:
$$v''(t) + \frac{R}{L}v'(t) + \frac{1}{LC}v(t) = \frac{v_s}{LC}$$</p>

<p>\$v(t)\$ is the capacitor voltage and \$v_s\$ is the source voltage (which is a \$5\$Vpp square wave).</p>
","<p><img src=""https://i.stack.imgur.com/zIBv1.png"" alt=""Description of equations""></p>

<p><img src=""https://i.stack.imgur.com/G92Kt.png"" alt=""Figure swhoing overshoot""></p>

<p>You see there's a slight overshoot, if you are familiar with ""damping coefficient"" (or you can look it up) you'll see that tinkering with the values of L &amp; C will vary the overshoot (or eliminate it).</p>

<p>You can download the PDF instead of the images if you wish to have it on your computer:</p>

<p><a href=""http://bit.ly/StepResponseRLC"" rel=""nofollow noreferrer"">http://bit.ly/StepResponseRLC</a></p>

<p>Any further questions, feel free.</p>
","28579"
"Voltage rating vs. power rating of a resistor","18687","","<p>My question may sound very basic, but I am very confused by the difference between the voltage and power ratings of a resistor.</p>

<p><a href=""http://www.vishay.com/docs/49873/49873_sg2113.pdf"">Vishay's document</a> says:</p>

<blockquote>
  <p><strong>Rated Power</strong></p>
  
  <p>The maximum amount of power that can be continuously loaded to a resistor at 
  a rated ambient temperature. Network 
  and array products have both rated power per package as well as per element.</p>
  
  <p><strong>Rated Voltage</strong></p>
  
  <p>The maximum value of DC voltage or AC voltage (rms) capable of being applied continuously to resistors at the rated 
      ambient temperature.</p>
</blockquote>

<p>I read <a href=""http://www.farnell.com/datasheets/1755795.pdf"">this datasheet</a> for a <a href=""http://se.farnell.com/te-connectivity/crgh0603j27r/resistor-power-27r-0-2w-5-0603/dp/2331704"">27Ω, 0.2W resistor</a>. Page 3 of the datasheet shows this formula:</p>

<p>\$ RCWV = \sqrt{P\times R}\$</p>

<blockquote>
  <p>Where RCWV = Rated DC or RMS AC continous working voltage at
  commercial-line frequency and waveform(volt)</p>
  
  <p>P = power rating (watt)</p>
  
  <p>R = nominal resistance (ohm)</p>
</blockquote>

<p>The above 27Ω resistor on the link has 50V voltage rating and 0.2W power rating, then I place the values into the provided formula</p>

<p>\$ RCWV = \sqrt{0.2\text{W} \times 27\Omega}=2.32V\$</p>

<p>Could anyone explain me why the voltage rating is 50V, not 2.32V?</p>

<p>When I want to calculate the maximum current that the resistor can stand using the power rating of the resistor (0.2W):</p>

<p>\$ P=I^2 \times R \$</p>

<p>\$ I = \sqrt{\dfrac{P}{R}} = \sqrt{\dfrac{0.2\text{W}}{27\Omega}} = 86\text{mA}\$</p>

<p>If I use the voltage rating:</p>

<p>\$ I = \dfrac{V}{R} = \dfrac{50\text{V}}{27\Omega} = 1.85\text{A}\$</p>

<p>By looking at these results, I should use the power rating, right?</p>
","<p>The voltage rating is for the resistor series typically and specifies the maximum peak voltage you can apply without danger of damaging the resistor due to corona, breakdown, arcing, etc.</p>

<p><strong>The power rating is completely independent of the voltage rating.</strong> It specifies the maximum steady state power the package is able to dissipate under given conditions.</p>

<p>You have to conform to both specs. If placing the maximum voltage across the resistor results in more power than the spec allows you have to reduce the voltage until you meet the spec.  Likewise you can't increase the voltage above the rating just because you're not hitting the maximum power limit.    </p>
","118493"
"How to understand the SR Latch","18631","","<p>I can't wrap my head around how the SR Latch works. Seemingly, you plug an input line from R, and another from S, and you are supposed to get results in Q and Q′.</p>

<p>However, both R and S require input from the other's output, and the other's output requires input from the other other's output. What comes first the chicken or the egg??</p>

<p>When you first plug this circuit in, how does it get started? </p>

<p><img src=""https://i.stack.imgur.com/Zel68.png"" alt=""SR Latch""></p>
","<p>A perceptive question.  In fact, if you build this latch in a simulation program, it will indeed show you that it can't predict what state it will start in:</p>

<p><img src=""https://i.stack.imgur.com/mMmIM.png"" alt=""RS latch with NOR gates, most signals are colored RED for &quot;unknown&quot;""></p>

<p>But if you set one of the inputs high (those are pushbuttons on the left), the signal will propagate through (remember, 1 OR [anything] equals 1) and the circuit will latch that state:</p>

<p><img src=""https://i.stack.imgur.com/KPwpk.png"" alt=""Same latch; one input is high; the lines all turn light or dark green""></p>

<p>These are NOR gates, so the inverted output goes low when either input is high.  The program I used is Logisim. It is small, and I recommend it for starting out.  Logic compilers (FPGA and everything else) love to complain about uninitialized states.  This was a great first example.</p>

<p>Now, I know that in real life, the circuit will randomly latch into one or the other state on its own.  Many others have pointed that out. But sometimes, it's important that it reliably start in one state or another, and that's what all the warnings are about.</p>
","61843"
"How to re-solder fine broken flex cable connection to pcb","18617","","<p>I have a phone where the volume button button flex cable has been partially pulled away from the PCB. See this photo for what it would have looked like before being damaged:</p>

<p><a href=""http://guide-images.ifixit.net/igi/noJObJXR2ZSfniZV.large"" rel=""nofollow"">http://guide-images.ifixit.net/igi/noJObJXR2ZSfniZV.large</a></p>

<p>It's the orange flex cable connection at the center top of that image. There are three connections on the flex cable, the top two have separated from the pcb, the bottom one is still attached.</p>

<p>Can someone advise me what I need to re-solder this? The phone has other problems which may not be fixable so I'd like to attempt this myself as a learning experience rather than sending to a workshop. As well as the partially attached volume flex cable I also have a second identical (but not working) PCB with its volume button still attached. So if I remove that I also have a second chance to solder a volume flex cable to the good PCB if I mess up reconnecting the partially disconnected one. </p>

<p>Some questions that come to mind:</p>

<ol>
<li><p>Should I detach the partially detached flex cable completely with a soldering iron? (i.e. separate the remaining third connection on the flex from the PCB), or should I just attempt to re-solder the two broken connections?</p></li>
<li><p>The tiny amount of solder that had made the connection on the two broken connections looks to still be attached to the flex cable, can I just try to re-solder by melting this to the pads on the PCB or do I need to remove this from the flex cable and start again with fresh solder?</p></li>
<li><p>What kind of solder do I need? Do I need separate flux or just electronics solder wire? </p></li>
</ol>

<p>Below is a video of someone doing exactly what I need to do with a near identical PCB and volume button flex cable, but there are no instructions/commentary to elaborate on what the video shows, so I'm not sure if I understand correctly. </p>

<p>The video shows the repair of both a volume flex cable and power button flex cable on a single PCB. First the damaged volume/power flex cables are removed from the PCB, then a good volume flex cable is removed from a donor PCB and attached to the target PCB. Then a good power button flex cable is removed from the donor PCB and attached to the target PCB. In addition to my original three questions above, could you say if my understanding of the different points of the video explained below are correct and answer the queries where I don't understand?</p>

<p><a href=""http://www.youtube.com/watch?v=1F6C13O76qk"" rel=""nofollow"">http://www.youtube.com/watch?v=1F6C13O76qk</a></p>

<p>0:10 Add solder to iron tip, gently remove old volume flex cable with iron tip.</p>

<p>0:30 Clean bare solder pads on PCB by gently scraping with iron tip (and some solder?)</p>

<p>1:01 Apply something to the bare pads with a small paintbrush, glue or flux? If it's glue, what kind?</p>

<p>1:16 Attach volume flex to PCB pads, solder connection (i.e. using the remnants of solder left on the flex cable from its removal from the donor PCB board?)</p>

<p>1:31 Apply some extra new solder if required to make the connection secure?</p>

<p>3:04 Here the power button flex cable is being attached. It looks like before this he has followed the same procedure as with the volume button but then he adds something more with the paintbrush after doing some soldering, and then does some more soldering. What is on the paintbrush at 3:04? Why does he do this in this instance for the power button flex cable but not previously when attaching the volume button flex cable (in that case he added something with the paintbrush to the pads before attaching the flex cable but not halfway through soldering the connection).</p>

<p>If you have any other hints/tips, please let me know. I have to buy the soldering iron and solder and anything else I need (would soldering wick and/or flux be useful for example)? So any other suggestions welcome.</p>

<p>Thanks.</p>
","<h2>In answer to your questions,</h2>

<ol>
<li><p>Remove the third lead, this will let you clear/prepare the pads for re-soldering.</p></li>
<li><p>Its probably best to flick the old solder of the leads, do this by heating and bending the lead with the tip of the iron and letting it spring back, <strong>DO NOT DO THIS TOWARDS YOUR FACE!</strong></p></li>
<li><p>You can buy solder with a flux core. Also, if you can get it, buy lead solder, it is MUCH nicer to work with. </p></li>
</ol>

<h2>As regards the vid:</h2>

<p>Yes the guy tins his iron to remove the leads, yo should always tin (add solder to your iron tip) before you do anything, it stops the tip oxidising. It also helps when melting old solder. </p>

<p>To clean the pads generally I would put a bit of new solder on, then wick it off to give a nice clean and shiny surface. </p>

<p>He is applying flux, this will stop the solder ""balling up"" and sticking to stuff it shouldn't. You can do this, but if you are careful, and have flux core solder, you wont need to. </p>

<p>As regards the rest of your questions, this is just about technique. The guy seems to tack solder (a connection made to hold it in place) the leads at first. When the whole lead is tack soldered he goes round and tidies up the job.</p>

<h2>So what YOU need to do.</h2>

<ol>
<li><p>Remove the lead - Tin and clean the pads and flick the old solder of the end of the lead (<strong>NOT TOWARDS YOUR FACE!</strong>)</p></li>
<li><p>Add a little solder to each of the pads</p></li>
<li><p>place each lead above the pad and push down gently whilst touching the tip of the iron to the solder you placed on the pad. Make sure you remove the iron before removing the pressure.  </p></li>
<li><p>When all connections are made, get some tweezers and push down on each lead in turn, melting the solder on the pad with the tip of the iron so the lead is properly flat on the pad.</p></li>
</ol>

<p>Remember! Before you touch the iron to anything, make sure you have applied some solder to it and wiped it off on a sponge. </p>

<p>Also, if you are buying new equipment, when you first turn the iron on, keep adding solder to the tip and wiping it off. You need to thoroughly tin/protect the tip before you start using it. You can get little pots of hard flux, this is useful and it will help remove the crud on the tip due to oxidation. Also, tin it and DON'T wipe it off when you are done, the tip will still be hot for a while after you switch it off.       </p>
","78922"
"How does a flame sensor or thermocouple operate with just one wire?","18586","","<p>I am learning electronics and I just got stumped. I was just looking at a flame sensor and it appears to have only has one connector. </p>

<p>I thought sensors in general need two wires to form a complete circuit. How can current travel from the flame to the rod to create a complete circuit?  If you wanted to measure the voltage or current of the sensor on an open flame, how can this be done with a multimeter? What do you reference it against? I thought the metal collar was a grounding point, but this is used to bolt the sensor to a furnace. Is the furnace acting as a reference point?</p>

<p><img src=""https://i.stack.imgur.com/jOqsa.jpg"" alt=""enter image description here""></p>
","<p>The Flame rod in your picture is not a thermocouple.</p>

<p>The other connection in the circuit is the flame being in contact with a metal surface that acts as a ground.</p>

<p>Most every flame rod system I have worked on puts and AC voltage on the flame rod.  Depending on the system this voltage may be between 80 and 300 volts.</p>

<p>Without a flame present in the system you can only verify an AC voltage from the Flame Rod to ground.</p>

<p>When a flame contacts the flame rod part of the flame MUST be in contact with a metal surface - such as a nozzle where the gas and air combine.</p>

<p>A DC electrical current is established that flows from the flame rod through the flame and to ground.  The DC current can be measured with a micro amp meter in series.  </p>

<p>I believe that the general principal is that the AC voltage ionizes carbon particles in the flame which conduct the current.  Gas and air mixtures affect the flame rod signal.  </p>

<p>IF the flame pulls away from the nozzle, such as a higher firing rate, there will be intermittent flame detection as the ground path is usually lost.</p>
","148431"
"Why does measuring the voltage drop across a thing not simply measure the battery voltage?","18578","","<p>Imagine a trivial circuit with battery and one resistor. To measure the ""voltage drop"" across the resistor, we stick a voltmeter in parallel with it. However, this means the voltmeter is also directly electrically connected to the terminals of the battery. Therefore, why doesn't it simply measure the battery voltage, regardless of the resistor?</p>



<p><img src=""https://i.stack.imgur.com/yAuiV.png"" alt=""schematic""></p>



<p>I hypothesized that the answer is because some of the available voltage/pressure/force/power/energy/magic/whatever-it-is from the battery is being drained through the resistor, it will not be passing through the voltmeter and will therefore not be measured by it, but this still doesn't fit, because that means the voltmeter is not measuring the voltage drop; it's measuring the voltage that <em>wasn't</em> dropped. If the battery supplies 5 V and voltmeter reads 4 V, how is 4 V possibly the voltage drop of the resistor, when the available voltage has actually dropped by 1 V and I still seem to have a non-dropped 4 V to play with?</p>

<p>I guess I really do not understand what the voltage drop is supposed to mean. I don't know why the resistor is dropping voltage at all, when it is supposed to resist current. I'm so lost.</p>
","<p>[I'm ignoring non-ideal behavior since that doesn't seem to be what you're interested in.]</p>

<p>Your assumption is wrong. Measuring the voltage drop across the resistor does measure the battery voltage. The battery voltage and the resistor voltage are the same in your circuit. The general rules are:</p>

<p><strong>Components in parallel share the same voltage</strong></p>

<p><strong>Components in series share the same current</strong></p>

<p>Ideally, adding or removing the resistor doesn't change the voltmeter's measurement at all. The battery, the resistor, and the meter are all in parallel, so they all share the same voltage. If the battery voltage is 5 V, then the resistor voltage and the meter voltage must also be 5 V.</p>

<p>Voltage is basically a measurement of potential energy due to an electric force field. If you go around the circuit in a loop, you end up back at the same potential, which means you lose whatever energy you gained along the way. (Gravity also works this way.) When you move from negative to positive through a battery, you gain energy. When you move through a resistor, you lose energy. If a battery and a resistor are in parallel and you move around that loop, the energy gained in the battery will equal the energy lost in the resistor. In other words, their voltages are the same! This principle is called <em>Kirchhoff's Voltage Law</em>. More formally, it says that <em>the sum of the voltages around a closed loop must equal zero</em>.</p>

<p>Resistance describes a relationship between the voltage across the resistor and the current through it. So resistors do ""resist"" the flow of current, but the way they do that is by dissipating energy. It's similar to the way that friction resists the movement of an object.</p>

<p>Now as others have pointed out, in real life a battery is not an ideal voltage source. The voltage of a real battery changes depending on how much current is being drawn and how much charge is left. So in real life, adding a resistor can change the battery voltage. But the battery voltage and the resistor voltage will still be (almost) equal. (The parasitic resistance of the wires is normally very small.)</p>

<p>Hopefully this has clarified things. Please feel free to post follow-up questions if you're still confused.</p>
","175998"
"Is ARM a microprocessor or microcontroller?","18551","","<p>I have been having a hard time trying to know if ARM is a microprocessor or microcontroller or something else?</p>
","<p>Neither.</p>

<p>ARM is a CPU architecture (more accurate, a family of related CPU architectures). If you put that CPU (or anyother) CPU on a chip all by itself, you have a microprocessor (like they did in the age-old Acorn machines). If you combine it with ROM (Flash), RAM and peripherals on one chip, you have a microcontroller (example: LPC2148).</p>

<p>Things can get a bit muddy when you combine the CPU with ROM and RAM, but also provide the data, address and control lines on the pins, so external memory can be added. Such a chip is can be used either in microcontroller mode, or in microprocessor mode. (example: LPC2478)</p>

<p>Nowadays smaller systems (up to 0.5Mb Flash, a few 10's Kb RAM) are available as microcontroller. Larger systems (typically running a Linux or something similar) are typically composed of a microprocessor with external RAM. (ROM can be external too, or a small boot-rom on chip + an SD card or similar). Examples: The Raspberry Pi and other small Linux boards, the ESP8266, or open up any mobile phone, set-top box, modem/router, etc.</p>

<p>Funny note: microcontrollers tend to be short on RAM, hence the run from Flash, which often limits their speed. Microprocessors often have plenty RAM, have a slower Flash, from which the code and data is loaded into RAM for execution.</p>

<p>Nowadays (2015) the term ARM is increasingly confusing, because it can refer to the company that makes the ARM designs, or to one of the designs. (The ARM company itself does not make chips, it licenses its designs to chip makers.) The recent Cortex 'family' of designs is sufficiently different from  the old ARM designs that I prefer not to call it 'ARM'.</p>
","34086"
"What are Guard Rings?","18550","","<p>I have heard about <code>Guard Rings</code> many times, and I know they are supposed to avoid currents in places where there shouldn't be no currents, but I never found a good text to read more about it.</p>

<p>Can someone describe them properly or please recommend some material to further reading?</p>
","<p>From my answer to an <a href=""https://electronics.stackexchange.com/questions/24852/implementing-guard-trace-ring-in-pcb-design"">earlier question</a>: </p>

<blockquote>
  <p>A guard ring is traditionally used to protect high impedance nodes in a circuit from surface leakage currents. The guard ring is a ring of copper driven by a low-impedance source to the same voltage as the high impedance node. This would typically be the input pin of an op-amp.</p>
  
  <p>Here's an example of a classic guard ring layout for a metal can op-amp from National Semi's <a href=""http://www.ti.com/lit/an/snoa664/snoa664.pdf"" rel=""nofollow noreferrer"">AN-241</a>: </p>
  
  <p><img src=""https://i.stack.imgur.com/WgfhW.png"" alt=""Guard ring layout""> </p>
</blockquote>

<p>The way this works is, say there's a low-impedance node nearby, like <code>V-</code> in the picture. Current can't flow from <code>V-</code> to the susceptible input pins, because it will reach the guard ring first, and be consumed by the source that's driving the guard ring. At the same time, the guard ring won't drive any leakage current of it's own onto the susceptible node, because it's kept at a very similar potential.</p>
","106976"
"How can I design a 4-to-16 decoder using two 3-to-8 decoders and 16 two-input AND gates?","18549","","<p>I have an idea of how to get started, but not sure where to go from there.</p>

<p>Since I am using two 3-8 decoders to develop a 4-to-16 decoder, I want to use 4 inputs out of the two 3-8 decoders.  So I'll use all three of the first and the first of the second, and connect the last two inputs to ground, since they won't be used.</p>

<p>Any pointers on where to go from here are appreciated.</p>
","<p>you have to design a 4x16 decoder using two 3x8 decoders. here is the schematic that may help you.</p>



<p><img src=""https://i.stack.imgur.com/cx5Ru.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fcx5Ru.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>the two squares are two 3x8 decoders with enable lines. the three selection lines of each decoders are connected together as common line(X,Y,Z) , the enable lines are ACTIVE LOW, they are also connected together with a common line W , but the second one having a NOT gate connected within. So, there are now 4 selection inputs i.e W,X,Y,Z. For the values 0000 to 0111 ,the first decoder will turn on giving the decoded outputs 0 to 7 , and for 1000 to 1111 , the second decoder will turn on , giving decoded output 8 to 15. How? Because for the first 8 combinations, the W bit is 0 , so it is a 1 for the first decoder, and enable line is on(ACTIVE LOW) , but it goes through a NOT GATE and then to the ACTIVE LOW enable port of the second decoder, so it remains 0 , so the second decoder doesn't activate. then for the next 8 combinations, the W line is 1 , which becomes 0 inside the 1st decoder(ACTIVE LOW) and the 1st decoder turns off, but it goes through a NOT gate and then ACTIVE LOW enable port of 2nd decoder, becomes a 1 and activates the next outputs 8 to 15. so you get a total 16 outputs (0-15) </p>

<p>If you use two 3x8 decoders you need not use 16 AND gates, and If you want to use AND gates only, then think about the internal circuitry of a decoder, think of this diagram , and you can easily construct using AND gates.</p>
","157484"
"How is generator output voltage kept constant?","18520","","<p>I read that if we increase the load at the terminals of a generator, the current driven from the generator will increase which will slow down the generator. But for this to happen the generator should output constant voltage. How does it achieved? And if there is no voltage regulation (just a generator and we increase the load step by step), what would happen? </p>
","<p>I am going to assume you are referring to wound rotor Synchronous generators. </p>

<p>There are two main aspects to consider when you are dealing with such generators.</p>

<ol>
<li>Field control</li>
<li>Damper Bars/Windings</li>
</ol>

<p>To generate electricity the shaft obviously has to be rotated but there also needs to be some form of field on the rotor. This is provided by either brushes or a brushless (rotating diode) arrangement. This produces a DC excitation field on the rotor that can be controlled from the stators mechanical frame of reference (ie non-rotating)</p>

<p>What method is chosen is a system specific consideration but both provide means to control the rotor flux. Such a controlling system can be referred to as a Generator Control Unit (GCU) </p>

<p>A certain rotor field for a given rotor speed will produce a certain magnitude sinus waveforms at the stator terminals (the frequency of that is related to the speed of rotor rotation &amp; the number of pole pairs on the stator).</p>

<p>The terminal voltage can thus be controlled via the strength of the excitation field. By providing a closed-loop controller that measures the terminal voltage w.r.t. a desired value, the terminal voltage can be maintained across the load range simply by varying the rotor's excitation field strength. </p>

<p>Damper bars/windings are a secondary means to help facilitate the terminal regulation. They are buried deep within the stator winding slots and essentially they aim to short-circuit the magnetic circuit in the event of high di/dt which may occur during load applying or shedding. This help to mitigate massive terminal over-voltage (load-shedding) or machine stalling (load applying) until the GCU control loop can ""catch up"" </p>
","138446"
"Using a 16 MHz crystal on a ATMega328p","18485","","<p>How would I need to set my fuse bits on a ATMega328p  to use a 16MHz crystal?  I tried this on my own and killed the last atmega I had.  I'd like some advice this time.</p>

<p>The crystal I am using is <a href=""http://www.sparkfun.com/commerce/product_info.php?products_id=536"" rel=""nofollow noreferrer"">this one</a> </p>

<p>I am assuming this is a ""Full Swing Crystal Oscillator"" as listed in the datasheet, so CKSEL3..1 should be 011</p>

<p>Then I need to set the startup time.  I'm assuming the ""Crystal Oscillator, slowly
rising power"" is the safer option so CKSEL0 should be 1 and SUT1..0 should be 11.</p>

<p>I don't want to divide the clock by 8 so CKDIV8 should be 1</p>

<p>CKOUT I will leave at the default of 1</p>

<p>If my assumptions are correct (and how do I verify that?) my lfuse bit settings will be 0xf7.</p>

<p>Am I doing this right?</p>

<hr>

<p>This didn't work.  See <a href=""https://electronics.stackexchange.com/questions/717/troubleshooting-an-atmega328p-clock-setting"">here</a></p>
","<p>Arduino uses low fuse setting of 0xff for ATMega328p, which is the same as 0xf7 except crystal is not programmed as full swing. Full swing is recommended for speeds over 8MHz and especially if multiple units use same clock source.</p>
","702"
"Why can I put an electrolytic capacitor on AC?","18457","","<p>I have seen here and there schematics with electrolytic capacitors put on AC. And this sounds weird to me.</p>

<p>Electrolytic capacitors have a polarity, right? If we invert the polarities on DC, bad things happen. As far as I understand, AC inverts polarity every now and then (commonly 50Hz). Why can we put such capacitors on AC without damaging them?</p>

<p>Example:</p>

<p><img src=""https://i.stack.imgur.com/rVYBB.png"" alt=""schematic""></p>

<p>from demonstration here: <a href=""http://youtu.be/qdXbnhb1bVo?t=5m57s"" rel=""noreferrer"">http://youtu.be/qdXbnhb1bVo?t=5m57s</a></p>
","<p>""Can"" and ""should"" are two things. Should you do this? No: this use is outside the specified operating parameters of ordinary electrolytic capacitors. You seem to understand this already. Can you do it? Yes, as the video demonstrates. To understand why requires some understanding of what's inside the capacitor.</p>

<p>A capacitor is two conductors (usually plates) separated by an insulator. The more surface area, and the closer together they are, the higher the capacitance. Electrolytic capacitors have a thin film rolled up in the can. This film is covered in a thin oxide layer, and the thinness of this layer is what gives electrolytic capacitors their high capacitance relative to their size.</p>

<p>This oxide layer is created by the chemistry of the materials in the capacitor, and the polarity of the voltage applied to each side of the film. A voltage applied in the correct direction builds and maintains the oxide layer. If the polarity is reversed, the oxide layer dissolves.</p>

<p>If the oxide layer dissolves, you no longer have an insulator between the two plates of the capacitor. Instead of two plates separated by an insulator, you have two plates separated by a conductor. Instead of a device that blocks DC, you have a device that conducts it. Basically, you have a wire in a can.</p>

<p>Usually, when you encounter this failure mode, a large current flows, rapidly heating the internals of the capacitor. The expanding fluid and gas ruptures the safety vent or the can explodes.</p>

<p>Why then, does the capacitor in this example not explode?</p>

<h3> The reverse polarity voltage is never applied for very long, and never without a correct polarity voltage applied soon after to repair whatever damage was done.</h3>

<p>The oxide layer doesn't dissolve instantly when a reverse voltage is applied; it takes time. The time depends on the voltage applied, the size of the capacitor, the chemistry, etc, but half a cycle of 50 Hz AC is probably not long enough to cause serious damage. When the other half of the cycle comes around, the oxide layer is restored.</p>

<h3>Any fault current is significantly limited by the series resistors.</h3>

<p>With those resistors in series, the power available to heat the capacitor is small. There simply isn't enough power available to catastrophically destroy the capacitor because most of the available energy goes into the resistors. Perhaps you just warm the capacitor slightly. When the voltage reverses direction, the oxide layer can reform.</p>

<p>Probably you still damage the capacitor eventually, to some extent, but it is operational enough for the demonstration.</p>
","66903"
"Why use capacitors with crystals?","18435","","<p>Whenever I come across crystals used in any of MCU or Processor, whether it be 32.768 kHz responsible for Real Time Clock or 25 MHz crystal required for clocking different interfaces connected with the MCU or processor. There are always two capacitors connected with the Quartz Crystal as shown in the fig.<img src=""https://i.stack.imgur.com/Tm8Un.gif"" alt=""Capacitor with crystal""></p>

<p>I have few questions here:</p>

<ol>
<li>What will happen if don't connect capacitors with the crystal?</li>
<li>How is the value of these capacitors decided? </li>
<li>While checking crystals <a href=""http://www.mouser.com/ds/2/3/ASDMB-29928.pdf"" rel=""noreferrer"">datasheet</a>I will come across a specification like stability +/-5ppm or +/-10ppm. what is the significance of this term?</li>
<li>And what are 2nd overtone and 3 overtone crystals?</li>
</ol>
","<p>You are actually building an oscillator circuit, using a crystal, some capacitors, and the internal circuitry of your microcontroller.  If you don't use the caps, your clocking won't work.  The values are calculated based on the properties of the crystal, as described in <a href=""http://ww1.microchip.com/downloads/en/appnotes/00826a.pdf"">http://ww1.microchip.com/downloads/en/appnotes/00826a.pdf</a>, page 9</p>

<p>Essentially, the load capacitance of the crystal, \$C_L\$, is set equal to the combination of the capacitors you're adding and the shunt capacitance of the crystal, so</p>

<p>$$ C_L = \frac{C^2}{2C} + C_{shunt}
$$</p>

<p>The ppm figures specify the (in)accuracy of the crystal (when properly used): 5 ppm is 5 parts per million.</p>

<p>Second and third overtones involve driving the crystal into resonance at a harmonic.  I suggest not trying this.</p>
","75705"
"Which Eagle part to use for this 2-pin Screw Terminal?","18428","","<p>This is my first EAGLE design and I'm looking to add some a number of <a href=""https://www.sparkfun.com/products/8084"" rel=""nofollow noreferrer"">2-position screw terminals (3.5mm pitch)</a> <code>PRT-08084</code>.</p>

<p><strong>Problem:</strong> I can find the EAGLE part for the 3-position variant named as <code>M03SCREW_LOCK</code> from the <a href=""https://github.com/sparkfun/SparkFun-Eagle-Libraries"" rel=""nofollow noreferrer"">Sparkfun EAGLE library</a>. However I cannot seem to find a part called <code>M02SCREW_LOCK</code>. </p>

<p>Will <code>M023.5MM_LOCK</code> be suitable? What should we be looking out for to be sure it's suitable?</p>

<p><img src=""https://i.stack.imgur.com/vWDy9.png"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/LnsfN.png"" alt=""enter image description here""></p>
","<p>You should find similar connectors in <code>con-phoenix-350</code> library.</p>

<blockquote>
  <p>What should we be looking out for to be sure it's suitable?</p>
</blockquote>

<ul>
<li>distance between pins</li>
<li>pin hole diameter</li>
<li>copper pad diameter/area</li>
<li>clearance to other parts</li>
</ul>
","115762"
"Does this photodiode circuit work?","18423","","<p>Oli used this circuit </p>

<p><img src=""https://i.stack.imgur.com/bNe8A.gif"" alt=""enter image description here""></p>

<p>in an answer, and it pops up a lot on Google images too. But does it work? If it does a theoretical explanation will be welcome.</p>
","<p>According to this, the photodiode does indeed produce a current even when there is zero volts across it; it's the <em>short circuit current</em>.  Note that the reference direction of \$I_S\$ in the question's diagram is opposite that of the \$I_{SC}\$ of the diode so the output voltage is:</p>

<p>\$V_{OUT} = - I_S \cdot R_F = I_{SC} \cdot R_F\$ </p>

<p><img src=""https://i.stack.imgur.com/dXb0t.png"" alt=""enter image description here""></p>

<p>I found the above <a href=""http://sales.hamamatsu.com/assets/applications/SSD/photodiode_technical_information.pdf"" rel=""noreferrer"">here</a>.</p>

<p>A reasonable question to ask is <em>how can a current be produced with zero voltage</em>?  </p>

<p>Remember that there's an <em>internal</em> E field through the depletion region even when the diode terminals are shorted together. Briefly, light generated EHPs in the vicinity of the depletion region are separated by the E field resulting in charge accumulating in the P and N sides (that's how \$V_{OC}\$ is developed). A short circuit allows a current to restore charge balance. </p>
","36108"
"Arduino Uno, weird characters sent to COM (SoftwareSerial)","18412","","<p>I'm trying to send ASCII characters from Arduino UNO to a computer serial port. I'm using a cable with a male COM connector, attached to the computer's serial port, and three wires (TX, RX and Ground) on the Arduino side.
I used pins 12, 13 and Gnd as shown in the picture:</p>

<p><img src=""https://i.stack.imgur.com/evEA6.png"" alt=""Arduino and COM interface""></p>

<p>And I am running this piece of code to send a string every second on the serial port:</p>

<pre><code>#include &lt;SoftwareSerial.h&gt;

SoftwareSerial mySerial(13, 12); // RX, TX

void setup()  
{
  mySerial.begin(9600);
}

void loop()
{
  mySerial.println(""Hello world"");
  delay(1000);
}
</code></pre>

<p>But, when I read that port (at the right 9600 speed), instead of ""Hello world"" I get strange characters instead:</p>

<p><img src=""https://i.stack.imgur.com/rNGtQ.png"" alt=""enter image description here""></p>

<p>I thought I had set the pin erroneusly, so I swapped RX with TX, but I get a different but still wrong output:</p>

<p><img src=""https://i.stack.imgur.com/nYFYW.png"" alt=""enter image description here""></p>

<p>What am I doing wrong?</p>
","<p>The Arduino UART produces TTL level signals, that is 5V for high and 0V for low. A PC's RS232 port expects full RS232 voltages which can be -9V to +9V and are inverted.</p>

<p>Either use a TTL level serial adapter (such as those from FTDI) to interface to the PC. Or use a level converter like the MAX232.</p>
","42587"
"What is the difference between 1-phase and 3-phase motors?","18411","","<p>I've read the wiki page on AC motors, but it's still unclear to me as to how they work. I'm looking at motors for a project and need them to be able to have their speed controlled by a light dimmer (for various speed settings). While doing this, a lot of the motors were marked as 1-phase or 3-phase.</p>

<p>What is the difference? Does it have anything to do with the possibility of speed variance?</p>
","<p>Polyphase AC induction motors work by creating an rotating magnetic field. Creating a rotating magnetic field requires phase-shifted sinusoidal currents. For instance, two that are shifted by ninety degrees (called a quadrature), or three phase. </p>

<p>Single phase motors either use a nonrotating magnetic field (one that pulsates), or else they generate two-phase power internally with the help of a capacitor. Some designs just use capacitors for starting, or a large capacitance for starting, and a smaller one for running. You can see these capacitors: they are the one or two ""cans"" attached to the sides of a motor.</p>

<p>This page on All About Circuits has notes about single-phase motors: <a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/9.html"" rel=""nofollow"">http://www.allaboutcircuits.com/vol_2/chpt_13/9.html</a></p>

<p>This page introduces AC induction motors:
<a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/7.html"" rel=""nofollow"">http://www.allaboutcircuits.com/vol_2/chpt_13/7.html</a></p>

<p>This is the top page for motor topics: <a href=""http://www.allaboutcircuits.com/vol_2/chpt_13/1.html"" rel=""nofollow"">http://www.allaboutcircuits.com/vol_2/chpt_13/1.html</a></p>

<p>Regarding speed, induction motors develop power through lag between the rotating armature and the rotating magnetic field set up by the stator coils. If the armature rotates at the same speed as the magnetic field, that is called ""synchronous speed"". A deviation from that speed is called ""slip"".  A motor runs at close to synchronous speed when it is unloaded and does not perform work. When a load is put on it, its speed slips and that causes it to deliver power. The power rises with increasing slip up to a point, and then it drops off. If you block a vacuum cleaner hose, you can hear the motor speed up. The reason for that is that the motor is actually working less hard (not moving air), and so it increases toward synchronous speed.</p>

<p>Controlling the speed of this type of motor is a tricky business because the synchronous speed is related to the frequency of the power line.</p>

<p><a href=""http://en.wikipedia.org/wiki/Induction_motor#Speed_control"" rel=""nofollow"">http://en.wikipedia.org/wiki/Induction_motor#Speed_control</a></p>

<p>A triac-based light dimmer doesn't change the frequency. You may have some success regulating speed with a dimmer but it's not going to be very accurate. Basically it will choke off current to the motor, which will cause it to slip more under the same load.</p>
","48974"
"Making a Functional Computer out of an Arduino Uno","18382","","<p>Any Arduino enthusiasts out there?</p>

<p>Hey, I've been thinking about this and the more I think about it, the more I think I can actually do this. My idea is basically this: Make a functional computer out of an Arduino Uno microcontroller.</p>

<p>My only goal for this computer is the ability to edit and execute BASIC programs. That's all. I only want it for the programming, as that's just about the only thing I'm interested in right now :)</p>

<p>So the way I see it, I'll need three main hardware components: </p>

<ol>
<li>some form of a display (VGA screen or something) </li>
<li>some way to register keyboard input, and </li>
<li>some way to store data to external memory. </li>
</ol>

<p>Does anyone know of any way to do this? I know of ways to display to a screen, but I don't know a good API/hardware component to register keyboard input or to store external memory.</p>

<p>I'm going to need a lot of help on this. Can anyone help me out and offer ideas and useful tips and suggestions for good hardware / a good open source library, or two, or three, or ten?</p>

<p><strong>Added:</strong></p>

<p>Blog <a href=""http://hairbrainedprojects.blogspot.com/"" rel=""nofollow"">Making an Arduino Uno Computer</a> for anyone who's interested.</p>
","<p>The keyboard can be done simply using a PS/2 keyboard - it's just serial, and there's plenty of tutorials out there for it.</p>

<p>Storing data can be done simply on an SD card - there is a shield out there already to do that.</p>

<p>As for the video - that's considerably harder.  If you want the Arduino to generate a PAL video signal for instance then you have your work cut out for you.  Yes, it is possible, and someone has created an Arduino ""pong"" game, but it's very chunky graphics and only black and white.</p>

<p>For VGA you will require some form of interface to do the work for you.  Sparkfun used to sell the <a href=""http://www.sparkfun.com/products/8541"">Picaso video card</a> that could be made to work with the Arduino, but alas that has been discontinued and there are no plans as yet for a replacement.</p>

<p>TBH your best bet would be to use something like a <a href=""http://en.wikipedia.org/wiki/Wyse"">Wyse terminal</a> and communicate with the Arduino completely using serial.  Much simpler than messing with video signals and such. </p>
","19795"
"Possible causes for AAA battery to explode","18362","","<p>Today, the AAA battery in my remote control exploded. The ""pop"" sound is pretty loud. I've been using this remote control for years, and I'm more inclined to believe that it is the battery issue rather than the circuit issue, because if it was the circuit problem, the problem could have occurred a few years back. </p>

<p>From my understanding, the common reasons for an electrolyte capacitor to explode is due to high voltage over the voltage rating or connection in wrong polarity. However, I'm not sure about the reason for an AAA battery to explode. So the question is like what is stated in the title, what are the possible reasons for an AAA battery to explode?</p>

<p><img src=""https://i.stack.imgur.com/el1Upl.jpg"" alt=""Exploded alkaline AAA cell""></p>

<p>Edit1:
@Russell, the battery connection is shown below, this should be a series connection right?<br>
<img src=""https://i.stack.imgur.com/MbZAT.jpg"" alt=""Battery connection""></p>

<p>Besides, the remote control is still functional with new batteries. I took a deep breath while trying this again, the explosion isn't big, but the sound is still a little scary...</p>

<p>Some additional information:</p>

<ol>
<li><p>What sort of battery - Alkaline, NiMH, other? <br/>
<strong>It's Alkaline - not rechargeable</strong></p></li>
<li><p>How many AA batteries in remote? <br/>
<strong>Two</strong></p></li>
<li><p>IR remote presumably? <br/>
<strong>There's an LED, and I have to point it to the air conditioner to use the remote, I think it's IR remote.</strong></p></li>
<li><p>Brand of battery? <br/>
<strong>Energizer</strong></p></li>
<li><p>Age of battery (time in use)? <br/>
<strong>It's not newly installed, my guess is a few months of usage before the explosion.</strong></p></li>
<li><p>Was it recharged? <br/>
<strong>No, it isn't recharged.</strong></p></li>
</ol>
","<p>From the information provided it sounds either like a faulty battery or a very high current drain from the equipment - or both.</p>

<hr>

<p>Update 1 : Having seen the most impressive photo, my prior assessment stands. This would be extremely unusual. A large amount of energy seems to have been involved. If there were 3 or more batteries in series (were there?) and one was reversed this may happen as the current would be driven through it backwards. </p>

<p>This strongly suggests a  bad battery - possibly a counterfeit one. </p>

<p><img src=""https://i.stack.imgur.com/Zsl2H.jpg"" alt=""enter image description here""></p>

<hr>

<p>Update 2:</p>

<p>We now know there are two batteries.<br>
 This is less than the 3 minimum needed to drive current backwards through one battery so the back discharge mode seems unlikely.<br>
 it is still possible with one well charged battery and one fully discharged.<br>
 The good battery can effectively reverse polarity charge the dead battery.<br>
 Unlikely but possible in this case.</p>

<p>A counterfeit battery still sounds possible.</p>

<hr>

<p><strong>Prior material:</strong></p>

<p>IR remote controls pulse IR LEDs with short pulses of very high current - possibly an amp or more. Most batteries should either provide this or just gracefully fail to do so. A very poor quality battery or a faulty one MAY be affected by such a load.</p>

<p>If the IR control stayed on for some reason then a continued high current may occur. If this happens the IR LED would probably die. If your control still works with a nw battery then this is probably NOT what happened. </p>

<p>It is EXTREMELY unusual for an AAA cell to ""explode"" in use. You need to say if it was an alkaline, or NimH or ??? type cell.</p>

<p>Some appliances allow charging of the battery inside the equipment. If a non rechargeable battery is charged it MAY explode. This would be rare and it is unlikely your remote allowed charging. </p>

<hr>

<p><strong>Aspects worth considering in situations like this:</strong></p>

<p>These are suggestions only - necessarily an incomplete list.</p>

<p>What sort of battery -  Alkaline, NimH, other?<br>
Ability to deliver high current may increase chances of ""energetic"" reaction. </p>

<p>How many AA batteries in remote?<br>
Three batteries are required in series for reversal of one battery to cause significant reverse current flow when all batteries are in good condition. (ie one ""forward"" battery opposes the reversed battery and the remaining 'forward' battery supplies forward current. </p>

<p>IR remote presumably?
IR remotes often pulse the LEDs at very high peak current levels - far higher than in most handheld devices. 
Brand of battery?</p>

<p>Age of battery (time in use)</p>

<p>Was it recharged </p>

<p>Was a non-rechargable battery charged? Can 'cause problems'.</p>
","25418"
"What does RU (UR) label on DC power relays mean?","18351","","<p>I'm trying to figure out what does <em>RU</em> or maybe <em>UR</em> label mean on the body of many many relays. It's labeled almost on all (I've seen so far) DC relays which make me very curious :). Any suggestions?</p>

<p><a href=""https://i.stack.imgur.com/FUWZI.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/FUWZI.png"" alt=""enter image description here""></a></p>
","<p>It is a UL label. From <a href=""https://en.wikipedia.org/wiki/UL_(safety_organization)"" rel=""noreferrer"">UL wikipedia article</a>:</p>

<blockquote>
  <p>The ""Recognized Component Mark"" is a type of quality mark issued by Underwriters Laboratories. It is placed on components which are intended to be part of a UL listed product, but which cannot bear the full UL logo themselves.[6] The general public does not ordinarily come across it, as it is borne on components which make up finished products.<br>
  <a href=""https://i.stack.imgur.com/geDdc.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/geDdc.png"" alt=""enter image description here""></a></p>
</blockquote>
","226523"
"Sensitivity of wheatstone bridge","18351","","<p>Can anyone help me to find the relation for sensitivity of wheatstone bridge using transfer function or any other methods. And why is a wheatstone bridge more sensitive when all resistors have equal value? I think what matters is the ratio of resistances and not their individual values.</p>
","<p>Start with the Wheatstone bridge equation from wikipedia which is the subtraction of two voltage dividers. </p>

<p>$$ V_G = V_s( \frac{R_x}{R_3+R_x} - \frac{R_2}{R_1+R_2}) $$</p>

<p>Sensitivity is the derivative with respect to \$R_x\$. You'll notice immediately that the voltage divider that doesn't have the element of interest doesn't impact the sensitivity at all. The only function of the second voltage divider is to create a set point to compare the first voltage divider to. If we take the derivative with respect to \$ R_x\$ we get:
$$ \frac{R_3}{(R_3+R_x)^2} $$
Note that I've chosen to ignore \$ V_s\$ as it is a scaling factor here. It should be noted that as your \$ V_s \$ increases, your sensitivity does increase as well. If you were to plot this you would see that there isn't really a normal value for the component under test that gives a maximum sensitivity because there is no inflection point in the graph.<br>
<a href=""https://www.wolframalpha.com/input/?i=plot%28derivative%28x/%281%2bx%29-1/2%29,x%20=%200%20to%202%29"" rel=""nofollow noreferrer"">Wolfram Alpha Plot of Sensitivity where \$R_3 =1 \$ </a>
<img src=""https://i.stack.imgur.com/atkPu.gif"" alt=""enter image description here""></p>

<p>This actually shows that the maximum sensitivity is where \$R_x\$ trends towards 0. This assumes you don't have negative value components.</p>

<p>If we plot the sensitivity equation with \$ R_3\$ as the variable and \$ R_x \$
as a constant, we'll find there is a maximum right at our constant value we used for \$R_x\$:<br>
<a href=""https://www.wolframalpha.com/input/?i=plot%28r/%28r%2b1%29%5E2,r%20=%200%20to%203%29"" rel=""nofollow noreferrer"">Wolfram Alpha Plot of Sensitivity where \$R_x=1\$</a>
<img src=""https://i.stack.imgur.com/kvkNX.gif"" alt=""enter image description here"">  </p>

<p>This is likely where the notion that you should keep \$R_3\$ as close to the same value as \$R_x\$ comes from. The other voltage divider again just needs to match closely with the test component's voltage divider to keep the voltage difference of 0 between them.</p>

<p>From these two plots we can conclude that if we want to design a Wheatstone bridge with the maximum sensitivity, we should have as small of component values as possible while still keeping all of the components at approximately the same value.</p>
","110613"
"Stop mask errors in DRC","18329","","<p>I'm doing my first board in Eagle (first board at all, actually) and am getting a lot of stop mask errors around parts that I'm using out of the Nordic and Adafruit libraries. Every point of intersection across the nrf51822 and the 3.3 coin cell holder gives an error in tStop.</p>

<p><img src=""https://i.stack.imgur.com/3rJaU.png"" alt=""Stop Mask error highlighted""></p>

<p>There is space around the route, as seen here, so I'm not sure what more I need to do to make sure that these are ok. Pretty I'm just making a simple mistake but can't glean how to correct it from the tutorials I've been reading. Thanks!</p>

<p><img src=""https://i.stack.imgur.com/6kFhC.png"" alt=""enter image description here""></p>
","<p>As you probably understand, the errors are caused by something in a layer which prints onto top or bottom copper. I.e. something which extends beyond the top or bottom stop layer, and which is not a component pad or copper. </p>

<p>They are layers which you <em>might</em> reasonably include on the boards silkscreen (during the CAM process), so Eagle treats them as if they <em>are</em> part of the silkscreen if they are 'Display'd when the DRC check is run.</p>

<p>These errors are sometimes okay, as many PCB manufacturers run a process which 'trims' the silkscreen so that nothing is printed onto top or bottom copper. However, I tend to fix them all so that I am confident that my boards can be made by any manufacturer (as I do Open Source designs).</p>

<p>IIRC the part of the DRC dialogue which sets some of these values is the 'Masks' tab. You could try to fix them by adjusting values in there, but if this is for an Open Source design, you might want to fix the errors instead.</p>

<p>The first thing to do is figure out which layers are causing the errors. Look at each of the errors, and you will probably see layers are causing the errors. Eagle highlights the overlap area of every error. So you can look at the board, or click on the error message in the 'DRC Errors' dialogue and Eagle will show it; you may need to double click the error to cause Eagle to shift the offending area into view.</p>

<p>Confirm which layers are causing the problems by switching off layers, a couple at a time, and then running the DRC checks each time. </p>

<p>I go through switching off the top and bottom Names, top and bottom values, tDocu and bDocu, then documentation, then top and bottom silkscreen layers, checking after each pair, until eventually all of the text and lines disappear. The errors should all disappear by the time you've finished.</p>

<p>Switching off Names or Values might be okay anyway if you don't plan to have them appear on the silkscreen layer when the board is manufactured. If you do need them printed on the board (as part of the silkscreen layer), use 'smash' to allow you to move those pieces of text out of the way.</p>

<p>Then do the same thing for the other layers. It is possible that you will need to make copies of library parts, and edit them.</p>

<p>You might decide that some of the documentation layers will not appear on the silkscreen, but instead only appear on a printed build guide, in which case, switch them off when you do DRC checks, and make sure you CAM job doesn't add them to the CAM files (or ask your manufacturer to ignore those layers if they take an Eagle file).</p>
","123802"
"How do I design a 2A or more power supply for my consumer USB devices?","18316","","<p>I understand that many of my consumer devices charged by USB ports can charge at higher rates than 0.5A.  However, in testing, I've found they don't consume more than this.</p>

<h3>Test Setup</h3>

<ul>
<li>I have a power supply that outputs between 0 and 30 volts, and 0 to 20 amps.  </li>
<li>I set the voltage to 5 volts, then connected up a female USB to the wires correctly.  </li>
<li>When I plug in a Samsung Galaxy S4 Mini, it pulls around 0.44 amps. It is the same with a Samsung Galaxy Tab Pro.  </li>
<li>However, when I connect an iPad Air with an official lightning cable, it only pulls around 0.11 amps.  </li>
<li>Also, I tried connecting a ZGPAX S28 smartwatch and it was still about 0.44-0.45 amps.  </li>
</ul>

<p>The power supply is more than capable of outputting the maximum 2.1 amps, so why doesn't it to at least the tablets?  </p>

<p>What do I need to do in my test setup to convince the devices to consume their maximum charging current?</p>
","<p>The reason why your Apple/Samsung devices do not draw more current is simple.
It is because there is additional data communication going on between the Apple/Samsung device and their dedicated power supplies. This makes both devices recognise eachother and agree on a higher current to be used. The charger sets certain voltages on the USB data lines and this is recognised by the phone or tablet.</p>

<p>Your 20 Amps supply does not supply these voltages on the date lines so it does not ""talk"" to your Apple/Samsung device therefore these assume it is a normal ""dumb"" charger and do not draw more current than what is allowed by USB standard which usually is only 100 or 500 mA</p>

<p>To charge an apple device put thoses voltages on the data lines: </p>

<p>desired current : 
2,000mA     D- : 2.0V D+ : 2.75V</p>

<p><a href=""https://i.stack.imgur.com/x5tSD.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x5tSD.gif"" alt=""Like this circuit, for apple devices at 2A. ""></a></p>

<p>Also, depending on how full the battery is the charge current is also limited. It will only be maximum when the battery is 30 - 70 % charged (these numbers are just my guess). Charging with a high current is bad for the battery when it is very low or almost full.</p>

<p>Sources: </p>

<p><a href=""https://learn.adafruit.com/minty-boost/icharging"" rel=""nofollow noreferrer"">Adafruit : The mysteries of Apple device charging</a></p>

<p><a href=""http://www.voltaicsystems.com/blog/choosing-usb-pin-voltages-for-iphones-and-ipads/"" rel=""nofollow noreferrer"">Voltaic : Choosing USB Pin Voltages</a></p>
","177792"
"Is it possible to create an HDMI input adapter for android?","18299","","<p>Would it be possible to stream a video signal <strong>into</strong> an android device? I understand that the HDMI port it's self is not designed to take input, so I was thinking that the data could be streamed via the USB port. I know that the Apple hardware prohibits this (apple made this decision for some reason) but would it be feasible on android?</p>
","<p>You can get USB capture devices that will take HDMI video in and encode it to e.g. H264. You can get Android devices that can USB master. So then it's a matter of drivers. It looks like it's doable if you can choose the device and supply your own kernel: <a href=""https://stackoverflow.com/questions/12334612/analog-video-capture-to-android-phone"">https://stackoverflow.com/questions/12334612/analog-video-capture-to-android-phone</a></p>
","96265"
"Connecting two Ethernet PHY without magnetics?","18289","","<p>In a (tentative) new design I want to connect two 100 Mbit/s Ethernet PHY similar to <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/8720a.pdf"" rel=""nofollow noreferrer"">LAN8270a</a>, separated by few inches on the same PCB, with same ground plane (but different power supplies). I have the choice of one of my PHY, but the other is embedded in an as-yet-unspecified PCIe to Ethernet IC (perhaps Gigabit but used in 100 Mbit/s mode), and it is critical that this PHY thinks there is a <em>bona fide</em> 100 Mbit/s Ethernet connection.</p>

<p>I could use the following</p>



<p><img src=""https://i.stack.imgur.com/FzGG7.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fFzGG7.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""nofollow"">CircuitLab</a></sup></p>

<p>but I would like to achieve the same without the magnetics, in order to save on cost, purchasing headaches, and if at all possible power consumption.</p>

<p>I can imagine an RC network, perhaps as simple as in this <a href=""http://www.micrel.com/_PDF/Ethernet/app-notes/an-120.pdf"" rel=""nofollow noreferrer"">appnote</a>, found thanks to a <a href=""https://electronics.stackexchange.com/q/51754/22496"">similar question</a>; or maybe engineered with attenuation and lowpass, but that will not emulate the fact that with real magnetics, when there is a negative pulse on TX1P, there is a positive pulse on TX1M and RX2M. I am uncertain about if that would prevent some PHYs from working normally.</p>

<p>Anything to suggest that one is confident will work for practically any PHY around?</p>
","<p>You might be interested by these Application Notes about transformerless/magnetic-less ethernet application</p>

<ul>
<li><p>Intel AP-438 : <a href=""http://www.intel.com/content/dam/doc/application-note/8255x-fast-ethernet-controllers-without-magnetics-appl-note.pdf"">http://www.intel.com/content/dam/doc/application-note/8255x-fast-ethernet-controllers-without-magnetics-appl-note.pdf</a></p></li>
<li><p>TI AN-1519 : <a href=""http://www.ti.com/lit/an/snla088a/snla088a.pdf"">http://www.ti.com/lit/an/snla088a/snla088a.pdf</a></p></li>
</ul>

<p>They both have an example of transformerless operation on a PCB, with a capacitor in place of a transformer.
In a case where you control both side of the connector, only one capacitor on the line can be mounted. But if you control only one side you have to put a capacitor two, in case the other side has nothing or has a transformer.</p>

<p>I had to work on a 1000Base-KX backplane connection, and its problem is this standard is not very well known and you can have difficulties to implement it, have information about it, etc.</p>

<p>In my case I needed to have an oscilloscope pattern to observe the signal. After few email to the oscilloscope company and few phone calls I had them understood that I was talking about 1000Base-KX and not 1000Base-CX (Ethernet over Coax).</p>

<p>The 1000Base-KX was ""retro-implemented"" in the IEEE802.3 when the 10GBase-KX was created. So the 1000Base-KX is a standard derived from 10G and officially become a IEEE standard years after the adoption of the Gigabit standards.</p>

<p>Also 1000Base-KX only need 2 pairs (Full-Duplex) but the operating frequency is around 1Ghz which involves signal integrity issues where 1000Base-T and 100Base-T(X) stays at 125MHz.</p>
","90418"
"What can cause a Drain-Source short in a FET?","18287","","<p>Background:</p>

<p>I am using a <a href=""http://www.vishay.com/docs/65941/si7456cd.pdf"">Si7456CDP</a> N-channel MOSFET in a switching power supply. The power supply and load are housed in a plastic enclosure. Yesterday, the power supply and load were working perfectly. This morning, when I came to power it on, nothing worked. No power. Eventually, I discovered that the MOSFET's source and drain had shorted together. Replacing the MOSFET fixed the problem.</p>

<p>Question:</p>

<p>What could cause an N-channel MOSFET to suddenly fail with a source-drain short?</p>
","<p>There are two principal mechanisms but first a diagram:</p>

<p><img src=""https://i.stack.imgur.com/Xnb4R.png"" alt=""enter image description here""></p>

<p>Body and source are tied together, and several features are removed for simplicity.</p>

<p>Scenario 1:</p>

<ul>
<li>Over voltage spike on Drain, causing filaments and the contacts and drain implants to be spiked.  IT may or may not have causes the contacts to fail/melt but very high currents can cause breakdown of the D/B junction.  Once the junction is spiked it is connected to the well drain and source are now shorted.  This only requires breakdown at one location in the transistors</li>
</ul>

<p>Scenario 2:</p>

<ul>
<li>HIgh voltage on drain, causing EOS (Electrical Over stress) on the GOX (Gate Oxide) particularly on the gate nearest the drain.  Very likely this is a LDMOS structure with an extended drain structure (which means the gate voltage need not get to the same voltage as the drain ever).  Breakdown at that end of the gate can cause the gate to short to drain.  Once it is shorted, it now is essentially on always, but also, the gate now gets driven to levels it wasn't intended to be at and the failure runs away. THis still only requires one fault in the transistor.</li>
</ul>

<p>There are other scenarios but they all require two faults.</p>

<p>This device is fairly large and will be visible under a microscope.  De-lidding this might be instructive.</p>
","63575"
"How to Add the Xilinx Library to Modelsim?","18266","","<p>I'm trying to simulate an example design of an IP Core, but the version of ModelSim I have installed (Altera Edition/Linux) does not link to the Xilinx library. How can I permanently or temporarily add the Xilinx library to ModelSim?</p>

<p><strong>EDIT</strong>:</p>

<p>A few more details. I'm trying to simulate an example design for the Ethernet1000Base-X IPCore. The documentation is here: <a href=""http://www.xilinx.com/support/documentation/ip_documentation/gig_eth_pcs_pma/v11_3/gig_eth_pcs_pma_ug155.pdf"" rel=""nofollow"">http://www.xilinx.com/support/documentation/ip_documentation/gig_eth_pcs_pma/v11_3/gig_eth_pcs_pma_ug155.pdf</a></p>

<p>One page 18, it describes how to simulate the design using either IES, ModelSim, or VCS. I get the following error in ModelSim after running this command: <code>vsim -do simulate_mti.do</code></p>

<pre><code># ** Error: (vsim-3033) ../../../Ethernet1000BaseX.v(9359): Instantiation of 'LUT6' failed. The design unit was not found.
#         Region: /demo_tb/dut/core_wrapper/gig_eth_pcs_pma_core
#         Searched libraries:
# ** Error: (vsim-19) Failed to access library 'unisims_ver' at ""unisims_ver"".
# No such file or directory. (errno = ENOENT)
#             /home/saddam/Desktop/Ethernet1000BaseX.3/ipcore_dir/Ethernet1000BaseX/simulation/functional/work
# ** Error: (vsim-19) Failed to access library 'unisims_ver' at ""unisims_ver"".
# No such file or directory. (errno = ENOENT)
# ** Error: (vsim-3033) ../../../Ethernet1000BaseX.v(9365): Instantiation of 'MUXF7' failed. The design unit was not found.
#         Region: /demo_tb/dut/core_wrapper/gig_eth_pcs_pma_core
#         Searched libraries:
# ** Error: (vsim-19) Failed to access library 'unisims_ver' at ""unisims_ver"".
# No such file or directory. (errno = ENOENT)
#             /home/saddam/Desktop/Ethernet1000BaseX.3/ipcore_dir/Ethernet1000BaseX/simulation/functional/work
# ** Error: (vsim-19) Failed to access library 'unisims_ver' at ""unisims_ver"".
# No such file or directory. (errno = ENOENT)
** Error: (vsim-19) Failed to access library 'unisims_ver' at ""unisims_ver"".
# No such file or directory. (errno = ENOENT)
</code></pre>

<p><strong>EDIT 2</strong></p>

<p>Software:
Modelsim Altera Starter Edition 10.0d
Xilinx ISE 14.1 WebPack</p>
","<ol>
<li>compile UNISIM libraries by runnin <code>compxlib</code> and following wizard.</li>
<li>then in your modelsim, library pane add new library.<br/>
<img src=""https://i.stack.imgur.com/LVf8f.png"" alt=""enter image description here""></li>
<li>after that add library from existing library and point to folder which contains compiled 
version of unisim, e.g. it is <code>C:\Xilinx\10.1\ISE\vhdl\mti_se\unisim</code> for me
<img src=""https://i.stack.imgur.com/pa2JQ.png"" alt=""enter image description here"">
<br/>After that you can have fun with UNISIM :)</li>
</ol>
","140778"
"smooth a motor movement","18252","","<p>i have a stepper motor (controlled by an arduino) that moves some gears and a pulley. the problem is that the pulley jerks a lot: the movement begin and stop too much suddenly. to make the movement more fluid i think i can use a kind of ramp: the first movement are slow, when the motors has reached the velocity it keep going on, then smoothly slow down.</p>

<p>i have tried to use a sine wave in this way:</p>

<pre><code>// generate ramp
float t = 0;
float deltat = PI/(200+1)
for(int i=0; i&lt;200; i++) {
    ramp[i] = 1000 - sin(t)*900;
    t += deltat;
}
</code></pre>

<p>now i have a ramp of 200 elements that goes from 1000 (very slow) to 100 (very fast) following a sinus wave. now i move the motor with this code:</p>

<pre><code>for(int i=0; i&lt;200; i++) {
    int delay_velocity = ramp[i];

    digitalWrite(STEP_PIN, HIGH);
    delayMicroseconds(delay_velocity); 

    digitalWrite(STEP_PIN, LOW);
    delayMicroseconds(delay_velocity);
}
</code></pre>

<p>this works quite fine: the pulley does not jerk so much and i have control on how many steps to do.</p>

<p>but this work around has also problems: </p>

<ul>
<li>i can't make ramps very long (due to overflow in atmega) - say an array no more longer than 400 elements more or less (it depends on how long is the arduino sketch)</li>
<li>i have control on how many steps but i have no idea on how many time it takes to get it completed (i think i can calculate it with some summation or integral but it is not so practical)</li>
</ul>

<p>so i'm looking for some other way to smooth my movement. i think i can have a different curve instead of a sinewave. something more like this?</p>

<p><img src=""https://i.stack.imgur.com/EyFFH.jpg"" alt=""enter image description here""></p>

<p>till now i don't have considered to generate the ramp in a computer and then pass it to arduino but could be a possibility.</p>

<p>some advice? thoughts?</p>
","<p>What you're looking for is called a <a href=""http://www.pmdcorp.com/news/articles/html/Mathematics_of_Motion_Control_Profiles.cfm"" rel=""nofollow noreferrer"">Trapezoidal velocity profile</a>.</p>

<p><img src=""https://i.stack.imgur.com/elGpP.gif"" alt=""Trapezoidal velocity profile""></p>

<p>There is no need to use sin waves. Smooth motion can be achieved by simply linearly ramping up the velocity to its maximum, holding it there, then letting it ramp down again. Many CNC milling machines and robots use this type of profile.</p>

<p>If you want <em>super</em> smooth motion, you can go for an S-Curve profile.</p>

<p><img src=""https://i.stack.imgur.com/rlFXW.gif"" alt=""S-Curve profile""></p>

<p>The maths for this is considerably harder, but the motion is beautiful. In <a href=""http://www.youtube.com/watch?v=X4X_EUxqKEo&amp;feature=relmfu"" rel=""nofollow noreferrer"">this video</a> they show how the two motion profiles affect a glass of water.</p>
","38576"
"Safety Guidelines for Ultraviolet LEDs?","18246","","<p>I'm interested in using some UV LEDs to light some projects.  Specifically, painting some designs on RC aircraft with florescent paint and illuminating them with UV light for night time visibility.  The <a href=""http://www.goldmine-elec-products.com/prodinfo.asp?number=G13533"">LEDs I'm considering</a> are 400-405nm, 5mm, 30mA.</p>

<p>Can this amount of UV light cause sunburn or eye damage?  What safety considerations should I take into account?</p>
","<p>The following is based on </p>

<ul>
<li><p>Personal experience and extensive reading of the relevant literature after my wife burned her eyes with a UV germicidal lamp after following my instructions.</p></li>
<li><p>Test advice from Nichia re <strong>blue</strong> light hazard from visible <strong>white</strong> LEDs</p></li>
</ul>

<hr>

<p>You'd want a proper datasheet and the following is definitely on an ""all care no responsibility"" &amp; this is my semi-informed opinion only  basis, but:</p>

<p>EXPECTATIONS</p>

<p>(1) You'd want to exercise due care when using it on the bench - staring directly at the LED from close range would almost certainly produce a slow but noticeable amount of damage BUT this would probably take hours of exposure to manifest and I'd say almost certainly not less than minutes AND it would manifest as itchy or somewhat sore eyes and would self heal in about a week with no permanent damage. </p>

<p>(2) My real expectation is that you could play around  with one of these as much as you wished while setting it up including looking into it across a model from the far side occasionally - and have no noticeable effect whatsoever.</p>

<p>(3) Even worst case you could probably not cause any sort of significant long term damage with anything you would sensibly do with it.</p>

<p>(4) If illuminating a largish area compared to the LED (eg a model) and having it fluoresce and reradiate visibly I'd expect the amount of UV to be at a very safe level.</p>

<p><strong>Reasons to follow</strong>   </p>

<p>Brief update - more to follow:</p>

<hr>

<p><strong>REASONS</strong></p>

<p>I understand Kortuk's concern.<br>
 I believe that my advice as given is OK (read carefully please) BUT erring on the safe side is always wise.</p>

<p>(1) <strong>Background: UV and ""arc-eye"" &amp; ""snow blindness"":</strong></p>

<p>People exposed to bright high altitude sunlight for many hours risk being burned by the UV component of the sunlight. A skier at say 6000 feet above sea level who skis all day on a bright day without using eye protection has a good chance of experiencing a degree of ""snow blindness"". The eyes become itchy and somewhat inflamed. The UV has caused burning if the eye interior - mainly towards the surface. Even people who are exposed so badly that they are literally ""blinded"" and lose the practical use of their eyes due to soreness and inflammation, will essentially always recover without any permanent effects. Recovery is usually in under a week in typical cases. I've personally experienced minor ""snow blindness"" on a few past occasions either while skiing or in other higher altitude situations. Wearing eye protection makes much sense. </p>

<p>An identical effect occurs from looking at the arc when arc welding. Large quantities of emitted UV cause ""arc-eye"" - same result, different name. </p>

<p>Germicidal lamps which emit short wavelength UV 
In my workshop I have a ~= 20 Watt UV germicidal lamp - in the form of a ""fluorescent tube"" BUT with no phosphor so no fluorescence just hard short wavelength UV.  This kills germs  with abandon and will happily burn the insides of your eyes if you look directly at it for reasonably short periods. eg 1 minute would be far far far too long. </p>

<p>Long long ago I used this lamp for bulk erasing windowed eproms (some of us are that old :-) ) and more recently it has been used for etch resist exposure or  materials testing. </p>

<p>I have used this light reasonably extensively over many years with no obvious harmful effects. As harmful effects are quite easy to acquire (see below) I assume that this means that taking quite basic precautions goes a long way towards reducing the hazard level.   </p>

<p>Diagram: Germicidal versus wavelength of interest. Almost </p>

<p><img src=""https://i.stack.imgur.com/FttWl.jpg"" alt=""enter image description here""></p>

<p>A few years ago I set up some plastic samples under this lamp, placed a cover over the lamp and samples and left it running. Test time was expected to be many weeks. Some time during the ""run"" I went to China on business. The UV test results were relevant to what I was doing in China and I asked my wife to report on results to date. I provided detailed &amp; careful written instructions on how to uncover the lamp, how to inspect the samples, how to recover the lamp and, very importantly, how to avoid looking at the light in the process, complete with very clear instructions re the hazards. My wife is a competent and careful science professional (in another field) so I anticipated no problems. </p>

<p><strong>Prescript for the queasy:</strong> End result excellent AND they swear that while the UV obviously caused the ""arc eye"" / ""snow blindness"", the deeper eye damage was unrelated and the UV damage caused it to be found.</p>

<p>Within a day of checking my test samples my wife's eyes became itchy and sore. After a few days she went to the Doctor who confirmed the obvious. She ended up needing both eyes bandaged due to the severity of soreness and burning. Due to the apparent severity she visited the local hospital eye clinic. The routinely interested examiner suddenly leaped up and ran from the room to get a second opinion. In one eye only she had partial retinal pulling causing a subsurface void near the optic nerve.which would have lead to retinal tearing and separation if left unrepaired.  This was subsequently repaired by an epi-retinal peel by a suitably skilled man using very very very small sharp things and lots of experience. (Cut hole in eye ...). It subsequently developed a cataract which was removed with a YAG LASER - shine VERY bright focused light into eye ...).</p>

<p>As one does, I did lots of related reading. The professionals are without exception adamant that the retinal problem was unrelated to the UV. They say macular degeneration of this sort happens with age and that the UV event was a fortunate means of showing them that this was happening. My reading showed that in the very very very large percentage of cases (probably 99.99%+) experience is as they report. UV exposure, even very severe and with short wavelength, does NOT lead to premanent damage or to retinal damage of any sort. However, it was also apparent that in extremely extreme cases (eg welding without a mask long term) then retinal damage almost certainly can occur. This is so rare as to be hotly contested by all experts. I'm also aware that if lensing did cause the arc-eye effect (see below) then the focusing MAY have resulted in a focused retinal spot - but the experts all say NO. </p>

<p>WHY DID IT HAPPEN:  Uncertain. She is certain that she followed my instructions correctly and there is every reason to think that she did. But, my wife wears glasses for close vision (or did before her eye sight was corrected as a result of the above processes). I theorise that the very short wavelength UV was refracted substantially differently by the lenses and as she looked across and not at the light, the UV was bent into her eye. </p>

<p>(2)  Nichia carried out tests on some lowish power (150 mW in max) white ""phosphor"" LEDs. In the blue region the output was high enough to make them of potential regulatory interest. I'd guesstimate that you could stare at one of these all day long from 100mm and only get bored. </p>

<p>BUT given this result, an LED designed to operate at about 400 nM at about 60 mW input can be expected to output substantially more ""somewhat blue"" light than my sample and so would technically at least be of potential interest.</p>

<p>BUT the above example with short wavelength UV and the expert opinion re the lack of permanent effect at even high doses suggests that you are unlikely to have any problems if very basic and simple precautions are taken. </p>
","25856"
"RC time constant and diode detector","18245","","<p>For a better detection of the modulated signal with the diode detector below, one requirement is that the time constant of the RC filter conforms to:</p>

<p>$$ \frac{1}{\omega_{c}} \leq RC \leq \frac{ \sqrt{1-\mu^{2}}}{\omega_{m}\mu}  $$</p>

<p>where:</p>

<ul>
<li>\$\omega_c\$ is the angular frequency of the carrier</li>
<li>\$\omega_m\$ is the angular frequency of the information, and</li>
<li>\$\mu\$ is the modulation index.</li>
</ul>

<p>How exactly can we prove that?</p>

<p><img src=""https://i.stack.imgur.com/Ni84I.gif"" alt=""enter image description here""></p>
","<p>The formula is derived by practical experiences and not from mathematical 1st principles. It is unprovable other than by being practical and thinking what a diode detector has to achieve.</p>

<p>Firstly, the formula states that RC has to be equal to or greater than \$\dfrac{1}{\omega_c}\$. </p>

<p>If the RC time constant were too short there would be significant levels (ripple) of the carrier frequency on the output - this is not what is wanted from a diode detector (or an AC rectifier in a power supply) BUT, it's never going to be a perfect brick wall filter and so carrier ripple has to be acceptable (to some degree). </p>

<p>Personally, I would like to see the RC time constant 5 times greater than \$\dfrac{1}{\omega_c}\$</p>

<p>At the other end of the scale, RC cannot be too big or it will start to significantly attenuate high frequencies in the ""detected"" analogue waveform that is represented by \$\dfrac{1}{\omega_m}\$.</p>

<p>Here is a picture that hopefully explains: -</p>

<p><img src=""https://i.stack.imgur.com/dwDZO.jpg"" alt=""enter image description here""></p>

<p>This picture was taken from <a href=""http://zulsidi.tripod.com/AmplitudeModulation.pdf"" rel=""nofollow noreferrer"">here</a> and basically is saying, if the modulation index is too high for the value of RC chosen there will come a point in the detection of the signal that the RC time constant is too long.</p>

<p>You should also note that as the modulation index approaches 1, the RC time constant has to theoretically be very small and this will make it likely clash with the requirement for it to be greater than \$\dfrac{1}{\omega_m}\$.</p>
","100526"
"Altium Error? What is this reddish box?","18243","","<p>I've been to a couple introductory Altium trainings and everything goes fine and dandy. This is the actual first board I am working on by myself. I've been learning so much just by doing stuff myself but there is something that I can't seem to quite understand. </p>

<p>Whenever I transfer my schematic to the PCB is is placed inside this reddish box, I believe it is a Room. All the examples I saw during training didn't do this. And if I move the components outside the box they turn green (DRC error maybe?)</p>

<p>Does anyone know what this means?</p>

<p><img src=""https://i.stack.imgur.com/H5Dcb.png"" alt=""http://i.imgur.com/wtxbh.png""></p>
","<p>That is indeed called a ""Room"".</p>

<p>Rooms are relevant if you're doing multi-channel design, as they let you copy the layout between channels.</p>

<p>It's also completely normal.</p>

<p>If you want to disable it, it's very easy to do:  </p>

<ul>
<li>Click the room -> PCB Inspector panel -> uncheck ""Rule Enabled"" checkbox.<br>
<img src=""https://i.stack.imgur.com/dDuaL.png"" alt=""enter image description here""></li>
<li>""Design"" menu -> ""Rules"" menu item ->  In the tree: ""Design Rules"" -> ""Placement"" -> ""Room Definition"" -> uncheck all the ""Enabled"" checkboxes.<br>
<img src=""https://i.stack.imgur.com/JtZ49.png"" alt=""enter image description here""></li>
</ul>

<p>Alternatively, you can just delete the room, but it will come back next time you synchronize the schematic to the PCB.</p>
","42565"
"Determining which pin triggered a PCINTn interrupt?","18210","","<p>Am I correct in thinking that if you have two pins causing the same AVR PCINT interrupt, (e.g. PCINT0 <em>vector</em> caused by either PCINT0 or PCINT1 pins -- I think the naming overlap of vectors and pins is confusing) the only way to determine which pin(s) caused the interrupt is to record their state after each interrupt and compare the previous and current values of all the pins which are enabled in PCMSKn?</p>
","<blockquote>
  <p>I think the naming overlap of vectors and pins is confusing</p>
</blockquote>

<p>It is!</p>

<p>The reason there are 8 different external pins for an interrupt vector is to make it easier to layout the PCB or to use a different pin if there is a conflict with another pin function. </p>

<blockquote>
  <p>Am I correct in thinking ... the only way to determine which pin(s)
  caused the interrupt is to record their state after each interrupt and
  compare the previous and current values of all the pins which are
  enabled in PCMSKn?</p>
</blockquote>

<p>Pretty much, lets say you only care about PB0 (PCINT0) and PB1 (PCINT1). So the pin change enable mask PCMSK0 would be set to 0x03.</p>

<pre><code>// External Interrupt Setup
...

volatile u_int8 previousPins = 0; 
volatile u_int8 pins = 0; 

ISR(SIG_PIN_CHANGE0)
{
    previousPins = pins; // Save the previous state so you can tell what changed
    pins = (PINB &amp; 0x03); // set pins to the value of PB0 and PB1
    ...
}
</code></pre>

<p>So if <code>pins</code> is 0x01 you know it was PB0... And if you need to know what changed you need to compare it to <code>previousPins</code>, pretty much exactly what you thought.</p>

<p>Keep in mind in some cases, <code>pins</code> may not be accurate if the pin has changes state since the interrupt but before <code>pins = (PINB &amp; 0x03)</code>.</p>

<p>Another option would be to use separate interrupt vectors with one pin from each vector so you know which one is changed. Again, this also has some issues, like interrupt priority and once the CPU enters the ISR, the global interrupt enable bit <code>I-bit</code> in <code>SREG</code> will be cleared so that all other interrupts are disabled, although you can set it inside the interrupt if you want, that would be a nested interrupt.</p>

<p>For more information, take a look at Atmel's app note <a href=""http://www.atmel.com/Images/doc8468.pdf"" rel=""noreferrer"">Using External Interrupts for megaAVR Devices.</a></p>

<p><strong>Update</strong></p>

<p>Here is a complete code example I just found <a href=""https://sites.google.com/site/qeewiki/books/avr-guide/external-interrupts-on-the-atmega328"" rel=""noreferrer"">here</a>.</p>

<pre><code>#include &lt;avr/io.h&gt;
#include &lt;stdint.h&gt;            // has to be added to use uint8_t
#include &lt;avr/interrupt.h&gt;    // Needed to use interrupts
volatile uint8_t portbhistory = 0xFF;     // default is high because the pull-up

int main(void)
{
    DDRB &amp;= ~((1 &lt;&lt; DDB0) | (1 &lt;&lt; DDB1) | (1 &lt;&lt; DDB2)); // Clear the PB0, PB1, PB2 pin
    // PB0,PB1,PB2 (PCINT0, PCINT1, PCINT2 pin) are now inputs

    PORTB |= ((1 &lt;&lt; PORTB0) | (1 &lt;&lt; PORTB1) | (1 &lt;&lt; PORTB2)); // turn On the Pull-up
    // PB0, PB1 and PB2 are now inputs with pull-up enabled

    PCICR |= (1 &lt;&lt; PCIE0);     // set PCIE0 to enable PCMSK0 scan
    PCMSK0 |= (1 &lt;&lt; PCINT0);   // set PCINT0 to trigger an interrupt on state change 

    sei();                     // turn on interrupts

    while(1)
    {
    /*main program loop here */
    }
}

ISR (PCINT0_vect)
{
    uint8_t changedbits;

    changedbits = PINB ^ portbhistory;
    portbhistory = PINB;

    if(changedbits &amp; (1 &lt;&lt; PB0))
    {
    /* PCINT0 changed */
    }

    if(changedbits &amp; (1 &lt;&lt; PB1))
    {
    /* PCINT1 changed */
    }

    if(changedbits &amp; (1 &lt;&lt; PB2))
    {
    /* PCINT2 changed */
    }
}
</code></pre>
","50385"
"How to properly set up a multimeter to measure the power consumption of a computer?","18197","","<p>From what I understand, a <a href=""http://en.wikipedia.org/wiki/Multimeter"">multimeter</a> can be used to measure the resistance in in a circuit. Multiplied by the voltage, measured in the same circuit, I would get the total power consumption. Is this correct? </p>

<p>I want to use an inexpensive multimeter to measure the average power consumption in an appliance (computer). I was thinking that it should be possible to achieve this by connecting the ""measuring hands"" of the meter to the connectors in the power socket, and then over a couple of minutes measure first the average voltage and then the average resistance. Then, multiplying these values would give me an approximation of how many Watts a device is using in a given time period.</p>
","<p>A computer or other appliance power supply is not a resistive load, it is a <strong>reactive load</strong>. It has a phase relationship to the incoming voltage, which is itself an alternating (AC) voltage. AC voltages inherently show an ""average"" of essentially zero. What is measured for power computation is an ""effective"" or ""Root Mean Square"" (RMS) voltage across, and current through, the appliance power feed.</p>

<p>Therefore measuring the resistance across its power supply leads will not provide meaningful results.</p>

<p>At a simplistic level, Voltage measurement could be done with a RMS voltmeter across the supply leads. See <a href=""https://electronics.stackexchange.com/a/18372/14004"">this EE.SE answer</a> for more details.</p>

<p>Current measurement would need an RMS current meter either inserted into the power line in series, or using a <a href=""http://www.extech.com/instruments/product.asp?catid=26&amp;prodid=565"" rel=""nofollow noreferrer"">clamp-type non-invasive current sensor</a>.</p>

<p>Low cost AC power line meters use a basic rectifier circuit and internal computation to indicate power consumption. These are designed for specific power line types (e.g. 110V 60 Hz, or 230V 50 Hz), and will deviate from precision if used on a different line frequency, if they work at all.</p>

<p>The above does not take into account Power Factor calculations, another element impacting actual power consumption calculations.</p>

<p><strong>The proposed multimeter approach will yield nothing except possibly a damaged multimeter and the risk of electrocution if you are not qualified to work with mains voltages.</strong></p>

<p>There are commercially available power meter devices that plug into your wall socket, with the appliance plugged into the device, and log or display power consumption. That would be the recommended way to go.</p>
","49524"
"Why would one still use normal EEPROM instead of flash?","18181","","<p>Is there any reason why people are still using (and implementing in new systems) normal EEPROMs instead of flash memory, nowadays?</p>

<p>From the <a href=""http://en.wikipedia.org/wiki/Flash_memory"">Flash memory wikipedia</a>: </p>

<blockquote>
  <p>Flash memory was developed from EEPROM (electrically erasable programmable read-only memory).</p>
</blockquote>

<p>Would there be any disadvantages (power consumption, space, speed, etc.) on using flash instead of normal EEPROM?</p>
","<p>To be pedantic, FLASH memory is merely a form of EEPROM: There is a marketing / branding aspect here. Typically, the distinction used today is that EEPROMS are single-byte (or storage <em>word</em>) erasable / rewritable, while FLASH is block-based for erase/write operations. </p>

<p>Relevant to the question: </p>

<ul>
<li>EEPROMs continue to be popular due to maximum erase/write cycle ratings being an order of magnitude or two better than FLASH</li>
<li>Due to investments in design typically having been amortized over time, as with any mature technology, the cost of production and testing reduces compared to a newer technology.</li>
</ul>
","65507"
"What is the impedance of audio output of cell phones","18179","","<p>What is the impedance of audio output in cell phone. I mean 3.5 jack for headphones. Is that somehow standardized? Do we know ranges among cellphones? Or mp3 players. I haven't found any information about impedance, when searching manuals for cellphones or mp3 players.</p>

<p>Does anyone have experiences, how non-matching impedance of audio output and headphones impact the quality of sound? </p>

<p>I'm trying to find perfect headphones for Sony Experia L.</p>
","<p>In audio applications it is the goal to control the voltage over the speaker or the headphone as exactly as possible. Because the impedance (alternating current resistance) of speakers and headphones is frequency dependant, it's not advisable to achieve impedance (and power) matching.</p>

<p>While the output impedance of phones, MP3 players etc. is usually in the range of several ohms, the impedance of headphones goes usualy from 20 to several 100 ohms.</p>

<p>The headphone manufacturer has (among others) one problem, high efficient speakers are expensive to manufacture. A headphone with low impedance could be produced cheaper, but the frequency response will also be worse. A headphone with a high impedance will eventually not produce enough volume.</p>

<p>Generally speaking headphones with a higher impedance could have a better frequency response, but as usual ther are other points ...</p>
","138801"
"How do i find nichrome temperature","18160","","<p>I have 2 meters, 32wg, 19 ohm per meter. NIchrome wire</p>

<p>I want to calulate what amps and volts i need so 2 meters of nichrome heats to 35 celsius.</p>

<p>How can i calulate this and what formula do i need to use.</p>
","<p>Best source of information would be in the datasheet for your wire.</p>

<p>Barring that, there are some common things that would help. Current is based on \$I = V/R\$. Given that you provide 19Ω per meter, and you have 2 meters, that's 38Ω. But that is it's room temperature (Typically ~21°C). As temperature rises, the resistance rises. But let's work with that.</p>

<p>Consider \$I = \dfrac{V}{38}\$.</p>

<p>And you want a ~14°C rise. Most of the time, standard tables show extremely high temperature rises.</p>

<p><img src=""https://i.stack.imgur.com/NmMcE.png"" alt=""enter image description here""></p>

<p>So these can be used for a reference.
A 32 awg straight wire raised from (Room Temperature 70°f) 20°c to 400°f (204°c) takes 680mA. 1000°f (538°c) is twice the current. And 2000°F (1093°c) is twice that again. So current is doubled for roughly slightly 2.6 the temperature but resistance rises with temperature, so quadruple the current for five times the temperature. We can assume that the inverse is true. At lower temperatures, less current gives higher temperature rises.</p>

<p>With your 38Ω piece of wire (Straightened out, not coiled) to 400°F, that is ~26V (<strong>not including resistance changes</strong>). (0.68 = 26V / 38Ω). 35°c is 95°F. That's slightly more than a fourth of 400°F. So try cutting the current to a 5th of that. 0.68 / 5 = 0.136.</p>

<p>$$ V = I \cdot R $$</p>

<p>$$ V = 0.136 \cdot 38 = 5.168V $$</p>

<p><strong>Try 5v. You should get a rise to less than 100 degrees fahrenheit, roughly less than 37°c. Anything else would require a calibrated temperature sensor and testing. Reduce current by half for coiled wire. And carefully check resistance when the wire is at the temperature you want (after you disconnect the power)</strong> </p>
","84524"
"Why does LTSpice say that my ""Matrix is singular"" for this ideal-transformer circuit? ","18141","","<p>I'm trying to do find the voltage over R1 in the following circuit, where L1/L2 is an ideal transformer. LTSpice complains that the ""Matrix is singular"". Why? I've tried to play around with lots of different values in order to see if it's a problem with approximation.</p>

<p><img src=""https://i.stack.imgur.com/fWmpT.png"" alt=""enter image description here""></p>

<p>The numbers after ""AC"" are the max amplitude and phase (in degrees).</p>
","<p>You need a DC path between the two circuits. Put a high value resistor between them, say 10M.</p>

<p>I checked that it worked using Pulsonix (actually SIMetrix) SPICE. I got a singular matrix error without the resistor.</p>
","20801"
"What values of resistor and capacitor to use for AVR reset pin isolation?","18129","","<p><strong>Background...</strong></p>

<p>I'm a newbie to AVR applications. I recently built two ATTINY13-based circuits (glorified LED blinkers) which worked correctly (independently) on the breadboard. When I combined them on a solder perfboard with a shared power supply, things went haywire. After much investigation, it appeared they were constantly resetting.</p>

<p>I had left pin 1 (reset) of each micro un-connected. I researched <a href=""http://www.kanda.com/avr-isp-circuits.html"" rel=""nofollow noreferrer"">proper ways of handling the reset pin</a> and from this implemented the following:</p>

<ol>
<li><p>Added a 100uF electrolytic capacitor in parallel with the power supply to help with any potential current draw the power supply would be too ""slow"" to deal with.</p></li>
<li><p>Added a 4.7K resistor from <code>VCC</code> to <code>RESET</code></p></li>
<li><p>Added a 0.1uF ceramic capacitor from <code>GND</code> to <code>RESET</code></p></li>
</ol>

<p>These steps solved the problem completely.</p>

<p><strong>The question:</strong></p>

<p>The page I linked above is providing advice when doing ISP (in-system programming) which I am not doing (yet). (I'm programming the micros separately with no other components connected to them.)</p>

<p>I've seen several different values of capacitor (10nF, 0.1uF, etc.) and resistor (4.7K, 10K, etc.) and am not sure what factors alter these values. Can anyone shed some light on how reset pin isolation works, and how to calculate component values to use? Can you explain what values to use if there is no in-system programming header?</p>

<p><img src=""https://i.stack.imgur.com/scDjW.png"" alt=""AVR Reset Pin Isolation schematic""></p>
","<p><a href=""http://www.atmel.com/Images/Atmel-2521-AVR-Hardware-Design-Considerations_ApplicationNote_AVR042.pdf"" rel=""nofollow"">Atmel AVR042: AVR Hardware Design Considerations</a> tell us that the capacitor on the reset pin is not necessary. Personally I think it's overkill. There is no reason for you to continue making dozens of AVR circuits, each and every one with that redundant capacitor.</p>

<p>As for the reset pullup resistor:</p>

<blockquote>
  <p>The reset line has an internal pull-up resistor, but if the
  environment is noisy it can be  insufficient and reset can therefore
  occur sporadically. Refer to datasheet for value of  pull-up resistor
  on specific devices.  Connecting the RESET so that it is possible to
  enter both high-voltage programming  and ordinary low level reset can
  be achieved by applying a pull-up resistor to the  RESET line. This
  pull-up resistor makes sure that reset does not go low unintended. 
  The pull-up resistor can in theory be of any size, but if the
  Atmel®AVR® should be  programmed from e.g. STK500/AVRISP the pull-up
  should not be so strong that the  programmer cannot activate RESET by
  draw the RESET line low. The recommended  pull-up resistor is <strong>4.7kΩ</strong> or
  larger when using STK500 for programming. For  debugWIRE to function
  properly, the pull-up must not be smaller than 10kΩ.</p>
</blockquote>

<p>If you take a look at professional products that incorporate the AVR micros, such as the Arduino, its numerous clones, dozens of dev kits, you'll find that most use a 4.7kΩ or 10kΩ resistor. </p>

<p>And particularily for your ATtiny13, its datasheet specifies that the pullup should ideally range [20kΩ, 80kΩ].</p>
","41499"
"How can a CPU deliver more than one instruction per cycle?","18103","","<p>Wikipedia's <a href=""http://en.wikipedia.org/wiki/Instructions_per_second"">Instructions per second page</a> says that an i7 3630QM deliver ~110,000 MIPS at a frequency of 3.2&nbsp;GHz; it would be (110/3.2 instructions) / 4 core = ~8.6 instructions per cycle per core?!
How can a single core deliver more than one instruction per cycle?</p>

<p>To my understanding a pipeline should only be able to deliver one result per clock.</p>

<p>These are my thoughts:</p>

<ul>
<li>Internal frequency is actually higher than 3.2&nbsp;GHz</li>
<li>Some parts of the CPU are asynchronous in a way a humble human like myself cannot understand</li>
<li>There are multiple concurrent pipelines per core</li>
<li>A pipeline can deliver more than result per clock, an instruction can skip pipeline stages and there are multiple prefetcher to keep up</li>
<li>I am missing something</li>
</ul>
","<p>First, as <a href=""https://electronics.stackexchange.com/q/123760/15426#comment-246557"">Camil Staps' comment</a> and <a href=""https://electronics.stackexchange.com/a/123763/15426"">Turbo J's answer</a> point out, the measurement was 113,093 <strong>Dhrystone</strong> MIPS not <em>native</em> MIPS. </p>

<p>The Ivy Bridge microarchitecture of the i7 3630QM can only commit 4 fused µops per cycle, though it can begin execution of 6 µops per cycle. (The number of fused µops in a trace of code is <em>roughly</em> equal to the number of instructions; some complex instructions are decoded into multiple µops that are not fused and some pairs of instructions can be fused into a single µop, e.g., a compare immediately followed by a conditional jump.)</p>

<p>Two of your speculations on how multiple instructions can be executed in a single cycle are quite valid and have been used in actual processors. Your first speculation, that a faster internal clock is used, was used in the original Pentium 4's ""fireball"" ALUs. These ALUs were clocked at twice the frequency of the rest of the core, which was already relatively high.</p>

<p>(This was accomplished by using a staggered ALU in which the lower half of an addition was done in one cycle, allowing a dependent operation to use the lower half of the result in the next cycle. For operations like add, xor, or left shift which only need the lower half of operands to produce the full lower half of the result, such staggering—also known as width-pipelining—allows single cycle result latency as well as single cycle throughput.)</p>

<p>A somewhat related technique, cascaded ALUs, was used by the HyperSPARC. The HyperSPARC fed the results from two ALUs into a third ALU. This allowed two independent and a third dependent operation to be executed in a single cycle.</p>

<p>Your speculation that ""there are multiple concurrent pipelines per core"" is the other technique that has been used. This type of design is called superscalar and is by far the most common means of increasing the number of operations executed in a single cycle.</p>

<p>There are also a few other odds and ends of instruction execution that might be worth noting. Some operations can be more efficiently performed outside of the ordinary execution units. The technique of move elimination exploits the use of register renaming in out-of-order processors to perform move operations during register renaming; the move simply copies the physical register <em>number</em> from one position in the renaming table (called a register alias table) to another. Not only does this effectively increase execution width but it also removes a dependency. This technique was used early with the stack-based x87, but is now broadly used in Intel's high performance x86 processors. (The use of destructive, two-operand instructions in x86 makes move elimination more helpful than it would be in a typical RISC.)</p>

<p>A technique similar to move elimination is the handling of register zeroing instructions during renaming. By providing a register name that provides the zero value, a register clearing instruction (like xor or subtract with the both operands being the same register) can simply insert that name into the renaming table (RAT).</p>

<p>Another technique used by some x86 processors reduces the cost of push and pop operations. Ordinarily an instruction using the stack pointer would have to wait a full cycle for a previous push or pop to update the value for the stack pointer. By recognizing that push and pop only add or subtract a small value to the stack pointer, one can compute the results of multiple additions/subtactions in parallel. The main delay for addition is carry propagation, but with small values the more significant bits of the base value—in this case the stack pointer—will only have at most one carry-in. This allows an optimization similar to that of a carry-select adder to be applied to multiple additions of small values. In addition, since the stack pointer is typically only updated by constants, these updates can be performed earlier in the pipeline separately from the main execution engine.</p>

<p>It is also possible to merge instructions into a single, more complex operation. While the reverse process of splitting instructions into multiple, simpler operations is an old technique, merging instructions (which Intel terms macro-op fusion) can allow the implementation to support operations more complex than those exposed in the instruction set.</p>

<p>On the theoretical side, other techniques have been proposed. Small constants other than zero could be supported in the RAT and some simple operations that use or reliably produce such small values could be handled early. (""Physical Register Inlining"", Mikko H. Lipasti et al., 2004, suggested using the RAT as a means of reducing register count, but the idea could be extended to support loading small immediates and simple operations on small numbers.)</p>

<p>For trace caches (which store sequences of instructions under particular assumptions of control flow), there can be opportunities to merge operations separated by branches and remove operations that produce unused results in the trace. The caching of the optimizations in a trace cache can also encourage performing optimizations such as instruction merging which might not be worthwhile if they had to be done each time the instruction stream was fetched.</p>

<p>Value prediction can be used to increase the number of operations that can be executed in parallel by removing dependencies. A stride-based value predictor is <em>similar</em> to the pop/push optimization of a specialized stack engine mentioned earlier. It can compute multiple additions mostly in parallel, removing the serialization. The general idea of value prediction is that with a predicted value, dependent operations can proceed without delay. (Branch direction and target prediction is effectively just a very limited form of value prediction, allowing the fetching of following instructions which are dependent on the ""value"" of the branch—taken or not—and the next instruction address, another value.)</p>
","123778"
"When to use STD_LOGIC over BIT in VHDL","18066","","<p>Whats the difference between using: </p>

<pre><code>ENTITY MyDemo is 
    PORT(X: IN STD_LOGIC; F: OUT STD_LOGIC );
END MyDemo; 
</code></pre>

<p>and</p>

<pre><code>ENTITY MyDemo is 
    PORT(X: IN BIT; F: OUT BIT );
END MyDemo; 
</code></pre>

<p>What are the limitations of using BIT over STD_LOGIC and vice-versa? Are they completely interchange able? I understand that if I've define STD_LOGIC I can't use it with a BIT_Vector to access the elements in the array. But I can't seem to see the difference. </p>
","<p><code>Bit</code> is a <a href=""http://www.csee.umbc.edu/portal/help/VHDL/types.html"">predefined type</a> and only can only have the value <code>0</code> or <code>1</code>. The <code>Bit</code> type is an idealized value.</p>

<pre><code>type Bit is ('0', '1');
</code></pre>

<p><code>std_logic</code> is part of the <a href=""http://www.csee.umbc.edu/portal/help/VHDL/packages/std_logic_1164.vhd""><code>std_logic_1164</code></a> package and provides more realistic modeling of signals within a digital system. It is capable of having nine different values. Typically within your code you will only use <code>0</code>, <code>1</code>, and <code>Z</code> (High-Z). But <code>U</code> (Uninitialized) and <code>X</code> (Unknown) are also very useful when modeling the system in a testbench.</p>

<pre><code>    -------------------------------------------------------------------    
    -- logic state system  (unresolved)
    -------------------------------------------------------------------    
    TYPE std_ulogic IS ( 'U',  -- Uninitialized
                         'X',  -- Forcing  Unknown
                         '0',  -- Forcing  0
                         '1',  -- Forcing  1
                         'Z',  -- High Impedance   
                         'W',  -- Weak     Unknown
                         'L',  -- Weak     0       
                         'H',  -- Weak     1       
                         '-'   -- Don't care
                       );

--    attribute ENUM_ENCODING of std_ulogic : type is ""U D 0 1 Z D 0 1 D"";

    -------------------------------------------------------------------    
    -- *** industry standard logic type ***
    -------------------------------------------------------------------    
    SUBTYPE std_logic IS resolved std_ulogic;
</code></pre>

<p>The <code>std_logic_1164</code> package also provides conversion functions to convert <code>std_logic</code> to <code>Bit</code>.</p>
","51850"
"Why is USB cable maximum length is shorter than in RS232?","18059","","<p>Why do we need to buffer USB signal if the cable is longer than 5m?<br>
Is that because a signal voltage drop?<br>
Is that because it drives currents?</p>
","<p>Speed of transmission matters because USB is half-duplex: in order to transmit a response, the bus must be turned around and data transmitted in the other direction. So the host sends out data and waits for an acknowledgement or a response. All transfers are controlled by the host. The device then has a certain (fairly short) time in which to respond. This time is roughly the time taken for two signal trips along a 5m cable.</p>

<p>(I can't find references right this second, but the relevant spec documents are public)</p>

<p>Edit: thanks to psmears for finding <a href=""http://www.usb.org/developers/usbfaq/#cab1"">this section</a></p>

<blockquote>
  <p>Cables and Long-Haul Solutions</p>
  
  <ol>
  <li>Why are there cable length limits, and what are they?</li>
  </ol>
  
  <p>A:   The cable length was limited by a cable delay spec of 26ns to
  allow for reflections to settle at the transmitter before the next bit
  was sent. Since USB uses source termination and voltage-mode drivers,
  this has to be the case, otherwise reflections can pile up and blow
  the driver. This does not mean the line voltage has fully settled by
  the end of the bit; with worst-case undertermination. However, there's
  been enough damping by the end of the bit that the reflection
  amplitude has been reduced to manageable levels. The low speed cable
  length was limited to 18ns to keep transmission line effects from
  impacting low speed signals.</p>
  
  <ol start=""2"">
  <li>I want to build a cable longer than 5 meters, why won't this work?</li>
  </ol>
  
  <p>A:   Even if you violated the spec, it literally wouldn't get you very
  far. Assuming worst-case delay times, a full speed device at the
  bottom of 5 hubs and cables has a timeout margin of 280ps. Reducing
  this margin to 0ps would only give you an extra 5cm, which is hardly
  worth the trouble.</p>
</blockquote>

<p>So my answer is only half-right: the round trip limit is for a worst-case chain of hubs and cables, for a total depth of 25m.</p>

<p>Dan Neely is also right that USB was always supposed to be the lowest-cost solution for ""slow"" peripherals like keyboards, mice, printers etc. If you wanted full duplex for more speed <em>and</em> more distance, 100baseT ethernet is the natural choice.</p>
","167020"
"How to set up a PLC for hobby home automation project?","18050","","<p>I want to use <a href=""http://en.wikipedia.org/wiki/Programmable_logic_controller"" rel=""nofollow"">PLC</a> to do security, temperature and light controls. I took case in PLC, but I don't have real world experience to set up a PLC system. Since I do not want to spend too much (less than USD$400 for PLC and <a href=""http://en.wikipedia.org/wiki/User_interface"" rel=""nofollow"">HMI</a>),  would anyone please suggest me what I have to buy and how much would they cost? I read a <a href=""http://www.plcdev.com/cheap_plcs"" rel=""nofollow"">site</a> , it says the AB mircologix is around $100 and the software is free. Would it be good for me my usage? Thanks</p>
","<p>For a cheaper solution you may use Chinese brand PLC FATEK, which you will get at very low price. You may also use Taiwan brand WINTEK HMI Touch Screen, You total cost will be under you limit. These products comes with Free Softwares, You may downloaded them from their websites for testing before purchasing.</p>

<p>You may use Microcontroller Development kit for this project, but for microcontroller development kit, high skills are required as compared to the PLC Project.</p>

<p>The main difference between Micro and PLC is of Graphical symbol programming and Monitoring, Programming of PLC is much simpler than of Microcontroller. And PLC has better online visual monitoring, however for Microcontroller monitoring you need to use JTAG.</p>

<p>AB Micrologix from plcdev are refurbished, and its Analog input/output card is costly. However FATEK comes with Digital and few Analog Input/outputs, so its depends upon requirements.</p>

<p>Another option is of SIEMENS LOGO PLC and Schneider Electric ZELIO PLC Smart Relay, its similar chinese product is IDEC SmarRelay. All these PLCs comes with a Graphical LCD, where you can see your data or any digital or analog I/O.</p>

<p>Among these PLC IDEC SmartRelays comes with four analog Inputs at lower price.</p>

<p>So, Choice is yours :)</p>
","36887"
"Why are vias placed this way on a PCB?","18043","","<p>I used to check complex commercial PCBs specially those of graphics cards to see how professional PCB designers do their layout and learn from their techniques.</p>

<p>When I checked the card shown below I noticed two things regarding the placement of vias:</p>

<p>(A higher resolution image is <a href=""http://www.techpowerup.com/reviews/Club_3D/HD_7850_RoyalQueen/images/front_full.jpg"">shown here</a>).</p>

<ol>
<li><p>The PCB is surrounded by stitching vias all around the edges. What's the role of all of these? I think they're connected to ground to act as a shield, if that's true, I can't understand technically how by this placement they achieve this shield?</p></li>
<li><p>By looking closer to the mounting holes, I noticed they added vias all around the pad, why? </p></li>
</ol>

<p><img src=""https://i.stack.imgur.com/poGWH.jpg"" alt=""enter image description here""></p>
","<p><strong>Ground Ring</strong></p>

<p>Surrounding the PCB, and sometimes areas within the PCB, is surrounded by a ring of traces that is connected to GND.  That ring exists on all PCB layers and is connected together with a bunch of vias.</p>

<p>To explain what this does, I need to describe what happens when you don't have the ground ring.  Let's say that on Layer 2 you have a ground plane.  On layer 1 you have a signal trace that goes all the way to the edge of the ground plane, and runs for several inches along the edge.  This signal trace is technically directly over the ground plane, but right at the edge.    In this case that trace will radiate more EMI than other traces, also the trace impedance would not be as well controlled.  Simply moving the trace in, so it is not at the edge of the ground plane, will fix the problem.  The more ""in"" you move it the better, but most PCB designers will move it in at least 0.050 inches.</p>

<p>There are similar issues when you have a power plane.  The power plane should be moved back from the edge of the GND plane.</p>

<p>Enforcing these rules, that traces can't be within 0.050"" of the edge of a plane, is difficult in most PCB software packages.  It's not impossible, but most PCB designers are lazy and don't want to set up these complicated rules.  Plus, this means that there are areas of the PCB that are simply empty of useful traces.</p>

<p>A solution to this is to put in a ground ring and tie it all together with vias.  This will automatically prevent other signals from going into that area of the PCB, but also provide better EMI prevention than simply moving the traces back.  For the power plane, this also forces the power plane back from the edge (since you just put a GND trace there).  </p>

<p><strong>Mounting Holes</strong></p>

<p>In most cases you want to connect your mounting holes to GND.  This is for EMI and ESD reasons.  However, the screws are really bad for PCB's.  Let's say that you have a normal plated through hole that is connected to your ground plane.  The screw itself can destroy the plating inside the hole.  The screw head can destroy the pad on the surface of the PCB.  And the crushing force can destroy the GND plane near the screw.  The odds of any of this happening is rare, but many EE's have had enough problems with this to come up with fixes.</p>

<p>(I should note that destroying the plating and/or the pad usually results in metal flecks getting loose and shorting out something important.)</p>

<p>The fix is this:  Add vias around the mounting hole to connect the pads to the GND plane.  Multiple vias gives you some redundancy and reduces the inductance/impedance of the whole thing.  Since the via is not under the screw-head it is less likely to get crushed.  The mounting hole can then be unplated, reducing the chance of loose metal flakes shorting something out.  </p>

<p>This technique is not foolproof, but does work better than a simple plated mounting hole.  It seems like every PCB designer has a different method for doing this, but the basic thinking behind it is mostly the same.</p>
","36845"
"Why are high end audio connections gold?","18038","","<p>Silver has a lower resistivity than gold and is cheaper, so why are high end audio components gold plated? </p>
","<p>Gold is highly resistant to corrosion or oxidation, so prevents poor connections from those sources.It is also fairly soft, so the mating surfaces deform slightly, increasing contact area to reduce resistance. The gold plating is very thin, so the added resistance from the gold is easily overcome by its other properties.</p>

<p>Note that gold is only needed on the actual contact areas - gold plating (or colour) on the body of the connector is only there to attract the gullible.</p>

<p>Many commercial (not audiophile) connectors have selective gold plating on the contacts - the gold is only placed where it really matters.</p>
","69670"
"How to tell if chips overheat while soldering","18014","","<p>I am new to soldering and I am afraid that I am getting some of my chips too hot. I'm sure this will be less of an issue when I get more experience. I also ordered some DIP sockets but they won't arrive for a few months. In the mean time is there any way I can tell if I have damaged my chips? I am afraid that I won't by able to tell if I have made a mistake in the circuit on the protoboard or the chip is just damaged and malfunctioning. Generally speaking, can you destroy a chip with heat before it gets too hot to touch? I know datasheets list maximum temperatures but it seems like the temperature inside could get much hotter than the temperature you can feel on the outside.</p>
","<p>First of all, it's unlikely that you will destroy your parts even if you hold the iron on the pins for a long time (over 5 seconds). Components are designed to withstand a good bit of heat and time (sometimes minutes) during mass production. However, an iron tip is usually hotter than the temperatures used in factory production, so there is risk of damaging a part if you hold the iron on it too long. Some spec sheets will give limits on soldering time, but these are usually aimed at mass production temperatures, not a hand soldering iron.</p>

<p>I, like many others here, have never fried a part from overheating it. But if you're working with a particularly sensitive part, there are a few techniques you can use to mitigate the risk of thermal damage (some CMOS or MOSFETs are known to be more easily damaged... CMOS technology is used in some digital logic ICs, for instance).</p>

<ul>
<li>Solder alternate pins, or give the chip time to cool off between pin</li>
<li>Attach a thermal sink in between the chip and the solder joint to draw heat away before it damages the part. Note that this can make soldering more difficult as it will be harder to heat the actual joint.</li>
<li>Use sockets (like you're doing already).</li>
<li>Use a lower temperature (make sure to have a tip in good condition, and a little blob of solder already on the tip to help transfer heat--""tinning"" the tip).</li>
</ul>

<p>In general, though, if you spend no more than 2-3 seconds on the joint, you'll probably be OK. And for large wires, connectors, or ground planes, you may need to spend much more time on the joint to allow the solder to thoroughly wick and bond to all the surfaces. For joints with a lot of metal, try to keep the soldering time below 5-10s.</p>

<p>In terms of temperature, if you have an adjustable temperature iron, stay below 650°F for leaded solder, and 750°F for lead free. I will occasionally set the temperature to 800°F  for large components or ground planes. You're better off finishing a joint in 5-10 seconds at a higher temperature than holding the heat on for much longer at a lower temperature. Long soldering times give the heat time to spread to the components where it can do damage.</p>

<p>How to tell if there's damage? If the component changes color, that's a bad sign. If the board browns or chars, that's also bad. The unfortunate reality is that you may do latent damage to a component by heating it too long and too hot. For example, a chip may initially work, but fail early, or some of its specs may be slightly off from their original design.</p>

<p>As an aside: Why is an iron tip hotter than temperatures used in mass production (and the temperatures noted in spec sheets)? During mass production, the entire board is usually heated, so the pcb, IC and joint are all at the same temperature. When you hand solder, the pcb and IC are much colder than the joint, and are constantly drawing heat away from the joint. Your iron must be much higher than the melting point of the solder to compete against these heat sinks.</p>
","51094"
"Read and write values in Multidimensional arrays in verilog","18007","","<p>How can we read and write values in a multidimensional array in verilog, i had read in <a href=""http://electrosofts.com/systemverilog/arrays.html"" rel=""nofollow"">this link</a> regarding different operations that can be done on multidimensional array.
like if there is a part of code like this</p>

<pre><code>input [15:0] me;

reg [15:0] p_array [7:0];
reg abc_pqr [2:0];

abc_pqr[0] &lt;= me[0];
abc_pqr[1] &lt;= me[1];
abc_pqr[2] &lt;= me[1];
p_array[abc_pqr[0]] &lt;= me[0];
p_array[abc_pqr[1]] &lt;= me[1];
p_array[abc_pqr[2]] &lt;= me[2];
</code></pre>

<p>so is this code will work and will not produce any error?</p>

<p>What is the difference between these two while assigning value</p>

<p>""&lt;="" and ""="", i had seen ""&lt;="" in most of the places during passing values.</p>
","<p>This is not one question but breaking down the main points:</p>

<p><code>&lt;=</code> is a non-blocking assignment used when implying a flip-flop output.<br>
<code>=</code> is a blocking assignment used when implementing combinatorial output.</p>

<p>example usage:</p>

<pre><code>input [10:0] in_data;

reg [11:0] flip_flop;
reg [11:0] next_data

//Flip-flop
always @(posedge clock) begin
  flip_flop &lt;= next_data;
end

//Combinatorial
always @* begin
  next_data = in_data + 11'd1;
end 
</code></pre>

<p>You defined 3 different data types:</p>

<pre><code>input [15:0] me;
reg [15:0] p_array [7:0];
reg abc_pqr [2:0];          //Same as reg [0:0] abc_pqr [2:0]
</code></pre>

<p><code>me</code> is a standard 16 bit word. <code>p_array</code> is an 8 deep memory of 16 bit words.<br>
<strong>NB: it is typical to define as reg [15:0] p_array [0:7];</strong>
<code>abc_pqr [2:0];</code> is a 3 deep 1bit memory.</p>

<p>You have :</p>

<pre><code>abc_pqr[0] &lt;= me[0]; //This is a 1 bit assignment:
abc_pqr[1] &lt;= me[1];
abc_pqr[2] &lt;= me[2]; //&lt;-- corrected this to 2
</code></pre>

<p>Looks valid.  </p>

<p>Then :</p>

<pre><code>p_array[abc_pqr[0]] &lt;= me[0];
</code></pre>

<p>p_array needs a <code>[7:0]</code> wide index, you have only supplied 1 bit. and a p_array element is 16 bits wide your left hand side is again only 1 bit.</p>
","76672"
"Building a hobbyist oscilloscope","18001","","<p>I have a project that I've been thinking about for a little while, and I've come to the realization that at some point during its development, I'm going to need an oscilloscope. Okay, not a problem.</p>

<p>Instead of purchasing an oscilloscope, I've decided that I'd like to -- at the very least -- design my own, and hopefully build the result. To make things simpler, I'm thinking about using a Raspberry Pi to do all the fun calculations and visualizations (I don't feel like implementing the FFT on an AVR, thank you very much).</p>

<p>The more I read about oscilloscopes, the more confused I am, to be honest. Why <em>isn't</em> an oscilloscope just an ADC? If I were to hook up something like <a href=""http://canada.newark.com/analog-devices/ad7822bnz/ic-8bit-adc-7822-dip20/dp/31M4376"">this</a> (with appropriate over-voltage protection and pre-amplification) to a circuit on one end, and an appropriately-programmed CPU on the other, wouldn't that be an oscilloscope?</p>

<p>[In the past I've only worked with simple digital circuits -- I'm mainly a theoretical computer scientist! -- and so I'm trying to wrap my head around analog electronics right now. As such, I apologize if the answer to this is extremely obvious...]</p>
","<p>At it's heart, a (digital) oscilloscope <em>is</em> just an ADC, along with some memory to hold the samples. The samples are then read out of the memory and displayed.</p>

<p>The practical implementation issues make commercial oscilloscopes complicated. The input signal needs to be scaled appropriately for the range of the ADC, which means that you need to have attenuators and/or amplifiers that have very precise gain values that are very flat across a huge range of frequencies (DC to 10s or 100s of MHz at a minimum) in order to measure waveforms with minimal distortion.</p>

<p>Also, depending on the application, the sample rate of the ADC needs to be adjusted (very precisely) over a wide dynamic range &mdash; 1 ns/sample to 1 s/sample (9 orders of magnitude) would be typical.</p>

<p>Then there's the question of knowing when to start &mdash; or more importantly, stop &mdash; sampling; this is known as triggering. Different applications have different needs for triggering, and commercial 'scopes have a wide selection to accomodate them.</p>
","98826"
"Using the ATMega328 with the internal oscillator?","17997","","<p>I have a project that I think would be best suited for an ATMega328P. However, in every simple project I've seen, people always hook up a 16MHz external oscillator. From what I can see, it should have an 8MHz internal oscillator. My project doesn't require a lot of processing power, nor does timing need to be very precise(other than for a UART and I2C). I have a programmer also, so I don't need to worry about bootloaders. </p>

<p>Is there any reason for me to use an external oscillator? </p>
","<p>What you don't say is what the accuracy of this internal oscillator is. It took me some time to find it in the <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42735-8-bit-AVR-Microcontroller-ATmega328-328P_Datasheet.pdf#page=369"" rel=""nofollow noreferrer"">datasheet</a>, on page 369.  </p>

<p>10%. Ten percent! And that for a calibrated oscillator? This is awful. It isn't unreasonable to expect error as low as <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/41239D.pdf#page=72"" rel=""nofollow noreferrer"">1% for this</a>. Microchip/Atmel provides a <a href=""http://www.atmel.com/Images/doc2555.pdf"" rel=""nofollow noreferrer"">document</a> for calibrating the oscillator yourself to 1% accuracy.  </p>

<p><strong>I2C</strong> is a <strong>synchronous</strong> protocol, and timing accuracy isn't relevant as long as minimum and maximum pulse times are respected.<br>
<strong>UART</strong> on the other hand is <strong>asynchronous</strong>, and then timing accuracy is important indeed. Most UARTs allow a half bit error in the last bit (the stop bit), so that's 5% for a 10 bit transmission.  </p>

<p>The factory calibrated oscillator won't do here. You'll have to go through the calibration procedure to get to 1%. In that case you can use the internal oscillator. Otherwize you'll have to use a crystal.</p>
","32433"
"What is a brownout condition?","17973","","<p>I'm reading the datasheet of <a href=""http://www.analog.com/static/imported-files/data_sheets/AD5762R.pdf"">this DAC</a>. Page 27 states:</p>

<blockquote>
  <p>In many industrial process control applications, it is vital that  the
  output voltage be controlled during power-up and during  brownout
  conditions.</p>
</blockquote>

<p>What are ""brownout conditions""? Why is it ""vital"" that the output voltage be controlled during brownout conditions?</p>
","<p>A brown-out is a short dip in the power supply. Many microcontrollers have brown-out detection on-chip, often, like in the Atmel AVR, with programmable threshold levels. When a brown-out occurs the microcontroller will be reset.</p>

<p>This may seem a bit drastic, but it's a question of reliability, and safety. If just one of those thousand of gates would lock due to a too low voltage it may lock up the complete controller, or have it go bananas, that it still runs, but produces nonsensical results and performs ditto actions. You don't want that, especially not where the microcontroller controls industrial equipment. That's why a brown-out situation always has to be responded to predictably. The DAC does this by shutting the outputs off, which you can expect to be the least harmful behavior.</p>
","37563"
"Why can't I vary the speed of a dc motor with only a potentiometer?","17971","","<p>I made a simple circuit with a 9 volt battery, a dc motor, and a potentiometer. The positive of the battery is connected to one side of the potentiometer and the negative to the other. One side of the motor is connected to the negative battery side and the other side is connected to the middle pin of the potentiometer. When I turn it, the motor is either off or on. How come the speed doesn't change since I am varying the voltage? Why do I have to use a transistor in this case with an Arduino?</p>
","<p>What you're seeing is probably a combination of two things: the current capacity of the 9V battery and the resistance of the potentiometer.</p>

<p>Your typical household 9V batteries are notorious for their very high internal resistance. If you're trying to source more than just a few 10's of mA, the voltage across the battery's terminals will begin to drop considerably. You didn't say anything about what kind of motor you have, but I would guess there's a strong chance the battery is having a hard time turning the motor at all, even with low external resistance.</p>

<p>Now for the potentiometer. You have the right idea using the pot as a variable resistor. For the simple experiment you're doing, there's no need to connect the other side of the potentiometer to ground. That's just needlessly wasting current out of the battery. This should be all you need:</p>



<p><img src=""https://i.stack.imgur.com/02MJp.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2f02MJp.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup><br>
The reason it's not working for you is because the 10k value you picked is simply too big. Turning the pot even just a little bit will quickly introduce several hundred Ohms, which will drop almost all of the voltage across the pot resistance before it gets to the motor.</p>

<p>In order to figure out how big the potentiometer should be, experiment with static resistors in series with the motor first. Find the largest resistance that still allows the motor to turn slightly. You'll probably find the value is very low: a few 10's of Ohms or in the low 100's. If you then use a potentiometer in that range, your experiment will work.</p>
","231951"
"Difference between instantaneous, definite time and inverse time over current protection relays","17946","","<p>Protection coordination is very important in transmission and distribution power networks. One of the most widely used and important protection relays are over current protection relays.</p>

<p>What is the difference between instantaneous, definite time and inverse time over current protection relays (and maybe any other over current protection relays if they exist).</p>

<p>I am especially interested in real case application. In which case you use any of them. Are there any benefits of using one type over another?</p>
","<p>When electromechanical relays were still used, inverse time relays, definite time relays, and instantaneous relays were separate relays.</p>

<p>Modern protection relays combine inverse time, definite time, and instantaneous characteristics into one device. So you can have all three types in one device.</p>

<hr>

<h1>The difference between inverse time, definite time, and instantaneous relays</h1>

<p><a href=""https://i.stack.imgur.com/ExLzl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ExLzl.png"" alt=""enter image description here""></a></p>

<p>The time-current characteristic curve is different for inverse time, definite time, and instantaneous relays.</p>

<p>You can use combinations of curve types to achieve the design requirements. I commonly use inverse-time, definite-time, and instantaneous elements, all on the same relay.</p>

<ul>
<li><p><strong>Inverse time overcurrent relays:</strong> Slow to trip at low currents. Faster to trip at high fault currents. Used to co-ordinate over load protection, which may have a high starting current. Generally the most sensitive (lowest amps pickup), and slowest to operate.</p></li>
<li><p><strong>Definite time relays:</strong> used to co-ordinate over other definite time, or instantaneous protection. Generally less sensitive (higher pickup) to prevent operating for load inrush. Generally faster operating time.</p></li>
<li><p><strong>Instantaneous relays:</strong> Used when co-ordination is not required. Usually the least sensitive of all relays, as the relay must not operate for any kind of inrush, or operate before any downstream relay.</p></li>
</ul>

<hr>

<p>For more details, including application details, refer to:</p>

<ul>
<li>Alstom Grid's <a href=""http://www.gegridsolutions.com/alstomenergy/grid/products-services/product-catalogue/electrical-grid-new/digital-substation/substation-automation/agile-protection-relays/network-protection-automation-guide-new-edition/index.html"" rel=""nofollow noreferrer""><em>Network Protection and Automation Guide</em></a>. This has been the classic protection textbook (in Commonwealth countries) for the last 50 years.</li>
<li>Thomas P. Smith's <a href=""http://epowerengineering.com/guides-part-5.pdf"" rel=""nofollow noreferrer""><em>The ABC's of overcurrent co-ordination</em></a></li>
</ul>

<p>Power systems protection is a deep and interesting field. Good luck!</p>
","248228"
"Connect 230V AC 50Hz to oscilloscope","17918","","<p>this is a noob question but here it is:<br>
How can i connect an osciloscope to the 230V mains power line to see the voltage sine wave ?  <br>
- what schematic do i need<br>
- how safe is it ?</p>
","<p>Use a transformer (12V, say), it will be much safer even if your scope will handle the mains voltage.</p>

<p>That particular scope will probably be damaged, DO NOT connect it to the mains! 230 V is the rms voltage, the peak voltage is 230 * 1.412 V.</p>
","8535"
"Building a USB charger for camping","17914","","<p>I was looking into building a battery powered USB charger for camping. It occurred to me that car chargers are pre-built and run off 12 V. If I made a battery pack out of 8x 1.5 V batteries in series and wired them to the electronics in a car USB charger would that work as a simple cheap and effective solution?</p>

<p>Also can I calculate the charges from the pack by summing the mAh of the 8 batteries and dividing by the mAh of the unit to be charged or is the efficiency of the device non negligible?</p>
","<p>You can use existing commercial 12V to USB (= 12V to 5V effectively) converters or ANY ""X"" Volt to USB converter already available.</p>

<p><strong>Some</strong> 12v-USB units use a linear regulator so have efficiency of 5V/12V ~= 40% :-(.<br>
 <strong>Many</strong> use some form of switching regulator.<br>
 These are typically around 80 - 85% efficient but more or less is also possible. I have seen some which use the venerable MC34063, and there are many other choices.<br>
 <a href=""http://www.onsemi.com/pub_link/Collateral/MC34063A-D.PDF"" rel=""nofollow noreferrer"">MC34063 datasheet</a></p>

<p><strong>Energy wasted:</strong></p>

<p>At 80% you waste 20% of the energy.<br>
 At 40% see above) you waste 60%.<br>
 So a not overly efficient smps wastes 3 x less energy than a linear regulator.</p>

<p><strong>Power input</strong></p>

<p>For 1 unit of power output (say 1 Watt)<br>
 A 40% efficient unit needs 1W/0.40 = 2.5 Watts.<br>
 An 80%  efficient unit needs 1W/0.8 = 1.25 W.<br>
 So a linear regulator needs 2.5 / 1.25 = twice the wattage</p>

<p>Note that power needed and energy wasted are related but not in the same ratio between linear and smps supplies.</p>

<p>If you want to try do-it-yourself the venerable MC34063 is not as efficient as some modern ICs but is reasonably close and is cheap and very flexible.<br>
 <strong>DIY MC34063 examples at end.</strong></p>

<p><strong>Lead acid battery:</strong> If you have complete control over the design then a good choice can be a 6V sealed lad acid gel cell. These give good energy per $ and can last quite well if treated well.<br>
 Even with a linear regulator a 6V battery will give and efficiency of 5V/6V ~= 83%- so you can do better with a smps but not vastly so in many cases.<br>
 eg a 90% efficient smps uses 83/90 =!~ 8% less Wattage than a linear supply from 6V. As voltage drops under  6V the linear regulator efficiency increases.<br>
 To use a 6V battery for 5V output you need a low low low dropout regulator. This can be achieved with a P Channel MOSFET and one opamp section. </p>

<p><strong>Lead Acid discharge voltage:</strong> The curves below are <strong>indicative only</strong> of voltages expected from a lead acid battery. These were for one brand of large deep discharge cells and small gel cells will be different BUT it gives an idea of what can be expected. If you use a 6V 7Ah battery then if the USB output is 1A (= charge a 1000 mAh cellphone battery at max allowed rate. then the peak discharge rate of 1A = 1A/7 Ah = C/7.<br>
 End point voltage for a 6V battery would be ~= 5.25V = ample.<br>
 If you charge EyeFones or EyePadz with battery capacities of about 1600 mAh or even 3000 mAh then you may ant 1.6A and 3A peak. Even 3A is 3A/7Ah ~= C/2.5.<br>
 At C/2.5 battery voltage would be about 10.5V at about 70% of capacity expended - still very useful and it helps lifetime to not discharge deeply.<br>
 At 3Ah from a 7Ah battery you could notionally charge  2 x 3Ah batteries. 
 Or maybe 5 or 6 x 1000 mAh cellphone batteries.</p>

<p>For lead acid, battery brand matters. Yuasa are excellent and actually have several grades aimed at different uses and price ranges and good data is available.<br>
 Panasonic are good. Just about anything made by Panasonic is good :-) (I have zero involvement with them). Some others are good but cheap batteries may be very bad. Or not.</p>

<p><img src=""https://i.stack.imgur.com/2Jeff.jpg"" alt=""enter image description here""></p>

<hr>

<p><strong>MC34063:</strong> <a href=""http://www.onsemi.com/pub_link/Collateral/MC34063A-D.PDF"" rel=""nofollow noreferrer"">Datasheet &amp; application guide {again}</a></p>

<p>Example below is 25 V in, 5V 500 mA out. Would take 12V in as is except halve Rsc and ensure inductor suitable core size. Efficiency of ~84% may be slightly lower at 12V in.<br>
 <strong>Count the external parts!.</strong><br>
 While there may be a very few more than in some minimalist designs the same IC can do Boost, buck boost and anything else wanted.</p>

<p>PCB layouts - see data sheet for boost and inverting circuits.</p>

<p><img src=""https://i.stack.imgur.com/LnQb9.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/ZcPPD.jpg"" alt=""enter image description here""></p>
","31066"
"How is the internet able to transmit data so fast?","17909","","<p>I'm not sure if I'm in the right place or not, but I figured someone here could maybe provide a good answer. I want to know how electricity is able to flow so fast. For example videos games nowadays, you can shoot someone across the world and they die almost instantly. How is electricity able to do this? I was trying to google this question but found poor results, that's why I am here.</p>
","<p>This isn't something that can be answered in a single post, by a single person. However, I hope this answer provides enough information and links to be helpful.</p>

<p>It is important to understand how signals are transmitted over the Internet. Note however that due to noise and the immense number of users, the same signal needs to be encoded, decoded, retransmitted, etc so the time needed for processing is many orders of magnitude more that the actual electrical signal needs to travel. Also have in mind at a millisecond is an very large amount of time for a computer; a <a href=""http://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units"" rel=""nofollow noreferrer"">GeForce Quadro K6000</a> graphics card can perform 5.000.000.000+ floating point operations in that much time (5196 GFlops times 1ms).</p>

<p><strong>Conductive cables:</strong></p>

<p>The electrons themselves don't move that fast because they bounce around inside of the conducting cables. However electricity doesn't travel based on electrons bouncing one onto the other, rather one repelling the other through electromagnetic interaction:</p>

<p>Say you have 3 electrons in line (assume one dimensional space). Move the first a little bit. The distance of the first to the second gets a little smaller. The electrostatic force on them gets a little larger. According to <a href=""http://en.wikipedia.org/wiki/Coulomb%27s_law"" rel=""nofollow noreferrer"">Coulomb's Law</a> it is: $$\|F\|=k_e\frac{q_1 q_2}{r^2}$$
where: \$\|F\|\$ is the magnitude of the force, \$k_e\$ is Coulomb's constant, \$q_1\$ and \$q_2\$ is the charge of each of the two particles and finally \$r^2\$ is the distance between them.</p>

<p>As the first particle moves towards the second, the electrostatic force increases almost instantly. This causes the second particle to move a little bit towards the third etc.</p>

<p>""Almost instantly"" actually means ""at the <a href=""http://en.wikipedia.org/wiki/Speed_of_light"" rel=""nofollow noreferrer"">speed of light</a>"" (\$c=299,792,458m/s\$).</p>

<p>There is an extreme number of electrons inside a <a href=""http://en.wikipedia.org/wiki/Electrical_conductor"" rel=""nofollow noreferrer"">conducting wire</a> and the physics are a bit more complicated but the gist of it is a signal gets across a conductor ""almost instantly"" but slower than \$c\$.</p>

<p><strong>Optical Fibre:</strong></p>

<p><a href=""http://en.wikipedia.org/wiki/Optical_fiber"" rel=""nofollow noreferrer"">Optical fibre</a> cables transmit signals by photons instead of electrons. Even in this case however, the photons don't travel in a straight line. However, the time needed for the photon to travel across the line is still very small compared to the processing time to encode and decode the signals, as well as packet retransmissions.</p>

<p><strong>Wireless:</strong></p>

<p>Finally, <a href=""http://en.wikipedia.org/wiki/Communications_satellite"" rel=""nofollow noreferrer"">communication satellites</a> as well as numerous types of <a href=""http://en.wikipedia.org/wiki/Wireless"" rel=""nofollow noreferrer"">wireless links</a> are used to transmit signals, well, wireless using a great number of transmission protocols, <a href=""http://en.wikipedia.org/wiki/Modulation"" rel=""nofollow noreferrer"">modulations</a> and frequencies. In this case, signals are transmitted using <a href=""http://en.wikipedia.org/wiki/Electromagnetic_radiation"" rel=""nofollow noreferrer"">electromagnetic radiation</a>. This a very complex subject and I can't possibly cover it all.</p>

<p><strong>Smart ways to encode information into electrical signals:</strong></p>

<p>It is not enough for a voltage pulse to reach the other end of a wire; that voltage is there to convey some information. The act of encoding information by modifying a carrier signal based on the information to be transmitted (carried, hence the name carrier), is called <a href=""http://en.wikipedia.org/wiki/Modulation"" rel=""nofollow noreferrer"">modulation</a>.</p>

<p><strong>Smart ways to share the same channels:</strong></p>

<p>All these communication channels need to be connected and information needs to travel across this vast network in a reliable way. Initially, to have two nodes communicate with each other, they would reserve a number of cables forming a path from node A to node B. No other node would be able to use this same path. This is called <a href=""http://en.wikipedia.org/wiki/Circuit_switching"" rel=""nofollow noreferrer"">circuit switching</a>. The breakthrough that made such a vast network such as the internet possible was the ability for numerous nodes to share one particular communication channel. This sharing was enabled by <a href=""http://en.wikipedia.org/wiki/Packet_switching"" rel=""nofollow noreferrer"">packet switching</a>. Instead of reserving a circuit just for two nodes, every node just checks if the bus is free, then transmits a packet containing data and destination info (and some other stuff) and then releases the channel. Packets need to find their destination and this is called packet <a href=""http://en.wikipedia.org/wiki/Routing"" rel=""nofollow noreferrer"">routing</a>, which is another huge subject. Routing and the need for modulation is the main reason a packet takes ""so long"" to reach it's destination compared to how fast electromagnetic waves travel. Routing is also necessary for all those users to coexist on the same network.</p>

<p><strong>The Internet:</strong></p>

<p>All these thing, along with numerous other technologies, are used together to form <a href=""http://en.wikipedia.org/wiki/Internet"" rel=""nofollow noreferrer"">The Internet</a>.</p>

<p><strong>Lag Compensation:</strong></p>

<p>In many applications, including competitive video games, a few milliseconds of delay would be unacceptable, especially when a server needs to register a ""hit"". That's where <a href=""https://en.wikipedia.org/wiki/Lag#Solutions_and_lag_compensation"" rel=""nofollow noreferrer"">lag compensation</a> comes into place. One of the methods used involves the server keeping a short history of each entity position and animation state. Then perform a number of tests and physics simulations to see if a ""hit"" would occur when a player ""fires"" their weapons, based on the lag, velocity, and animation state of each entity plus the world geometry.</p>
","121782"
"What are the advantages of having two ground pours?","17909","","<p>I've seen many 2-layer PCBs that have a ground pour on both the top and bottom layers, I was wondering why do that ? and wouldn't it be better to use the top layer for power and signals and the bottom layer for ground to simplify the routing and also taking advantage of the capacitance between the planes ?</p>
","<p>Good layout and grounding seems to be poorly understood out there so religion finds a foothold.  You are right, there is really very little reason to use both the top and bottom of a two layer board for ground.</p>

<p>What I usually do for two layer boards is to put as much of the interconnects as possible on the top layer.  This is where the pins of the parts are already anyway, so is the logical layer to use to connect them.  Unfortunately you usually can't route everything on a single layer.  Paying attention and thinking carefully about part placement will help with this, but in the general case it is not possible to route everything in one plane.  I then use the bottom plane for short ""jumpers"" only when needed to make the routing work.  The bottom plane is otherwise ground.</p>

<p>The trick is to keep these jumpers on the bottom layer short and not abutting each other.  The metric of how good a ground plane is left over is the maximum linear dimension of a hole, not the number of holes.  A bunch of short 200 mil traces scattered about won't keep the ground plane from doing its job.  However, the same number of 200 mil traces clumped together to make one island a inch accross is a much bigger disruption.  Basically, you want the ground to flow around all the little disruptions.</p>

<p>Set the auto router cost for the bottom layer high and don't penalize it much for vias.  This will automatically put most of the interconnects on the top layer.  Unfortunately, the auto-router algorithms I have seen can't seem to be tweaked for not clumping the jumpers.  In Eagle, for example, there is the <i>hugging</i> parameter.  Even if you turn this off, you still get clumped jumpers.  Let the auto router do the grunt work, then you clean things up afterwards.  Sometimes you can spot a case where a little re-arrangement can eliminate a jumper altogether.  Most of your time, however, will be spent moving the jumpers apart to not make large islands.</p>

<p>As for power planes, that's mostly silly religion.  Route the power just like any other signal, although in this case you have to consider the voltage drop due to the trace resistance, since power traces presumably handle significant current.  Fortunately even 1 oz copper traces on a PCB are quite low resistance.  You can make the power traces 20 mil or whatever instead of 8 mils for signal traces.  In any case, the point is that the DC resistance matters but it is usually not much of a issue unless you have a high current design.</p>

<p>The AC impedance isn't all that relevant, which the religious folks don't seem to get.  This is because the power feed is locally bypassed to the ground plane at each point of use.  <i>If you have a good ground plane, you don't need separate power planes</i> for most ordinary designs, just good bypassing at each power lead of each part.  The bypass cap connects directly between the power and ground pins, then there is a via right at the ground pin to connect to the ground plane on the bottom layer.</p>

<p>The high frequency power loop current of a part should go out the power pin, thru the bypass cap, and back in to the ground pin without ever running accross the ground plane.  This means you don't use a separate via for the ground side of the bypass cap.  Connect it directly to the ground pin on the top side, then connect that net to the ground plane with a via at a single point.  This technique will help a lot with RF emissions and cleanliness in general.</p>
","41923"
"What is difference between I2C and TWI?","17893","","<p>What is difference between I2C and TWI interfaces? Wikipedia says, that TWI is variant of I2C. Some other sources says that only name is differ...</p>
","<p>I agree with everything @Wouter said... Namely, TWI is used by manufacturers (like Atmel) to refer to their I2C interface to avoid legal trouble with Philips since I2C is a registered trademark. Some manufacturers (like Atmel) have implemented proprietary features on top of I2C so that their TWI is an I2C superset.</p>

<p>To answer your follow-up question, yes. It is enough just to change the name. A trademark only protects the name. If it were patented, the situation would be different. </p>

<p>However, it is difficult to defend a patent on a modulation/encoding scheme since it is mostly just math. Often, copyright is used for this, but it is usually pretty easy to circumvent, since the copyright protects only the exact specific instantiation (implementation) of the protocol, not the protocol itself in most cases.</p>
","50972"
"Why do we need an isolation transformer to connect an oscilloscope?","17891","","<p>My professor always insists that I provide power to an oscilloscope thorough an isolation transformer. What is the necessity of this? What is the risk if I don't connect it?
<img src=""https://i.stack.imgur.com/fefbT.png"" alt=""enter image description here""></p>
","<p>You should never float a scope with an isolation transformer! This is reckless and dangerous advice from your professor, and he/she needs a reality check.</p>

<p>The accepted procedure for doing work that requires isolation is to ISOLATE THE UNIT UNDER TEST, NOT THE TEST EQUIPMENT.</p>

<p>Why? </p>

<ul>
<li>It's much easier to remember that <em>the unit under test is what's unsafe</em> and needs cautious handling, <em>not your oscilloscope</em></li>
<li>If you hook a communication cable up to your floating scope (USB, GPIB, RS232), guess what - it's NO LONGER FLOATING. (All of these cables have earth-referenced returns)</li>
<li>As soon as you connect that floating scope return to a potential, all of the exposed metal on the scope is now at that potential. Major shock hazard.</li>
</ul>

<p>If you cannot float the unit under test, use an isolated differential probe to do your measurements, and keep both the UUT and scope earthed. No measurement is worth the safety risk.</p>

<p>A battery-operated scope may seem like a good idea in this circumstance, but <em>only</em> if it has dedicated isolated inputs. A battery-operated ordinary scope with non-isolated inputs will still suffer the problem of the exposed metal floating up to whatever potential you connect the ground to. That's why <em>all</em> of the manuals for the battery operated scopes clearly say ""This scope must always be earthed, even if you're running off the battery"" - if you choose to ignore this, it's at your own risk. A scope with dedicated isolated inputs should still be earthed as a good practice. It's essentially the equivalent of using external isolated differential probes with an ordinary scope.</p>

<p>I work full-time in power electronics and have tens of thousands of dollars of lab equipment at my bench. If <em>anyone</em> is caught floating their scope, the float is immediately corrected by the test engineering team, the means of float is seized (most often this is a line cord with the ground prong removed) - disciplinary action is a possibility. Numerous senior/principal engineers have fried their PCs and their entire set of GPIB-connected bench instruments by trying to float the test equipment and forgetting about the GPIB interface. (No one has died yet - thankfully)</p>
","73994"
"What can reduce overshoot and ringing on a simple square wave pulse generator?","17882","","<p>I've built a simple RC and Schmitt-trigger-based square wave pulse generator. On the breadboard, it has some obvious unwanted qualities due to jumper length, the breadboard itself, etc.</p>

<p>Schematic and breadboard version:</p>

<p><img src=""https://i.stack.imgur.com/cgiqk.png"" alt=""Fast Edge Pulse Gen Schematic!"">
<img src=""https://i.stack.imgur.com/wyYli.png"" alt=""Fast Edge Pulse Gen Breadboarded""></p>

<p>And the waveform output:</p>

<p><img src=""https://i.stack.imgur.com/WRQt5.png"" alt=""Overshoot and Ringing Output""></p>

<p>In particular, the rising edge of the square wave has a substantial amount of overshoot <strike>(about 200mV over 500mV peak)</strike> and ringing. It is easy to make it worse, by physically touching R1. <em>See edits for correct info.</em></p>

<p>In looking for solutions I've ran into terms like snubbers and dampening for RF circuits and things beyond my <em>hobbyist</em> pay grade.</p>

<p>Anindo suggests in <a href=""https://electronics.stackexchange.com/a/57078/2028"">an answer to a related question</a> that one should use a 50&Omega; resistor for a load. I am measuring the output from the first Schmitt trigger (IC1D, at pin 2). The remaining triggers are used with 220&Omega; resistors to create an approximately 50&Omega; impedance, but I get almost identical results measuring at the output node.</p>

<p>This fast-edge pulse generator is purely for my own experimenting/education, so there is nothing critical about it. If I decide to make a soldered board of it, what sort of things can I do to ensure it's better than its breadboard cousin?</p>

<p><hr />
<strong>Edit:</strong></p>

<p>I mistakenly was in AC coupled mode for the previous screenshots and measurements. Here are some more screens showing the signal at pin 1 and 2 of the IC (input triangle wave on 1, output square on 2). They are now DC coupled. The probes were always in X10 but the scope itself was in X1 (brand new scope, oops!). The overshoot however is still significant: on the output which is 0-5V, the overshoot (shown by the dashed white cursor lines) is 2.36V. Note that the overshoot on the input is only about 500mV. <em>Is the input ripple due to the proximity of pins 1 and 2 on the breadboard?</em></p>

<p>Input (ch. 2/blue) on pin 1, and output (ch. 1/yellow) on pin 2:</p>

<p><img src=""https://i.stack.imgur.com/NipgL.png"" alt=""FEP Input on Pin 1 and Output on Pin 2, 100us Time Base""></p>

<p>Overshoot measured w/ DC Coupling:</p>

<p><img src=""https://i.stack.imgur.com/weFrs.png"" alt=""FEP Overshoots, DC Coupled, 50ns Time Base""></p>

<p>Removing resistor R2 and measuring at pin 4 (IC1E output) did not yield any noticeable difference from the signal at pin 2.</p>

<p>I should mention that the <a href=""http://www.youtube.com/watch?v=9cP6w2odGUc"" rel=""nofollow noreferrer"">original tutorial/video by W2AEW</a> from where I got the information for this circuit also has some overshoot, but not to the degree I have. His circuit is soldered on a board which probably helps a lot.</p>

<p>Original author's (W2AEW) waveform (at node OUT) with maybe 500mV over 5V:</p>

<p><img src=""https://i.stack.imgur.com/Q0uig.png"" alt=""Original Author W2AEW Scope Pic""></p>

<p>Original author's soldered version:</p>

<p><img src=""https://i.stack.imgur.com/z6pJ3.png"" alt=""Original Author W2AEW Soldered Circuit""></p>

<hr />

<p><strong>Edit 2:</strong></p>

<p>Here's a picture of the overall setup including lead lengths to the PSU and scope:</p>

<p><img src=""https://i.stack.imgur.com/qXPSg.png"" alt=""Overview""></p>

<hr />

<p><strong>Edit 3:</strong></p>

<p>And finally, VCC (yellow) and the OUT node (blue) on the scope to show the coinciding ripple:</p>

<p><img src=""https://i.stack.imgur.com/D2SE5.png"" alt=""VCC and OUT, coinciding ripple""></p>
","<p>Per other answers and comments, I focused on bringing the overshoot down with some of the suggestions provided.</p>

<p>I did the following:</p>

<ul>
<li>shortened the leads going to and from the breadboard,</li>
<li>adjusted compensation on the probes (one was slightly under compensated)</li>
</ul>

<p>This reduced measured overshoot from ~2.4V to 1.8V (over 5V).</p>

<p>@AndrejaKo's suggestion had the greatest effect, however. I put the <strong>tip ground spring</strong> on the probe and measured again, this time only seeing 680mV overshoot.</p>

<p>Until this circuit is soldered to a PCB, I certainly don't expect much better. But this is a <em>significant</em> improvement from the original.</p>

<p><em>Measuring square wave output at pin 2:</em>
<img src=""https://i.stack.imgur.com/o8Hmj.png"" alt=""FEP 680mV Overshoot""></p>

<p><em>Short ground path with tip spring:</em>
<img src=""https://i.stack.imgur.com/Kt4mD.png"" alt=""FEP tip ground spring""></p>

<p><em>The photo makes it look as though the resistor is touching the ground spring, but it isn't.</em></p>

<p>I'm not convinced that the overshoot has ever really been as high as measured (or even is really at 680mV), but that improper measuring methods have been to blame. If nothing else though, this has shown definitively that trying to measure high speed events really does require attention to things like lead length (impedance), stray capacitance, and careful analysis.</p>

<p><em>Note: I removed the resistors to the other five Schmitt triggers for the photo; the results were basically the same with/without them.</em></p>
","80038"
"Low threshold N-channel MOSFET","17870","","<p>I have a circuit which does something not important, but it results in an output being normally low, and then on activation climbs to a little below V<sub>cc</sub>. At the moment, it appears my V<sub>cc</sub> is 1.8&nbsp;V and the signal gets up to between 1.2&nbsp;V and 1.4&nbsp;V. I want to use this signal to control the gate of an n-channel MOSFET which is grounded on the source and has the drain tied to V<sub>cc</sub> through a large resistive load.</p>

<p>The problem is the threshold voltage of the standard MOSFETs I have appears to be too high, and I have to raise V<sub>cc</sub> to about 2.2&nbsp;V in order to get the circuit to trigger the MOSFET correctly. Are there better MOSFETs for this situation or some other design idea that would work well and solve my problem? </p>

<p>BTW, the switching speed is not really a consideration... we're talking 1-200&nbsp;Hz for frequency.</p>

<p><a href=""http://signalquest.com/download/Sensitivity%20Control%20App%20Circuit%20for%20SEN-200%20and%20MIN-200.pdf"" rel=""nofollow"">Application Note</a>, see page 3. I was hoping I could just use their circuit exactly and just mess with the tuning component, but it doesn't seem to work at 1.8&nbsp;V.</p>
","<p>Go to eg Digikey<br>
(1) CETSEMI make some superb parts. Available in NZ via agents. May be hard to find in US.</p>

<p>Example <a href=""http://web2.cetsemi.com/PDF/SO-8-N/M8208.PDF"" rel=""nofollow noreferrer"">CETSEMI CEM8208</a><br>
 20V, 7A dual MOSFET.  See graph below. At Vgs = 1V and 25C it will handle about 500 mA at OK Vds. Warmer is better :-). </p>

<p><img src=""https://i.stack.imgur.com/nboP1.jpg"" alt=""enter image description here""></p>

<p>(2)  Search favorite sources for MOSFET N Channel logic<br>
 eg <a href=""http://www.digikey.com/product-search/en/discrete-semiconductor-products/fets-single/1376381?k=logic%20mosfet%20n%20channel"" rel=""nofollow noreferrer"">Digikeys MOSFET N Channel logic search results</a>.<br>
 Select single MOSFETS.<br>
 Select Vgth range desired - say up to 400 mV.  </p>

<p>The following are all under $1/1 at Digikey (last getting a bit dearer). </p>

<p><a href=""http://www.nxp.com/documents/data_sheet/BSH103.pdf"" rel=""nofollow noreferrer"">The BSH103 may do</a> although a bit unhappy at low low Vgs</p>

<p><a href=""http://www.onsemi.com/pub_link/Collateral/NTJS3157N-D.PDF"" rel=""nofollow noreferrer"">NTJS3157 - better</a></p>

<p><a href=""http://www.vishay.com/docs/71692/71692.pdf"" rel=""nofollow noreferrer"">Better - Si4836Dy</a>
<a href=""http://www.onsemi.com/pub_link/Collateral/NTJS3157N-D.PDF"" rel=""nofollow noreferrer"">http://www.onsemi.com/pub_link/Collateral/NTJS3157N-D.PDF</a></p>

<hr>

<p>(3) Bipolar NPN will do this with ease. For super low Vsat drive base at much higher current than collector. eg if you have 10 uA collector current then eg 100 uA or 1 mA base current will give much lower than usual Vce_sat. </p>
","36532"
"Using 4 digit 7 segment LED","17865","","<p>I have a 7 segment display that has 4 digits. What will I need to make use of this? Can a single microcontroller handle the operation? I mean <a href=""http://ww1.microchip.com/downloads/en/devicedoc/41262a.pdf"" rel=""nofollow noreferrer"">PIC16F690</a>...I saw also a MAXIM chip that drives these kind of displays...is it absolutely required?</p>

<p>Here is a picture from the datasheet, I don't know why there are 2 pin diagrams? 
<img src=""https://i.stack.imgur.com/lm5Uw.png"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/byW9f.jpg"" alt=""enter image description here""></p>

<p><a href=""http://www.sme.com.hk/globetec/LED%20Displays/Four%20Digit%20Display/KW4-561.pdf"" rel=""nofollow noreferrer"">Here is a link to the datasheet</a></p>
","<p>The two schematics are two versions of the display, common cathode at the top, common anode at the bottom. I'll assume you have the common cathode version.  </p>

<p>You connect the segments A..G, DP via 8 series resistors to 8 I/O pins of the microcontroller. Driving a pin high will light that LED on the selected digit. To select any of the 4 digits you make the corresponding common cathode low via an NPN transistor, which you again drive from an I/O pin via a resistor. </p>

<p><img src=""https://i.stack.imgur.com/KeSUJ.gif"" alt=""enter image description here""></p>

<p>If your supply voltage is 5 V and you're using red LEDs then you can use 150 &Omega; resistors instead of 330. Also decrease the transistor's base resistor values to 2.2 k&Omega;, and use for instance <a href=""http://www.nxp.com/documents/data_sheet/BC817_BC817W_BC337.pdf"" rel=""noreferrer"">BC337</a>s for the transistors.</p>

<p>To drive the full display you first make pin 12 low by driving its transistor with a high level, and set the I/Os for the segments of that digit. Some time later you switch pin 12 and the segments off, and switch 9 on, and again the segments for the second digit. And so on. 
If you go from 1 digit to another in less than 2.5 ms, then the whole display cycles at 10 ms, or 100 Hz, which is enough to avoid noticeable flicker.</p>

<p>You can use the Maxim driver, like the <a href=""http://datasheets.maxim-ic.com/en/ds/MAX7219-MAX7221.pdf"" rel=""noreferrer"">MAX7219</a>, but it's Damn Expensive™: 12.80 dollar in 1s at Digikey. The good thing about it is that it takes care of the multiplexing for you, so you just have to load it with the segment data for the 4 digits. It also has software brightness control.</p>

<p>I checked the <a href=""http://ww1.microchip.com/downloads/en/devicedoc/41262a.pdf"" rel=""noreferrer"">PIC16F690 datasheet</a>, and unlike other microcontrollers its I/Os don't seem to be able to source 20 mA (which is disappointing). So you'll need transistors on port 2 as well:  </p>

<p><img src=""https://i.stack.imgur.com/v9MmC.png"" alt=""enter image description here""></p>

<p>R1 was one of the resistors on port 2. So you insert Q1 and R2 between them, and repeat that for each of the 8 segments. Attention, Q2 is a PNP! Any general purpose PNP transistor will do.</p>
","34818"
"Correct formula for LED current-limiting resistor?","17838","","<p>I'm trying to work out what value resistor to use in a LED circuit. The equation I'd use to do this is:</p>

<p>$$ R = \frac{V_{cc} - V_f}{I_f} $$</p>

<p>Seems logical, and makes complete sense. The answers to the question <a href=""https://electronics.stackexchange.com/questions/14852/how-do-i-calculate-the-resistor-value-for-a-simple-led-circuit"">How do I calculate the resistor value for a simple LED circuit?</a> confirm this too.</p>

<p>I have the following LEDs:</p>

<ul>
<li>\$ V_f = 3.3V \$</li>
<li>\$ I_{f_{typ}} = 20mA \$</li>
</ul>

<p>Using a 5V power supply:</p>

<ul>
<li>\$ V_{cc} = 5V \$</li>
</ul>

<p>Plugging these into the above equation gives:</p>

<p>$$
\begin{eqnarray}
R &amp; = &amp; \frac{V_{cc} - V_f}{I_f} \\
  &amp; = &amp; \frac{5V - 3.3V}{20mA} \\
  &amp; = &amp; 85\Omega
\end{eqnarray}
$$</p>

<p>All good so far.</p>

<p>However, if I use the calculator at <a href=""http://led.linear1.org/1led.wiz"" rel=""noreferrer"">http://led.linear1.org/1led.wiz</a>, that gives me <strong>100&Omega;</strong>. If I use the ElectroDroid app on my phone, that gives me <strong>85&Omega;</strong>.</p>

<p>So, I assume that the linear1 calculator is using a different method of calculating this resistor value; is there some better way of doing this?</p>
","<p>Your calculation is correct. <a href=""http://led.linear1.org/1led.wiz"">linear1</a> rounds up to the next <a href=""http://www.logwell.com/tech/components/resistor_values.html"">E12 value</a>, which happens to be 100\$\Omega\$. The nearest E12 value would have been 82\$\Omega\$, and that would still be safe, because, even if the current will be higher, the difference will be small, within the 10% tolerance of the E12 series.</p>

<p><strong>edit</strong><br>
Purists may say I'm cutting corners here. Russell has a long answer about iterating the solution, and others whine (hey, no offense!) about rounding up being more safe. My answer is meant to be <strong>pragmatic</strong>; no professional design engineer can afford to spend 15 minutes to calculate the resistor for a classical color LED. If you stay well below the maximum allowed current you'll have enough headroom to allow some rounding, and the rounded value won't be noticeable in brightness. For most LEDs perceived brightness doesn't increase much above a value of typically 20mA, anyway.</p>
","17180"
"What are FIT's and how they used in reliability calculations?","17819","","<p>In Military, Medical, Space, Professional eqt. design there is a need to be able to prove that your device can last a certain length of time with a certain confidence level.  Or that reliability must be used in design to inform the design direction, either through component selection, component testing and sort or in amelioration techniques (like redundancy, FEC's - Forward Error Correction etc.).</p>

<p>How are FIT's (Failure In Time) used in the reliability aspect of design and verification? Examples of calculations?</p>

<p>How are FIT's determined/derived? </p>

<p>How is this related to MTTF (Mean Time To Failure) and MTBF (Mean Time Between Failures)</p>
","<p>The term FIT (failure in time) is defined as a failure rate of 1 per billion hours.  A component having a failure rate of 1 FIT is equivalent to having an MTBF of 1 billion hours.  Most components have failure rates measured in 100's and 1000's of FITs. For components, such as transistors and ICs, the manufacturer will test a large lot over a period of time to determine the failure rate.  If 1000 components are tested for 1000 hours, then that is considered to be equivalent to 1,000,000 hours of test time.  There are standard formulas that convert the number of failures in a given test time to MTBF for a selected confidence level.  For a system of components, one method of predicting the MTBF is to add the failure rates of each component and then taking the reciprocal.  For example, if one component has a failure rate of 100 FITs, another 200 FITs and another 300 FITs, then the total failure rate is  600 FITs and the MTBF is 1.67 million hours. For military systems, the failure rates of each component can be found in MIL-HDBK-217.  This document includes formulas to account for environmental and usage conditions such as temperature, shock, fixed or mobile equipment, etc.  In initial stages of a design, these calculations are useful in determining the overall reliability of a design(to compare with the specified requirement) and which components are most significant in terms of the system reliability so that design changes can be made if deemed necessary. However, component reliability is more of an art than a science.  Many components are so reliable that it is difficult to accumulate enough test time to get a good handle on their MTBF.  Also, relating data taken at one set of conditions (temperature, humidity, voltage, current, etc.) to another is open to large errors. As already mentioned in the comments, all of these calculations are mean numbers and are useful in predicting the reliability of a large number of components and systems, but not any individual unit.</p>
","59783"
"Implementing guard trace/ring in PCB design","17818","","<p>I have read here and there some articles about pcb guard trace/ring. But none of them discussed how to correctly implent it. What I could find were some pictures and comparison that cant help me at the moment!</p>

<p>What I would like to know is how can I make the following circuit more current-leakage proof (In design case - I know that PCB material and SIR plays a big rule).<img src=""https://i.stack.imgur.com/oOBng.png"" alt=""enter image description here""></p>

<p>The circuit will supply up to 30V through resistors and each resistor is connected to capacitor. Each Capacitor is then connected to a switch matrix and finally single output from switch matrix is connected to a picoammeter to measure the leakage current of the capacitors.</p>

<p>I am wondering if I should care about leakage current in the circuit or not! If so, how can I improve it?</p>

<p>This is my test circuit:</p>

<p><img src=""https://i.stack.imgur.com/uy3Zo.png"" alt=""enter image description here""></p>

<p>I am thinking of connecting the capacitors just by wire into the circuit, that is one pin of capacitor soldered to by a wire in the little circuit I designed, and the other pin also with a wire soldered to BNC shield that goes to picoammeter and is in common with voltage source  (SMU)</p>
","<p>A guard ring is traditionally used to protect high impedance nodes in a circuit from surface leakage currents. The guard ring is a ring of copper driven by a low-impedance source to the same voltage as the high impedance node. This would typically be the input pin of an op-amp.</p>

<p>Here's an example of a classic guard ring layout for a metal can op-amp from National Semi's <a href=""http://www.ti.com/lit/an/snoa664/snoa664.pdf"" rel=""noreferrer"">AN-241</a>: </p>

<p><img src=""https://i.stack.imgur.com/WgfhW.png"" alt=""Guard ring layout""> </p>

<p>And here's an example of how it would be connected, from Analog's <a href=""http://www.analog.com/library/analogDialogue/archives/39-09/layout.html"" rel=""noreferrer"">Analog Dialogue magazine</a>:</p>

<p><img src=""https://i.stack.imgur.com/Wegrg.gif"" alt=""guard ring schematic""></p>

<p>The key feature is that the guard ring is connected to a node that will be driven to the same voltage as the high impedance node being protected, but with a much lower source impedance. </p>

<p>Note that not all vendor websites are created equal. Microchip's AN1258 recommends using the high-impedance net to create a guard ring around the low impedance nets --- don't do this.</p>

<p>Now to your specific case. While the undriven side of your capacitor is not strictly a low-impedance node, since the ammeter itself should provide a fairly low impedance path to ground when you're measuring, it's still going to cause measurement errors if any current should try to reach ground through that node instead of by another path. It wouldn't hurt to add a ring around the node like this: </p>

<p><img src=""https://i.stack.imgur.com/87ueX.png"" alt=""enter image description here""></p>

<p>Unlike in another answer, I wouldn't include the driven side of the capacitor within the ring, since that's a low impedance node, being driven to a fairly high voltage. However, you've indicated the net in question isn't even physically located on the PCB, so this advice is largely moot. Being as the high impedance net is basically floating in air, it should be well-protected from leakages in any case.</p>
","24890"
"What is the difference between the magnetic H field and the B field?","17806","","<p>Wikipedia provides a <a href=""http://en.wikipedia.org/wiki/Magnetic_field#Relation_between_H_and_B"">mathematical explanation</a>. Can I get the intuitive one? I'd like to, for example, <em>understand</em> a ferrite datasheet. These usually have graphs of H vs B, and the definition of permeability depends on understanding the relationship of H and B.</p>

<p>Also, I wonder: I was able to learn a great deal about electric fields before I knew what ""fields"" were. I learned about voltage and Ohm's law and so on, which a physicist might explain with a field, but which the electrical engineer explains with simpler concepts, like the difference between two points in a circuit. Is there a similar, simpler explanation of H vs B fields that is of more relevance to the electrical engineer, and less to the physicist?</p>
","<p>H is the driving force in coils and is ampere turns per metre where the metre part is the length of the magnetic circuit. In a transformer it's easy to determine this length because 99% of the flux is contained in the core. A coil with an air core is difficult as you might imagine.</p>

<p>I think of B as a by-product of H and B is made bigger by the permeability of the core.</p>

<p>In electrostatics, E (electric field strength) is the equivalent of H (magnetic field strength) and it's somewhat easier to visualize. Its units are volts per metre and also gives rise to another quantity, electric flux density (D) when multiplied by the permittivity of the material in which it exists: -</p>

<p>\$\dfrac{B}{H} = \mu_0\mu_R\$ and</p>

<p>\$\dfrac{D}{E} = \epsilon_0\epsilon_R\$</p>

<p>Regarding ferrite data sheets, the BH curve is the important one - it tells you the permeability of the material and this directly relates to how much inductance you can get for one turn of wire. </p>

<p>It will also indicate how much energy could be lost when reversing the magnetic field - this of course will always happen when ac driven - not all the domains in the ferrite return to produce an average of zero magnetism when the current is removed and when reversing the current the remaining domains need to be neutralized before the core magnetism goes negative - this requires a small amount of energy on most ferrites and gives rise to the term hysteresis loss.</p>

<p>Other important graphs in a ferrite data sheet are the permeability versus frequency graph and permeability versus temperature.</p>

<p>From personal experience of having designed a few transformers, I find them tortuous in that I never seem to naturally remember anything other than the basics each time I begin a new design and this is annoying - in this answer I had to double check everything except the units of H!</p>
","94750"
"How does voltage and current affect speed and torque of a motor?","17796","","<p>I have a <a href=""http://comingsoon.radioshack.com/radioshack-super-speed-9-18vdc-hobby-motor/2730256.html#.VYsQHflViko"" rel=""nofollow"">motor</a> attached to a foam wheel (made of insulation material). The wheel is VERY light, yet the motor I am using cannot handle the torque required to run it, resulting in the motor creating a burning smell. This is an 18V motor that I connected to a 12V 2.2 A supply. If I lower the current further, wouldn't the speed decrease along with the torque? Or is voltage related to speed and torque related to current? I am not sure if this motor can handle the load, but I want to know if there is anything I can do to give it a chance.</p>

<p>I know this question has been asked, but it was about a brushless motor. This is a brushed motor, so it might work differently.  </p>
","<p>You're looking at it slightly wrong : voltage affects speed, but it's closer to say that torque affects current than vice-versa.</p>

<p>So run the motor unloaded : at 12V it'll run at about 2/3 the speed at 18V, that being the speed at which it generates enough back EMF to cancel most of the driving voltage. (Datasheet says 15200 vs 24000 at 18V).</p>

<p>The rest of the driving voltage (maybe 10 or 20%) is dropped across the motor's winding resistance, resulting in two effects : enough torque to turn the unloaded motor that fast, and heating the motor, by I^2R watts. You can't measure that voltage directly, but you can measure the resistance and current, and I recommend you do. I'm guessing about 1 ohm, and the spec gives a no-load current of 400mA, so 0.16W in the windings (and 4.8W total, so the rest is lost in friction in brushes and windage).</p>

<p>Now add a little load. As you add a torque load, the motor will slow, so the back EMF will reduce, and the current will increase until it supplies the torque you need. This is why I say torque affects current... Efficiency also drops too, because that extra current creates more heat. You don't want to use the motor below 75% of its unloaded speed - maybe 60% for short periods then cool it off.</p>

<p>Now add your foam wheel. You haven't told us but I'm guessing it's quite large, and simply spinning, you're not running it across the floor. How fast does it run? You haven't told us, but I'm guessing its wind resistance is acting as a huge airbrake, so a few hundred RPM.</p>

<p>Which is pretty much stalling the motor. It can't generate any back EMF, and virtually all of that 12V is developed across the winding resistance. So I=12A, power = 144W wasted as heat. Fortunately your PSU isn't up to that, so you may still have a working motor...</p>

<p>You need a high torque, low speed motor. Or, more likely, gearing. This will increase the motor speed and reduce the torque demand to let the motor drive the wheel efficiently.</p>
","187271"
"Use PIC internal oscillator","17791","","<p>I'm using a PIC16F1824 with an external 4MHz oscillator.  I actually want to use the internal oscillator, but the timing seems incorrect.</p>

<p>For example, I tried to use delay_ms(1000), and it delayed 5 seconds instead of the expected 1 second.</p>

<p>What did I do wrong?</p>

<p>Data sheet:
<a href=""http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en546901"" rel=""nofollow noreferrer"">http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en546901</a></p>

<p>I'm clueless reading the OSCCON details:
<img src=""https://i.stack.imgur.com/7XTKh.png"" alt=""enter image description here""></p>
","<p>To get 4 MHz you set bit 6-3 of OSCCON to 1101 (page 71 of the data sheet).</p>

<p>I suggested that in a comment, and it apparently solved the problem.</p>

<p>The internal oscillator should be running when the device is reset, so you merely have to change those bits and you should be running from it at 4 MHz, instead of the 4 MHz crystal.</p>
","15796"
"Design a veroboard/stripboard layout from an Eagle schematic","17770","","<p>So I have just finished learning the basics of Eagle (Lite) and I really like it.  As I don't have the full kit to start home PCB etching yet (something I am looking into now) I would like a tool that could help me design a layout for a veroboard/stripboard.  </p>

<p>If I had an Eagle schematic, how would I go about designing an equivilent veroboard/stripboard layout either within Eagle itself or possibly even through an export/import into another tool.</p>

<p>Thanks</p>
","<p>First, you don't need to do <em>home</em> PCB etching to get real circuit boards made.  BatchPCB and other prototype services can get you real, quality PCBs for (sometimes much) less than $50.   If it's just for a temporary project, solderless breadboards are also a great tool.  I will admit, however, that some projects fall into the middle of these categories.</p>

<p>Usually, I just poke the components through .2"" graph paper for checking that an imagined layout will work.  This seems to work well enough for most of the simple circuits that I make on perfboard.  If you want to use Eagle PCB, configure the layout editor for 0.1"" grid spacing, and display the lines:
<img src=""https://i.stack.imgur.com/jpX6v.png"" alt=""alt text"">
<br>
Now you can lay it out on a model of your stripboard.  You might even want to diagram the strips.  Use the ""Draw Lines"" tool on a non-copper layer (like Documents) to avoid confusing Eagle with respect to electrical connections.  Record where the strips should be left intact on one layer, and make wire jumpers on (an) other layer(s).</p>

<p>After that, it's up to you to create an intelligent layout. Since these kinds of boards are usually for development purposes, make it spacious and easy to understand. I try to organize power busses with higher voltages at the top and ground at the bottom, route signals from left to right, color-code connecting wires (esp. if you're not using stripboard), and provide lots of room for edits to fix the mistakes I know I will make.  I also like to keep my components on one side and route wires on the other even when using double-sided board.</p>
","5578"
"AC fan speed control","17761","","<p>I use <a href=""http://datasheet.elcodis.com/pdf/24/76/247668/a2259hbt-tc.pdf"">this fan</a> to cool my room, but sometimes it is too fast and I have to frequenctly turn it on and off to keep normal temperature. Maybe it is possible to reduce the speed by connecting a resistor in series or using a variac. The fan uses some form of shaded pole motor (the manufacturer calls it ""Alveolate"" and compares it to the standard shaded pole motor (pointing out that its motor is better). The ""Alveolate"" motor needs a starting capacitor.</p>

<p>I have searched the internet and this site but found contradicting answers. Some say that the speed can even be reduced by using a triac while others say that a resistor in series can destroy an induction motor. The fan motor is 60W.</p>
","<p>Connecting a series resistor or variac will reduce the applied voltage across the motor, but it will not change the applied frequency.  The reduced voltage will increase the current flowing through the motor because motors draw a minimum current when the voltage and frequency are a fixed ratio.  Changing either the frequency or the voltage while leaving the other unchanged can, depending on the motor design, rapidly increase the motor current.  This increase in current can lead to motor damage due to the overheating of the winding in motors which do not have enough margin or thermal protection.  This margin adds cost to the motor, so it often designed out as a cost savings measure.</p>

<p>Note that the reduced voltage will also result in a reduced torque, which will usually result in a lower speed.  Thus a series resistor could achieve your desired goal of speed reduction, but at the potential cost of a reduced motor lifetime.</p>

<p>A triac circuit may or may not safely control the speed of a motor depending on how it is controlled:</p>

<ul>
<li>If the triac circuit is operated in a phase controlled manner like a light dimmer and only conducts for a portion of every line cycle, then it effectively behaves like a resistor and can result in the same motor damage as a series resistor. In this phase controlled operation, the fundamental voltage amplitude will change based on the firing angle while the frequency is unchanged.</li>
<li>If the triac circuit is operated in a motor control mode where it conducts for full line cycles, but not every line cycle; then no motor damage will occur.  When the motor is conducting current, its voltage and frequency are matched and the motor produces normal operating torque.  When the triac doesn't fire, the motor doesn't conduct current and produces zero torque.  The fan speed will depend on the average torque which is based on the ratio of conducting cycles (torque) to non-conducting cycles (zero torque).  The inertia of the fan will keep it turning during the non-conducting cycles.</li>
</ul>

<p>That's the background. In terms of your situation, your particular fan motor appears to have thermal protection and appears to be dual frequency rated.  This suggests that your fan motor has extra margin and so it can handle a wider range of volts/Hz ratios.  In addition, it has a protection circuit that should turn it off before damage would occur. Thus, you might be able to get away with using a series resistor or light dimmer to control the speed.  </p>

<p>Getting a motor speed controller would be a better option since it won't damage the motor and you won't have the additional losses of the resistor/dimmer.</p>

<p>[Note: additional losses == a hotter room which seems counter-productive to the reason for the whole exercise of cooling your room!]</p>

<p>Alternate solutions:</p>

<ul>
<li><p>you can mechanically control the flow as @rockmagnet suggests, but that isn't using electronics ( :) ) and it reduces the efficiency of the motor/fan (but probably not as much the resistor-motor-fan).  Note that this could result in more noise depending on how the flow restriction is realized.  </p></li>
<li><p>An alternative to flow restriction would be to have ducting that ""recycles"" outlet air back around to the inlet. This would allow the fan to operate at its normal unrestricted operating point, but you'll have a lower net flow into the room.  Even more mechanically complicated, but...</p></li>
<li><p>you can get a full blown variable speed / frequency drive.  This will likely be very expensive and is probably excessive overkill (but it would be tres <em>cool</em> ;) ).</p></li>
<li><p>Finally, I would personally just buy a multi-speed fan...</p></li>
</ul>
","30285"
"How to Use SFH235 IR Photodiode Correctly?","17749","","<p>I have an SFH235 ir photo-diode (which datasheet can be found <a href=""http://www.mouser.com/ds/2/311/FH235FA_Pb_free-37921.pdf"">here</a>) and only basic knowledge of electronics.</p>

<p>I want to connect the photodiode to an Arduino (the grand-plan is to add an ir diode and build a distance sensor).</p>

<p>I understand that photodiode produce current, and it produces more current the more intensive the light that falls on it.</p>

<p>I have seen schematics that connect photodiodes the same way that photoresistors are being connected. Others connect it to an ""opamp""(why?) And that are also those articles that say I need to amplify the current. I have also seen capacitors added into the circuit.</p>

<p>Which is the correct way for my application? How can I connect the photodiode to the analogue input of Arduino (which measures voltage)?</p>
","<p>The simplest way to connect a photodiode (even an LED can be used in this way as a photosensor) is as below:</p>



<p><img src=""https://i.stack.imgur.com/Zcayd.png"" alt=""schematic""></p>



<p><sup><a href=""/plugins/schematics?image=http%3a%2f%2fi.stack.imgur.com%2fZcayd.png"">simulate this circuit</a> &ndash; Schematic created using <a href=""https://www.circuitlab.com/"" rel=""noreferrer"">CircuitLab</a></sup></p>

<p>Note that the photodiode is reverse biased through the 1 Meg resistor R1. The photocurrent generated by the diode opposes the flow of leakage current through this reverse biased diode, said opposition increasing with more light on the diode junction. The voltage at the junction point thus rises in voltage with increase in light.</p>

<p>The schematic on the left will have fairly low voltage at the ADC pin. To increase this voltage, an op amp can be used as a non-inverting amplifier, as shown in the schematic on the right. In the example shown, this gain is <code>Gain = 1 + (R3/R4) = 9.9182</code>. </p>

<p>This voltage gain results in a greater reading at the ADC pin, potentially making use of a greater part of the ADC's input voltage range. </p>

<p>Other applications of op-amps for photodiodes include:</p>

<ul>
<li>as a transimpedance amplifier, to directly amplify the photocurrent, without use of a biasing resistor</li>
<li>as a voltage follower (unity gain buffer) for the voltage divider formed between diode and biasing resistor</li>
</ul>

<hr>

<p><strong>Note:</strong><br>
     One must ensure, though, that the voltage after amplification does not exceed the 5 Volt supply. If the op-amp is powered from the same 5 Volt supply as the Arduino, this is automatically taken care of, as the op-amp's output gets clipped at its upper supply rail, or even lower if the op-amp is not a rail-to-rail type. </p>
","73815"
"Maximum cable length for 3.3V UART signals","17742","","<p>I would like to avoid using RS-232 converters between two microcontrollers on two different boards. For various reasons, only UARTs are supported, e.g. no SPI or I2C, and I will be using CAT5E cable to RJ45 jacks between the boards. The data rate will be 115200bps, possibly up to 921600bps. Ground is connected along with the UART signals.</p>

<p>While I currently have it working at the lengths I need it, for my own education, is there a way to estimate the maximum cable length at which this would be reliable?</p>
","<p>There is no single safe answer.  It has a lot to do with the length of the cable, surrounding electrical noise, and how fast you want to go.  Ethernet uses CAT5 cable to transmit at 10 Mbit/s for the slowest variety, so 1 Mbit/s is easily doable <i>if you take the proper precautions</i>.  Note that with ethernet each signal gets its own twisted pair, and each pair is carefully terminated at the characteristic impedance of the cable at each end.  Each pair is driven differentially and interpreted differentially, and is also designed so that it can't cause ground loops.</p>

<p>If you do all these thing, you can transmit 1 Mbit/s data on CAT5 cable for long distances, like 1000 meters.  As you do less of these things, the usable distance will go down.  If it's just board to board in the same chassis, for example, then you probably don't need to do much special.  If you're going outside the unit, then differential line drivers and receivers could be useful.</p>

<p>Try something in your setup and look at the signals at the receiving end to get some idea of the noise margin, adjust as needed.  Maybe use a protocol that can detect and recover from errors, and keep track of how often that is happening.  There are too many ways to list here without more information.</p>
","31950"
"How do I create a permanent application from something prototyped with Arduino?","17727","","<blockquote>
  <p>Part one of a three part series on transitioning from Arduino to a plain AVR microcontroller and minimum supporting components (<a href=""https://electronics.stackexchange.com/questions/67080/how-should-one-switch-from-using-an-arduino-as-a-programmer-to-an-external-progr"">part two</a>, <a href=""https://electronics.stackexchange.com/questions/67067/how-do-i-transition-from-using-the-arduino-ide-to-plain-avrdude-make"">part three</a>)</p>
</blockquote>

<p>I've built up a project on my Arduino Uno to control various aspects of my beer brewing system. At this point it seems to be doing what I want, but I would like to reuse my Uno for another project. How should I move my project from the Uno and breadboard to a PCB, perfboard, or whatever? Any good solutions out there?</p>
","<p><a href=""http://appliedplatonics.com/breaduino/steps.html"" rel=""nofollow noreferrer"">Here</a> are some instructions. If you just want to know what goes where in your perfboard, read on.</p>

<p>Here's the pinout for the ATmega328:</p>

<p><img src=""https://i.stack.imgur.com/drSe9.jpg"" alt=""enter image description here""></p>

<p>Firstly, you'll need a <a href=""http://en.wikipedia.org/wiki/78xx"" rel=""nofollow noreferrer"">LM7805</a> or something similar to get a 5V. If you don't know how these work, refer to <a href=""http://www.king27.freeserve.co.uk/graphics/7805.gif"" rel=""nofollow noreferrer"">this image</a>.</p>

<h3>Power</h3>

<p>Now, connect the + end of your 12V battery to the IN of 7805, and - to the COM. Hereafter, I shall refer to any connection from COM as ""GND"" and any connection from OUT as ""Vcc"".</p>

<h3>Reset</h3>

<p>Connect Vcc to Pin 7 and 20 of the ATmega328, and GND to pin 8 and 22. Connect Vcc to a ~10 kiloohm resistor, and connect the other end of that to the RST pin (pin 1). Also, connect GND to a reset switch, and the other terminal of the reset switch to pin 1. When the reset switch is on, the Arduino will restart. If you don't want a reset switch, just connect Vcc directly to pin 1.</p>

<p><img src=""https://i.stack.imgur.com/ixKY4.png"" alt=""enter image description here""></p>

<h3>Clock</h3>

<p>Connect GND to the negative terminals of two 22 picofarad capacitors. Connect one capacitor to pin 9, and the other capacitor to pin 10.</p>

<p>Now, connect a 16MHz clock between pins 9 and 10:</p>

<p><img src=""https://i.stack.imgur.com/evBIw.jpg"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/RE9fp.png"" alt=""enter image description here""></p>

<h3>Analog reference</h3>

<p>If you use the AREF pin, just connect your AREF to pin 21.</p>

<h3>Rest of the pins</h3>

<p>These are labelled in the diagram above. Pins 23-28 are A0-A5. Pins 2-6 are digital 1-4, 11-19 are digital 5-13. Use these normally. Note that digital pin 13 (pin 19 on the microcontroller) won't have an LED anymore, but if you wish to connect one, connect it to an LED, followed by a 200-300 ohm resistor, followed by ground:</p>

<p><img src=""https://i.stack.imgur.com/cFdr1.png"" alt=""enter image description here""></p>

<h3>Programming</h3>

<p>If your Arduino is a DIP Arduino (the ATmega is removable), then just program it using the IDE, remove the ATmega, and place it in your perfboard circuit (I assume you're using an IC holder). If the Arduino has a surface mount ATmega, see <a href=""https://electronics.stackexchange.com/questions/67062/how-can-i-use-my-smd-arduino-to-program-a-separate-dip-atmega328"">How can I use my SMD Arduino to program a separate DIP ATmega328?</a>.</p>

<p>That's it! Now you can easily take an Arduino project to a perfboard! </p>

<p>Here's the final schematic:</p>

<p><img src=""https://i.stack.imgur.com/HtRpw.png"" alt=""enter image description here""></p>
","67114"
"Is there a standard or ""safe"" distance between PCB components?","17723","","<p>I am (still) designing my first PCB and, according to prices listed on websites, the smaller the board the cheaper it is. That is, batchpcb charges per square inch. goldphoenix will print ""as many as they can"" on an 100 square inch board. Smaller is cheaper. Got it.</p>

<p>So should I try to cram as much as I can in a small space? Obviously one can go overboard doing this, but in all reasonableness, the point stands. Is there a standard guide for minimum distances between components? And are the standards based ""this makes it easy to solder"" or more technical problems (capacitances, inductances, sparks across components) that are too close together?</p>

<p>For example, one comment on <a href=""http://www.sparkfun.com/products/9774"">this board from sparkfun</a> says:</p>

<blockquote>
  <p>""These don't look like they're spaced
  at standard banana jack spacing. Isn't
  that important anymore?""</p>
  
  <p>""its low current (5 amps) which
  shouldn't be enough to spark across
  the terminals at those voltages""</p>
  
  <p>""I think the point is that most double
  banana plugs have a spacing of 0.75"".
  The banana jack spacing on this board
  appears to be about 0.5"".""</p>
</blockquote>

<p>All implying that there the board has a poor design. But poor based on <em>what</em>?</p>
","<p>Beyond constraints due to voltages or minimum trace/space widths (all important), on a larger scale the mechanical size should be convenient and conform to standards or convention if applicable.</p>

<p>For instance, regarding banana plugs, 0.75"" is fairly standard for <a href=""http://www.google.com/products/catalog?q=double+banana+plug+to+bnc&amp;hl=en&amp;rlz=1C1CHMU_enUS354US377&amp;prmd=ivns&amp;resnum=3&amp;biw=1618&amp;bih=989&amp;um=1&amp;ie=UTF-8&amp;cid=769823430409721939&amp;ei=ux86TYOQNYHGlQfkx_TTDA&amp;sa=X&amp;oi=product_catalog_result&amp;ct=result&amp;resnum=2&amp;ved=0CF8Q8wIwAQ#"">some adapters</a>, so while 0.5"" isn't inherently bad, it's possibly annoying to deal with.</p>

<p>Mounting holes should be easily accessible and fit common screw sizes (#4, #6, etc.).</p>

<p>Likewise, I strongly feel that a fairly popular prototype board is poorly designed because it has a non-integer multiple of 0.100"" spacing between two of its headers.</p>
","9292"
"vias directly on SMD pads?","17719","","<p>I was looking at an <a href=""http://www.ti.com/lit/ug/slou334/slou334.pdf"">example board schematic provided by TI</a> and I noticed something rather curious: vias were placed directly on SMD pads. Is this a normal/acceptable practice to follow? Or is it recommended/better to put a short trace and then have a via?</p>
","<p>Vias in the pads are useful in high speed designs since they reduce trace length and therefore inductance (i.e. the connection goes straight from pad to plane rather than pad-trace-via-plane)<br>
You have to check whether your PCB house can do this though, and it may cost more (via will need to be plugged and plated over to provide a smooth surface) If you can't put the via in the pad, putting directly adjacent and using more than one can help reduce inductance.  </p>

<p>They are also useful for Micro-BGA designs, where space is very limited and traditional fanout techniques cannot be used.   </p>

<p>A via-in-pad (or capped/plated via) is not to be confused with a ""tented via"", which is a standard via with soldermask covering the hole (hence ""tented"")</p>

<p>To illustrate the advantage, here is an example of a TQFP footprint fanout with standard vias and via-in-pads:</p>

<p><img src=""https://i.stack.imgur.com/uCCKv.gif"" alt=""Via-in-pad comparison""></p>

<p>It's easy to see why the via-in-pad version is preferable for high speed designs that need to keep inductance low.</p>

<p>The reason it's more expensive is due to the complex process (compared to standard vias) and potential problems (e.g. plating bulging with expansion of plug, or dimpling)<br>
This <a href=""http://www.electrochemicals.com/viafill07.pdf"" rel=""noreferrer"">document</a> discusses various plugging techniques.   </p>

<p>Here is a run through of the process:</p>

<p><img src=""https://i.stack.imgur.com/5nxb8.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/O2rWb.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/dU4HI.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/xt6xY.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/68Rku.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/BfwVo.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/hGsTI.gif"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/IN0dV.gif"" alt=""enter image description here""></p>
","39289"
"STM32 - Problem debugging using openocd and st-link","17700","","<p>I am trying to follow this guide ""Installing a toolchain for Cortex-M3/STM32 on GNU/Linux"" (available: <a href=""https://www.olimex.com/Products/ARM/ST/STM32-H103/"" rel=""nofollow"">https://www.olimex.com/Products/ARM/ST/STM32-H103/</a>) with the STM32-H103 development board from Olimex. Everything works as expected up till the point where I need to copy my compiled program into flash using openocd.</p>

<p>Following the instructions I start the openocd server ('openocd -f openocd.cfg') and then telnet ('telnet localhost 4444'). Initially starting the openocd server fails to start giving the output:</p>

<pre><code>Info : This adapter doesn't support configurable speed
Info : STLINK v2 JTAG v23 API v2 SWIM v4 VID 0x0483 PID 0x3748
Info : Target voltage: 2.038896
Error: init mode failed
in procedure 'transport'
in procedure 'init'
</code></pre>

<p>trying again however seems to work... However 0 breakpoints and watchpoints seems suspicious.</p>

<pre><code>Info : This adapter doesn't support configurable speed
Info : STLINK v2 JTAG v23 API v2 SWIM v4 VID 0x0483 PID 0x3748
Info : Target voltage: 2.054665
Info : stm32f1x.cpu: hardware has 0 breakpoints, 0 watchpoints
</code></pre>

<p>In this state I can't halt or probe the device.</p>

<pre><code>&gt; reset halt


in procedure 'reset'
&gt; flash probe 0
Cannot identify target as a stm32x
auto_probe failed
in procedure 'flash'
</code></pre>

<p>I then found this article on the NuttX website (<a href=""http://nuttx.org/doku.php?id=wiki:howtos:jtag-debugging"" rel=""nofollow"">http://nuttx.org/doku.php?id=wiki:howtos:jtag-debugging</a>) which seems to help me slightly (I am not using the NuttX RTOS however, just bare metal). By following the article and holding the reset button until the 'reset halt' command times out I can successfully probe the device. Also note there are now 6 breakpoints and 4 watchpoints.</p>

<pre><code>Info : This adapter doesn't support configurable speed
Info : STLINK v2 JTAG v23 API v2 SWIM v4 VID 0x0483 PID 0x3748
Info : Target voltage: 2.047244
Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints

&gt; reset halt
timed out while waiting for target halted
TARGET: stm32f1x.cpu - Not halted

in procedure 'reset'
target state: halted
target halted due to debug-request, current mode: Thread 
xPSR: 0x01000000 pc: 0x08000250 msp: 0x20005000
&gt; flash probe 0
device id = 0x20036410
flash size = 128kbytes
device id = 0x20036410
flash size = 128kbytes
flash 'stm32f1x' found at 0x08000000
</code></pre>

<p>However then when I program and run the device I get the following error output..</p>

<pre><code>&gt; stm32f1x mass_erase 0
stm32x mass erase complete
&gt; flash write_bank 0 main.bin 0
wrote 9704 bytes from file main.bin to flash bank 0 at offset 0x00000000 in 0.719990s (13.162 KiB/s)
&gt; reset run


in procedure 'reset'
jtag status contains invalid mode value - communication failure
Polling target stm32f1x.cpu failed, GDB will be halted. Polling again in 100ms
jtag status contains invalid mode value - communication failure
Polling target stm32f1x.cpu failed, GDB will be halted. Polling again in 300ms
jtag status contains invalid mode value - communication failure
Polling target stm32f1x.cpu failed, GDB will be halted. Polling again in 700ms
jtag status contains invalid mode value - communication failure
Polling target stm32f1x.cpu failed, GDB will be halted. Polling again in 1500ms
jtag status contains invalid mode value - communication failure
Polling target stm32f1x.cpu failed, GDB will be halted. Polling again in 3100ms
</code></pre>

<p>At this stage I can't see the LED flashing on the board like the guide suggests will happen. Does anyone have any idea what is going wrong?</p>

<p>[EDIT] I have found flashing the main.elf file (instead of main.bin) does not cause the errors above to be output after 'reset run', however I still do not see the LED blinking.</p>

<p>Then using gdb with the command 'arm-none-eabi-gdb -tui --eval-command=""target remote localhost:3333"" main.elf'.</p>

<p>If I input 'c' for continue I get</p>

<pre><code>(gdb) c
Continuing.

Program received signal SIGINT, Interrupt.
0x00010100 in ?? ()
</code></pre>

<p>And if I input 's' for step through I get</p>

<pre><code>(gdb) s
Cannot find bounds of current function
</code></pre>
","<p>So I figured out my problem... </p>

<p>Naively I believed the JTAG connector (via the st-link v2) was enough to power the board. I'm guessing trying to run the code (and blink the LED) while only powering the board through the JTAG pins could not supply enough current and the board kept resetting (hence the JTAG connection would break).</p>

<p>Long story short, ensure the USB cable is plugged into the board (and a power source) to power the board.</p>
","146792"
"How long will laptop run from UPS?","17696","","<p>The laptop has input: 18.5V, 2.7A<br/>
The UPS output is: 220V, 6.82A and also something about 1500AP<br/>
I have no idea how to work out how long I would be able to run the laptop off the UPS when the UPS is disconnected from the mains.</p>
","<p>Re</p>

<ul>
<li>The laptop has input: 18.5V, 2.7A<br>
The UPS output is: 220V, 6.82A<br>
and also something about 1500AP</li>
</ul>

<p>These are informative but not directly related.  </p>

<p>Input is to laptop by charger.<br>
 This IMPLIES that the cells are &lt; 2.7 Ah each - say probably 2.2 Ah LiIon 18650 cells<br>
 BUT this is uncertain.  </p>

<p>6.82A is notional UPS output max current.<br>
 They Are REALLY sayin that it is a 1500 VA or Watt inverter and the 6.82 was got by dividing 1500 by 220 . It will be approximate.</p>

<hr>

<p>Question has many factors affecting it.</p>

<p><strong>This is the general formula that applies</strong> and may be approached in several ways.</p>

<blockquote>
<pre><code>Time = Available_energy / rate of using energy
     = (UPS_battery_capacity_in_Wh x UPS_efficiency) / Laptop_Power_use
</code></pre>
</blockquote>

<p>You can get a good measure of  (UPS_battery_capacity_in_Wh x UPS_efficiency) by operating a known load on a full charge and seeing how long it ran.</p>

<p>BUT you may guesstimate that </p>

<pre><code> UPS  energy capacity ~~= Battery amp-hour rating x battery voltage x 0.8
</code></pre>

<p>or If battery Watt hour capacity is known.</p>

<pre><code> UPS  energy capacity ~~= Battery Watt-hour rating x 0.8
</code></pre>

<p>In both cases the 0.8 is an assumed efficiency of 80% from battery output to end use device.</p>

<p>__</p>

<p>The 18.5V, 2.7A is the laptop charger raing.<br>
 More useful is the battery amp hour (Ah) or Watt-hour(Wh) capacity. ither or both are almost always shown on the battery.</p>

<p>Determine N from N x 3.6V ~+ battery voltage.</p>

<p>Then laptop battery energy capacity = either</p>

<pre><code>energy capacity = Watt.hours shown on battery  
</code></pre>

<p>or</p>

<pre><code>energy capacity = N x 3.6 x Battery amp hours capacity 
</code></pre>

<p>Run laptop from fully charged battery using conditions similar to those to be used when UPS is in use. If you do not know thse use conditions then you cannot answer the question.</p>

<p>Laptop Run Hours = LRH.</p>

<p>Then</p>

<pre><code>Laptop_power = energy usage rate = Battery_energy_capadity (from above) / LRH
</code></pre>

<p>Then </p>

<pre><code>**UPS runtime ~~= UPS_battery_capacity_in_Wh x UPS_efficiency / Laptop_power**
</code></pre>

<hr>

<p><strong>EXAMPLE:</strong></p>

<p>Made up data.</p>

<p>UPS Battery  = 12V, 30 Ah.  </p>

<pre><code>UPS available energy = 12 x 30 x 0.8 = 278 Watt.hour
</code></pre>

<p>Laptop battery = 14.6V.</p>

<pre><code>So N = 4 as 3.6 x 4 ~~ 14.6
</code></pre>

<p>Laptop battery capacity = 4Ah (on battery).</p>

<p>Laptop  battery energy capacity = 3.6 x 4 x 4ah = 47.6 Watt.hour -  say 48</p>

<p>Laptop is run from this battery and achieves 4.5 hours operation.</p>

<pre><code>Laptop power use = Laptop battery energy / hours operaing   
 = 48/4.5 = 10.666 atts = say 11 Watts
</code></pre>

<p>UPS runtime - UPS energy/Laptop power  </p>

<pre><code> = 278 Wh/11 W ~= 25 hours
</code></pre>

<p>This is longer than a UPS will usually opera a computer system.<br>
 This is due here to goodish battery in UP =30 Ah and rasonably low thirst laptop.</p>

<p>NB - note that I have taken UPS and laptop batery capacities as rated. If they are not new this will not be true. </p>
","24098"
"why mosfet is getting very hot?","17695","","<p>I'm using an <a href=""http://www.irf.com/product-info/datasheets/data/irfz44n.pdf"" rel=""nofollow noreferrer"">IRFZ44N</a> power MOSFET to drive a DC motor (24v, 4kgcm, 2A, FLRPM 500). I found from the datasheet IRFZ44N has an ampere rating of 49A and still its getting very hot. I have attached the schematic here. </p>

<p><img src=""https://i.stack.imgur.com/OLXO7.jpg"" alt=""Schematic""></p>

<p>IRFZ44N is driven from a PWM of 244 Hz and I found that only at low duty cycles its getting hot, while at higher duty cycles MOSFET is not heated a bit. </p>

<p>What might be the possible reasons?</p>


","<p><em>While I was writing this answer, @Connor posted an answer covering most of it. In any case...</em></p>

<p>There are a few things that need to be addressed in the presented circuit.</p>

<ol>
<li><strong>Eliminate C2</strong> entirely: The MOSFET is being used in a switching topology, not for linear amplification, <strong>C2 completely subverts the sharp switching</strong> desired for minimal power loss. The IRFZ44N needs to be switched as rapidly as possible between fully conducting and fully blocking states, for least power wastage i.e. heat.</li>
<li>The maximum current available to charge the gate at the high-going edge of the gate input (from PWM signal) is limited by <code>R3 = 4.7k ==&gt; Ig &lt; 5.1 mA</code>. This current charges up the substantial gate capacitance at each rising edge for V<sub>gs</sub> to rise, and is <strong>way too low</strong>. This will cause R<sub>ds</sub> to rise very slowly, and while in this rising part of the graph, the MOSFET will waste a lot of power as heat. 

<ul>
<li>Reduce R3 as far as the optocoupler's collector current rating will allow, or better yet:</li>
<li>Use the <strong>optocoupler to drive a BJT or smaller FET</strong> with very low gate capacitance as a switch to allow far higher gate charging current to the power MOSFET.</li>
</ul></li>
<li>Apply the same rationale to the discharging of the gate capacitance on each falling edge of gate input. For the very high PWM frequencies indicated, a <strong>push-pull gate driver</strong>, either an integrated device or made of discrete components, is typically used instead of a passive gate drive such as shown.</li>
<li><s>If the rather high PWM frequency mentioned is not really needed, consider moving to a far <strong>lower PWM frequency</strong>: 500+ Hertz is often good enough, but 20-30 KHz is typical, so as to be beyond human hearing and therefore PWM noise from the motor. The higher the frequency, the greater the percentage of time the power MOSFET will be in its intermediate transition stage, rather than <em>on</em> or <em>off</em>. Therefore, <strong>more heat</strong>.</s><br>
<em>Edit: 244 Hz as updated by OP is much more realistic.</em></li>
<li>The higher temperature at low duty cycles is again due to capacitor C2: It is being unable to charge up to the gate's switching voltage during the too-brief high pulses of the PWM signal. The V<sub>gs</sub> to aim for is not the V<sub>gs(th)</sub> of 2 to 4 Volts, but 6+ Volts, where the curve begins to flatten out in <strong>Figure 3</strong> of the datasheet. With higher duty cycles, the capacitor does manage to breach the desired V<sub>gs</sub> most of the time.</li>
</ol>
","73048"
"std_logic or std_ulogic?","17693","","<p>It seems that the world has decided that <code>std_logic</code> (and <code>std_logic_vector</code>) are the default way of representing bits in VHDL. The alternative would be <code>std_ulogic</code>, which is not resolved.</p>

<p>This surprises me because usually, you're <em>not</em> describing a <em>bus</em>, so you do you don't want multiple drivers and you don't need to <em>resolve</em> a signal. The advantage of <code>std_ulogic</code> would be that the compiler warns you early on if you have multiple drivers.</p>

<p>Question: is this just a cultural / historical thing, or are there still technical reasons to use std_logic?</p>
","<p>Std_logic is a subtype of std_ulogic and has <em>exactly</em> one extra property: it's resolved if there are multiple drivers.</p>

<p>Regardless of common practice, std_ulogic is the correct type to use for non-resolved signals that need 9-valued logic. (Often, using ""bit"" is even more correct -- for instance, on some FPGA architectures that do not have any such thing as an 'X' or a 'U').</p>

<p>Basically, the best thing to do is use the correct type for the job. Often bad practices get propagated by people just parroting the style that they see others use, do without understanding why.</p>
","17554"
"Arduino - convert a char to an int","17685","","<p>I am trying to get an integer value from the ASCII char. I have a code like this:</p>

<pre><code>String abc = ""ABC"";
char b = abc.charAt(1);
int b_ascii_value = ...
</code></pre>

<p>What should the last line be, in order for me to get the ASCII value of <code>char b</code> in <code>int b_ascii_value</code>?</p>
","<p>A char is really just a number, which can be seen as a character using the <a href=""http://www.asciitable.com"" rel=""nofollow"">ASCII table</a>. See the <a href=""http://arduino.cc/en/Reference/Char"" rel=""nofollow"">reference</a>. The ASCII value you want to get is already in your <code>char b</code>.</p>

<p>If you really need an integer, you can use this:</p>

<pre><code>int b_ascii_value = b;
</code></pre>

<p>But a char will probably be enough. <em>Just use <code>b</code> in your calculations</em>, it already is a number.</p>
","63943"
"What's the maximum CAN bus frame (message) rate at 125 kbit/s?","17663","","<p>My CAN bus is running at 125&nbsp;kbit/s and is using extended frame format exclusively. I would like to know what's the maximum rate of CAN frame I can send out. Suppose the data length is always eight bytes.</p>

<p>According to this <a href=""http://en.wikipedia.org/wiki/CAN_bus#Extended_frame_format"" rel=""noreferrer"">Wikipedia page</a>, each frame has a maximum frame length of <code>(1+11+1+1+18+1+2+4+64+15+1+1+1+7) = 128</code> bits:</p>

<p><img src=""https://i.stack.imgur.com/O00QY.png"" alt=""Enter image description here""></p>

<p>Taking into account of a minimum three bits <a href=""http://en.wikipedia.org/wiki/CAN_bus#Interframe_spacing"" rel=""noreferrer"">interframe spacing</a>, the maximum packet rate under 125&nbsp;kbit/s should be:
<code>125000 / ( 128 + 3) = 954</code> frames per second.</p>

<p>But in my test, I couldn't get that high. The maximum frame rate I can achieve (with all eight bytes data) is around 850 frames per second.</p>

<p>What's wrong here - my calculation, or my test method?</p>
","<p>Per Olin Lathrop's suggestion, I'll expand on bit-stuffing.</p>

<p>CAN uses NRZ coding, and is therefor not happy with long runs of ones or zeroes (It loses track of where the clock edges ought to be). It solves this potential problem by bit-stuffing. When transmitting, if it encounters a run of 5 successive ones or zeros it inserts a bit of the other polarity, and when receiving, if it encounters 5 successive ones or zeroes it ignores the subsequent bit (unless the bit is the same as the previous bits, in which case it issues an error flag).</p>

<p>If you are sending all zeroes or all ones for your test data, a string of 64 identical bits will result in the insertion of 12 stuffed bits. This will increase total frame length to 140 bits, with a best-case frame rate of 874 frames / sec. If the data bits are the same as the MSB of the CRC, you'll get another stuffed bit there, and the frame rate drops to 868 frames/ sec. If the CRC has long runs of ones or zeroes, that will reduce the frame rate even further. The same consideration applies to your identifiers.</p>

<p>A total of 16 stuffed bits will produce an ideal frame rate of 850.3 frames/sec, so you ought to consider it. A quick test would be to use test data with alternating bits, and see what happens to your frame rate.</p>
","121453"
"Debouncing buttons","17662","","<p>I recently read an <a href=""http://www.ganssle.com/debouncing.htm"">article</a> about button debouncing and was wondering if I should keep this in mind when working with, for example, an Arduino (ATMega mC)? I assume it is an issue, especially when working with interrupts.</p>

<p>So is it better to detect bounce in code, or should this be taken care of with hardware? Please elaborate.</p>
","<p>I would highly recommend hooking a scope (hopefully you have one or can get your hands on one to use) up to your switch. I have seen a student's project that had a bounce on their switch that went from 5v down to -5v up to 4v down to -3v then up to 2v then back down to 0v. When we looked at the current draw on a scope there were some a very very large spike.</p>

<p>In his particular case it was very very much needed for him to debounce his switch in hardware.</p>

<p>However, on the other hand, I have seen switches that have a much smaller effect that could easily just be removed in software.</p>

<p>You do need to weigh your options though. If you have a very complex amount of firmware, adding the overhead on both you as a programmer and the cpu usage may not be worth it and you would be better off to just add a little bit of hardware. Now on the other hand, if you are trying to get costs and size down, you will want to remove as much hardware as possible and do it all in firmware if you can.</p>
","6888"
"Why don't my rechargeable AAA batteries work in my cordless phone?","17633","","<p>I'm trying to replace the AAA batteries that came with my BT cordless phone, as they are terrible quality and have quickly degraded (they now only last about 20 minutes after full charge). They are 1.2V Ni-Mh, 550mAh, and similar to <a href=""http://www.amazon.co.uk/Cordless-Telephone-Rechargeable-Batteries-Audioline/dp/B00605YI7A/ref=sr_1_5?ie=UTF8&amp;qid=1336550541&amp;sr=8-5"" rel=""nofollow"">these</a>.</p>

<p>I have some good Duracell AAA rechargeables, also 1.2V Ni-Mh, 750mAh. My question is, why don't these work as a replacement? Putting these into the phone does not give power to the phone, whereas swapping them out with the old batteries turns the phone on straight away.</p>

<p>As far as I can see there are no listed properties of the batteries that differ apart from the mAh, and I know enough about electronics to know that it shouldn't make a bit of difference to compatibility.</p>

<p>Is there some unlisted property of batteries that is causing this?</p>
","<p>You should check that your new batteries REALLY touch the terminals in the battery holder. I had to phisically modify the battery holder or add a metal washer in many cordless and LPR radios to have them working with other batteries... </p>
","31502"
"Building a digitally controlled bench power supply using an AVR","17626","","<p><a href=""http://tuxgraphics.org/electronics/201005/bench-power-supply-v3.shtml"" rel=""nofollow"">This article</a> describes a rather nice solution for building a current- and voltage- controlled benchtop power supply using a DC supply in the range of 20-30 volts and some additional down-regulation circuitry, with current and voltage control provided by an AVR microcontroller in a feedback loop.</p>

<p>I like the idea, and I'd like to build my own, but I think the interface is a bit kludgy, so I'd like to improve on it. Unfortunately, although they sell a kit, they don't provide schematics. I understand about half to two thirds of the concepts they describe when it comes to power regulation - certainly not enough to build one myself - and the circuit diagrams they publish aren't complete.</p>

<p>Can anyone point me to some resources to get me started on building this myself? Ideally, I'd like schematics that incorporate most of the analog side so I can modify them in a fairly straightforward fashion to incorporate the microcontroller, since my knowledge of analog circuitry and power regulation isn't great.</p>

<p>Also, the linked project shuns existing regulators in favor of a lot of discrete components. Are there more integrated solutions that would simplify the design, without sacrificing features?</p>
","<p>There are two possible ways to go here: <strong>linear regulator</strong> vs <strong>switcher</strong>, aka SMPS (Switch Mode Power Supply).  </p>

<p><strong>Linear</strong><br>
This is the old school solution, and for a variable power supply has 1 major drawback: <strong>power dissipation</strong>. If you have a high enough input voltage to supply 25V out (e.g. 27V) you'll have to dissipate a lot of power if your output is set to 1V and you draw 1A. Dissipation: 26V x 1A = 26W.
There's nothing against integrated regulators like the <a href=""http://www.national.com/ds/LM/LM117.pdf"" rel=""noreferrer"">LM317</a>. This can provide 1.5A from 1.2V to over 30V. The LM317 works by setting its output voltage to 1.2V higher than its <code>adj</code> input. So all you have to do is take a <strong>DAC</strong> and place its output to the <code>adj</code> input of the LM317. Most DACs don't output high voltages like 30V, but that can be achieved by placing a simple opamp amplifier between DAC and LM317:  </p>

<p><img src=""https://i.stack.imgur.com/2qLia.jpg"" alt=""non-inverting amplifier""></p>

<p>About the internal <strong>dissipation</strong>. The LM317 exists in the old TO-3 package, which, when mounted on a decent heatsink, will allow for a dissipation of few tens of Watt. But you can make it less wasteful. If you have a transformer with several taps for different voltages, you can switch with relays between input voltages depending on the required output voltage. That's something which can be done automagically, since you're using a microcontroller after all.  </p>

<p>To control current limiting you could use <strong>high-side current measurement</strong>:  </p>

<p><img src=""https://i.stack.imgur.com/XyusH.png"" alt=""high-side current measurement""></p>

<p>You can use an <strong>ADC</strong> to convert the measured analog value to digital, and compare it in the microcontroller with a set value; if it exceeds this value you can switch off the output. You would have to reset the power supply to activate it again, doing this automatically won't work because it would oscillate between shut-off and overload.<br>
Alternatively you can do the current limiting outside of the microcontroller, by using a <strong>comparator</strong> to compare the measured value with a set value (output from a second DAC). The comparator can then pull the <code>adj</code> input of the LM317 low when there's an overload.</p>

<p><strong>SMPS</strong><br>
A SMPS solution in general has a much higher efficiency than a linear regulator, but is always optimized for certain input and output voltage and a given output current. If you use a SMPS with a variable output the efficiency may be up to 90% for the optimal output voltage but drop to 60% or lower at very low output voltages. PCB layout is also critical, both for the efficiency and EMI (ElectroMagnetic Interference).  </p>

<p>Especially if you can find a transformer with several outputs I would go for the linear approach.</p>

<p><strong>edit</strong><br>
Since you've little practice with analog electronics I think it's best to start with a microcontroller board and build on that, step by step. Arduino is the word of the day, but I don't know how they are with analog in and out.<br>
You rightly say that the user interface of the tux-dingus leaves a lot to be desired. I would use a <strong>rotary encoder</strong> to set the voltage. You could make it dynamic, i.e. fine steps when turning slowly, bigger steps when turning fast. You could use a second encoder to set the current limiter, or use the same, and switch between modes by pushing it (most rotary encoders are combined with a push-button). This way and with a DAC you can already create an analog voltage; this will ease the next step of bringing in the real power parts.</p>
","18252"
"Comparison Between SPICE Simulators","17612","","<p>I've recently realized that I can't do everything easily in ngspice, mainly because analysis has to be performed through the interpreter. I'm considering switching to a new SPICE simulator.</p>

<p>I'd like a list the advantages and disadvantages of the following SPICE simulators as well as experiences with the various simulators:</p>

<pre><code>HSPICE
LTspice
ngspice
PSpice
</code></pre>

<p>I'm well aware HSPICE is an expensive proprietary simulator, but I am able to get access to it, problem is I'd have to access it on a sever via SSH.</p>

<p>LTspice is already free, but not installed on my Windows 7 machine.</p>

<p>Already using ngspice in Fedora Linux.</p>

<p>PSpice available to me on my university's computers. I refuse to install it on my own computer, because it messes with the registry a bit too much.</p>
","<p>I would say that depends heavily on what you need it for. Often the expensive spices are part of some e.g PCB design tool. I'm just trying out MultiSIm from NI (expensive orcad type tool), and it has lots of pretty virtual instruments (e.g scope, distortion analyser, etc) and monte carlo analysis (which LTspice does not have a ""convenient"" version of - it does have some functions you can use though as Vlad points out, <a href=""http://k6jca.blogspot.ro/2012/07/monte-carlo-and-worst-case-circuit.html"" rel=""nofollow"">here</a> is a link on using them) but to be honest I find that 99% of things I could do on LTspice.<br>
I find the LTspice setup is by far the quickest out of any spice I have tried, once you get used to the key commands. R for resistor, D for diode, is much easier than clicking the picture (or even selecting from a pop up box in MultiSims case, arghh) and dragging to the right place every time.<br>
You can have a circuit done in <em>seconds</em> this way.</p>

<p>The manual is not as pretty either, but all the info you need <em>is</em> there regarding how to use, eg. the .param, .step and .measure commands for doing things like running an analysis many times and varying parameters. I just tried to run a transfer function analysis in MultiSim in this manner (i.e. run may times and vary a parameter then plot results) but despite reading/wrestling for hours with it, I couldn't manage it, but a quick addition of .step V2 -15 15 1 to the sheet made it possible in LTspice.<br>
I'm sure some of the above is simply as I'm new to MultiSim, and no doubt I am missing something (as the above example simply <em>must</em> be possible in a tool like that) and no I don't work for LT :-) but it has been the only spice that I have used <em>regularly</em> for the last few years. The main point is that it will do all the normal stuff as good (and probably faster) than the expensive tools, but if you need the extras (e.g. monte carle, PCB level anaysis based on actual routing/IBIS models - Altium does this excellently) and all wrapped up in one design tool then you may need more than if can offer.<br>
In my view it can't hurt much to have around even if you do need a more powerful tool anyway.</p>
","18777"
"Hooking up multiple RGB LEDs while using a minimal number of PWM pins on an Arduino?","17596","","<p>I currently have an anode RGB connected to the 11, 10, &amp; 9 PWM pins on my arduino. However I would like to add 3 more LED's to my project, but I don't want to necessarily take up every single PWM pin (I still want to attach a shield). Is there a way for me to hook up all 4 LED's &amp; still be able to only use a minimum number of pins? Keep in mind that I do want to use all 12 resistors for the 4 LEDS. Oh and all the LEDs will do the exact same thing (They all will be red, and all turn blue, etc) if that helps.</p>

<p>Here's how my board looks right now:</p>

<p><img src=""https://i.stack.imgur.com/aAQGZ.png"" alt=""enter image description here""></p>

<p>I have three <a href=""http://www.nteinc.com/specs/100to199/pdf/nte123ap.pdf"">NTE123AP</a> transistors I can use for this project.</p>

<p>P.S. I attached the <a href=""http://arduino.cc/forum/index.php?action=dlattach;topic=158540.0;attach=40427"">.fzz file</a> so that if any of you would like to edit the schematic image, it would be super easy. In fact that would be better since I'm new at this, and it would be easier to follow! : )</p>
","<p>Fairly simple. Just using npn transistors. Duplicate per color channel.</p>

<p><img src=""https://i.stack.imgur.com/bPggj.jpg"" alt=""enter image description here""></p>

<p>Your transistor can sink up to 600mA continuously. At 20mA per led, 4 per channel, that's only 80mA. That's more than enough.</p>

<p><strong>But make sure your power supply can support that. 80 * 3, that's 240mA on the leds alone, not including the rest of the arduino, the transistor base, anything else you are using.</strong></p>

<p>OP Provided a Fritzing Diagram of the answer as well:
<img src=""https://i.stack.imgur.com/AsPzD.png"" alt=""enter image description here""></p>
","64623"
"Why does a sweaty finger neutralise the touch-sensor on my phone screen?","17585","","<p>My experience is that when I'm running, my fingers ""don't work"" on my phone screen. </p>

<p>My understanding was that the sensor on a touch screen works on static-charge, ie that you act as an 'earth' to the screen and it can sense the difference in charge. </p>

<p>Surely sweat on your finger would increase the conductivity of electric current?</p>

<p>My question is: <strong>Why does a sweaty finger neutralise the touch-sensor on my phone screen?</strong></p>
","<p>Most phone screens are <a href=""http://en.wikipedia.org/wiki/Touchscreen#Capacitive"">capacitive</a>. They work by sensing the change in capacitance due to a nearby conductive object.</p>

<p>I can't imagine a way in which simply having some sweat on a fingertip would interfere with this mechanism. I can't reproduce the problem with my phone and a glass of salty water.</p>

<p>However, I'll offer a guess as to what's happening: if you get enough sweat on the screen, the phone will have difficulty distinguishing what is a finger, and what is a gob of sweat. To the phone, broad contact over large areas of the phone look a lot like the side of your face, so the phone ignores these touches since mashing keys with your face is usually not desirable.</p>
","165095"
"How Precise can I get with Accelerometer and Gyroscope","17577","","<p>I want to build a little project to track an objects position in space. For this I intend to use an accelerometer and a gyroscope.</p>

<p>The problem is I want this tracking to be very precise, and I haven't been able to figure out how precise you can actually get (for a fair amount of money). Are we talking 1 centimeter, or centimeters / 1000 ?</p>

<p>The specific combination I'm looking to buy is from SparkFun: <a href=""https://www.sparkfun.com/products/10252"">IMU Fusion Board - ADXL345 &amp; IMU3000</a> But I'm more interested in a general answer, as I could go with other combinations. Maybe just a general guideline of how to determine it from the specs.</p>
","<p>As Rocketmagnet mentioned your error is going to grow with time. The error model typically used in inertial navigation is an exponential growth.</p>

<p>To minimize this you must provide external updates. The mechanism typically employed is a Kalman Filter. The inertial sensors provide very good high rate updates. Your external source provides less accurate but long term stable updates at a lower rate (typically something like GPS). These two combine to give you a good combined solution. Not all systems use GPS as the update source. For instance, the IR imager on the front of the Nintendo Wii remote provides the source of these updates.</p>

<p>I'll give you an example of the cost is no factor side of things. I build systems for aerial surveying that utilize inertial systems that cost 100,000+ Euro. With these systems and high end geodetic GPS receivers I can pin-point the location of the IMU to a 2"" volume all day long when GPS coverage is good. In the absence of GPS updates (urban canyons, tunnels, etc.) after about 60 seconds we have an error margin of about 10cm. Systems with this level of performance are typically ITAR controlled goods as they are weapons grade devices. </p>

<p>Lower quality MEMS inertial systems are used all day long in less demanding applications yielding meter sub-meter level position and attitude. These lower quality systems still employ the same Kalman Filtering mechanism. The real downside to these lower cost units is that your drift error will grow at a much faster rate.</p>

<p>Edit:</p>

<p>To answer your question as to what is important to look for in an IMU. There are a couple of things you want to look at. The first is temperature stability. Some MEMS sensors are going to have outputs that vary by as much as 10% over temperature range. These may not matter if you are at a constant temperature during operation.</p>

<p>The next thing to consider is the gyro noise spectral density. Obviously the lower the noise amount the better. The following link provides documentation about how to get from the spectral noise density to the drift (in degrees per unit time). <a href=""http://www.xbow.com/pdf/AngleRandomWalkAppNote.pdf"">http://www.xbow.com/pdf/AngleRandomWalkAppNote.pdf</a> </p>

<p>For acceleration you want to look at sensitivity, and bias in addition to the noise. The noise level will give you an idea of how quickly you're going to integrate error. </p>
","20789"
"Calculating the DC voltage and current needed to obtain certain heat with a resistor","17574","","<p>What formulas can be used to calculate how much volts and current is needed to get a resistor to heat up to a certain temperature?</p>

<p>I need to get a resistor (or a few next to each other - for more heated surface area) to heat up to about 200 degrees Celsius. It needs to be powered via DC power supply, preferably a few AA-alkaline batteries.</p>

<p>Can you please assist in what I need to look for in constructing this?</p>
","<p>Energy and temperature are related via heat capacity:  </p>

<p>\$ \Delta T = \dfrac{\Delta Q}{C} \$</p>

<p>where \$ \Delta T \$ is the temperature rise, \$ \Delta Q\$ the net added(thermal) energy, and \$C\$ the heat capacity. The latter depends on the material(s) and <em>specific heat capacity</em> is a fixed property for a substance per unit mass.  </p>

<p>Let's assume the specific heat is comparable to that of ceramic, that's about 1 J/(g K). Then for a 7g <a href=""http://www.vishay.com/docs/21007/z300.pdf"" rel=""nofollow noreferrer"">wirewound 10W</a> resistor:</p>

<p>\$ \Delta T = \dfrac{\Delta Q}{7 g \cdot 1 J/(g K)} \$</p>

<p>so that applying 0.11J (100mW for 1s) gives a temperature rise of</p>

<p>\$ \Delta T = \dfrac{0.1 J}{7 g \cdot 1 J/(g K)} = 0.014°C \$  </p>

<p>That's not much, but this is a 10W resistor. Let's do the same for a 1mg <a href=""http://www.panasonic.com/industrial/components/pdf/AOA0000CE1.pdf"" rel=""nofollow noreferrer"">0402 resistor</a>: </p>

<p>\$ \Delta T = \dfrac{0.1 J}{1 mg \cdot 1 J/(g K)} = 100°C \$  </p>

<p>ignoring losses to the environment. So you can't say which voltage or power is needed to heat the resistor to 200°C. The small resistor reaches a very high temperature soon, without applying much energy. You'll have to define what thermal energy you need, and then we can talk again. </p>

<p>The 10W resistor referred to can go as high as 250°C as the graph below shows,</p>

<p><img src=""https://i.stack.imgur.com/bK8i0.png"" alt=""enter image description here"">  </p>

<p>but at high environment temperatures it has to be derated, in this case meaning that it can only dissipate 4W instead of 10W at 200°C. That's because it can exchange less heat with the environment if the temperature difference is smaller.  </p>

<p><strong>edit</strong><br>
But doesn't the first equation mean that temperature will keep rising if I keep the power on? In theory yes, and you can make a setup where this does happen. In practice no, because as you add energy it will also loose some of it to the environment. The higher the temperature difference, the higher the energy loss. So as you add more energy, temperature will rise, and so will energy loss, until you reach the point where the energy loss equals the added energy. The system is then at an equilibrium and temperature will remain constant.  </p>

<p>It's also possible that the environment's temperature also rises. Then the resistor's temperature will follow that rise until the temperature difference is the same again.  </p>

<p>The rate at which heat is exchanged depends on the temperature difference and the thermal resistance. The latter is difficult to determine, and is completely depending on how the resistor is placed. You may have to find it experimentally.  </p>

<p><strong>Further reading</strong><br>
<a href=""http://www.infineon.com/dgdl/smdpack.pdf?folderId=db3a304412b407950112b409ae510341&amp;fileId=db3a304330f6860601311905ea1d4599"" rel=""nofollow noreferrer"">Thermal resistance, theory and practice</a></p>
","33009"
"Any native Mac OS X environments for getting started with VHDL / FPGAs?","17567","","<p>The title pretty much sums up my question: Are there any native Mac OS X environments for getting started with VHDL / FPGAs?</p>
","<p>Short Answer Nope!</p>

<p>I have investigated this in the past, and sure you can use a text editor to write the code, but none of the major (xilinx and altera) have any design flows for the mac os x platform, so synthesizing and place and route are out.  </p>

<p>On the simulation front, I did find a program that claims to perform simulation for the mac platform, but I had my doubts on the quality of said program. </p>

<p>Best option is to dual boot (parallels or fusion) into windows or linux.  Having said Linux, I am not sure if you can get the free webpacks to support Linux, they may only be windows based for the free tools.</p>

<p>So either dual boot or use remote desktop type thing to access a windows PC.  It is a bugger, I know but such is life on a mac :)</p>
","5479"
"How does power affect soldering irons? Is 30 Watts enough?","17564","","<p>Soldering Irons seem to come in different Wattages. I imagined that it was just an indicator of how fast they get hot but might there be other considerations?</p>

<p>How do the different power ratings affect the soldering process and are some power levels more suitable to certain tasks?</p>
","<p>Wikipedia is pretty good on the <a href=""http://en.wikipedia.org/wiki/Soldering_iron"" rel=""nofollow noreferrer"">Soldering iron</a>.</p>

<p>Does your soldering iron look like this <a href=""http://en.wikipedia.org/wiki/File:Soldering_gun.jpg"" rel=""nofollow noreferrer"">simple soldering iron</a> just an iron and mains cable:
<img src=""https://i.stack.imgur.com/xzEbw.png"" alt=""enter image description here""> </p>

<p>Or more like this <a href=""http://en.wikipedia.org/wiki/File:Soldering_Station_Weller_2.jpeg"" rel=""nofollow noreferrer"">soldering station</a> where the iron plugs into a box, which is a transformer or controller:<br>
<img src=""https://i.stack.imgur.com/liZHh.png"" alt=""enter image description here""></p>

<p>I would expect a 30 watt iron to look like the 'simple soldering iron', maybe even slimmer. Their temperature is usually not controlled (unless it is made by Weller).</p>

<p>A 30 watt 'simple soldering iron' is okay for modest electronics. Soldering ordinary through hole electronic components and thin (e.g. mm) wire, even the thin metal legs on DC power plugs and sockets, should be fine.  </p>

<p>A simple iron relies on thermal equilibrium to maintain its temperature. It loses as much energy as put in by the heating element. Hence it's tip temperature will vary when it is used. This is okay. You could solder many solder joints, providing the iron has time to recover and reach working temperature, i.e. you are in no particular hurry.</p>

<p>As the other two answers state, large parts need a lot of energy to heat the part and melt solder. Soldering with an underpowered iron might damage plastic or glue around a part, and may produce a poor soldered joint. As a more extreme example, it would be hard to solder a battery lead for a car battery with a 30 watt iron, because the heat would be conducted away too rapidly for the soldering iron to heat it up.</p>

<p>Larger wattage irons are either big and designed for heavier jobs (for example soldering leaded windows :-), or they are temperature controller to maintain tip temperature.</p>

<p>The advantage of a higher power temperature-controlled soldering iron is it maintains a relatively constant soldering temperature even while it is being used. That is very important on a production line, or where a lot of soldering joints need to be made relatively rapidly. A 'simple iron' is likely to drop too far below adequate soldering temperature, and slow the operator down; no problem for a hobbyist, but time and money for a manufacturer. </p>

<p>A temperature controlled iron is usually much higher power than a 'simple iron', for example 80W or more. This allows it to maintain a working temperature <em>while it is being used</em>, and heat parts with larger thermal conduction or capacity. It won't slow down an operator, and is a bit more flexible on what it can be used for than a 'simple iron'.</p>

<p>I prefer to use a temperature controlled iron when I teach beginners to solder because it is consistent. I think they can get a 'feel' for soldering more quickly than by using a 'simple iron'. Once a person has some confidence for soldering, it is easier to adapt to a less consistent soldering iron. They know when it is the iron or their technique which is making poor solder joints.</p>

<p>I don't think it is worth spending a significant premium to get a good temperature controlled iron <em>unless</em> you plan on using it frequently. I have tried a modest price temperature controlled iron (discount from £60 to under £35). It was noticeably better than the other cheaper irons I have used. It's only disadvantage was the soldering tips came in packs of three, and only one seemed useful. A professional product might have dozens of tips which may enable it to be used successfully in more situations. </p>

<p>A low-cost investment which I like is a brass-wool 'sponge' soldering tip cleaner.
<img src=""https://i.stack.imgur.com/dt4k9.png"" alt=""enter image description here""></p>

<p>This cleans the tip just as well as the usual 'damp sponge', and has less effect on the tip temperature than a damp sponge. So I think it helps improve the usefulness of simple irons.</p>

<p>I'd also recommend a soldering stand for the iron, so that it is always easy to pick up, and doesn't roll across a workbench.</p>
","128983"
"AVR - How to program an AVR chip in Linux","17561","","<p>I recently got an AVRISmkII AVR programmer, and I have an ATtiny85 and ATmega328. I was wondering how I could program these chips (with the programmer) but when I try getting Atmel Studio 6 it is only for Windows. Is there a way I could use in Linux (Ubuntu specifically)? Ant suggestions? Thanks!</p>
","<p>I don't have the time for a full explanation, but I can give you cookbook-style the commands I use on my Linux box to program AVRs:</p>

<h1>Preparations</h1>

<ul>
<li>On Ubuntu, make sure several required packages are installed: <code>sudo apt-get install avr-libc avrdude binutils-avr gcc-avr srecord</code> optionally throw in <code>gdb-avr simulavr</code> for debug and simulation.</li>
<li>I started to create a directory  in which all my ATtiny projects find a home: <code>mkdir ~/attiny: cd ~/attiny</code></li>
<li>For each project I create a dedicated subfolder (and I don't mind long names): <code>mkdir waveShare4digit8segmentDisplay; cd waveShare4digit8segmentDisplay</code></li>
</ul>

<h1>Create source</h1>

<ul>
<li>Edit the source file with your favorite text editor: <code>vi project.cpp</code></li>
</ul>

<h1>Settings</h1>

<p>The commands below heavily rely on environment variables, to keep maintenance easy.</p>

<ul>
<li>The base name of the files used/created: <code>src=project</code></li>
<li>Common compiler flags: <code>cflags=""-g -DF_CPU=${avrFreq} -Wall -Os - Werror -Wextra""</code></li>
</ul>

<p>The variables below may need to be changed depending on the exact programmer you use. Refer to the <code>man</code> pages for details.</p>

<ul>
<li><code>baud=19200</code> The baudrate your programmer communicates at with the PC: </li>
<li><code>programmerDev=/dev/ttyUSB003</code> The device name where your programmer is located. Check <code>dmesg</code> output for details.</li>
<li><code>programmerType=avrisp</code> This may be different for your exact programmer. </li>
</ul>

<p>The variables below depend on the exact controller you want to program:</p>

<ul>
<li><code>avrType=attiny2313</code> Check <code>avrdude -c $programmerType</code> for supported devices.</li>
<li><code>avrFreq=1000000</code> Check the controller's datasheet for default clock.</li>
</ul>

<h1>Compile</h1>

<ul>
<li>First step is to create an object file: <code>avr-gcc ${cflags) -mmcu=${avrType) -Wa,-ahlmns=${src).lst -c -o ${src).o ${src).cpp</code></li>
<li>Second step is to create an ELF file: <code>avr-gcc ${cflags) -mmcu=${avrType) -o ${src).elf ${src).o</code></li>
<li>Third step is to create an Intel Hex file, this is the file that is actually sent to the programmer: <code>avr-objcopy -j .text -j .data -O ihex ${src).elf ${src).flash.hex</code></li>
</ul>

<h1>Programming</h1>

<ul>
<li>Final step is to program the device: <code>avrdude -p${avrType} -c${programmerType} -P${programmerDev} -b${baud} -v -U flash:w:${src}.flash.hex</code></li>
</ul>

<h1>Makefile</h1>

<p>As an alternative to remembering the commands, I cooked up a makefile to my personal liking, you can save it under the name <code>Makefile</code> (mind the capital <code>M</code>). It works as follows:</p>

<ul>
<li><code>make makefile</code> Edit the makefile;</li>
<li><code>make edit</code> Edit the source file;</li>
<li><code>make flash</code> Program the device's flash memory;</li>
<li><code>make help</code> List other commands.</li>
</ul>

<p>Here is the makefile:</p>

<pre><code>baud=19200
src=project
avrType=attiny2313
avrFreq=4000000 # 4MHz for accurate baudrate timing
programmerDev=/dev/ttyUSB003
programmerType=arduino

cflags=-g -DF_CPU=$(avrFreq) -Wall -Os -Werror -Wextra

memoryTypes=calibration eeprom efuse flash fuse hfuse lfuse lock signature application apptable boot prodsig usersig

.PHONY: backup clean disassemble dumpelf edit eeprom elf flash fuses help hex makefile object program

help:
    @echo 'backup       Read all known memory types from controller and write it into a file. Available memory types: $(memoryTypes)'
    @echo 'clean        Delete automatically created files.'
    @echo 'disassemble  Compile source code, then disassemble object file to mnemonics.'
    @echo 'dumpelf      Dump the contents of the .elf file. Useful for information purposes only.'
    @echo 'edit     Edit the .cpp source file.'
    @echo 'eeprom       Extract EEPROM data from .elf file and program the device with it.'
    @echo 'elf      Create $(src).elf'
    @echo 'flash        Program $(src).hex to controller flash memory.'
    @echo 'fuses        Extract FUSES data from .elf file and program the device with it.'
    @echo 'help     Show this text.'
    @echo 'hex      Create all hex files for flash, eeprom and fuses.'
    @echo 'object       Create $(src).o'
    @echo 'program      Do all programming to controller.'

edit:
    vi $(src).cpp

makefile:
    vi Makefile

#all: object elf hex

clean: 
    rm $(src).elf $(src).eeprom.hex $(src).fuses.hex $(src).lfuse.hex $(src).hfuse.hex $(src).efuse.hex $(src).flash.hex $(src).o
    date

object:
    avr-gcc $(cflags) -mmcu=$(avrType) -Wa,-ahlmns=$(src).lst -c -o $(src).o $(src).cpp 

elf: object
    avr-gcc $(cflags) -mmcu=$(avrType) -o $(src).elf $(src).o
    chmod a-x $(src).elf 2&gt;&amp;1

hex:    elf
    avr-objcopy -j .text -j .data -O ihex $(src).elf $(src).flash.hex
    avr-objcopy -j .eeprom --set-section-flags=.eeprom=""alloc,load"" --change-section-lma .eeprom=0 -O ihex $(src).elf $(src).eeprom.hex
    avr-objcopy -j .fuse -O ihex $(src).elf $(src).fuses.hex --change-section-lma .fuse=0
    srec_cat $(src).fuses.hex -Intel -crop 0x00 0x01 -offset  0x00 -O $(src).lfuse.hex -Intel
    srec_cat $(src).fuses.hex -Intel -crop 0x01 0x02 -offset -0x01 -O $(src).hfuse.hex -Intel
    srec_cat $(src).fuses.hex -Intel -crop 0x02 0x03 -offset -0x02 -O $(src).efuse.hex -Intel

disassemble: elf
    avr-objdump -s -j .fuse $(src).elf
    avr-objdump -C -d $(src).elf 2&gt;&amp;1

eeprom: hex
    #avrdude -p$(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U eeprom:w:$(src).eeprom.hex
    date

fuses: hex
    avrdude -p$(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U lfuse:w:$(src).lfuse.hex
    #avrdude -p$(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U hfuse:w:$(src).hfuse.hex
    #avrdude -p$(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U efuse:w:$(src).efuse.hex
    date

dumpelf: elf
    avr-objdump -s -h $(src).elf

program: flash eeprom fuses

flash: hex
    avrdude -p$(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U flash:w:$(src).flash.hex
    date

backup:
    @for memory in $(memoryTypes); do \
        avrdude -p $(avrType) -c$(programmerType) -P$(programmerDev) -b$(baud) -v -U $$memory:r:./$(avrType).$$memory.hex:i; \
    done
</code></pre>

<p>It may be seem necessary to run <code>avrdude</code> as <code>root</code>, if that happens it <strong>justifies a question in its own</strong>. It can be solved with <code>udev</code> but requires a bit specific information from how the programmer is recognized by the operating system.</p>

<h1>Hello World</h1>

<p>Let me throw in an 'Hello World' that makes a controller pin 2 (PB3) (eg. ATtiny13, ATtiny45, ATtiny85) toggle at 1Hz. Attach an LED and series resistor to the pin and the LED should start to blink.</p>

<ul>
<li>make edit</li>
</ul>

<p><code>i</code></p>

<pre><code>#include &lt;avr/io.h&gt;
#include &lt;util/delay.h&gt;

int main(void)
{
  DDRB = 0x08;

  while (1) {
    PORTB = 0x00; _delay_ms(500);
    PORTB = 0x08; _delay_ms(500);
  }
}
</code></pre>

<p><code>&lt;ESC&gt;:wq</code></p>

<ul>
<li>make flash</li>
</ul>

<p>Done.</p>
","66163"